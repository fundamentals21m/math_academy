var uk=Object.defineProperty;var dk=(t,e,n)=>e in t?uk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pr=(t,e,n)=>dk(t,typeof e!="symbol"?e+"":e,n);function mk(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function fk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P7={exports:{}},Om={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk=Symbol.for("react.transitional.element"),xk=Symbol.for("react.fragment");function I7(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:pk,type:t,key:s,ref:e!==void 0?e:null,props:n}}Om.Fragment=xk;Om.jsx=I7;Om.jsxs=I7;P7.exports=Om;var i=P7.exports,R7={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=Symbol.for("react.transitional.element"),gk=Symbol.for("react.portal"),yk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),vk=Symbol.for("react.profiler"),jk=Symbol.for("react.consumer"),wk=Symbol.for("react.context"),Tk=Symbol.for("react.forward_ref"),Sk=Symbol.for("react.suspense"),Nk=Symbol.for("react.memo"),_7=Symbol.for("react.lazy"),Ak=Symbol.for("react.activity"),hb=Symbol.iterator;function kk(t){return t===null||typeof t!="object"?null:(t=hb&&t[hb]||t["@@iterator"],typeof t=="function"?t:null)}var q7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$7=Object.assign,B7={};function Tc(t,e,n){this.props=t,this.context=e,this.refs=B7,this.updater=n||q7}Tc.prototype.isReactComponent={};Tc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O7(){}O7.prototype=Tc.prototype;function Kg(t,e,n){this.props=t,this.context=e,this.refs=B7,this.updater=n||q7}var Jg=Kg.prototype=new O7;Jg.constructor=Kg;$7(Jg,Tc.prototype);Jg.isPureReactComponent=!0;var ub=Array.isArray;function V1(){}var Ft={H:null,A:null,T:null,S:null},L7=Object.prototype.hasOwnProperty;function e4(t,e,n){var s=n.ref;return{$$typeof:Qg,type:t,key:e,ref:s!==void 0?s:null,props:n}}function Ek(t,e){return e4(t.type,e,t.props)}function t4(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qg}function Ck(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var db=/\/+/g;function Gf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ck(""+t.key):e.toString(36)}function Mk(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(V1,V1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function jo(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Qg:case gk:l=!0;break;case _7:return l=t._init,jo(l(t._payload),e,n,s,r)}}if(l)return r=r(t),l=s===""?"."+Gf(t,0):s,ub(r)?(n="",l!=null&&(n=l.replace(db,"$&/")+"/"),jo(r,e,n,"",function(h){return h})):r!=null&&(t4(r)&&(r=Ek(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(db,"$&/")+"/")+l)),e.push(r)),1;l=0;var o=s===""?".":s+":";if(ub(t))for(var c=0;c<t.length;c++)s=t[c],a=o+Gf(s,c),l+=jo(s,e,n,a,r);else if(c=kk(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,a=o+Gf(s,c++),l+=jo(s,e,n,a,r);else if(a==="object"){if(typeof t.then=="function")return jo(Mk(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function fu(t,e,n){if(t==null)return t;var s=[],r=0;return jo(t,s,"","",function(a){return e.call(n,a,r++)}),s}function zk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mb=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dk={map:fu,forEach:function(t,e,n){fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fu(t,function(){e++}),e},toArray:function(t){return fu(t,function(e){return e})||[]},only:function(t){if(!t4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Activity=Ak;nt.Children=Dk;nt.Component=Tc;nt.Fragment=yk;nt.Profiler=vk;nt.PureComponent=Kg;nt.StrictMode=bk;nt.Suspense=Sk;nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ft;nt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ft.H.useMemoCache(t)}};nt.cache=function(t){return function(){return t.apply(null,arguments)}};nt.cacheSignal=function(){return null};nt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=$7({},t.props),r=t.key;if(e!=null)for(a in e.key!==void 0&&(r=""+e.key),e)!L7.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(s[a]=e[a]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),o=0;o<a;o++)l[o]=arguments[o+2];s.children=l}return e4(t.type,r,s)};nt.createContext=function(t){return t={$$typeof:wk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:jk,_context:t},t};nt.createElement=function(t,e,n){var s,r={},a=null;if(e!=null)for(s in e.key!==void 0&&(a=""+e.key),e)L7.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return e4(t,a,r)};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:Tk,render:t}};nt.isValidElement=t4;nt.lazy=function(t){return{$$typeof:_7,_payload:{_status:-1,_result:t},_init:zk}};nt.memo=function(t,e){return{$$typeof:Nk,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=Ft.T,n={};Ft.T=n;try{var s=t(),r=Ft.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(V1,mb)}catch(a){mb(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ft.T=e}};nt.unstable_useCacheRefresh=function(){return Ft.H.useCacheRefresh()};nt.use=function(t){return Ft.H.use(t)};nt.useActionState=function(t,e,n){return Ft.H.useActionState(t,e,n)};nt.useCallback=function(t,e){return Ft.H.useCallback(t,e)};nt.useContext=function(t){return Ft.H.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t,e){return Ft.H.useDeferredValue(t,e)};nt.useEffect=function(t,e){return Ft.H.useEffect(t,e)};nt.useEffectEvent=function(t){return Ft.H.useEffectEvent(t)};nt.useId=function(){return Ft.H.useId()};nt.useImperativeHandle=function(t,e,n){return Ft.H.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return Ft.H.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return Ft.H.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return Ft.H.useMemo(t,e)};nt.useOptimistic=function(t,e){return Ft.H.useOptimistic(t,e)};nt.useReducer=function(t,e,n){return Ft.H.useReducer(t,e,n)};nt.useRef=function(t){return Ft.H.useRef(t)};nt.useState=function(t){return Ft.H.useState(t)};nt.useSyncExternalStore=function(t,e,n){return Ft.H.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return Ft.H.useTransition()};nt.version="19.2.3";R7.exports=nt;var q=R7.exports;const Pk=fk(q),Ik=mk({__proto__:null,default:Pk},[q]);var F7={exports:{}},Lm={},U7={exports:{}},H7={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,V){var J=G.length;G.push(V);e:for(;0<J;){var ee=J-1>>>1,re=G[ee];if(0<r(re,V))G[ee]=V,G[J]=re,J=ee;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var V=G[0],J=G.pop();if(J!==V){G[0]=J;e:for(var ee=0,re=G.length,se=re>>>1;ee<se;){var he=2*(ee+1)-1,ae=G[he],Ne=he+1,Te=G[Ne];if(0>r(ae,J))Ne<re&&0>r(Te,ae)?(G[ee]=Te,G[Ne]=J,ee=Ne):(G[ee]=ae,G[he]=J,ee=he);else if(Ne<re&&0>r(Te,J))G[ee]=Te,G[Ne]=J,ee=Ne;else break e}}return V}function r(G,V){var J=G.sortIndex-V.sortIndex;return J!==0?J:G.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],h=[],u=1,m=null,p=3,b=!1,E=!1,y=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function f(G){for(var V=n(h);V!==null;){if(V.callback===null)s(h);else if(V.startTime<=G)s(h),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(h)}}function x(G){if(y=!1,f(G),!E)if(n(c)!==null)E=!0,C||(C=!0,M());else{var V=n(h);V!==null&&$(x,V.startTime-G)}}var C=!1,j=-1,g=5,A=-1;function w(){return T?!0:!(t.unstable_now()-A<g)}function k(){if(T=!1,C){var G=t.unstable_now();A=G;var V=!0;try{e:{E=!1,y&&(y=!1,N(j),j=-1),b=!0;var J=p;try{t:{for(f(G),m=n(c);m!==null&&!(m.expirationTime>G&&w());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,p=m.priorityLevel;var re=ee(m.expirationTime<=G);if(G=t.unstable_now(),typeof re=="function"){m.callback=re,f(G),V=!0;break t}m===n(c)&&s(c),f(G)}else s(c);m=n(c)}if(m!==null)V=!0;else{var se=n(h);se!==null&&$(x,se.startTime-G),V=!1}}break e}finally{m=null,p=J,b=!1}V=void 0}}finally{V?M():C=!1}}}var M;if(typeof v=="function")M=function(){v(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,O=I.port2;I.port1.onmessage=k,M=function(){O.postMessage(null)}}else M=function(){S(k,0)};function $(G,V){j=S(function(){G(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var J=p;p=V;try{return G()}finally{p=J}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=p;p=G;try{return V()}finally{p=J}},t.unstable_scheduleCallback=function(G,V,J){var ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,G){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=J+re,G={id:u++,callback:V,priorityLevel:G,startTime:J,expirationTime:re,sortIndex:-1},J>ee?(G.sortIndex=J,e(h,G),n(c)===null&&G===n(h)&&(y?(N(j),j=-1):y=!0,$(x,J-ee))):(G.sortIndex=re,e(c,G),E||b||(E=!0,C||(C=!0,M()))),G},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(G){var V=p;return function(){var J=p;p=V;try{return G.apply(this,arguments)}finally{p=J}}}})(H7);U7.exports=H7;var Rk=U7.exports,V7={exports:{}},hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _k=q;function G7(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oa(){}var si={d:{f:oa,r:function(){throw Error(G7(522))},D:oa,C:oa,L:oa,m:oa,X:oa,S:oa,M:oa},p:0,findDOMNode:null},qk=Symbol.for("react.portal");function $k(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qk,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var k0=_k.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fm(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=si;hi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(G7(299));return $k(t,e,null,n)};hi.flushSync=function(t){var e=k0.T,n=si.p;try{if(k0.T=null,si.p=2,t)return t()}finally{k0.T=e,si.p=n,si.d.f()}};hi.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,si.d.C(t,e))};hi.prefetchDNS=function(t){typeof t=="string"&&si.d.D(t)};hi.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Fm(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?si.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:a}):n==="script"&&si.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};hi.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Fm(e.as,e.crossOrigin);si.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&si.d.M(t)};hi.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Fm(n,e.crossOrigin);si.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};hi.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Fm(e.as,e.crossOrigin);si.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else si.d.m(t)};hi.requestFormReset=function(t){si.d.r(t)};hi.unstable_batchedUpdates=function(t,e){return t(e)};hi.useFormState=function(t,e,n){return k0.H.useFormState(t,e,n)};hi.useFormStatus=function(){return k0.H.useHostTransitionStatus()};hi.version="19.2.3";function W7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W7)}catch(t){console.error(t)}}W7(),V7.exports=hi;var Bk=V7.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=Rk,Y7=q,Ok=Bk;function fe(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function X7(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Eh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Z7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q7(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fb(t){if(Eh(t)!==t)throw Error(fe(188))}function Lk(t){var e=t.alternate;if(!e){if(e=Eh(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return fb(r),t;if(a===s)return fb(r),e;a=a.sibling}throw Error(fe(188))}if(n.return!==s.return)n=r,s=a;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,s=a;break}if(o===s){l=!0,s=r,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,s=r;break}if(o===s){l=!0,s=a,n=r;break}o=o.sibling}if(!l)throw Error(fe(189))}}if(n.alternate!==s)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function K7(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=K7(t),e!==null)return e;t=t.sibling}return null}var Ut=Object.assign,Fk=Symbol.for("react.element"),pu=Symbol.for("react.transitional.element"),g0=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),J7=Symbol.for("react.strict_mode"),G1=Symbol.for("react.profiler"),e8=Symbol.for("react.consumer"),Ar=Symbol.for("react.context"),n4=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),Y1=Symbol.for("react.suspense_list"),i4=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),X1=Symbol.for("react.activity"),Uk=Symbol.for("react.memo_cache_sentinel"),pb=Symbol.iterator;function s0(t){return t===null||typeof t!="object"?null:(t=pb&&t[pb]||t["@@iterator"],typeof t=="function"?t:null)}var Hk=Symbol.for("react.client.reference");function Z1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Hk?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case So:return"Fragment";case G1:return"Profiler";case J7:return"StrictMode";case W1:return"Suspense";case Y1:return"SuspenseList";case X1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case g0:return"Portal";case Ar:return t.displayName||"Context";case e8:return(t._context.displayName||"Context")+".Consumer";case n4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i4:return e=t.displayName||null,e!==null?e:Z1(t.type)||"Memo";case xa:e=t._payload,t=t._init;try{return Z1(t(e))}catch{}}return null}var y0=Array.isArray,Je=Y7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=Ok.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$l={pending:!1,data:null,method:null,action:null},Q1=[],No=-1;function Js(t){return{current:t}}function Bn(t){0>No||(t.current=Q1[No],Q1[No]=null,No--)}function Pt(t,e){No++,Q1[No]=t.current,t.current=e}var Ys=Js(null),K0=Js(null),za=Js(null),Pd=Js(null);function Id(t,e){switch(Pt(za,e),Pt(K0,t),Pt(Ys,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?j3(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=j3(e),t=vj(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Bn(Ys),Pt(Ys,t)}function rc(){Bn(Ys),Bn(K0),Bn(za)}function K1(t){t.memoizedState!==null&&Pt(Pd,t);var e=Ys.current,n=vj(e,t.type);e!==n&&(Pt(K0,t),Pt(Ys,n))}function Rd(t){K0.current===t&&(Bn(Ys),Bn(K0)),Pd.current===t&&(Bn(Pd),ch._currentValue=$l)}var Wf,xb;function Al(t){if(Wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wf=e&&e[1]||"",xb=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wf+t+xb}var Yf=!1;function Xf(t,e){if(!t||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(b){var p=b}Reflect.construct(t,[],m)}else{try{m.call()}catch(b){p=b}t.call(m.prototype)}}else{try{throw Error()}catch(b){p=b}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(b){if(b&&p&&typeof b.stack=="string")return[b.stack,p.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),l=a[0],o=a[1];if(l&&o){var c=l.split(`
`),h=o.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===h.length)for(s=c.length-1,r=h.length-1;1<=s&&0<=r&&c[s]!==h[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==h[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==h[r]){var u=`
`+c[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=r);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Al(n):""}function Vk(t,e){switch(t.tag){case 26:case 27:case 5:return Al(t.type);case 16:return Al("Lazy");case 13:return t.child!==e&&e!==null?Al("Suspense Fallback"):Al("Suspense");case 19:return Al("SuspenseList");case 0:case 15:return Xf(t.type,!1);case 11:return Xf(t.type.render,!1);case 1:return Xf(t.type,!0);case 31:return Al("Activity");default:return""}}function gb(t){try{var e="",n=null;do e+=Vk(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var J1=Object.prototype.hasOwnProperty,s4=Dn.unstable_scheduleCallback,Zf=Dn.unstable_cancelCallback,Gk=Dn.unstable_shouldYield,Wk=Dn.unstable_requestPaint,Oi=Dn.unstable_now,Yk=Dn.unstable_getCurrentPriorityLevel,t8=Dn.unstable_ImmediatePriority,n8=Dn.unstable_UserBlockingPriority,_d=Dn.unstable_NormalPriority,Xk=Dn.unstable_LowPriority,i8=Dn.unstable_IdlePriority,Zk=Dn.log,Qk=Dn.unstable_setDisableYieldValue,Ch=null,Li=null;function wa(t){if(typeof Zk=="function"&&Qk(t),Li&&typeof Li.setStrictMode=="function")try{Li.setStrictMode(Ch,t)}catch{}}var Fi=Math.clz32?Math.clz32:eE,Kk=Math.log,Jk=Math.LN2;function eE(t){return t>>>=0,t===0?32:31-(Kk(t)/Jk|0)|0}var xu=256,gu=262144,yu=4194304;function kl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Um(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,a=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~a,s!==0?r=kl(s):(l&=o,l!==0?r=kl(l):n||(n=o&~t,n!==0&&(r=kl(n))))):(o=s&~a,o!==0?r=kl(o):l!==0?r=kl(l):n||(n=s&~t,n!==0&&(r=kl(n)))),r===0?0:e!==0&&e!==r&&!(e&a)&&(a=r&-r,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:r}function Mh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function tE(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s8(){var t=yu;return yu<<=1,!(yu&62914560)&&(yu=4194304),t}function Qf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nE(t,e,n,s,r,a){var l=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,h=t.hiddenUpdates;for(n=l&~n;0<n;){var u=31-Fi(n),m=1<<u;o[u]=0,c[u]=-1;var p=h[u];if(p!==null)for(h[u]=null,u=0;u<p.length;u++){var b=p[u];b!==null&&(b.lane&=-536870913)}n&=~m}s!==0&&r8(t,s,0),a!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=a&~(l&~e))}function r8(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Fi(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function a8(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Fi(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function l8(t,e){var n=e&-e;return n=n&42?1:r4(n),n&(t.suspendedLanes|e)?0:n}function r4(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function a4(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function o8(){var t=vt.p;return t!==0?t:(t=window.event,t===void 0?32:zj(t.type))}function yb(t,e){var n=vt.p;try{return vt.p=t,e()}finally{vt.p=n}}var sl=Math.random().toString(36).slice(2),Hn="__reactFiber$"+sl,Ai="__reactProps$"+sl,Sc="__reactContainer$"+sl,ex="__reactEvents$"+sl,iE="__reactListeners$"+sl,sE="__reactHandles$"+sl,bb="__reactResources$"+sl,Dh="__reactMarker$"+sl;function l4(t){delete t[Hn],delete t[Ai],delete t[ex],delete t[iE],delete t[sE]}function Ao(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sc]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A3(t);t!==null;){if(n=t[Hn])return n;t=A3(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){if(t=t[Hn]||t[Sc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function b0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(fe(33))}function Vo(t){var e=t[bb];return e||(e=t[bb]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function $n(t){t[Dh]=!0}var c8=new Set,h8={};function Ql(t,e){ac(t,e),ac(t+"Capture",e)}function ac(t,e){for(h8[t]=e,t=0;t<e.length;t++)c8.add(e[t])}var rE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vb={},jb={};function aE(t){return J1.call(jb,t)?!0:J1.call(vb,t)?!1:rE.test(t)?jb[t]=!0:(vb[t]=!0,!1)}function ld(t,e,n){if(aE(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function bu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function xr(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function ts(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lE(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tx(t){if(!t._valueTracker){var e=u8(t)?"checked":"value";t._valueTracker=lE(t,e,""+t[e])}}function d8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=u8(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oE=/[\n"\\]/g;function ss(t){return t.replace(oE,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function nx(t,e,n,s,r,a,l,o){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ts(e)):t.value!==""+ts(e)&&(t.value=""+ts(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?ix(t,l,ts(e)):n!=null?ix(t,l,ts(n)):s!=null&&t.removeAttribute("value"),r==null&&a!=null&&(t.defaultChecked=!!a),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ts(o):t.removeAttribute("name")}function m8(t,e,n,s,r,a,l,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){tx(t);return}n=n!=null?""+ts(n):"",e=e!=null?""+ts(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l),tx(t)}function ix(t,e,n){e==="number"&&qd(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Go(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function f8(t,e,n){if(e!=null&&(e=""+ts(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ts(n):""}function p8(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(fe(92));if(y0(s)){if(1<s.length)throw Error(fe(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=ts(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),tx(t)}function lc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wb(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||cE.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function x8(t,e,n){if(e!=null&&typeof e!="object")throw Error(fe(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&wb(t,r,s)}else for(var a in e)e.hasOwnProperty(a)&&wb(t,a,e[a])}function o4(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function od(t){return uE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kr(){}var sx=null;function c4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ko=null,Wo=null;function Tb(t){var e=Nc(t);if(e&&(t=e.stateNode)){var n=t[Ai]||null;e:switch(t=e.stateNode,e.type){case"input":if(nx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ss(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[Ai]||null;if(!r)throw Error(fe(90));nx(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&d8(s)}break e;case"textarea":f8(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}}}var Kf=!1;function g8(t,e,n){if(Kf)return t(e,n);Kf=!0;try{var s=t(e);return s}finally{if(Kf=!1,(ko!==null||Wo!==null)&&(tf(),ko&&(e=ko,t=Wo,Wo=ko=null,Tb(e),t)))for(e=0;e<t.length;e++)Tb(t[e])}}function J0(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Ai]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rx=!1;if(_r)try{var r0={};Object.defineProperty(r0,"passive",{get:function(){rx=!0}}),window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{rx=!1}var Ta=null,h4=null,cd=null;function y8(){if(cd)return cd;var t,e=h4,n=e.length,s,r="value"in Ta?Ta.value:Ta.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(s=1;s<=l&&e[n-s]===r[a-s];s++);return cd=r.slice(t,1<s?1-s:void 0)}function hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vu(){return!0}function Sb(){return!1}function ki(t){function e(n,s,r,a,l){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vu:Sb,this.isPropagationStopped=Sb,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hm=ki(Kl),Ph=Ut({},Kl,{view:0,detail:0}),dE=ki(Ph),Jf,ep,a0,Vm=Ut({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==a0&&(a0&&t.type==="mousemove"?(Jf=t.screenX-a0.screenX,ep=t.screenY-a0.screenY):ep=Jf=0,a0=t),Jf)},movementY:function(t){return"movementY"in t?t.movementY:ep}}),Nb=ki(Vm),mE=Ut({},Vm,{dataTransfer:0}),fE=ki(mE),pE=Ut({},Ph,{relatedTarget:0}),tp=ki(pE),xE=Ut({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),gE=ki(xE),yE=Ut({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bE=ki(yE),vE=Ut({},Kl,{data:0}),Ab=ki(vE),jE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TE[t])?!!e[t]:!1}function u4(){return SE}var NE=Ut({},Ph,{key:function(t){if(t.key){var e=jE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u4,charCode:function(t){return t.type==="keypress"?hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AE=ki(NE),kE=Ut({},Vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kb=ki(kE),EE=Ut({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u4}),CE=ki(EE),ME=Ut({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),zE=ki(ME),DE=Ut({},Vm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PE=ki(DE),IE=Ut({},Kl,{newState:0,oldState:0}),RE=ki(IE),_E=[9,13,27,32],d4=_r&&"CompositionEvent"in window,E0=null;_r&&"documentMode"in document&&(E0=document.documentMode);var qE=_r&&"TextEvent"in window&&!E0,b8=_r&&(!d4||E0&&8<E0&&11>=E0),Eb=" ",Cb=!1;function v8(t,e){switch(t){case"keyup":return _E.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function $E(t,e){switch(t){case"compositionend":return j8(e);case"keypress":return e.which!==32?null:(Cb=!0,Eb);case"textInput":return t=e.data,t===Eb&&Cb?null:t;default:return null}}function BE(t,e){if(Eo)return t==="compositionend"||!d4&&v8(t,e)?(t=y8(),cd=h4=Ta=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b8&&e.locale!=="ko"?null:e.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OE[t.type]:e==="textarea"}function w8(t,e,n,s){ko?Wo?Wo.push(s):Wo=[s]:ko=s,e=tm(e,"onChange"),0<e.length&&(n=new Hm("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var C0=null,eh=null;function LE(t){gj(t,0)}function Gm(t){var e=b0(t);if(d8(e))return t}function zb(t,e){if(t==="change")return e}var T8=!1;if(_r){var np;if(_r){var ip="oninput"in document;if(!ip){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),ip=typeof Db.oninput=="function"}np=ip}else np=!1;T8=np&&(!document.documentMode||9<document.documentMode)}function Pb(){C0&&(C0.detachEvent("onpropertychange",S8),eh=C0=null)}function S8(t){if(t.propertyName==="value"&&Gm(eh)){var e=[];w8(e,eh,t,c4(t)),g8(LE,e)}}function FE(t,e,n){t==="focusin"?(Pb(),C0=e,eh=n,C0.attachEvent("onpropertychange",S8)):t==="focusout"&&Pb()}function UE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gm(eh)}function HE(t,e){if(t==="click")return Gm(e)}function VE(t,e){if(t==="input"||t==="change")return Gm(e)}function GE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vi=typeof Object.is=="function"?Object.is:GE;function th(t,e){if(Vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!J1.call(e,r)||!Vi(t[r],e[r]))return!1}return!0}function Ib(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rb(t,e){var n=Ib(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ib(n)}}function N8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A8(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=qd(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function m4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var WE=_r&&"documentMode"in document&&11>=document.documentMode,Co=null,ax=null,M0=null,lx=!1;function _b(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lx||Co==null||Co!==qd(s)||(s=Co,"selectionStart"in s&&m4(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),M0&&th(M0,s)||(M0=s,s=tm(ax,"onSelect"),0<s.length&&(e=new Hm("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Co)))}function vl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionrun:vl("Transition","TransitionRun"),transitionstart:vl("Transition","TransitionStart"),transitioncancel:vl("Transition","TransitionCancel"),transitionend:vl("Transition","TransitionEnd")},sp={},k8={};_r&&(k8=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Jl(t){if(sp[t])return sp[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k8)return sp[t]=e[n];return t}var E8=Jl("animationend"),C8=Jl("animationiteration"),M8=Jl("animationstart"),YE=Jl("transitionrun"),XE=Jl("transitionstart"),ZE=Jl("transitioncancel"),z8=Jl("transitionend"),D8=new Map,ox="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ox.push("scrollEnd");function _s(t,e){D8.set(t,e),Ql(e,[t])}var $d=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ji=[],zo=0,f4=0;function Wm(){for(var t=zo,e=f4=zo=0;e<t;){var n=Ji[e];Ji[e++]=null;var s=Ji[e];Ji[e++]=null;var r=Ji[e];Ji[e++]=null;var a=Ji[e];if(Ji[e++]=null,s!==null&&r!==null){var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}a!==0&&P8(n,r,a)}}function Ym(t,e,n,s){Ji[zo++]=t,Ji[zo++]=e,Ji[zo++]=n,Ji[zo++]=s,f4|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function p4(t,e,n,s){return Ym(t,e,n,s),Bd(t)}function eo(t,e){return Ym(t,null,null,e),Bd(t)}function P8(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,a=t.return;a!==null;)a.childLanes|=n,s=a.alternate,s!==null&&(s.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(r=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,r&&e!==null&&(r=31-Fi(n),t=a.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),a):null}function Bd(t){if(50<B0)throw B0=0,Cx=null,Error(fe(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Do={};function QE(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(t,e,n,s){return new QE(t,e,n,s)}function x4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cr(t,e){var n=t.alternate;return n===null?(n=_i(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function I8(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ud(t,e,n,s,r,a){var l=0;if(s=t,typeof t=="function")x4(t)&&(l=1);else if(typeof t=="string")l=nM(t,n,Ys.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X1:return t=_i(31,n,e,r),t.elementType=X1,t.lanes=a,t;case So:return Bl(n.children,r,a,e);case J7:l=8,r|=24;break;case G1:return t=_i(12,n,e,r|2),t.elementType=G1,t.lanes=a,t;case W1:return t=_i(13,n,e,r),t.elementType=W1,t.lanes=a,t;case Y1:return t=_i(19,n,e,r),t.elementType=Y1,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ar:l=10;break e;case e8:l=9;break e;case n4:l=11;break e;case i4:l=14;break e;case xa:l=16,s=null;break e}l=29,n=Error(fe(130,t===null?"null":typeof t,"")),s=null}return e=_i(l,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function Bl(t,e,n,s){return t=_i(7,t,s,e),t.lanes=n,t}function rp(t,e,n){return t=_i(6,t,null,e),t.lanes=n,t}function R8(t){var e=_i(18,null,null,0);return e.stateNode=t,e}function ap(t,e,n){return e=_i(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var qb=new WeakMap;function rs(t,e){if(typeof t=="object"&&t!==null){var n=qb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:gb(e)},qb.set(t,e),e)}return{value:t,source:e,stack:gb(e)}}var Po=[],Io=0,Od=null,nh=0,ns=[],is=0,Ua=null,Ls=1,Fs="";function Tr(t,e){Po[Io++]=nh,Po[Io++]=Od,Od=t,nh=e}function _8(t,e,n){ns[is++]=Ls,ns[is++]=Fs,ns[is++]=Ua,Ua=t;var s=Ls;t=Fs;var r=32-Fi(s)-1;s&=~(1<<r),n+=1;var a=32-Fi(e)+r;if(30<a){var l=r-r%5;a=(s&(1<<l)-1).toString(32),s>>=l,r-=l,Ls=1<<32-Fi(e)+r|n<<r|s,Fs=a+t}else Ls=1<<a|n<<r|s,Fs=t}function g4(t){t.return!==null&&(Tr(t,1),_8(t,1,0))}function y4(t){for(;t===Od;)Od=Po[--Io],Po[Io]=null,nh=Po[--Io],Po[Io]=null;for(;t===Ua;)Ua=ns[--is],ns[is]=null,Fs=ns[--is],ns[is]=null,Ls=ns[--is],ns[is]=null}function q8(t,e){ns[is++]=Ls,ns[is++]=Fs,ns[is++]=Ua,Ls=e.id,Fs=e.overflow,Ua=t}var Vn=null,Lt=null,ut=!1,Da=null,as=!1,cx=Error(fe(519));function Ha(t){var e=Error(fe(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ih(rs(e,t)),cx}function $b(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[Hn]=t,e[Ai]=s,n){case"dialog":ot("cancel",e),ot("close",e);break;case"iframe":case"object":case"embed":ot("load",e);break;case"video":case"audio":for(n=0;n<lh.length;n++)ot(lh[n],e);break;case"source":ot("error",e);break;case"img":case"image":case"link":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"input":ot("invalid",e),m8(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ot("invalid",e);break;case"textarea":ot("invalid",e),p8(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||bj(e.textContent,n)?(s.popover!=null&&(ot("beforetoggle",e),ot("toggle",e)),s.onScroll!=null&&ot("scroll",e),s.onScrollEnd!=null&&ot("scrollend",e),s.onClick!=null&&(e.onclick=kr),e=!0):e=!1,e||Ha(t,!0)}function Bb(t){for(Vn=t.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:as=!1;return;case 27:case 3:as=!0;return;default:Vn=Vn.return}}function go(t){if(t!==Vn)return!1;if(!ut)return Bb(t),ut=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ix(t.type,t.memoizedProps)),n=!n),n&&Lt&&Ha(t),Bb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));Lt=N3(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));Lt=N3(t)}else e===27?(e=Lt,rl(t.type)?(t=$x,$x=null,Lt=t):Lt=e):Lt=Vn?us(t.stateNode.nextSibling):null;return!0}function Vl(){Lt=Vn=null,ut=!1}function lp(){var t=Da;return t!==null&&(ji===null?ji=t:ji.push.apply(ji,t),Da=null),t}function ih(t){Da===null?Da=[t]:Da.push(t)}var hx=Js(null),to=null,Er=null;function ya(t,e,n){Pt(hx,e._currentValue),e._currentValue=n}function Mr(t){t._currentValue=hx.current,Bn(hx)}function ux(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function dx(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){var l=r.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=r;for(var c=0;c<e.length;c++)if(o.context===e[c]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ux(a.return,n,t),s||(l=null);break e}a=o.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(fe(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),ux(l,n,t),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===t){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Ac(t,e,n,s){t=null;for(var r=e,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(fe(387));if(l=l.memoizedProps,l!==null){var o=r.type;Vi(r.pendingProps.value,l.value)||(t!==null?t.push(o):t=[o])}}else if(r===Pd.current){if(l=r.alternate,l===null)throw Error(fe(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(ch):t=[ch])}r=r.return}t!==null&&dx(e,t,n,s),e.flags|=262144}function Ld(t){for(t=t.firstContext;t!==null;){if(!Vi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gl(t){to=t,Er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gn(t){return $8(to,t)}function ju(t,e){return to===null&&Gl(t),$8(t,e)}function $8(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Er===null){if(t===null)throw Error(fe(308));Er=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Er=Er.next=e;return n}var KE=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},JE=Dn.unstable_scheduleCallback,eC=Dn.unstable_NormalPriority,Tn={$$typeof:Ar,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function b4(){return{controller:new KE,data:new Map,refCount:0}}function Ih(t){t.refCount--,t.refCount===0&&JE(eC,function(){t.controller.abort()})}var z0=null,mx=0,oc=0,Yo=null;function tC(t,e){if(z0===null){var n=z0=[];mx=0,oc=H4(),Yo={status:"pending",value:void 0,then:function(s){n.push(s)}}}return mx++,e.then(Ob,Ob),e}function Ob(){if(--mx===0&&z0!==null){Yo!==null&&(Yo.status="fulfilled");var t=z0;z0=null,oc=0,Yo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function nC(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var Lb=Je.S;Je.S=function(t,e){K9=Oi(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&tC(t,e),Lb!==null&&Lb(t,e)};var Ol=Js(null);function v4(){var t=Ol.current;return t!==null?t:Ct.pooledCache}function dd(t,e){e===null?Pt(Ol,Ol.current):Pt(Ol,e.pool)}function B8(){var t=v4();return t===null?null:{parent:Tn._currentValue,pool:t}}var kc=Error(fe(460)),j4=Error(fe(474)),Xm=Error(fe(542)),Fd={then:function(){}};function Fb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function O8(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(kr,kr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hb(t),t;default:if(typeof e.status=="string")e.then(kr,kr);else{if(t=Ct,t!==null&&100<t.shellSuspendCounter)throw Error(fe(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hb(t),t}throw Ll=e,kc}}function El(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ll=n,kc):n}}var Ll=null;function Ub(){if(Ll===null)throw Error(fe(459));var t=Ll;return Ll=null,t}function Hb(t){if(t===kc||t===Xm)throw Error(fe(483))}var Xo=null,sh=0;function wu(t){var e=sh;return sh+=1,Xo===null&&(Xo=[]),O8(Xo,t,e)}function l0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Tu(t,e){throw e.$$typeof===Fk?Error(fe(525)):(t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function L8(t){function e(S,N){if(t){var v=S.deletions;v===null?(S.deletions=[N],S.flags|=16):v.push(N)}}function n(S,N){if(!t)return null;for(;N!==null;)e(S,N),N=N.sibling;return null}function s(S){for(var N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function r(S,N){return S=Cr(S,N),S.index=0,S.sibling=null,S}function a(S,N,v){return S.index=v,t?(v=S.alternate,v!==null?(v=v.index,v<N?(S.flags|=67108866,N):v):(S.flags|=67108866,N)):(S.flags|=1048576,N)}function l(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function o(S,N,v,f){return N===null||N.tag!==6?(N=rp(v,S.mode,f),N.return=S,N):(N=r(N,v),N.return=S,N)}function c(S,N,v,f){var x=v.type;return x===So?u(S,N,v.props.children,f,v.key):N!==null&&(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xa&&El(x)===N.type)?(N=r(N,v.props),l0(N,v),N.return=S,N):(N=ud(v.type,v.key,v.props,null,S.mode,f),l0(N,v),N.return=S,N)}function h(S,N,v,f){return N===null||N.tag!==4||N.stateNode.containerInfo!==v.containerInfo||N.stateNode.implementation!==v.implementation?(N=ap(v,S.mode,f),N.return=S,N):(N=r(N,v.children||[]),N.return=S,N)}function u(S,N,v,f,x){return N===null||N.tag!==7?(N=Bl(v,S.mode,f,x),N.return=S,N):(N=r(N,v),N.return=S,N)}function m(S,N,v){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=rp(""+N,S.mode,v),N.return=S,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pu:return v=ud(N.type,N.key,N.props,null,S.mode,v),l0(v,N),v.return=S,v;case g0:return N=ap(N,S.mode,v),N.return=S,N;case xa:return N=El(N),m(S,N,v)}if(y0(N)||s0(N))return N=Bl(N,S.mode,v,null),N.return=S,N;if(typeof N.then=="function")return m(S,wu(N),v);if(N.$$typeof===Ar)return m(S,ju(S,N),v);Tu(S,N)}return null}function p(S,N,v,f){var x=N!==null?N.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:o(S,N,""+v,f);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pu:return v.key===x?c(S,N,v,f):null;case g0:return v.key===x?h(S,N,v,f):null;case xa:return v=El(v),p(S,N,v,f)}if(y0(v)||s0(v))return x!==null?null:u(S,N,v,f,null);if(typeof v.then=="function")return p(S,N,wu(v),f);if(v.$$typeof===Ar)return p(S,N,ju(S,v),f);Tu(S,v)}return null}function b(S,N,v,f,x){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return S=S.get(v)||null,o(N,S,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case pu:return S=S.get(f.key===null?v:f.key)||null,c(N,S,f,x);case g0:return S=S.get(f.key===null?v:f.key)||null,h(N,S,f,x);case xa:return f=El(f),b(S,N,v,f,x)}if(y0(f)||s0(f))return S=S.get(v)||null,u(N,S,f,x,null);if(typeof f.then=="function")return b(S,N,v,wu(f),x);if(f.$$typeof===Ar)return b(S,N,v,ju(N,f),x);Tu(N,f)}return null}function E(S,N,v,f){for(var x=null,C=null,j=N,g=N=0,A=null;j!==null&&g<v.length;g++){j.index>g?(A=j,j=null):A=j.sibling;var w=p(S,j,v[g],f);if(w===null){j===null&&(j=A);break}t&&j&&w.alternate===null&&e(S,j),N=a(w,N,g),C===null?x=w:C.sibling=w,C=w,j=A}if(g===v.length)return n(S,j),ut&&Tr(S,g),x;if(j===null){for(;g<v.length;g++)j=m(S,v[g],f),j!==null&&(N=a(j,N,g),C===null?x=j:C.sibling=j,C=j);return ut&&Tr(S,g),x}for(j=s(j);g<v.length;g++)A=b(j,S,g,v[g],f),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?g:A.key),N=a(A,N,g),C===null?x=A:C.sibling=A,C=A);return t&&j.forEach(function(k){return e(S,k)}),ut&&Tr(S,g),x}function y(S,N,v,f){if(v==null)throw Error(fe(151));for(var x=null,C=null,j=N,g=N=0,A=null,w=v.next();j!==null&&!w.done;g++,w=v.next()){j.index>g?(A=j,j=null):A=j.sibling;var k=p(S,j,w.value,f);if(k===null){j===null&&(j=A);break}t&&j&&k.alternate===null&&e(S,j),N=a(k,N,g),C===null?x=k:C.sibling=k,C=k,j=A}if(w.done)return n(S,j),ut&&Tr(S,g),x;if(j===null){for(;!w.done;g++,w=v.next())w=m(S,w.value,f),w!==null&&(N=a(w,N,g),C===null?x=w:C.sibling=w,C=w);return ut&&Tr(S,g),x}for(j=s(j);!w.done;g++,w=v.next())w=b(j,S,g,w.value,f),w!==null&&(t&&w.alternate!==null&&j.delete(w.key===null?g:w.key),N=a(w,N,g),C===null?x=w:C.sibling=w,C=w);return t&&j.forEach(function(M){return e(S,M)}),ut&&Tr(S,g),x}function T(S,N,v,f){if(typeof v=="object"&&v!==null&&v.type===So&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case pu:e:{for(var x=v.key;N!==null;){if(N.key===x){if(x=v.type,x===So){if(N.tag===7){n(S,N.sibling),f=r(N,v.props.children),f.return=S,S=f;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xa&&El(x)===N.type){n(S,N.sibling),f=r(N,v.props),l0(f,v),f.return=S,S=f;break e}n(S,N);break}else e(S,N);N=N.sibling}v.type===So?(f=Bl(v.props.children,S.mode,f,v.key),f.return=S,S=f):(f=ud(v.type,v.key,v.props,null,S.mode,f),l0(f,v),f.return=S,S=f)}return l(S);case g0:e:{for(x=v.key;N!==null;){if(N.key===x)if(N.tag===4&&N.stateNode.containerInfo===v.containerInfo&&N.stateNode.implementation===v.implementation){n(S,N.sibling),f=r(N,v.children||[]),f.return=S,S=f;break e}else{n(S,N);break}else e(S,N);N=N.sibling}f=ap(v,S.mode,f),f.return=S,S=f}return l(S);case xa:return v=El(v),T(S,N,v,f)}if(y0(v))return E(S,N,v,f);if(s0(v)){if(x=s0(v),typeof x!="function")throw Error(fe(150));return v=x.call(v),y(S,N,v,f)}if(typeof v.then=="function")return T(S,N,wu(v),f);if(v.$$typeof===Ar)return T(S,N,ju(S,v),f);Tu(S,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,N!==null&&N.tag===6?(n(S,N.sibling),f=r(N,v),f.return=S,S=f):(n(S,N),f=rp(v,S.mode,f),f.return=S,S=f),l(S)):n(S,N)}return function(S,N,v,f){try{sh=0;var x=T(S,N,v,f);return Xo=null,x}catch(j){if(j===kc||j===Xm)throw j;var C=_i(29,j,null,S.mode);return C.lanes=f,C.return=S,C}finally{}}}var Wl=L8(!0),F8=L8(!1),ga=!1;function w4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,bt&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Bd(t),P8(t,null,n),e}return Ym(t,s,e,n),Bd(t)}function D0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,a8(t,n)}}function op(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var px=!1;function P0(){if(px){var t=Yo;if(t!==null)throw t}}function I0(t,e,n,s){px=!1;var r=t.updateQueue;ga=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,h=c.next;c.next=null,l===null?a=h:l.next=h,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=h:o.next=h,u.lastBaseUpdate=c))}if(a!==null){var m=r.baseState;l=0,u=h=c=null,o=a;do{var p=o.lane&-536870913,b=p!==o.lane;if(b?(ht&p)===p:(s&p)===p){p!==0&&p===oc&&(px=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var E=t,y=o;p=e;var T=n;switch(y.tag){case 1:if(E=y.payload,typeof E=="function"){m=E.call(T,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,p=typeof E=="function"?E.call(T,m,p):E,p==null)break e;m=Ut({},m,p);break e;case 2:ga=!0}}p=o.callback,p!==null&&(t.flags|=64,b&&(t.flags|=8192),b=r.callbacks,b===null?r.callbacks=[p]:b.push(p))}else b={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(h=u=b,c=m):u=u.next=b,l|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;b=o,o=b.next,b.next=null,r.lastBaseUpdate=b,r.shared.pending=null}}while(!0);u===null&&(c=m),r.baseState=c,r.firstBaseUpdate=h,r.lastBaseUpdate=u,a===null&&(r.shared.lanes=0),Ga|=l,t.lanes=l,t.memoizedState=m}}function U8(t,e){if(typeof t!="function")throw Error(fe(191,t));t.call(e)}function H8(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)U8(n[t],e)}var cc=Js(null),Ud=Js(0);function Vb(t,e){t=Or,Pt(Ud,t),Pt(cc,e),Or=t|e.baseLanes}function xx(){Pt(Ud,Or),Pt(cc,cc.current)}function T4(){Or=Ud.current,Bn(cc),Bn(Ud)}var Gi=Js(null),hs=null;function ba(t){var e=t.alternate;Pt(pn,pn.current&1),Pt(Gi,t),hs===null&&(e===null||cc.current!==null||e.memoizedState!==null)&&(hs=t)}function gx(t){Pt(pn,pn.current),Pt(Gi,t),hs===null&&(hs=t)}function V8(t){t.tag===22?(Pt(pn,pn.current),Pt(Gi,t),hs===null&&(hs=t)):va()}function va(){Pt(pn,pn.current),Pt(Gi,Gi.current)}function Ri(t){Bn(Gi),hs===t&&(hs=null),Bn(pn)}var pn=Js(0);function Hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||_x(n)||qx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qr=0,it=null,At=null,jn=null,Vd=!1,Zo=!1,Yl=!1,Gd=0,rh=0,Qo=null,iC=0;function ln(){throw Error(fe(321))}function S4(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vi(t[n],e[n]))return!1;return!0}function N4(t,e,n,s,r,a){return qr=a,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Je.H=t===null||t.memoizedState===null?w9:_4,Yl=!1,a=n(s,r),Yl=!1,Zo&&(a=W8(e,n,s,r)),G8(t),a}function G8(t){Je.H=ah;var e=At!==null&&At.next!==null;if(qr=0,jn=At=it=null,Vd=!1,rh=0,Qo=null,e)throw Error(fe(300));t===null||Sn||(t=t.dependencies,t!==null&&Ld(t)&&(Sn=!0))}function W8(t,e,n,s){it=t;var r=0;do{if(Zo&&(Qo=null),rh=0,Zo=!1,25<=r)throw Error(fe(301));if(r+=1,jn=At=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Je.H=T9,a=e(n,s)}while(Zo);return a}function sC(){var t=Je.H,e=t.useState()[0];return e=typeof e.then=="function"?Rh(e):e,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(it.flags|=1024),e}function A4(){var t=Gd!==0;return Gd=0,t}function k4(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function E4(t){if(Vd){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Vd=!1}qr=0,jn=At=it=null,Zo=!1,rh=Gd=0,Qo=null}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?it.memoizedState=jn=t:jn=jn.next=t,jn}function yn(){if(At===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=jn===null?it.memoizedState:jn.next;if(e!==null)jn=e,At=t;else{if(t===null)throw it.alternate===null?Error(fe(467)):Error(fe(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},jn===null?it.memoizedState=jn=t:jn=jn.next=t}return jn}function Zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rh(t){var e=rh;return rh+=1,Qo===null&&(Qo=[]),t=O8(Qo,t,e),e=it,(jn===null?e.memoizedState:jn.next)===null&&(e=e.alternate,Je.H=e===null||e.memoizedState===null?w9:_4),t}function Qm(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rh(t);if(t.$$typeof===Ar)return Gn(t)}throw Error(fe(438,String(t)))}function C4(t){var e=null,n=it.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=it.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Zm(),it.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=Uk;return e.index++,n}function $r(t,e){return typeof e=="function"?e(t):e}function md(t){var e=yn();return M4(e,At,t)}function M4(t,e,n){var s=t.queue;if(s===null)throw Error(fe(311));s.lastRenderedReducer=n;var r=t.baseQueue,a=s.pending;if(a!==null){if(r!==null){var l=r.next;r.next=a.next,a.next=l}e.baseQueue=r=a,s.pending=null}if(a=t.baseState,r===null)t.memoizedState=a;else{e=r.next;var o=l=null,c=null,h=e,u=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(ht&m)===m:(qr&m)===m){var p=h.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===oc&&(u=!0);else if((qr&p)===p){h=h.next,p===oc&&(u=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=m,l=a):c=c.next=m,it.lanes|=p,Ga|=p;m=h.action,Yl&&n(a,m),a=h.hasEagerState?h.eagerState:n(a,m)}else p={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=p,l=a):c=c.next=p,it.lanes|=m,Ga|=m;h=h.next}while(h!==null&&h!==e);if(c===null?l=a:c.next=o,!Vi(a,t.memoizedState)&&(Sn=!0,u&&(n=Yo,n!==null)))throw n;t.memoizedState=a,t.baseState=l,t.baseQueue=c,s.lastRenderedState=a}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function cp(t){var e=yn(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do a=t(a,l.action),l=l.next;while(l!==r);Vi(a,e.memoizedState)||(Sn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function Y8(t,e,n){var s=it,r=yn(),a=ut;if(a){if(n===void 0)throw Error(fe(407));n=n()}else n=e();var l=!Vi((At||r).memoizedState,n);if(l&&(r.memoizedState=n,Sn=!0),r=r.queue,z4(Q8.bind(null,s,r,t),[t]),r.getSnapshot!==e||l||jn!==null&&jn.memoizedState.tag&1){if(s.flags|=2048,hc(9,{destroy:void 0},Z8.bind(null,s,r,n,e),null),Ct===null)throw Error(fe(349));a||qr&127||X8(s,e,n)}return n}function X8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e=Zm(),it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z8(t,e,n,s){e.value=n,e.getSnapshot=s,K8(e)&&J8(t)}function Q8(t,e,n){return n(function(){K8(e)&&J8(t)})}function K8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vi(t,n)}catch{return!0}}function J8(t){var e=eo(t,2);e!==null&&Si(e,t,2)}function yx(t){var e=ni();if(typeof t=="function"){var n=t;if(t=n(),Yl){wa(!0);try{n()}finally{wa(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:t},e}function e9(t,e,n,s){return t.baseState=n,M4(t,At,typeof s=="function"?s:$r)}function rC(t,e,n,s,r){if(Jm(t))throw Error(fe(485));if(t=e.action,t!==null){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){a.listeners.push(l)}};Je.T!==null?n(!0):a.isTransition=!1,s(a),n=e.pending,n===null?(a.next=e.pending=a,t9(e,a)):(a.next=n.next,e.pending=n.next=a)}}function t9(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var a=Je.T,l={};Je.T=l;try{var o=n(r,s),c=Je.S;c!==null&&c(l,o),Gb(t,e,o)}catch(h){bx(t,e,h)}finally{a!==null&&l.types!==null&&(a.types=l.types),Je.T=a}}else try{a=n(r,s),Gb(t,e,a)}catch(h){bx(t,e,h)}}function Gb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Wb(t,e,s)},function(s){return bx(t,e,s)}):Wb(t,e,n)}function Wb(t,e,n){e.status="fulfilled",e.value=n,n9(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,t9(t,n)))}function bx(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,n9(e),e=e.next;while(e!==s)}t.action=null}function n9(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function i9(t,e){return e}function Yb(t,e){if(ut){var n=Ct.formState;if(n!==null){e:{var s=it;if(ut){if(Lt){t:{for(var r=Lt,a=as;r.nodeType!==8;){if(!a){r=null;break t}if(r=us(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Lt=us(r.nextSibling),s=r.data==="F!";break e}}Ha(s)}s=!1}s&&(e=n[0])}}return n=ni(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i9,lastRenderedState:e},n.queue=s,n=b9.bind(null,it,s),s.dispatch=n,s=yx(!1),a=R4.bind(null,it,!1,s.queue),s=ni(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=rC.bind(null,it,r,a,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function Xb(t){var e=yn();return s9(e,At,t)}function s9(t,e,n){if(e=M4(t,e,i9)[0],t=md($r)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Rh(e)}catch(l){throw l===kc?Xm:l}else s=e;e=yn();var r=e.queue,a=r.dispatch;return n!==e.memoizedState&&(it.flags|=2048,hc(9,{destroy:void 0},aC.bind(null,r,n),null)),[s,a,t]}function aC(t,e){t.action=e}function Zb(t){var e=yn(),n=At;if(n!==null)return s9(e,n,t);yn(),e=e.memoizedState,n=yn();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function hc(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=it.updateQueue,e===null&&(e=Zm(),it.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function r9(){return yn().memoizedState}function fd(t,e,n,s){var r=ni();it.flags|=t,r.memoizedState=hc(1|e,{destroy:void 0},n,s===void 0?null:s)}function Km(t,e,n,s){var r=yn();s=s===void 0?null:s;var a=r.memoizedState.inst;At!==null&&s!==null&&S4(s,At.memoizedState.deps)?r.memoizedState=hc(e,a,n,s):(it.flags|=t,r.memoizedState=hc(1|e,a,n,s))}function Qb(t,e){fd(8390656,8,t,e)}function z4(t,e){Km(2048,8,t,e)}function lC(t){it.flags|=4;var e=it.updateQueue;if(e===null)e=Zm(),it.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function a9(t){var e=yn().memoizedState;return lC({ref:e,nextImpl:t}),function(){if(bt&2)throw Error(fe(440));return e.impl.apply(void 0,arguments)}}function l9(t,e){return Km(4,2,t,e)}function o9(t,e){return Km(4,4,t,e)}function c9(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h9(t,e,n){n=n!=null?n.concat([t]):null,Km(4,4,c9.bind(null,e,t),n)}function D4(){}function u9(t,e){var n=yn();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&S4(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function d9(t,e){var n=yn();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&S4(e,s[1]))return s[0];if(s=t(),Yl){wa(!0);try{t()}finally{wa(!1)}}return n.memoizedState=[s,e],s}function P4(t,e,n){return n===void 0||qr&1073741824&&!(ht&261930)?t.memoizedState=e:(t.memoizedState=n,t=ej(),it.lanes|=t,Ga|=t,n)}function m9(t,e,n,s){return Vi(n,e)?n:cc.current!==null?(t=P4(t,n,s),Vi(t,e)||(Sn=!0),t):!(qr&42)||qr&1073741824&&!(ht&261930)?(Sn=!0,t.memoizedState=n):(t=ej(),it.lanes|=t,Ga|=t,e)}function f9(t,e,n,s,r){var a=vt.p;vt.p=a!==0&&8>a?a:8;var l=Je.T,o={};Je.T=o,R4(t,!1,e,n);try{var c=r(),h=Je.S;if(h!==null&&h(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=nC(c,s);R0(t,e,u,Ui(t))}else R0(t,e,s,Ui(t))}catch(m){R0(t,e,{then:function(){},status:"rejected",reason:m},Ui())}finally{vt.p=a,l!==null&&o.types!==null&&(l.types=o.types),Je.T=l}}function oC(){}function vx(t,e,n,s){if(t.tag!==5)throw Error(fe(476));var r=p9(t).queue;f9(t,r,e,$l,n===null?oC:function(){return x9(t),n(s)})}function p9(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:$l,baseState:$l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:$l},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function x9(t){var e=p9(t);e.next===null&&(e=t.alternate.memoizedState),R0(t,e.next.queue,{},Ui())}function I4(){return Gn(ch)}function g9(){return yn().memoizedState}function y9(){return yn().memoizedState}function cC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ui();t=Pa(n);var s=Ia(e,t,n);s!==null&&(Si(s,e,n),D0(s,e,n)),e={cache:b4()},t.payload=e;return}e=e.return}}function hC(t,e,n){var s=Ui();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Jm(t)?v9(e,n):(n=p4(t,e,n,s),n!==null&&(Si(n,t,s),j9(n,e,s)))}function b9(t,e,n){var s=Ui();R0(t,e,n,s)}function R0(t,e,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jm(t))v9(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,o=a(l,n);if(r.hasEagerState=!0,r.eagerState=o,Vi(o,l))return Ym(t,e,r,0),Ct===null&&Wm(),!1}catch{}finally{}if(n=p4(t,e,r,s),n!==null)return Si(n,t,s),j9(n,e,s),!0}return!1}function R4(t,e,n,s){if(s={lane:2,revertLane:H4(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jm(t)){if(e)throw Error(fe(479))}else e=p4(t,n,s,2),e!==null&&Si(e,t,2)}function Jm(t){var e=t.alternate;return t===it||e!==null&&e===it}function v9(t,e){Zo=Vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j9(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,a8(t,n)}}var ah={readContext:Gn,use:Qm,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};ah.useEffectEvent=ln;var w9={readContext:Gn,use:Qm,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:Qb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,fd(4194308,4,c9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fd(4194308,4,t,e)},useInsertionEffect:function(t,e){fd(4,2,t,e)},useMemo:function(t,e){var n=ni();e=e===void 0?null:e;var s=t();if(Yl){wa(!0);try{t()}finally{wa(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=ni();if(n!==void 0){var r=n(e);if(Yl){wa(!0);try{n(e)}finally{wa(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=hC.bind(null,it,t),[s.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:function(t){t=yx(t);var e=t.queue,n=b9.bind(null,it,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:D4,useDeferredValue:function(t,e){var n=ni();return P4(n,t,e)},useTransition:function(){var t=yx(!1);return t=f9.bind(null,it,t.queue,!0,!1),ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=it,r=ni();if(ut){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),Ct===null)throw Error(fe(349));ht&127||X8(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,Qb(Q8.bind(null,s,a,t),[t]),s.flags|=2048,hc(9,{destroy:void 0},Z8.bind(null,s,a,n,e),null),n},useId:function(){var t=ni(),e=Ct.identifierPrefix;if(ut){var n=Fs,s=Ls;n=(s&~(1<<32-Fi(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Gd++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=iC++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:I4,useFormState:Yb,useActionState:Yb,useOptimistic:function(t){var e=ni();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=R4.bind(null,it,!0,n),n.dispatch=e,[t,e]},useMemoCache:C4,useCacheRefresh:function(){return ni().memoizedState=cC.bind(null,it)},useEffectEvent:function(t){var e=ni(),n={impl:t};return e.memoizedState=n,function(){if(bt&2)throw Error(fe(440));return n.impl.apply(void 0,arguments)}}},_4={readContext:Gn,use:Qm,useCallback:u9,useContext:Gn,useEffect:z4,useImperativeHandle:h9,useInsertionEffect:l9,useLayoutEffect:o9,useMemo:d9,useReducer:md,useRef:r9,useState:function(){return md($r)},useDebugValue:D4,useDeferredValue:function(t,e){var n=yn();return m9(n,At.memoizedState,t,e)},useTransition:function(){var t=md($r)[0],e=yn().memoizedState;return[typeof t=="boolean"?t:Rh(t),e]},useSyncExternalStore:Y8,useId:g9,useHostTransitionStatus:I4,useFormState:Xb,useActionState:Xb,useOptimistic:function(t,e){var n=yn();return e9(n,At,t,e)},useMemoCache:C4,useCacheRefresh:y9};_4.useEffectEvent=a9;var T9={readContext:Gn,use:Qm,useCallback:u9,useContext:Gn,useEffect:z4,useImperativeHandle:h9,useInsertionEffect:l9,useLayoutEffect:o9,useMemo:d9,useReducer:cp,useRef:r9,useState:function(){return cp($r)},useDebugValue:D4,useDeferredValue:function(t,e){var n=yn();return At===null?P4(n,t,e):m9(n,At.memoizedState,t,e)},useTransition:function(){var t=cp($r)[0],e=yn().memoizedState;return[typeof t=="boolean"?t:Rh(t),e]},useSyncExternalStore:Y8,useId:g9,useHostTransitionStatus:I4,useFormState:Zb,useActionState:Zb,useOptimistic:function(t,e){var n=yn();return At!==null?e9(n,At,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:C4,useCacheRefresh:y9};T9.useEffectEvent=a9;function hp(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jx={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ui(),r=Pa(s);r.payload=e,n!=null&&(r.callback=n),e=Ia(t,r,s),e!==null&&(Si(e,t,s),D0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ui(),r=Pa(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ia(t,r,s),e!==null&&(Si(e,t,s),D0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ui(),s=Pa(n);s.tag=2,e!=null&&(s.callback=e),e=Ia(t,s,n),e!==null&&(Si(e,t,n),D0(e,t,n))}};function Kb(t,e,n,s,r,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,l):e.prototype&&e.prototype.isPureReactComponent?!th(n,s)||!th(r,a):!0}function Jb(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&jx.enqueueReplaceState(e,e.state,null)}function Xl(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Ut({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function S9(t){$d(t)}function N9(t){console.error(t)}function A9(t){$d(t)}function Wd(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function e3(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function wx(t,e,n){return n=Pa(n),n.tag=3,n.payload={element:null},n.callback=function(){Wd(t,e)},n}function k9(t){return t=Pa(t),t.tag=3,t}function E9(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;t.payload=function(){return r(a)},t.callback=function(){e3(e,n,s)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){e3(e,n,s),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function uC(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Ac(e,n,r,!0),n=Gi.current,n!==null){switch(n.tag){case 31:case 13:return hs===null?Kd():n.alternate===null&&cn===0&&(cn=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Fd?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),jp(t,s,r)),!1;case 22:return n.flags|=65536,s===Fd?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),jp(t,s,r)),!1}throw Error(fe(435,n.tag))}return jp(t,s,r),Kd(),!1}if(ut)return e=Gi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==cx&&(t=Error(fe(422),{cause:s}),ih(rs(t,n)))):(s!==cx&&(e=Error(fe(423),{cause:s}),ih(rs(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=rs(s,n),r=wx(t.stateNode,s,r),op(t,r),cn!==4&&(cn=2)),!1;var a=Error(fe(520),{cause:s});if(a=rs(a,n),$0===null?$0=[a]:$0.push(a),cn!==4&&(cn=2),e===null)return!0;s=rs(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=wx(n.stateNode,s,t),op(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ra===null||!Ra.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=k9(r),E9(r,t,n,s),op(n,r),!1}n=n.return}while(n!==null);return!1}var q4=Error(fe(461)),Sn=!1;function Fn(t,e,n,s){e.child=t===null?F8(e,null,n,s):Wl(e,t.child,n,s)}function t3(t,e,n,s,r){n=n.render;var a=e.ref;if("ref"in s){var l={};for(var o in s)o!=="ref"&&(l[o]=s[o])}else l=s;return Gl(e),s=N4(t,e,n,l,a,r),o=A4(),t!==null&&!Sn?(k4(t,e,r),Br(t,e,r)):(ut&&o&&g4(e),e.flags|=1,Fn(t,e,s,r),e.child)}function n3(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!x4(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,C9(t,e,a,s,r)):(t=ud(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!$4(t,r)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:th,n(l,s)&&t.ref===e.ref)return Br(t,e,r)}return e.flags|=1,t=Cr(a,s),t.ref=e.ref,t.return=e,e.child=t}function C9(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(th(a,s)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=s=a,$4(t,r))t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,Br(t,e,r)}return Tx(t,e,n,s,r)}function M9(t,e,n,s){var r=s.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~a}else s=0,e.child=null;return i3(t,e,a,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&dd(e,a!==null?a.cachePool:null),a!==null?Vb(e,a):xx(),V8(e);else return s=e.lanes=536870912,i3(t,e,a!==null?a.baseLanes|n:n,n,s)}else a!==null?(dd(e,a.cachePool),Vb(e,a),va(),e.memoizedState=null):(t!==null&&dd(e,null),xx(),va());return Fn(t,e,r,n),e.child}function v0(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function i3(t,e,n,s,r){var a=v4();return a=a===null?null:{parent:Tn._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&dd(e,null),xx(),V8(e),t!==null&&Ac(t,e,s,!0),e.childLanes=r,null}function pd(t,e){return e=Yd({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function s3(t,e,n){return Wl(e,t.child,null,n),t=pd(e,e.pendingProps),t.flags|=2,Ri(e),e.memoizedState=null,t}function dC(t,e,n){var s=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ut){if(s.mode==="hidden")return t=pd(e,s),e.lanes=536870912,v0(null,t);if(gx(e),(t=Lt)?(t=wj(t,as),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ua!==null?{id:Ls,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},n=R8(t),n.return=e,e.child=n,Vn=e,Lt=null)):t=null,t===null)throw Ha(e);return e.lanes=536870912,null}return pd(e,s)}var a=t.memoizedState;if(a!==null){var l=a.dehydrated;if(gx(e),r)if(e.flags&256)e.flags&=-257,e=s3(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(fe(558));else if(Sn||Ac(t,e,n,!1),r=(n&t.childLanes)!==0,Sn||r){if(s=Ct,s!==null&&(l=l8(s,n),l!==0&&l!==a.retryLane))throw a.retryLane=l,eo(t,l),Si(s,t,l),q4;Kd(),e=s3(t,e,n)}else t=a.treeContext,Lt=us(l.nextSibling),Vn=e,ut=!0,Da=null,as=!1,t!==null&&q8(e,t),e=pd(e,s),e.flags|=4096;return e}return t=Cr(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function xd(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(fe(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Tx(t,e,n,s,r){return Gl(e),n=N4(t,e,n,s,void 0,r),s=A4(),t!==null&&!Sn?(k4(t,e,r),Br(t,e,r)):(ut&&s&&g4(e),e.flags|=1,Fn(t,e,n,r),e.child)}function r3(t,e,n,s,r,a){return Gl(e),e.updateQueue=null,n=W8(e,s,n,r),G8(t),s=A4(),t!==null&&!Sn?(k4(t,e,a),Br(t,e,a)):(ut&&s&&g4(e),e.flags|=1,Fn(t,e,n,a),e.child)}function a3(t,e,n,s,r){if(Gl(e),e.stateNode===null){var a=Do,l=n.contextType;typeof l=="object"&&l!==null&&(a=Gn(l)),a=new n(s,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=jx,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=s,a.state=e.memoizedState,a.refs={},w4(e),l=n.contextType,a.context=typeof l=="object"&&l!==null?Gn(l):Do,a.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(hp(e,n,l,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&jx.enqueueReplaceState(a,a.state,null),I0(e,s,a,r),P0(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,c=Xl(n,o);a.props=c;var h=a.context,u=n.contextType;l=Do,typeof u=="object"&&u!==null&&(l=Gn(u));var m=n.getDerivedStateFromProps;u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||h!==l)&&Jb(e,a,s,l),ga=!1;var p=e.memoizedState;a.state=p,I0(e,s,a,r),P0(),h=e.memoizedState,o||p!==h||ga?(typeof m=="function"&&(hp(e,n,m,s),h=e.memoizedState),(c=ga||Kb(e,n,c,s,p,h,l))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),a.props=s,a.state=h,a.context=l,s=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,fx(t,e),l=e.memoizedProps,u=Xl(n,l),a.props=u,m=e.pendingProps,p=a.context,h=n.contextType,c=Do,typeof h=="object"&&h!==null&&(c=Gn(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||p!==c)&&Jb(e,a,s,c),ga=!1,p=e.memoizedState,a.state=p,I0(e,s,a,r),P0();var b=e.memoizedState;l!==m||p!==b||ga||t!==null&&t.dependencies!==null&&Ld(t.dependencies)?(typeof o=="function"&&(hp(e,n,o,s),b=e.memoizedState),(u=ga||Kb(e,n,u,s,p,b,c)||t!==null&&t.dependencies!==null&&Ld(t.dependencies))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=b),a.props=s,a.state=b,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return a=s,xd(t,e),s=(e.flags&128)!==0,a||s?(a=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&s?(e.child=Wl(e,t.child,null,r),e.child=Wl(e,null,n,r)):Fn(t,e,n,r),e.memoizedState=a.state,t=e.child):t=Br(t,e,r),t}function l3(t,e,n,s){return Vl(),e.flags|=256,Fn(t,e,n,s),e.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(t){return{baseLanes:t,cachePool:B8()}}function mp(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Bi),t}function z9(t,e,n){var s=e.pendingProps,r=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(pn.current&2)!==0),l&&(r=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(ut){if(r?ba(e):va(),(t=Lt)?(t=wj(t,as),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ua!==null?{id:Ls,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},n=R8(t),n.return=e,e.child=n,Vn=e,Lt=null)):t=null,t===null)throw Ha(e);return qx(t)?e.lanes=32:e.lanes=536870912,null}var o=s.children;return s=s.fallback,r?(va(),r=e.mode,o=Yd({mode:"hidden",children:o},r),s=Bl(s,r,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,s=e.child,s.memoizedState=dp(n),s.childLanes=mp(t,l,n),e.memoizedState=up,v0(null,s)):(ba(e),Sx(e,o))}var c=t.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(a)e.flags&256?(ba(e),e.flags&=-257,e=fp(t,e,n)):e.memoizedState!==null?(va(),e.child=t.child,e.flags|=128,e=null):(va(),o=s.fallback,r=e.mode,s=Yd({mode:"visible",children:s.children},r),o=Bl(o,r,n,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,Wl(e,t.child,null,n),s=e.child,s.memoizedState=dp(n),s.childLanes=mp(t,l,n),e.memoizedState=up,e=v0(null,s));else if(ba(e),qx(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var h=l.dgst;l=h,s=Error(fe(419)),s.stack="",s.digest=l,ih({value:s,source:null,stack:null}),e=fp(t,e,n)}else if(Sn||Ac(t,e,n,!1),l=(n&t.childLanes)!==0,Sn||l){if(l=Ct,l!==null&&(s=l8(l,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,eo(t,s),Si(l,t,s),q4;_x(o)||Kd(),e=fp(t,e,n)}else _x(o)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Lt=us(o.nextSibling),Vn=e,ut=!0,Da=null,as=!1,t!==null&&q8(e,t),e=Sx(e,s.children),e.flags|=4096);return e}return r?(va(),o=s.fallback,r=e.mode,c=t.child,h=c.sibling,s=Cr(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,h!==null?o=Cr(h,o):(o=Bl(o,r,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,v0(null,s),s=e.child,o=t.child.memoizedState,o===null?o=dp(n):(r=o.cachePool,r!==null?(c=Tn._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=B8(),o={baseLanes:o.baseLanes|n,cachePool:r}),s.memoizedState=o,s.childLanes=mp(t,l,n),e.memoizedState=up,v0(t.child,s)):(ba(e),n=t.child,t=n.sibling,n=Cr(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function Sx(t,e){return e=Yd({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Yd(t,e){return t=_i(22,t,null,e),t.lanes=0,t}function fp(t,e,n){return Wl(e,t.child,null,n),t=Sx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o3(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),ux(t.return,e,n)}function pp(t,e,n,s,r,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=r,l.treeForkCount=a)}function D9(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;s=s.children;var l=pn.current,o=(l&2)!==0;if(o?(l=l&1|2,e.flags|=128):l&=1,Pt(pn,l),Fn(t,e,s,n),s=ut?nh:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o3(t,n,e);else if(t.tag===19)o3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Hd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),pp(e,!1,r,n,a,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Hd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}pp(e,!0,n,null,a,s);break;case"together":pp(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ga|=e.lanes,!(n&e.childLanes))if(t!==null){if(Ac(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $4(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ld(t)))}function mC(t,e,n){switch(e.tag){case 3:Id(e,e.stateNode.containerInfo),ya(e,Tn,t.memoizedState.cache),Vl();break;case 27:case 5:K1(e);break;case 4:Id(e,e.stateNode.containerInfo);break;case 10:ya(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,gx(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ba(e),e.flags|=128,null):n&e.child.childLanes?z9(t,e,n):(ba(e),t=Br(t,e,n),t!==null?t.sibling:null);ba(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Ac(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return D9(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pt(pn,pn.current),s)break;return null;case 22:return e.lanes=0,M9(t,e,n,e.pendingProps);case 24:ya(e,Tn,t.memoizedState.cache)}return Br(t,e,n)}function P9(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Sn=!0;else{if(!$4(t,n)&&!(e.flags&128))return Sn=!1,mC(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,ut&&e.flags&1048576&&_8(e,nh,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=El(e.elementType),e.type=t,typeof t=="function")x4(t)?(s=Xl(t,s),e.tag=1,e=a3(null,e,t,s,n)):(e.tag=0,e=Tx(null,e,t,s,n));else{if(t!=null){var r=t.$$typeof;if(r===n4){e.tag=11,e=t3(null,e,t,s,n);break e}else if(r===i4){e.tag=14,e=n3(null,e,t,s,n);break e}}throw e=Z1(t)||t,Error(fe(306,e,""))}}return e;case 0:return Tx(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=Xl(s,e.pendingProps),a3(t,e,s,r,n);case 3:e:{if(Id(e,e.stateNode.containerInfo),t===null)throw Error(fe(387));s=e.pendingProps;var a=e.memoizedState;r=a.element,fx(t,e),I0(e,s,null,n);var l=e.memoizedState;if(s=l.cache,ya(e,Tn,s),s!==a.cache&&dx(e,[Tn],n,!0),P0(),s=l.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=l3(t,e,s,n);break e}else if(s!==r){r=rs(Error(fe(424)),e),ih(r),e=l3(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Lt=us(t.firstChild),Vn=e,ut=!0,Da=null,as=!0,n=F8(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vl(),s===r){e=Br(t,e,n);break e}Fn(t,e,s,n)}e=e.child}return e;case 26:return xd(t,e),t===null?(n=E3(e.type,null,e.pendingProps,null))?e.memoizedState=n:ut||(n=e.type,t=e.pendingProps,s=nm(za.current).createElement(n),s[Hn]=e,s[Ai]=t,Wn(s,n,t),$n(s),e.stateNode=s):e.memoizedState=E3(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return K1(e),t===null&&ut&&(s=e.stateNode=Tj(e.type,e.pendingProps,za.current),Vn=e,as=!0,r=Lt,rl(e.type)?($x=r,Lt=us(s.firstChild)):Lt=r),Fn(t,e,e.pendingProps.children,n),xd(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ut&&((r=s=Lt)&&(s=UC(s,e.type,e.pendingProps,as),s!==null?(e.stateNode=s,Vn=e,Lt=us(s.firstChild),as=!1,r=!0):r=!1),r||Ha(e)),K1(e),r=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,s=a.children,Ix(r,a)?s=null:l!==null&&Ix(r,l)&&(e.flags|=32),e.memoizedState!==null&&(r=N4(t,e,sC,null,null,n),ch._currentValue=r),xd(t,e),Fn(t,e,s,n),e.child;case 6:return t===null&&ut&&((t=n=Lt)&&(n=HC(n,e.pendingProps,as),n!==null?(e.stateNode=n,Vn=e,Lt=null,t=!0):t=!1),t||Ha(e)),null;case 13:return z9(t,e,n);case 4:return Id(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Wl(e,null,s,n):Fn(t,e,s,n),e.child;case 11:return t3(t,e,e.type,e.pendingProps,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,ya(e,e.type,s.value),Fn(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,Gl(e),r=Gn(r),s=s(r),e.flags|=1,Fn(t,e,s,n),e.child;case 14:return n3(t,e,e.type,e.pendingProps,n);case 15:return C9(t,e,e.type,e.pendingProps,n);case 19:return D9(t,e,n);case 31:return dC(t,e,n);case 22:return M9(t,e,n,e.pendingProps);case 24:return Gl(e),s=Gn(Tn),t===null?(r=v4(),r===null&&(r=Ct,a=b4(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),e.memoizedState={parent:s,cache:r},w4(e),ya(e,Tn,r)):(t.lanes&n&&(fx(t,e),I0(e,null,null,n),P0()),r=t.memoizedState,a=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ya(e,Tn,s)):(s=a.cache,ya(e,Tn,s),s!==r.cache&&dx(e,[Tn],n,!0))),Fn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(fe(156,e.tag))}function gr(t){t.flags|=4}function xp(t,e,n,s,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(ij())t.flags|=8192;else throw Ll=Fd,j4}else t.flags&=-16777217}function c3(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Aj(e))if(ij())t.flags|=8192;else throw Ll=Fd,j4}function Su(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?s8():536870912,t.lanes|=e,uc|=e)}function o0(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function fC(t,e,n){var s=e.pendingProps;switch(y4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return Ot(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Mr(Tn),rc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(go(e)?gr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lp())),Ot(e),null;case 26:var r=e.type,a=e.memoizedState;return t===null?(gr(e),a!==null?(Ot(e),c3(e,a)):(Ot(e),xp(e,r,null,s,n))):a?a!==t.memoizedState?(gr(e),Ot(e),c3(e,a)):(Ot(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&gr(e),Ot(e),xp(e,r,t,s,n)),null;case 27:if(Rd(e),n=za.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&gr(e);else{if(!s){if(e.stateNode===null)throw Error(fe(166));return Ot(e),null}t=Ys.current,go(e)?$b(e):(t=Tj(r,s,n),e.stateNode=t,gr(e))}return Ot(e),null;case 5:if(Rd(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&gr(e);else{if(!s){if(e.stateNode===null)throw Error(fe(166));return Ot(e),null}if(a=Ys.current,go(e))$b(e);else{var l=nm(za.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=l.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?a.multiple=!0:s.size&&(a.size=s.size);break;default:a=typeof s.is=="string"?l.createElement(r,{is:s.is}):l.createElement(r)}}a[Hn]=e,a[Ai]=s;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)a.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=a;e:switch(Wn(a,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gr(e)}}return Ot(e),xp(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&gr(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(fe(166));if(t=za.current,go(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=Vn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[Hn]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||bj(t.nodeValue,n)),t||Ha(e,!0)}else t=nm(t).createTextNode(s),t[Hn]=e,e.stateNode=t}return Ot(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=go(e),n!==null){if(t===null){if(!s)throw Error(fe(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(557));t[Hn]=e}else Vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),t=!1}else n=lp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ri(e),e):(Ri(e),null);if(e.flags&128)throw Error(fe(558))}return Ot(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=go(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(fe(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(fe(317));r[Hn]=e}else Vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),r=!1}else r=lp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ri(e),e):(Ri(e),null)}return Ri(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==r&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Su(e,e.updateQueue),Ot(e),null);case 4:return rc(),t===null&&V4(e.stateNode.containerInfo),Ot(e),null;case 10:return Mr(e.type),Ot(e),null;case 19:if(Bn(pn),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)o0(s,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hd(t),a!==null){for(e.flags|=128,o0(s,!1),t=a.updateQueue,e.updateQueue=t,Su(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)I8(n,t),n=n.sibling;return Pt(pn,pn.current&1|2),ut&&Tr(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Oi()>Zd&&(e.flags|=128,r=!0,o0(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hd(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Su(e,t),o0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ut)return Ot(e),null}else 2*Oi()-s.renderingStartTime>Zd&&n!==536870912&&(e.flags|=128,r=!0,o0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Oi(),t.sibling=null,n=pn.current,Pt(pn,r?n&1|2:n&1),ut&&Tr(e,s.treeForkCount),t):(Ot(e),null);case 22:case 23:return Ri(e),T4(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),n=e.updateQueue,n!==null&&Su(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&Bn(Ol),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Mr(Tn),Ot(e),null;case 25:return null;case 30:return null}throw Error(fe(156,e.tag))}function pC(t,e){switch(y4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mr(Tn),rc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Rd(e),null;case 31:if(e.memoizedState!==null){if(Ri(e),e.alternate===null)throw Error(fe(340));Vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ri(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bn(pn),null;case 4:return rc(),null;case 10:return Mr(e.type),null;case 22:case 23:return Ri(e),T4(),t!==null&&Bn(Ol),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Mr(Tn),null;case 25:return null;default:return null}}function I9(t,e){switch(y4(e),e.tag){case 3:Mr(Tn),rc();break;case 26:case 27:case 5:Rd(e);break;case 4:rc();break;case 31:e.memoizedState!==null&&Ri(e);break;case 13:Ri(e);break;case 19:Bn(pn);break;case 10:Mr(e.type);break;case 22:case 23:Ri(e),T4(),t!==null&&Bn(Ol);break;case 24:Mr(Tn)}}function _h(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var a=n.create,l=n.inst;s=a(),l.destroy=s}n=n.next}while(n!==r)}}catch(o){Tt(e,e.return,o)}}function Va(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var a=r.next;s=a;do{if((s.tag&t)===t){var l=s.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,r=e;var c=n,h=o;try{h()}catch(u){Tt(r,c,u)}}}s=s.next}while(s!==a)}}catch(u){Tt(e,e.return,u)}}function R9(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{H8(e,n)}catch(s){Tt(t,t.return,s)}}}function _9(t,e,n){n.props=Xl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){Tt(t,e,s)}}function _0(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){Tt(t,e,r)}}function Us(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){Tt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function q9(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){Tt(t,t.return,r)}}function gp(t,e,n){try{var s=t.stateNode;qC(s,t.type,n,e),s[Ai]=e}catch(r){Tt(t,t.return,r)}}function $9(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rl(t.type)||t.tag===4}function yp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nx(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kr));else if(s!==4&&(s===27&&rl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Nx(t,e,n),t=t.sibling;t!==null;)Nx(t,e,n),t=t.sibling}function Xd(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&rl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Xd(t,e,n),t=t.sibling;t!==null;)Xd(t,e,n),t=t.sibling}function B9(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Wn(e,s,n),e[Hn]=t,e[Ai]=n}catch(a){Tt(t,t.return,a)}}var Nr=!1,wn=!1,bp=!1,h3=typeof WeakSet=="function"?WeakSet:Set,qn=null;function xC(t,e){if(t=t.containerInfo,Dx=am,t=A8(t),m4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,h=0,u=0,m=t,p=null;t:for(;;){for(var b;m!==n||r!==0&&m.nodeType!==3||(o=l+r),m!==a||s!==0&&m.nodeType!==3||(c=l+s),m.nodeType===3&&(l+=m.nodeValue.length),(b=m.firstChild)!==null;)p=m,m=b;for(;;){if(m===t)break t;if(p===n&&++h===r&&(o=l),p===a&&++u===s&&(c=l),(b=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=b}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Px={focusedElem:t,selectionRange:n},am=!1,qn=e;qn!==null;)if(e=qn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qn=t;else for(;qn!==null;){switch(e=qn,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,r=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var E=Xl(n.type,r);t=s.getSnapshotBeforeUpdate(E,a),s.__reactInternalSnapshotBeforeUpdate=t}catch(y){Tt(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Rx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(fe(163))}if(t=e.sibling,t!==null){t.return=e.return,qn=t;break}qn=e.return}}function O9(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:br(t,n),s&4&&_h(5,n);break;case 1:if(br(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){Tt(n,n.return,l)}else{var r=Xl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){Tt(n,n.return,l)}}s&64&&R9(n),s&512&&_0(n,n.return);break;case 3:if(br(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{H8(t,e)}catch(l){Tt(n,n.return,l)}}break;case 27:e===null&&s&4&&B9(n);case 26:case 5:br(t,n),e===null&&s&4&&q9(n),s&512&&_0(n,n.return);break;case 12:br(t,n);break;case 31:br(t,n),s&4&&U9(t,n);break;case 13:br(t,n),s&4&&H9(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=NC.bind(null,n),VC(t,n))));break;case 22:if(s=n.memoizedState!==null||Nr,!s){e=e!==null&&e.memoizedState!==null||wn,r=Nr;var a=wn;Nr=s,(wn=e)&&!a?wr(t,n,(n.subtreeFlags&8772)!==0):br(t,n),Nr=r,wn=a}break;case 30:break;default:br(t,n)}}function L9(t){var e=t.alternate;e!==null&&(t.alternate=null,L9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&l4(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Vt=null,yi=!1;function yr(t,e,n){for(n=n.child;n!==null;)F9(t,e,n),n=n.sibling}function F9(t,e,n){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(Ch,n)}catch{}switch(n.tag){case 26:wn||Us(n,e),yr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wn||Us(n,e);var s=Vt,r=yi;rl(n.type)&&(Vt=n.stateNode,yi=!1),yr(t,e,n),O0(n.stateNode),Vt=s,yi=r;break;case 5:wn||Us(n,e);case 6:if(s=Vt,r=yi,Vt=null,yr(t,e,n),Vt=s,yi=r,Vt!==null)if(yi)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(n.stateNode)}catch(a){Tt(n,e,a)}else try{Vt.removeChild(n.stateNode)}catch(a){Tt(n,e,a)}break;case 18:Vt!==null&&(yi?(t=Vt,T3(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),pc(t)):T3(Vt,n.stateNode));break;case 4:s=Vt,r=yi,Vt=n.stateNode.containerInfo,yi=!0,yr(t,e,n),Vt=s,yi=r;break;case 0:case 11:case 14:case 15:Va(2,n,e),wn||Va(4,n,e),yr(t,e,n);break;case 1:wn||(Us(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&_9(n,e,s)),yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:wn=(s=wn)||n.memoizedState!==null,yr(t,e,n),wn=s;break;default:yr(t,e,n)}}function U9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{pc(t)}catch(n){Tt(e,e.return,n)}}}function H9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pc(t)}catch(n){Tt(e,e.return,n)}}function gC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new h3),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new h3),e;default:throw Error(fe(435,t.tag))}}function Nu(t,e){var n=gC(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var r=AC.bind(null,t,s);s.then(r,r)}})}function xi(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],a=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(rl(o.type)){Vt=o.stateNode,yi=!1;break e}break;case 5:Vt=o.stateNode,yi=!1;break e;case 3:case 4:Vt=o.stateNode.containerInfo,yi=!0;break e}o=o.return}if(Vt===null)throw Error(fe(160));F9(a,l,r),Vt=null,yi=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)V9(e,t),e=e.sibling}var ks=null;function V9(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xi(e,t),gi(t),s&4&&(Va(3,t,t.return),_h(3,t),Va(5,t,t.return));break;case 1:xi(e,t),gi(t),s&512&&(wn||n===null||Us(n,n.return)),s&64&&Nr&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=ks;if(xi(e,t),gi(t),s&512&&(wn||n===null||Us(n,n.return)),s&4){var a=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Dh]||a[Hn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(s),r.head.insertBefore(a,r.querySelector("head > title"))),Wn(a,s,n),a[Hn]=t,$n(a),s=a;break e;case"link":var l=M3("link","href",r).get(s+(n.href||""));if(l){for(var o=0;o<l.length;o++)if(a=l[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(o,1);break t}}a=r.createElement(s),Wn(a,s,n),r.head.appendChild(a);break;case"meta":if(l=M3("meta","content",r).get(s+(n.content||""))){for(o=0;o<l.length;o++)if(a=l[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(o,1);break t}}a=r.createElement(s),Wn(a,s,n),r.head.appendChild(a);break;default:throw Error(fe(468,s))}a[Hn]=t,$n(a),s=a}t.stateNode=s}else z3(r,t.type,t.stateNode);else t.stateNode=C3(r,s,t.memoizedProps);else a!==s?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,s===null?z3(r,t.type,t.stateNode):C3(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&gp(t,t.memoizedProps,n.memoizedProps)}break;case 27:xi(e,t),gi(t),s&512&&(wn||n===null||Us(n,n.return)),n!==null&&s&4&&gp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(xi(e,t),gi(t),s&512&&(wn||n===null||Us(n,n.return)),t.flags&32){r=t.stateNode;try{lc(r,"")}catch(E){Tt(t,t.return,E)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,gp(t,r,n!==null?n.memoizedProps:r)),s&1024&&(bp=!0);break;case 6:if(xi(e,t),gi(t),s&4){if(t.stateNode===null)throw Error(fe(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(E){Tt(t,t.return,E)}}break;case 3:if(bd=null,r=ks,ks=im(e.containerInfo),xi(e,t),ks=r,gi(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{pc(e.containerInfo)}catch(E){Tt(t,t.return,E)}bp&&(bp=!1,G9(t));break;case 4:s=ks,ks=im(t.stateNode.containerInfo),xi(e,t),gi(t),ks=s;break;case 12:xi(e,t),gi(t);break;case 31:xi(e,t),gi(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Nu(t,s)));break;case 13:xi(e,t),gi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ef=Oi()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Nu(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=Nr,u=wn;if(Nr=h||r,wn=u||c,xi(e,t),wn=u,Nr=h,gi(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||Nr||wn||Cl(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,r)l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(E){Tt(c,c.return,E)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(E){Tt(c,c.return,E)}}}else if(e.tag===18){if(n===null){c=e;try{var b=c.stateNode;r?S3(b,!0):S3(c.stateNode,!1)}catch(E){Tt(c,c.return,E)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Nu(t,n))));break;case 19:xi(e,t),gi(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Nu(t,s)));break;case 30:break;case 21:break;default:xi(e,t),gi(t)}}function gi(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if($9(s)){n=s;break}s=s.return}if(n==null)throw Error(fe(160));switch(n.tag){case 27:var r=n.stateNode,a=yp(t);Xd(t,a,r);break;case 5:var l=n.stateNode;n.flags&32&&(lc(l,""),n.flags&=-33);var o=yp(t);Xd(t,o,l);break;case 3:case 4:var c=n.stateNode.containerInfo,h=yp(t);Nx(t,h,c);break;default:throw Error(fe(161))}}catch(u){Tt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G9(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;G9(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function br(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)O9(t,e.alternate,e),e=e.sibling}function Cl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Va(4,e,e.return),Cl(e);break;case 1:Us(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&_9(e,e.return,n),Cl(e);break;case 27:O0(e.stateNode);case 26:case 5:Us(e,e.return),Cl(e);break;case 22:e.memoizedState===null&&Cl(e);break;case 30:Cl(e);break;default:Cl(e)}t=t.sibling}}function wr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,a=e,l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(r,a,n),_h(4,a);break;case 1:if(wr(r,a,n),s=a,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Tt(s,s.return,h)}if(s=a,r=s.updateQueue,r!==null){var o=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)U8(c[r],o)}catch(h){Tt(s,s.return,h)}}n&&l&64&&R9(a),_0(a,a.return);break;case 27:B9(a);case 26:case 5:wr(r,a,n),n&&s===null&&l&4&&q9(a),_0(a,a.return);break;case 12:wr(r,a,n);break;case 31:wr(r,a,n),n&&l&4&&U9(r,a);break;case 13:wr(r,a,n),n&&l&4&&H9(r,a);break;case 22:a.memoizedState===null&&wr(r,a,n),_0(a,a.return);break;case 30:break;default:wr(r,a,n)}e=e.sibling}}function B4(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ih(n))}function O4(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ih(t))}function Ts(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)W9(t,e,n,s),e=e.sibling}function W9(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Ts(t,e,n,s),r&2048&&_h(9,e);break;case 1:Ts(t,e,n,s);break;case 3:Ts(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ih(t)));break;case 12:if(r&2048){Ts(t,e,n,s),t=e.stateNode;try{var a=e.memoizedProps,l=a.id,o=a.onPostCommit;typeof o=="function"&&o(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Tt(e,e.return,c)}}else Ts(t,e,n,s);break;case 31:Ts(t,e,n,s);break;case 13:Ts(t,e,n,s);break;case 23:break;case 22:a=e.stateNode,l=e.alternate,e.memoizedState!==null?a._visibility&2?Ts(t,e,n,s):q0(t,e):a._visibility&2?Ts(t,e,n,s):(a._visibility|=2,wo(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),r&2048&&B4(l,e);break;case 24:Ts(t,e,n,s),r&2048&&O4(e.alternate,e);break;default:Ts(t,e,n,s)}}function wo(t,e,n,s,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,l=e,o=n,c=s,h=l.flags;switch(l.tag){case 0:case 11:case 15:wo(a,l,o,c,r),_h(8,l);break;case 23:break;case 22:var u=l.stateNode;l.memoizedState!==null?u._visibility&2?wo(a,l,o,c,r):q0(a,l):(u._visibility|=2,wo(a,l,o,c,r)),r&&h&2048&&B4(l.alternate,l);break;case 24:wo(a,l,o,c,r),r&&h&2048&&O4(l.alternate,l);break;default:wo(a,l,o,c,r)}e=e.sibling}}function q0(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:q0(n,s),r&2048&&B4(s.alternate,s);break;case 24:q0(n,s),r&2048&&O4(s.alternate,s);break;default:q0(n,s)}e=e.sibling}}var j0=8192;function yo(t,e,n){if(t.subtreeFlags&j0)for(t=t.child;t!==null;)Y9(t,e,n),t=t.sibling}function Y9(t,e,n){switch(t.tag){case 26:yo(t,e,n),t.flags&j0&&t.memoizedState!==null&&iM(n,ks,t.memoizedState,t.memoizedProps);break;case 5:yo(t,e,n);break;case 3:case 4:var s=ks;ks=im(t.stateNode.containerInfo),yo(t,e,n),ks=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=j0,j0=16777216,yo(t,e,n),j0=s):yo(t,e,n));break;default:yo(t,e,n)}}function X9(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function c0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];qn=s,Q9(s,t)}X9(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Z9(t),t=t.sibling}function Z9(t){switch(t.tag){case 0:case 11:case 15:c0(t),t.flags&2048&&Va(9,t,t.return);break;case 3:c0(t);break;case 12:c0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,gd(t)):c0(t);break;default:c0(t)}}function gd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];qn=s,Q9(s,t)}X9(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Va(8,e,e.return),gd(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,gd(e));break;default:gd(e)}t=t.sibling}}function Q9(t,e){for(;qn!==null;){var n=qn;switch(n.tag){case 0:case 11:case 15:Va(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ih(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,qn=s;else e:for(n=t;qn!==null;){s=qn;var r=s.sibling,a=s.return;if(L9(s),s===n){qn=null;break e}if(r!==null){r.return=a,qn=r;break e}qn=a}}}var yC={getCacheForType:function(t){var e=Gn(Tn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Gn(Tn).controller.signal}},bC=typeof WeakMap=="function"?WeakMap:Map,bt=0,Ct=null,ct=null,ht=0,jt=0,Pi=null,Sa=!1,Ec=!1,L4=!1,Or=0,cn=0,Ga=0,Fl=0,F4=0,Bi=0,uc=0,$0=null,ji=null,Ax=!1,ef=0,K9=0,Zd=1/0,Qd=null,Ra=null,Mn=0,_a=null,dc=null,zr=0,kx=0,Ex=null,J9=null,B0=0,Cx=null;function Ui(){return bt&2&&ht!==0?ht&-ht:Je.T!==null?H4():o8()}function ej(){if(Bi===0)if(!(ht&536870912)||ut){var t=gu;gu<<=1,!(gu&3932160)&&(gu=262144),Bi=t}else Bi=536870912;return t=Gi.current,t!==null&&(t.flags|=32),Bi}function Si(t,e,n){(t===Ct&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(mc(t,0),Na(t,ht,Bi,!1)),zh(t,n),(!(bt&2)||t!==Ct)&&(t===Ct&&(!(bt&2)&&(Fl|=n),cn===4&&Na(t,ht,Bi,!1)),er(t))}function tj(t,e,n){if(bt&6)throw Error(fe(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Mh(t,e),r=s?wC(t,e):vp(t,e,!0),a=s;do{if(r===0){Ec&&!s&&Na(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!vC(n)){r=vp(t,e,!1),a=!1;continue}if(r===2){if(a=e,t.errorRecoveryDisabledLanes&a)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var o=t;r=$0;var c=o.current.memoizedState.isDehydrated;if(c&&(mc(o,l).flags|=256),l=vp(o,l,!1),l!==2){if(L4&&!c){o.errorRecoveryDisabledLanes|=a,Fl|=a,r=4;break e}a=ji,ji=r,a!==null&&(ji===null?ji=a:ji.push.apply(ji,a))}r=l}if(a=!1,r!==2)continue}}if(r===1){mc(t,0),Na(t,e,0,!0);break}e:{switch(s=t,a=r,a){case 0:case 1:throw Error(fe(345));case 4:if((e&4194048)!==e)break;case 6:Na(s,e,Bi,!Sa);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(fe(329))}if((e&62914560)===e&&(r=ef+300-Oi(),10<r)){if(Na(s,e,Bi,!Sa),Um(s,0,!0)!==0)break e;zr=e,s.timeoutHandle=jj(u3.bind(null,s,n,ji,Qd,Ax,e,Bi,Fl,uc,Sa,a,"Throttled",-0,0),r);break e}u3(s,n,ji,Qd,Ax,e,Bi,Fl,uc,Sa,a,null,-0,0)}}break}while(!0);er(t)}function u3(t,e,n,s,r,a,l,o,c,h,u,m,p,b){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kr},Y9(e,a,m);var E=(a&62914560)===a?ef-Oi():(a&4194048)===a?K9-Oi():0;if(E=sM(m,E),E!==null){zr=a,t.cancelPendingCommit=E(m3.bind(null,t,e,a,n,s,r,l,o,c,u,m,null,p,b)),Na(t,a,l,!h);return}}m3(t,e,a,n,s,r,l,o,c)}function vC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Vi(a(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e,n,s){e&=~F4,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var a=31-Fi(r),l=1<<a;s[a]=-1,r&=~l}n!==0&&r8(t,n,e)}function tf(){return bt&6?!0:(qh(0),!1)}function U4(){if(ct!==null){if(jt===0)var t=ct.return;else t=ct,Er=to=null,E4(t),Xo=null,sh=0,t=ct;for(;t!==null;)I9(t.alternate,t),t=t.return;ct=null}}function mc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,OC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),zr=0,U4(),Ct=t,ct=n=Cr(t.current,null),ht=e,jt=0,Pi=null,Sa=!1,Ec=Mh(t,e),L4=!1,uc=Bi=F4=Fl=Ga=cn=0,ji=$0=null,Ax=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Fi(s),a=1<<r;e|=t[r],s&=~a}return Or=e,Wm(),n}function nj(t,e){it=null,Je.H=ah,e===kc||e===Xm?(e=Ub(),jt=3):e===j4?(e=Ub(),jt=4):jt=e===q4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Pi=e,ct===null&&(cn=1,Wd(t,rs(e,t.current)))}function ij(){var t=Gi.current;return t===null?!0:(ht&4194048)===ht?hs===null:(ht&62914560)===ht||ht&536870912?t===hs:!1}function sj(){var t=Je.H;return Je.H=ah,t===null?ah:t}function rj(){var t=Je.A;return Je.A=yC,t}function Kd(){cn=4,Sa||(ht&4194048)!==ht&&Gi.current!==null||(Ec=!0),!(Ga&134217727)&&!(Fl&134217727)||Ct===null||Na(Ct,ht,Bi,!1)}function vp(t,e,n){var s=bt;bt|=2;var r=sj(),a=rj();(Ct!==t||ht!==e)&&(Qd=null,mc(t,e)),e=!1;var l=cn;e:do try{if(jt!==0&&ct!==null){var o=ct,c=Pi;switch(jt){case 8:U4(),l=6;break e;case 3:case 2:case 9:case 6:Gi.current===null&&(e=!0);var h=jt;if(jt=0,Pi=null,Ro(t,o,c,h),n&&Ec){l=0;break e}break;default:h=jt,jt=0,Pi=null,Ro(t,o,c,h)}}jC(),l=cn;break}catch(u){nj(t,u)}while(!0);return e&&t.shellSuspendCounter++,Er=to=null,bt=s,Je.H=r,Je.A=a,ct===null&&(Ct=null,ht=0,Wm()),l}function jC(){for(;ct!==null;)aj(ct)}function wC(t,e){var n=bt;bt|=2;var s=sj(),r=rj();Ct!==t||ht!==e?(Qd=null,Zd=Oi()+500,mc(t,e)):Ec=Mh(t,e);e:do try{if(jt!==0&&ct!==null){e=ct;var a=Pi;t:switch(jt){case 1:jt=0,Pi=null,Ro(t,e,a,1);break;case 2:case 9:if(Fb(a)){jt=0,Pi=null,d3(e);break}e=function(){jt!==2&&jt!==9||Ct!==t||(jt=7),er(t)},a.then(e,e);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:Fb(a)?(jt=0,Pi=null,d3(e)):(jt=0,Pi=null,Ro(t,e,a,7));break;case 5:var l=null;switch(ct.tag){case 26:l=ct.memoizedState;case 5:case 27:var o=ct;if(l?Aj(l):o.stateNode.complete){jt=0,Pi=null;var c=o.sibling;if(c!==null)ct=c;else{var h=o.return;h!==null?(ct=h,nf(h)):ct=null}break t}}jt=0,Pi=null,Ro(t,e,a,5);break;case 6:jt=0,Pi=null,Ro(t,e,a,6);break;case 8:U4(),cn=6;break e;default:throw Error(fe(462))}}TC();break}catch(u){nj(t,u)}while(!0);return Er=to=null,Je.H=s,Je.A=r,bt=n,ct!==null?0:(Ct=null,ht=0,Wm(),cn)}function TC(){for(;ct!==null&&!Gk();)aj(ct)}function aj(t){var e=P9(t.alternate,t,Or);t.memoizedProps=t.pendingProps,e===null?nf(t):ct=e}function d3(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=r3(n,e,e.pendingProps,e.type,void 0,ht);break;case 11:e=r3(n,e,e.pendingProps,e.type.render,e.ref,ht);break;case 5:E4(e);default:I9(n,e),e=ct=I8(e,Or),e=P9(n,e,Or)}t.memoizedProps=t.pendingProps,e===null?nf(t):ct=e}function Ro(t,e,n,s){Er=to=null,E4(e),Xo=null,sh=0;var r=e.return;try{if(uC(t,r,e,n,ht)){cn=1,Wd(t,rs(n,t.current)),ct=null;return}}catch(a){if(r!==null)throw ct=r,a;cn=1,Wd(t,rs(n,t.current)),ct=null;return}e.flags&32768?(ut||s===1?t=!0:Ec||ht&536870912?t=!1:(Sa=t=!0,(s===2||s===9||s===3||s===6)&&(s=Gi.current,s!==null&&s.tag===13&&(s.flags|=16384))),lj(e,t)):nf(e)}function nf(t){var e=t;do{if(e.flags&32768){lj(e,Sa);return}t=e.return;var n=fC(e.alternate,e,Or);if(n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);cn===0&&(cn=5)}function lj(t,e){do{var n=pC(t.alternate,t);if(n!==null){n.flags&=32767,ct=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ct=t;return}ct=t=n}while(t!==null);cn=6,ct=null}function m3(t,e,n,s,r,a,l,o,c){t.cancelPendingCommit=null;do sf();while(Mn!==0);if(bt&6)throw Error(fe(327));if(e!==null){if(e===t.current)throw Error(fe(177));if(a=e.lanes|e.childLanes,a|=f4,nE(t,n,a,l,o,c),t===Ct&&(ct=Ct=null,ht=0),dc=e,_a=t,zr=n,kx=a,Ex=r,J9=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,kC(_d,function(){return dj(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Je.T,Je.T=null,r=vt.p,vt.p=2,l=bt,bt|=4;try{xC(t,e,n)}finally{bt=l,vt.p=r,Je.T=s}}Mn=1,oj(),cj(),hj()}}function oj(){if(Mn===1){Mn=0;var t=_a,e=dc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Je.T,Je.T=null;var s=vt.p;vt.p=2;var r=bt;bt|=4;try{V9(e,t);var a=Px,l=A8(t.containerInfo),o=a.focusedElem,c=a.selectionRange;if(l!==o&&o&&o.ownerDocument&&N8(o.ownerDocument.documentElement,o)){if(c!==null&&m4(o)){var h=c.start,u=c.end;if(u===void 0&&(u=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(u,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var b=p.getSelection(),E=o.textContent.length,y=Math.min(c.start,E),T=c.end===void 0?y:Math.min(c.end,E);!b.extend&&y>T&&(l=T,T=y,y=l);var S=Rb(o,y),N=Rb(o,T);if(S&&N&&(b.rangeCount!==1||b.anchorNode!==S.node||b.anchorOffset!==S.offset||b.focusNode!==N.node||b.focusOffset!==N.offset)){var v=m.createRange();v.setStart(S.node,S.offset),b.removeAllRanges(),y>T?(b.addRange(v),b.extend(N.node,N.offset)):(v.setEnd(N.node,N.offset),b.addRange(v))}}}}for(m=[],b=o;b=b.parentNode;)b.nodeType===1&&m.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var f=m[o];f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}am=!!Dx,Px=Dx=null}finally{bt=r,vt.p=s,Je.T=n}}t.current=e,Mn=2}}function cj(){if(Mn===2){Mn=0;var t=_a,e=dc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Je.T,Je.T=null;var s=vt.p;vt.p=2;var r=bt;bt|=4;try{O9(t,e.alternate,e)}finally{bt=r,vt.p=s,Je.T=n}}Mn=3}}function hj(){if(Mn===4||Mn===3){Mn=0,Wk();var t=_a,e=dc,n=zr,s=J9;e.subtreeFlags&10256||e.flags&10256?Mn=5:(Mn=0,dc=_a=null,uj(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ra=null),a4(n),e=e.stateNode,Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(Ch,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Je.T,r=vt.p,vt.p=2,Je.T=null;try{for(var a=t.onRecoverableError,l=0;l<s.length;l++){var o=s[l];a(o.value,{componentStack:o.stack})}}finally{Je.T=e,vt.p=r}}zr&3&&sf(),er(t),r=t.pendingLanes,n&261930&&r&42?t===Cx?B0++:(B0=0,Cx=t):B0=0,qh(0)}}function uj(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ih(e)))}function sf(){return oj(),cj(),hj(),dj()}function dj(){if(Mn!==5)return!1;var t=_a,e=kx;kx=0;var n=a4(zr),s=Je.T,r=vt.p;try{vt.p=32>n?32:n,Je.T=null,n=Ex,Ex=null;var a=_a,l=zr;if(Mn=0,dc=_a=null,zr=0,bt&6)throw Error(fe(331));var o=bt;if(bt|=4,Z9(a.current),W9(a,a.current,l,n),bt=o,qh(0,!1),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(Ch,a)}catch{}return!0}finally{vt.p=r,Je.T=s,uj(t,e)}}function f3(t,e,n){e=rs(n,e),e=wx(t.stateNode,e,2),t=Ia(t,e,2),t!==null&&(zh(t,2),er(t))}function Tt(t,e,n){if(t.tag===3)f3(t,t,n);else for(;e!==null;){if(e.tag===3){f3(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ra===null||!Ra.has(s))){t=rs(n,t),n=k9(2),s=Ia(e,n,2),s!==null&&(E9(n,s,e,t),zh(s,2),er(s));break}}e=e.return}}function jp(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new bC;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(L4=!0,r.add(n),t=SC.bind(null,t,e,n),e.then(t,t))}function SC(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ct===t&&(ht&n)===n&&(cn===4||cn===3&&(ht&62914560)===ht&&300>Oi()-ef?!(bt&2)&&mc(t,0):F4|=n,uc===ht&&(uc=0)),er(t)}function mj(t,e){e===0&&(e=s8()),t=eo(t,e),t!==null&&(zh(t,e),er(t))}function NC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mj(t,n)}function AC(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(fe(314))}s!==null&&s.delete(e),mj(t,n)}function kC(t,e){return s4(t,e)}var Jd=null,To=null,Mx=!1,em=!1,wp=!1,Aa=0;function er(t){t!==To&&t.next===null&&(To===null?Jd=To=t:To=To.next=t),em=!0,Mx||(Mx=!0,CC())}function qh(t,e){if(!wp&&em){wp=!0;do for(var n=!1,s=Jd;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var a=0;else{var l=s.suspendedLanes,o=s.pingedLanes;a=(1<<31-Fi(42|t)+1)-1,a&=r&~(l&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,p3(s,a))}else a=ht,a=Um(s,s===Ct?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(a&3)||Mh(s,a)||(n=!0,p3(s,a));s=s.next}while(n);wp=!1}}function EC(){fj()}function fj(){em=Mx=!1;var t=0;Aa!==0&&BC()&&(t=Aa);for(var e=Oi(),n=null,s=Jd;s!==null;){var r=s.next,a=pj(s,e);a===0?(s.next=null,n===null?Jd=r:n.next=r,r===null&&(To=n)):(n=s,(t!==0||a&3)&&(em=!0)),s=r}Mn!==0&&Mn!==5||qh(t),Aa!==0&&(Aa=0)}function pj(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var l=31-Fi(a),o=1<<l,c=r[l];c===-1?(!(o&n)||o&s)&&(r[l]=tE(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ct,n=ht,n=Um(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Zf(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Mh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&Zf(s),a4(n)){case 2:case 8:n=n8;break;case 32:n=_d;break;case 268435456:n=i8;break;default:n=_d}return s=xj.bind(null,t),n=s4(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&Zf(s),t.callbackPriority=2,t.callbackNode=null,2}function xj(t,e){if(Mn!==0&&Mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(sf()&&t.callbackNode!==n)return null;var s=ht;return s=Um(t,t===Ct?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(tj(t,s,e),pj(t,Oi()),t.callbackNode!=null&&t.callbackNode===n?xj.bind(null,t):null)}function p3(t,e){if(sf())return null;tj(t,e,!0)}function CC(){LC(function(){bt&6?s4(t8,EC):fj()})}function H4(){if(Aa===0){var t=oc;t===0&&(t=xu,xu<<=1,!(xu&261888)&&(xu=256)),Aa=t}return Aa}function x3(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:od(""+t)}function g3(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function MC(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var a=x3((r[Ai]||null).action),l=s.submitter;l&&(e=(e=l[Ai]||null)?x3(e.formAction):l.getAttribute("formAction"),e!==null&&(a=e,l=null));var o=new Hm("action","action",null,s,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Aa!==0){var c=l?g3(r,l):new FormData(r);vx(n,{pending:!0,data:c,method:r.method,action:a},null,c)}}else typeof a=="function"&&(o.preventDefault(),c=l?g3(r,l):new FormData(r),vx(n,{pending:!0,data:c,method:r.method,action:a},a,c))},currentTarget:r}]})}}for(var Tp=0;Tp<ox.length;Tp++){var Sp=ox[Tp],zC=Sp.toLowerCase(),DC=Sp[0].toUpperCase()+Sp.slice(1);_s(zC,"on"+DC)}_s(E8,"onAnimationEnd");_s(C8,"onAnimationIteration");_s(M8,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(YE,"onTransitionRun");_s(XE,"onTransitionStart");_s(ZE,"onTransitionCancel");_s(z8,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lh));function gj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=h;try{a(r)}catch(u){$d(u)}r.currentTarget=null,a=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,h=o.currentTarget,o=o.listener,c!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=h;try{a(r)}catch(u){$d(u)}r.currentTarget=null,a=c}}}}function ot(t,e){var n=e[ex];n===void 0&&(n=e[ex]=new Set);var s=t+"__bubble";n.has(s)||(yj(e,t,2,!1),n.add(s))}function Np(t,e,n){var s=0;e&&(s|=4),yj(n,t,s,e)}var Au="_reactListening"+Math.random().toString(36).slice(2);function V4(t){if(!t[Au]){t[Au]=!0,c8.forEach(function(n){n!=="selectionchange"&&(PC.has(n)||Np(n,!1,t),Np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Au]||(e[Au]=!0,Np("selectionchange",!1,e))}}function yj(t,e,n,s){switch(zj(e)){case 2:var r=lM;break;case 8:r=oM;break;default:r=X4}n=r.bind(null,e,n,t),r=void 0,!rx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ap(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===r)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;o!==null;){if(l=Ao(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){s=a=l;continue e}o=o.parentNode}}s=s.return}g8(function(){var h=a,u=c4(n),m=[];e:{var p=D8.get(t);if(p!==void 0){var b=Hm,E=t;switch(t){case"keypress":if(hd(n)===0)break e;case"keydown":case"keyup":b=AE;break;case"focusin":E="focus",b=tp;break;case"focusout":E="blur",b=tp;break;case"beforeblur":case"afterblur":b=tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Nb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=fE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=CE;break;case E8:case C8:case M8:b=gE;break;case z8:b=zE;break;case"scroll":case"scrollend":b=dE;break;case"wheel":b=PE;break;case"copy":case"cut":case"paste":b=bE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=kb;break;case"toggle":case"beforetoggle":b=RE}var y=(e&4)!==0,T=!y&&(t==="scroll"||t==="scrollend"),S=y?p!==null?p+"Capture":null:p;y=[];for(var N=h,v;N!==null;){var f=N;if(v=f.stateNode,f=f.tag,f!==5&&f!==26&&f!==27||v===null||S===null||(f=J0(N,S),f!=null&&y.push(oh(N,f,v))),T)break;N=N.return}0<y.length&&(p=new b(p,E,null,n,u),m.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",p&&n!==sx&&(E=n.relatedTarget||n.fromElement)&&(Ao(E)||E[Sc]))break e;if((b||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,b?(E=n.relatedTarget||n.toElement,b=h,E=E?Ao(E):null,E!==null&&(T=Eh(E),y=E.tag,E!==T||y!==5&&y!==27&&y!==6)&&(E=null)):(b=null,E=h),b!==E)){if(y=Nb,f="onMouseLeave",S="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(y=kb,f="onPointerLeave",S="onPointerEnter",N="pointer"),T=b==null?p:b0(b),v=E==null?p:b0(E),p=new y(f,N+"leave",b,n,u),p.target=T,p.relatedTarget=v,f=null,Ao(u)===h&&(y=new y(S,N+"enter",E,n,u),y.target=v,y.relatedTarget=T,f=y),T=f,b&&E)t:{for(y=IC,S=b,N=E,v=0,f=S;f;f=y(f))v++;f=0;for(var x=N;x;x=y(x))f++;for(;0<v-f;)S=y(S),v--;for(;0<f-v;)N=y(N),f--;for(;v--;){if(S===N||N!==null&&S===N.alternate){y=S;break t}S=y(S),N=y(N)}y=null}else y=null;b!==null&&y3(m,p,b,y,!1),E!==null&&T!==null&&y3(m,T,E,y,!0)}}e:{if(p=h?b0(h):window,b=p.nodeName&&p.nodeName.toLowerCase(),b==="select"||b==="input"&&p.type==="file")var C=zb;else if(Mb(p))if(T8)C=VE;else{C=UE;var j=FE}else b=p.nodeName,!b||b.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&o4(h.elementType)&&(C=zb):C=HE;if(C&&(C=C(t,h))){w8(m,C,n,u);break e}j&&j(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&ix(p,"number",p.value)}switch(j=h?b0(h):window,t){case"focusin":(Mb(j)||j.contentEditable==="true")&&(Co=j,ax=h,M0=null);break;case"focusout":M0=ax=Co=null;break;case"mousedown":lx=!0;break;case"contextmenu":case"mouseup":case"dragend":lx=!1,_b(m,n,u);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":_b(m,n,u)}var g;if(d4)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Eo?v8(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(b8&&n.locale!=="ko"&&(Eo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Eo&&(g=y8()):(Ta=u,h4="value"in Ta?Ta.value:Ta.textContent,Eo=!0)),j=tm(h,A),0<j.length&&(A=new Ab(A,t,null,n,u),m.push({event:A,listeners:j}),g?A.data=g:(g=j8(n),g!==null&&(A.data=g)))),(g=qE?$E(t,n):BE(t,n))&&(A=tm(h,"onBeforeInput"),0<A.length&&(j=new Ab("onBeforeInput","beforeinput",null,n,u),m.push({event:j,listeners:A}),j.data=g)),MC(m,t,h,n,u)}gj(m,e)})}function oh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tm(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=J0(t,n),r!=null&&s.unshift(oh(t,r,a)),r=J0(t,e),r!=null&&s.push(oh(t,r,a))),t.tag===3)return s;t=t.return}return[]}function IC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y3(t,e,n,s,r){for(var a=e._reactName,l=[];n!==null&&n!==s;){var o=n,c=o.alternate,h=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||h===null||(c=h,r?(h=J0(n,a),h!=null&&l.unshift(oh(n,h,c))):r||(h=J0(n,a),h!=null&&l.push(oh(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var RC=/\r\n?/g,_C=/\u0000|\uFFFD/g;function b3(t){return(typeof t=="string"?t:""+t).replace(RC,`
`).replace(_C,"")}function bj(t,e){return e=b3(e),b3(t)===e}function Nt(t,e,n,s,r,a){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||lc(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&lc(t,""+s);break;case"className":bu(t,"class",s);break;case"tabIndex":bu(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":bu(t,n,s);break;case"style":x8(t,s,a);break;case"data":if(e!=="object"){bu(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=od(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Nt(t,e,"name",r.name,r,null),Nt(t,e,"formEncType",r.formEncType,r,null),Nt(t,e,"formMethod",r.formMethod,r,null),Nt(t,e,"formTarget",r.formTarget,r,null)):(Nt(t,e,"encType",r.encType,r,null),Nt(t,e,"method",r.method,r,null),Nt(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=od(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=kr);break;case"onScroll":s!=null&&ot("scroll",t);break;case"onScrollEnd":s!=null&&ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(fe(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(fe(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=od(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":ot("beforetoggle",t),ot("toggle",t),ld(t,"popover",s);break;case"xlinkActuate":xr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":xr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":xr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":xr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":xr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":xr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":xr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":xr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":xr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ld(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hE.get(n)||n,ld(t,n,s))}}function zx(t,e,n,s,r,a){switch(n){case"style":x8(t,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(fe(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(fe(60));t.innerHTML=n}}break;case"children":typeof s=="string"?lc(t,s):(typeof s=="number"||typeof s=="bigint")&&lc(t,""+s);break;case"onScroll":s!=null&&ot("scroll",t);break;case"onScrollEnd":s!=null&&ot("scrollend",t);break;case"onClick":s!=null&&(t.onclick=kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!h8.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),a=t[Ai]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,r),typeof s=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):ld(t,n,s)}}}function Wn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",t),ot("load",t);var s=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(l!=null)switch(a){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(fe(137,e));default:Nt(t,e,a,l,n,null)}}r&&Nt(t,e,"srcSet",n.srcSet,n,null),s&&Nt(t,e,"src",n.src,n,null);return;case"input":ot("invalid",t);var o=a=l=r=null,c=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"name":r=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":h=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(fe(137,e));break;default:Nt(t,e,s,u,n,null)}}m8(t,a,o,c,h,l,r,!1);return;case"select":ot("invalid",t),s=l=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:Nt(t,e,r,o,n,null)}e=a,n=l,t.multiple=!!s,e!=null?Go(t,!!s,e,!1):n!=null&&Go(t,!!s,n,!0);return;case"textarea":ot("invalid",t),a=r=s=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":s=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(fe(91));break;default:Nt(t,e,l,o,n,null)}p8(t,s,r,a);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Nt(t,e,c,s,n,null)}return;case"dialog":ot("beforetoggle",t),ot("toggle",t),ot("cancel",t),ot("close",t);break;case"iframe":case"object":ot("load",t);break;case"video":case"audio":for(s=0;s<lh.length;s++)ot(lh[s],t);break;case"image":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"embed":case"source":case"link":ot("error",t),ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(fe(137,e));default:Nt(t,e,h,s,n,null)}return;default:if(o4(e)){for(u in n)n.hasOwnProperty(u)&&(s=n[u],s!==void 0&&zx(t,e,u,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&Nt(t,e,o,s,n,null))}function qC(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,l=null,o=null,c=null,h=null,u=null;for(b in n){var m=n[b];if(n.hasOwnProperty(b)&&m!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":c=m;default:s.hasOwnProperty(b)||Nt(t,e,b,null,s,m)}}for(var p in s){var b=s[p];if(m=n[p],s.hasOwnProperty(p)&&(b!=null||m!=null))switch(p){case"type":a=b;break;case"name":r=b;break;case"checked":h=b;break;case"defaultChecked":u=b;break;case"value":l=b;break;case"defaultValue":o=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(fe(137,e));break;default:b!==m&&Nt(t,e,p,b,s,m)}}nx(t,l,o,c,h,u,a,r);return;case"select":b=l=o=p=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":b=c;default:s.hasOwnProperty(a)||Nt(t,e,a,null,s,c)}for(r in s)if(a=s[r],c=n[r],s.hasOwnProperty(r)&&(a!=null||c!=null))switch(r){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":l=a;default:a!==c&&Nt(t,e,r,a,s,c)}e=o,n=l,s=b,p!=null?Go(t,!!n,p,!1):!!s!=!!n&&(e!=null?Go(t,!!n,e,!0):Go(t,!!n,n?[]:"",!1));return;case"textarea":b=p=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Nt(t,e,o,null,s,r)}for(l in s)if(r=s[l],a=n[l],s.hasOwnProperty(l)&&(r!=null||a!=null))switch(l){case"value":p=r;break;case"defaultValue":b=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(fe(91));break;default:r!==a&&Nt(t,e,l,r,s,a)}f8(t,p,b);return;case"option":for(var E in n)if(p=n[E],n.hasOwnProperty(E)&&p!=null&&!s.hasOwnProperty(E))switch(E){case"selected":t.selected=!1;break;default:Nt(t,e,E,null,s,p)}for(c in s)if(p=s[c],b=n[c],s.hasOwnProperty(c)&&p!==b&&(p!=null||b!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Nt(t,e,c,p,s,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!s.hasOwnProperty(y)&&Nt(t,e,y,null,s,p);for(h in s)if(p=s[h],b=n[h],s.hasOwnProperty(h)&&p!==b&&(p!=null||b!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(fe(137,e));break;default:Nt(t,e,h,p,s,b)}return;default:if(o4(e)){for(var T in n)p=n[T],n.hasOwnProperty(T)&&p!==void 0&&!s.hasOwnProperty(T)&&zx(t,e,T,void 0,s,p);for(u in s)p=s[u],b=n[u],!s.hasOwnProperty(u)||p===b||p===void 0&&b===void 0||zx(t,e,u,p,s,b);return}}for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!s.hasOwnProperty(S)&&Nt(t,e,S,null,s,p);for(m in s)p=s[m],b=n[m],!s.hasOwnProperty(m)||p===b||p==null&&b==null||Nt(t,e,m,p,s,b)}function v3(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $C(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],a=r.transferSize,l=r.initiatorType,o=r.duration;if(a&&o&&v3(l)){for(l=0,o=r.responseEnd,s+=1;s<n.length;s++){var c=n[s],h=c.startTime;if(h>o)break;var u=c.transferSize,m=c.initiatorType;u&&v3(m)&&(c=c.responseEnd,l+=u*(c<o?1:(o-h)/(c-h)))}if(--s,e+=8*(a+l)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dx=null,Px=null;function nm(t){return t.nodeType===9?t:t.ownerDocument}function j3(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vj(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ix(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kp=null;function BC(){var t=window.event;return t&&t.type==="popstate"?t===kp?!1:(kp=t,!0):(kp=null,!1)}var jj=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,w3=typeof Promise=="function"?Promise:void 0,LC=typeof queueMicrotask=="function"?queueMicrotask:typeof w3<"u"?function(t){return w3.resolve(null).then(t).catch(FC)}:jj;function FC(t){setTimeout(function(){throw t})}function rl(t){return t==="head"}function T3(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(r),pc(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")O0(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,O0(n);for(var a=n.firstChild;a;){var l=a.nextSibling,o=a.nodeName;a[Dh]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}else n==="body"&&O0(t.ownerDocument.body);n=r}while(n);pc(e)}function S3(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Rx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rx(n),l4(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function UC(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Dh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=us(t.nextSibling),t===null)break}return null}function HC(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=us(t.nextSibling),t===null))return null;return t}function wj(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=us(t.nextSibling),t===null))return null;return t}function _x(t){return t.data==="$?"||t.data==="$~"}function qx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VC(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var $x=null;function N3(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return us(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function A3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Tj(t,e,n){switch(e=nm(n),t){case"html":if(t=e.documentElement,!t)throw Error(fe(452));return t;case"head":if(t=e.head,!t)throw Error(fe(453));return t;case"body":if(t=e.body,!t)throw Error(fe(454));return t;default:throw Error(fe(451))}}function O0(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);l4(t)}var ms=new Map,k3=new Set;function im(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=vt.d;vt.d={f:GC,r:WC,D:YC,C:XC,L:ZC,m:QC,X:JC,S:KC,M:eM};function GC(){var t=Zr.f(),e=tf();return t||e}function WC(t){var e=Nc(t);e!==null&&e.tag===5&&e.type==="form"?x9(e):Zr.r(t)}var Cc=typeof document>"u"?null:document;function Sj(t,e,n){var s=Cc;if(s&&typeof e=="string"&&e){var r=ss(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),k3.has(r)||(k3.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),Wn(e,"link",t),$n(e),s.head.appendChild(e)))}}function YC(t){Zr.D(t),Sj("dns-prefetch",t,null)}function XC(t,e){Zr.C(t,e),Sj("preconnect",t,e)}function ZC(t,e,n){Zr.L(t,e,n);var s=Cc;if(s&&t&&e){var r='link[rel="preload"][as="'+ss(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ss(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ss(n.imageSizes)+'"]')):r+='[href="'+ss(t)+'"]';var a=r;switch(e){case"style":a=fc(t);break;case"script":a=Mc(t)}ms.has(a)||(t=Ut({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ms.set(a,t),s.querySelector(r)!==null||e==="style"&&s.querySelector($h(a))||e==="script"&&s.querySelector(Bh(a))||(e=s.createElement("link"),Wn(e,"link",t),$n(e),s.head.appendChild(e)))}}function QC(t,e){Zr.m(t,e);var n=Cc;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+ss(s)+'"][href="'+ss(t)+'"]',a=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Mc(t)}if(!ms.has(a)&&(t=Ut({rel:"modulepreload",href:t},e),ms.set(a,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bh(a)))return}s=n.createElement("link"),Wn(s,"link",t),$n(s),n.head.appendChild(s)}}}function KC(t,e,n){Zr.S(t,e,n);var s=Cc;if(s&&t){var r=Vo(s).hoistableStyles,a=fc(t);e=e||"default";var l=r.get(a);if(!l){var o={loading:0,preload:null};if(l=s.querySelector($h(a)))o.loading=5;else{t=Ut({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ms.get(a))&&G4(t,n);var c=l=s.createElement("link");$n(c),Wn(c,"link",t),c._p=new Promise(function(h,u){c.onload=h,c.onerror=u}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,yd(l,e,s)}l={type:"stylesheet",instance:l,count:1,state:o},r.set(a,l)}}}function JC(t,e){Zr.X(t,e);var n=Cc;if(n&&t){var s=Vo(n).hoistableScripts,r=Mc(t),a=s.get(r);a||(a=n.querySelector(Bh(r)),a||(t=Ut({src:t,async:!0},e),(e=ms.get(r))&&W4(t,e),a=n.createElement("script"),$n(a),Wn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function eM(t,e){Zr.M(t,e);var n=Cc;if(n&&t){var s=Vo(n).hoistableScripts,r=Mc(t),a=s.get(r);a||(a=n.querySelector(Bh(r)),a||(t=Ut({src:t,async:!0,type:"module"},e),(e=ms.get(r))&&W4(t,e),a=n.createElement("script"),$n(a),Wn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function E3(t,e,n,s){var r=(r=za.current)?im(r):null;if(!r)throw Error(fe(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=fc(n.href),n=Vo(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=fc(n.href);var a=Vo(r).hoistableStyles,l=a.get(t);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,l),(a=r.querySelector($h(t)))&&!a._p&&(l.instance=a,l.state.loading=5),ms.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ms.set(t,n),a||tM(r,t,n,l.state))),e&&s===null)throw Error(fe(528,""));return l}if(e&&s!==null)throw Error(fe(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Mc(n),n=Vo(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(fe(444,t))}}function fc(t){return'href="'+ss(t)+'"'}function $h(t){return'link[rel="stylesheet"]['+t+"]"}function Nj(t){return Ut({},t,{"data-precedence":t.precedence,precedence:null})}function tM(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Wn(e,"link",n),$n(e),t.head.appendChild(e))}function Mc(t){return'[src="'+ss(t)+'"]'}function Bh(t){return"script[async]"+t}function C3(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+ss(n.href)+'"]');if(s)return e.instance=s,$n(s),s;var r=Ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),$n(s),Wn(s,"style",r),yd(s,n.precedence,t),e.instance=s;case"stylesheet":r=fc(n.href);var a=t.querySelector($h(r));if(a)return e.state.loading|=4,e.instance=a,$n(a),a;s=Nj(n),(r=ms.get(r))&&G4(s,r),a=(t.ownerDocument||t).createElement("link"),$n(a);var l=a;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Wn(a,"link",s),e.state.loading|=4,yd(a,n.precedence,t),e.instance=a;case"script":return a=Mc(n.src),(r=t.querySelector(Bh(a)))?(e.instance=r,$n(r),r):(s=n,(r=ms.get(a))&&(s=Ut({},n),W4(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),$n(r),Wn(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(fe(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,yd(s,n.precedence,t));return e.instance}function yd(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,a=r,l=0;l<s.length;l++){var o=s[l];if(o.dataset.precedence===e)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function G4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function W4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var bd=null;function M3(t,e,n){if(bd===null){var s=new Map,r=bd=new Map;r.set(n,s)}else r=bd,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var a=n[r];if(!(a[Dh]||a[Hn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(e)||"";l=t+l;var o=s.get(l);o?o.push(a):s.set(l,[a])}}return s}function z3(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function nM(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Aj(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function iM(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=fc(s.href),a=e.querySelector($h(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=sm.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,$n(a);return}a=e.ownerDocument||e,s=Nj(s),(r=ms.get(r))&&G4(s,r),a=a.createElement("link"),$n(a);var l=a;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Wn(a,"link",s),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=sm.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Ep=0;function sM(t,e){return t.stylesheets&&t.count===0&&vd(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&vd(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Ep===0&&(Ep=62500*$C());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vd(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Ep?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function sm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rm=null;function vd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rm=new Map,e.forEach(rM,t),rm=null,sm.call(t))}function rM(t,e){if(!(e.state.loading&4)){var n=rm.get(t);if(n)var s=n.get(null);else{n=new Map,rm.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var l=r[a];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),s=l)}s&&n.set(null,s)}r=e.instance,l=r.getAttribute("data-precedence"),a=n.get(l)||s,a===s&&n.set(null,r),n.set(l,r),this.count++,s=sm.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),a?a.parentNode.insertBefore(r,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var ch={$$typeof:Ar,Provider:null,Consumer:null,_currentValue:$l,_currentValue2:$l,_threadCount:0};function aM(t,e,n,s,r,a,l,o,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.hiddenUpdates=Qf(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function kj(t,e,n,s,r,a,l,o,c,h,u,m){return t=new aM(t,e,n,l,c,h,u,m,o),e=1,a===!0&&(e|=24),a=_i(3,null,null,e),t.current=a,a.stateNode=t,e=b4(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:s,isDehydrated:n,cache:e},w4(a),t}function Ej(t){return t?(t=Do,t):Do}function Cj(t,e,n,s,r,a){r=Ej(r),s.context===null?s.context=r:s.pendingContext=r,s=Pa(e),s.payload={element:n},a=a===void 0?null:a,a!==null&&(s.callback=a),n=Ia(t,s,e),n!==null&&(Si(n,t,e),D0(n,t,e))}function D3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y4(t,e){D3(t,e),(t=t.alternate)&&D3(t,e)}function Mj(t){if(t.tag===13||t.tag===31){var e=eo(t,67108864);e!==null&&Si(e,t,67108864),Y4(t,67108864)}}function P3(t){if(t.tag===13||t.tag===31){var e=Ui();e=r4(e);var n=eo(t,e);n!==null&&Si(n,t,e),Y4(t,e)}}var am=!0;function lM(t,e,n,s){var r=Je.T;Je.T=null;var a=vt.p;try{vt.p=2,X4(t,e,n,s)}finally{vt.p=a,Je.T=r}}function oM(t,e,n,s){var r=Je.T;Je.T=null;var a=vt.p;try{vt.p=8,X4(t,e,n,s)}finally{vt.p=a,Je.T=r}}function X4(t,e,n,s){if(am){var r=Bx(s);if(r===null)Ap(t,e,s,lm,n),I3(t,s);else if(hM(r,t,e,n,s))s.stopPropagation();else if(I3(t,s),e&4&&-1<cM.indexOf(t)){for(;r!==null;){var a=Nc(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=kl(a.pendingLanes);if(l!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-Fi(l);o.entanglements[1]|=c,l&=~c}er(a),!(bt&6)&&(Zd=Oi()+500,qh(0))}}break;case 31:case 13:o=eo(a,2),o!==null&&Si(o,a,2),tf(),Y4(a,2)}if(a=Bx(s),a===null&&Ap(t,e,s,lm,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else Ap(t,e,s,null,n)}}function Bx(t){return t=c4(t),Z4(t)}var lm=null;function Z4(t){if(lm=null,t=Ao(t),t!==null){var e=Eh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Z7(e),t!==null)return t;t=null}else if(n===31){if(t=Q7(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return lm=t,null}function zj(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yk()){case t8:return 2;case n8:return 8;case _d:case Xk:return 32;case i8:return 268435456;default:return 32}default:return 32}}var Ox=!1,qa=null,$a=null,Ba=null,hh=new Map,uh=new Map,ja=[],cM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I3(t,e){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":hh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function h0(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Nc(e),e!==null&&Mj(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function hM(t,e,n,s,r){switch(e){case"focusin":return qa=h0(qa,t,e,n,s,r),!0;case"dragenter":return $a=h0($a,t,e,n,s,r),!0;case"mouseover":return Ba=h0(Ba,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return hh.set(a,h0(hh.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,uh.set(a,h0(uh.get(a)||null,t,e,n,s,r)),!0}return!1}function Dj(t){var e=Ao(t.target);if(e!==null){var n=Eh(e);if(n!==null){if(e=n.tag,e===13){if(e=Z7(n),e!==null){t.blockedOn=e,yb(t.priority,function(){P3(n)});return}}else if(e===31){if(e=Q7(n),e!==null){t.blockedOn=e,yb(t.priority,function(){P3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bx(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);sx=s,n.target.dispatchEvent(s),sx=null}else return e=Nc(n),e!==null&&Mj(e),t.blockedOn=n,!1;e.shift()}return!0}function R3(t,e,n){jd(t)&&n.delete(e)}function uM(){Ox=!1,qa!==null&&jd(qa)&&(qa=null),$a!==null&&jd($a)&&($a=null),Ba!==null&&jd(Ba)&&(Ba=null),hh.forEach(R3),uh.forEach(R3)}function ku(t,e){t.blockedOn===e&&(t.blockedOn=null,Ox||(Ox=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,uM)))}var Eu=null;function _3(t){Eu!==t&&(Eu=t,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,function(){Eu===t&&(Eu=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(Z4(s||n)===null)continue;break}var a=Nc(n);a!==null&&(t.splice(e,3),e-=3,vx(a,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function pc(t){function e(c){return ku(c,t)}qa!==null&&ku(qa,t),$a!==null&&ku($a,t),Ba!==null&&ku(Ba,t),hh.forEach(e),uh.forEach(e);for(var n=0;n<ja.length;n++){var s=ja[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<ja.length&&(n=ja[0],n.blockedOn===null);)Dj(n),n.blockedOn===null&&ja.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],a=n[s+1],l=r[Ai]||null;if(typeof a=="function")l||_3(n);else if(l){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,l=a[Ai]||null)o=l.formAction;else if(Z4(r)!==null)continue}else o=l.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),_3(n)}}}function Pj(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Q4(t){this._internalRoot=t}rf.prototype.render=Q4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));var n=e.current,s=Ui();Cj(n,s,t,e,null,null)};rf.prototype.unmount=Q4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cj(t.current,2,null,t,null,null),tf(),e[Sc]=null}};function rf(t){this._internalRoot=t}rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=o8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ja.length&&e!==0&&e<ja[n].priority;n++);ja.splice(n,0,t),n===0&&Dj(t)}};var q3=Y7.version;if(q3!=="19.2.3")throw Error(fe(527,q3,"19.2.3"));vt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=Lk(e),t=t!==null?K7(t):null,t=t===null?null:t.stateNode,t};var dM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Je,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Ch=Cu.inject(dM),Li=Cu}catch{}}Lm.createRoot=function(t,e){if(!X7(t))throw Error(fe(299));var n=!1,s="",r=S9,a=N9,l=A9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=kj(t,1,!1,null,null,n,s,null,r,a,l,Pj),t[Sc]=e.current,V4(t),new Q4(e)};Lm.hydrateRoot=function(t,e,n){if(!X7(t))throw Error(fe(299));var s=!1,r="",a=S9,l=N9,o=A9,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=kj(t,1,!0,e,n??null,s,r,c,a,l,o,Pj),e.context=Ej(null),n=e.current,s=Ui(),s=r4(s),r=Pa(s),r.callback=null,Ia(n,r,s),n=s,e.current.lanes=n,zh(e,n),er(e),t[Sc]=e.current,V4(t),new rf(e)};Lm.version="19.2.3";function Ij(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ij)}catch(t){console.error(t)}}Ij(),F7.exports=Lm;var mM=F7.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},dh.apply(this,arguments)}var ka;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ka||(ka={}));const $3="popstate";function fM(t){t===void 0&&(t={});function e(r,a){let{pathname:l="/",search:o="",hash:c=""}=no(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Lx("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){let l=r.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=r.location.href,h=c.indexOf("#");o=h===-1?c:c.slice(0,h)}return o+"#"+(typeof a=="string"?a:om(a))}function s(r,a){af(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return xM(e,n,s,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function af(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pM(){return Math.random().toString(36).substr(2,8)}function B3(t,e){return{usr:t.state,key:t.key,idx:e}}function Lx(t,e,n,s){return n===void 0&&(n=null),dh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?no(e):e,{state:n,key:e&&e.key||s||pM()})}function om(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function no(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function xM(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,l=r.history,o=ka.Pop,c=null,h=u();h==null&&(h=0,l.replaceState(dh({},l.state,{idx:h}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=ka.Pop;let T=u(),S=T==null?null:T-h;h=T,c&&c({action:o,location:y.location,delta:S})}function p(T,S){o=ka.Push;let N=Lx(y.location,T,S);n&&n(N,T),h=u()+1;let v=B3(N,h),f=y.createHref(N);try{l.pushState(v,"",f)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(f)}a&&c&&c({action:o,location:y.location,delta:1})}function b(T,S){o=ka.Replace;let N=Lx(y.location,T,S);n&&n(N,T),h=u();let v=B3(N,h),f=y.createHref(N);l.replaceState(v,"",f),a&&c&&c({action:o,location:y.location,delta:0})}function E(T){let S=r.location.origin!=="null"?r.location.origin:r.location.href,N=typeof T=="string"?T:om(T);return N=N.replace(/ $/,"%20"),hn(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let y={get action(){return o},get location(){return t(r,l)},listen(T){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener($3,m),c=T,()=>{r.removeEventListener($3,m),c=null}},createHref(T){return e(r,T)},createURL:E,encodeLocation(T){let S=E(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:b,go(T){return l.go(T)}};return y}var O3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(O3||(O3={}));function gM(t,e,n){return n===void 0&&(n="/"),yM(t,e,n)}function yM(t,e,n,s){let r=typeof e=="string"?no(e):e,a=xc(r.pathname||"/",n);if(a==null)return null;let l=Rj(t);bM(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let h=MM(a);o=EM(l[c],h)}return o}function Rj(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(hn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let h=Oa([s,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(hn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Rj(a.children,e,u,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:AM(h,a.index),routesMeta:u})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,l);else for(let c of _j(a.path))r(a,l,c)}),e}function _j(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let l=_j(s.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function bM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const vM=/^:[\w-]+$/,jM=3,wM=2,TM=1,SM=10,NM=-2,L3=t=>t==="*";function AM(t,e){let n=t.split("/"),s=n.length;return n.some(L3)&&(s+=NM),e&&(s+=wM),n.filter(r=>!L3(r)).reduce((r,a)=>r+(vM.test(a)?jM:a===""?TM:SM),s)}function kM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function EM(t,e,n){let{routesMeta:s}=t,r={},a="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],h=o===s.length-1,u=a==="/"?e:e.slice(a.length)||"/",m=Fx({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},u),p=c.route;if(!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Oa([a,m.pathname]),pathnameBase:RM(Oa([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=Oa([a,m.pathnameBase]))}return l}function Fx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=CM(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((h,u,m)=>{let{paramName:p,isOptional:b}=u;if(p==="*"){let y=o[m]||"";l=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const E=o[m];return b&&!E?h[p]=void 0:h[p]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function CM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),af(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function MM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return af(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const zM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DM=t=>zM.test(t);function PM(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?no(t):t,a;if(n)if(DM(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),af(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=F3(n.substring(1),"/"):a=F3(n,e)}else a=e;return{pathname:a,search:_M(s),hash:qM(r)}}function F3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Cp(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qj(t,e){let n=IM(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function $j(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=no(t):(r=dh({},t),hn(!r.pathname||!r.pathname.includes("?"),Cp("?","pathname","search",r)),hn(!r.pathname||!r.pathname.includes("#"),Cp("#","pathname","hash",r)),hn(!r.search||!r.search.includes("#"),Cp("#","search","hash",r)));let a=t===""||r.pathname==="",l=a?"/":r.pathname,o;if(l==null)o=n;else{let m=e.length-1;if(!s&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}o=m>=0?e[m]:"/"}let c=PM(r,o),h=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||u)&&(c.pathname+="/"),c}const Oa=t=>t.join("/").replace(/\/\/+/g,"/"),RM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_M=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $M(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bj=["post","put","patch","delete"];new Set(Bj);const BM=["get",...Bj];new Set(BM);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mh.apply(this,arguments)}const lf=q.createContext(null),Oj=q.createContext(null),al=q.createContext(null),of=q.createContext(null),io=q.createContext({outlet:null,matches:[],isDataRoute:!1}),Lj=q.createContext(null);function OM(t,e){let{relative:n}=e===void 0?{}:e;Oh()||hn(!1);let{basename:s,navigator:r}=q.useContext(al),{hash:a,pathname:l,search:o}=cf(t,{relative:n}),c=l;return s!=="/"&&(c=l==="/"?s:Oa([s,l])),r.createHref({pathname:c,search:o,hash:a})}function Oh(){return q.useContext(of)!=null}function Lh(){return Oh()||hn(!1),q.useContext(of).location}function Fj(t){q.useContext(al).static||q.useLayoutEffect(t)}function LM(){let{isDataRoute:t}=q.useContext(io);return t?ez():FM()}function FM(){Oh()||hn(!1);let t=q.useContext(lf),{basename:e,future:n,navigator:s}=q.useContext(al),{matches:r}=q.useContext(io),{pathname:a}=Lh(),l=JSON.stringify(qj(r,n.v7_relativeSplatPath)),o=q.useRef(!1);return Fj(()=>{o.current=!0}),q.useCallback(function(h,u){if(u===void 0&&(u={}),!o.current)return;if(typeof h=="number"){s.go(h);return}let m=$j(h,JSON.parse(l),a,u.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oa([e,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[e,s,l,a,t])}function cf(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=q.useContext(al),{matches:r}=q.useContext(io),{pathname:a}=Lh(),l=JSON.stringify(qj(r,s.v7_relativeSplatPath));return q.useMemo(()=>$j(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function UM(t,e){return HM(t,e)}function HM(t,e,n,s){Oh()||hn(!1);let{navigator:r}=q.useContext(al),{matches:a}=q.useContext(io),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=Lh(),u;if(e){var m;let T=typeof e=="string"?no(e):e;c==="/"||(m=T.pathname)!=null&&m.startsWith(c)||hn(!1),u=T}else u=h;let p=u.pathname||"/",b=p;if(c!=="/"){let T=c.replace(/^\//,"").split("/");b="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=gM(t,{pathname:b}),y=XM(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},o,T.params),pathname:Oa([c,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Oa([c,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,n,s);return e&&y?q.createElement(of.Provider,{value:{location:mh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ka.Pop}},y):y}function VM(){let t=JM(),e=$M(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:r},n):null,null)}const GM=q.createElement(VM,null);class WM extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(io.Provider,{value:this.props.routeContext},q.createElement(Lj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YM(t){let{routeContext:e,match:n,children:s}=t,r=q.useContext(lf);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(io.Provider,{value:e},s)}function XM(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||hn(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,h=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=u),m.route.id){let{loaderData:p,errors:b}=n,E=m.route.loader&&p[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||E){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((u,m,p)=>{let b,E=!1,y=null,T=null;n&&(b=o&&m.route.id?o[m.route.id]:void 0,y=m.route.errorElement||GM,c&&(h<0&&p===0?(tz("route-fallback"),E=!0,T=null):h===p&&(E=!0,T=m.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,p+1)),N=()=>{let v;return b?v=y:E?v=T:m.route.Component?v=q.createElement(m.route.Component,null):m.route.element?v=m.route.element:v=u,q.createElement(YM,{match:m,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:v})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?q.createElement(WM,{location:n.location,revalidation:n.revalidation,component:y,error:b,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var Uj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Uj||{}),Hj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hj||{});function ZM(t){let e=q.useContext(lf);return e||hn(!1),e}function QM(t){let e=q.useContext(Oj);return e||hn(!1),e}function KM(t){let e=q.useContext(io);return e||hn(!1),e}function Vj(t){let e=KM(),n=e.matches[e.matches.length-1];return n.route.id||hn(!1),n.route.id}function JM(){var t;let e=q.useContext(Lj),n=QM(),s=Vj();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function ez(){let{router:t}=ZM(Uj.UseNavigateStable),e=Vj(Hj.UseNavigateStable),n=q.useRef(!1);return Fj(()=>{n.current=!0}),q.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,mh({fromRouteId:e},a)))},[t,e])}const U3={};function tz(t,e,n){U3[t]||(U3[t]=!0)}function nz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fa(t){hn(!1)}function iz(t){let{basename:e="/",children:n=null,location:s,navigationType:r=ka.Pop,navigator:a,static:l=!1,future:o}=t;Oh()&&hn(!1);let c=e.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:c,navigator:a,static:l,future:mh({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof s=="string"&&(s=no(s));let{pathname:u="/",search:m="",hash:p="",state:b=null,key:E="default"}=s,y=q.useMemo(()=>{let T=xc(u,c);return T==null?null:{location:{pathname:T,search:m,hash:p,state:b,key:E},navigationType:r}},[c,u,m,p,b,E,r]);return y==null?null:q.createElement(al.Provider,{value:h},q.createElement(of.Provider,{children:n,value:y}))}function sz(t){let{children:e,location:n}=t;return UM(Ux(e),n)}new Promise(()=>{});function Ux(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(s,r)=>{if(!q.isValidElement(s))return;let a=[...e,r];if(s.type===q.Fragment){n.push.apply(n,Ux(s.props.children,a));return}s.type!==fa&&hn(!1),!s.props.index||!s.props.children||hn(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Ux(s.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cm.apply(this,arguments)}function Gj(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,a;for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function rz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function az(t,e){return t.button===0&&(!e||e==="_self")&&!rz(t)}const lz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],cz="6";try{window.__reactRouterVersion=cz}catch{}const hz=q.createContext({isTransitioning:!1}),uz="startTransition",H3=Ik[uz];function dz(t){let{basename:e,children:n,future:s,window:r}=t,a=q.useRef();a.current==null&&(a.current=fM({window:r,v5Compat:!0}));let l=a.current,[o,c]=q.useState({action:l.action,location:l.location}),{v7_startTransition:h}=s||{},u=q.useCallback(m=>{h&&H3?H3(()=>c(m)):c(m)},[c,h]);return q.useLayoutEffect(()=>l.listen(u),[l,u]),q.useEffect(()=>nz(s),[s]),q.createElement(iz,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:s})}const mz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ii=q.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:a,replace:l,state:o,target:c,to:h,preventScrollReset:u,viewTransition:m}=e,p=Gj(e,lz),{basename:b}=q.useContext(al),E,y=!1;if(typeof h=="string"&&fz.test(h)&&(E=h,mz))try{let v=new URL(window.location.href),f=h.startsWith("//")?new URL(v.protocol+h):new URL(h),x=xc(f.pathname,b);f.origin===v.origin&&x!=null?h=x+f.search+f.hash:y=!0}catch{}let T=OM(h,{relative:r}),S=xz(h,{replace:l,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:m});function N(v){s&&s(v),v.defaultPrevented||S(v)}return q.createElement("a",cm({},p,{href:E||T,onClick:y||a?s:N,ref:n,target:c}))}),Mp=q.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:r=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:h,children:u}=e,m=Gj(e,oz),p=cf(c,{relative:m.relative}),b=Lh(),E=q.useContext(Oj),{navigator:y,basename:T}=q.useContext(al),S=E!=null&&gz(p)&&h===!0,N=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,v=b.pathname,f=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(v=v.toLowerCase(),f=f?f.toLowerCase():null,N=N.toLowerCase()),f&&T&&(f=xc(f,T)||f);const x=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let C=v===N||!l&&v.startsWith(N)&&v.charAt(x)==="/",j=f!=null&&(f===N||!l&&f.startsWith(N)&&f.charAt(N.length)==="/"),g={isActive:C,isPending:j,isTransitioning:S},A=C?s:void 0,w;typeof a=="function"?w=a(g):w=[a,C?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(g):o;return q.createElement(ii,cm({},m,{"aria-current":A,className:w,ref:n,style:k,to:c,viewTransition:h}),typeof u=="function"?u(g):u)});var Hx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hx||(Hx={}));var V3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V3||(V3={}));function pz(t){let e=q.useContext(lf);return e||hn(!1),e}function xz(t,e){let{target:n,replace:s,state:r,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,c=LM(),h=Lh(),u=cf(t,{relative:l});return q.useCallback(m=>{if(az(m,n)){m.preventDefault();let p=s!==void 0?s:om(h)===om(u);c(t,{replace:p,state:r,preventScrollReset:a,relative:l,viewTransition:o})}},[h,c,u,s,r,n,t,a,l,o])}function gz(t,e){e===void 0&&(e={});let n=q.useContext(hz);n==null&&hn(!1);let{basename:s}=pz(Hx.useViewTransitionState),r=cf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=xc(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=xc(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fx(r.pathname,l)!=null||Fx(r.pathname,a)!=null}const hm="four_pillars",K4="Advanced Geometry",yz="An interactive course in advanced geometry",Wj="",bz="https://mathacademy-cyan.vercel.app";var G3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},vz=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],l=t[n++],o=t[n++],c=((r&7)<<18|(a&63)<<12|(l&63)<<6|o&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],l=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Xj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],l=r+1<t.length,o=l?t[r+1]:0,c=r+2<t.length,h=c?t[r+2]:0,u=a>>2,m=(a&3)<<4|o>>4;let p=(o&15)<<2|h>>6,b=h&63;c||(b=64,l||(p=64)),s.push(n[u],n[m],n[p],n[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||o==null||h==null||m==null)throw new jz;const p=a<<2|o>>4;if(s.push(p),h!==64){const b=o<<4&240|h>>2;if(s.push(b),m!==64){const E=h<<6&192|m;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wz=function(t){const e=Yj(t);return Xj.encodeByteArray(e,!0)},Zj=function(t){return wz(t).replace(/\./g,"")},Qj=function(t){try{return Xj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=()=>Tz().__FIREBASE_DEFAULTS__,Nz=()=>{if(typeof process>"u"||typeof G3>"u")return;const t=G3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Az=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qj(t[1]);return e&&JSON.parse(e)},J4=()=>{try{return Sz()||Nz()||Az()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kz=t=>{var e,n;return(n=(e=J4())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ez=t=>{const e=kz(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Kj=()=>{var t;return(t=J4())===null||t===void 0?void 0:t.config},Cz=t=>{var e;return(e=J4())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ks())}function Dz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Iz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rz(){try{return typeof indexedDB=="object"}catch{return!1}}function _z(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="FirebaseError";class Qr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qz,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?$z(a,s):"Error",o=`${this.serviceName}: ${l} (${r}).`;return new Qr(r,o,s)}}function $z(t,e){return t.replace(Bz,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Bz=/\{\$([^}]+)}/g;function Vx(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const a=t[r],l=e[r];if(W3(a)&&W3(l)){if(!Vx(a,l))return!1}else if(a!==l)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function W3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Oz(t,e){const n=new Lz(t,e);return n.subscribe.bind(n)}class Lz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Fz(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=zp),r.error===void 0&&(r.error=zp),r.complete===void 0&&(r.complete=zp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){return t&&t._delegate?t._delegate:t}class Wa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Mz;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vz(e))try{this.getOrInitializeService({instanceIdentifier:Ml})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});s.resolve(a)}catch{}}}}clearInstance(e=Ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ml){return this.instances.has(e)}getOptions(e=Ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);s===o&&l.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Hz(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ml){return this.component?this.component.multipleInstances?e:Ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hz(t){return t===Ml?void 0:t}function Vz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const Wz={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},Yz=wt.INFO,Xz={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},Zz=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Xz[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e2{constructor(e){this.name=e,this._logLevel=Yz,this._logHandler=Zz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const Qz=(t,e)=>e.some(n=>t instanceof n);let Y3,X3;function Kz(){return Y3||(Y3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jz(){return X3||(X3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,Gx=new WeakMap,tw=new WeakMap,Dp=new WeakMap,t2=new WeakMap;function eD(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(La(t.result)),r()},l=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&ew.set(n,t)}).catch(()=>{}),t2.set(e,t),e}function tD(t){if(Gx.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),r()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Gx.set(t,e)}let Wx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return La(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nD(t){Wx=t(Wx)}function iD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Pp(this),e,...n);return tw.set(s,e.sort?e.sort():[e]),La(s)}:Jz().includes(t)?function(...e){return t.apply(Pp(this),e),La(ew.get(this))}:function(...e){return La(t.apply(Pp(this),e))}}function sD(t){return typeof t=="function"?iD(t):(t instanceof IDBTransaction&&tD(t),Qz(t,Kz())?new Proxy(t,Wx):t)}function La(t){if(t instanceof IDBRequest)return eD(t);if(Dp.has(t))return Dp.get(t);const e=sD(t);return e!==t&&(Dp.set(t,e),t2.set(e,t)),e}const Pp=t=>t2.get(t);function rD(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const l=indexedDB.open(t,e),o=La(l);return s&&l.addEventListener("upgradeneeded",c=>{s(La(l.result),c.oldVersion,c.newVersion,La(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const aD=["get","getKey","getAll","getAllKeys","count"],lD=["put","add","delete","clear"],Ip=new Map;function Z3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ip.get(e))return Ip.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=lD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||aD.includes(n)))return;const a=async function(l,...o){const c=this.transaction(l,r?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),r&&c.done]))[0]};return Ip.set(e,a),a}nD(t=>({...t,get:(e,n,s)=>Z3(e,n)||t.get(e,n,s),has:(e,n)=>!!Z3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yx="@firebase/app",Q3="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new e2("@firebase/app"),hD="@firebase/app-compat",uD="@firebase/analytics-compat",dD="@firebase/analytics",mD="@firebase/app-check-compat",fD="@firebase/app-check",pD="@firebase/auth",xD="@firebase/auth-compat",gD="@firebase/database",yD="@firebase/data-connect",bD="@firebase/database-compat",vD="@firebase/functions",jD="@firebase/functions-compat",wD="@firebase/installations",TD="@firebase/installations-compat",SD="@firebase/messaging",ND="@firebase/messaging-compat",AD="@firebase/performance",kD="@firebase/performance-compat",ED="@firebase/remote-config",CD="@firebase/remote-config-compat",MD="@firebase/storage",zD="@firebase/storage-compat",DD="@firebase/firestore",PD="@firebase/vertexai-preview",ID="@firebase/firestore-compat",RD="firebase",_D="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="[DEFAULT]",qD={[Yx]:"fire-core",[hD]:"fire-core-compat",[dD]:"fire-analytics",[uD]:"fire-analytics-compat",[fD]:"fire-app-check",[mD]:"fire-app-check-compat",[pD]:"fire-auth",[xD]:"fire-auth-compat",[gD]:"fire-rtdb",[yD]:"fire-data-connect",[bD]:"fire-rtdb-compat",[vD]:"fire-fn",[jD]:"fire-fn-compat",[wD]:"fire-iid",[TD]:"fire-iid-compat",[SD]:"fire-fcm",[ND]:"fire-fcm-compat",[AD]:"fire-perf",[kD]:"fire-perf-compat",[ED]:"fire-rc",[CD]:"fire-rc-compat",[MD]:"fire-gcs",[zD]:"fire-gcs-compat",[DD]:"fire-fst",[ID]:"fire-fst-compat",[PD]:"fire-vertex","fire-js":"fire-js",[RD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,$D=new Map,Zx=new Map;function K3(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zl(t){const e=t.name;if(Zx.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Zx.set(e,t);for(const n of fh.values())K3(n,t);for(const n of $D.values())K3(n,t);return!0}function BD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function w0(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new Fh("app","Firebase",OD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=_D;function nw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xx,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Fa.create("bad-app-name",{appName:String(r)});if(n||(n=Kj()),!n)throw Fa.create("no-options");const a=fh.get(r);if(a){if(Vx(n,a.options)&&Vx(s,a.config))return a;throw Fa.create("duplicate-app",{appName:r})}const l=new Gz(r);for(const c of Zx.values())l.addComponent(c);const o=new LD(n,s,l);return fh.set(r,o),o}function FD(t=Xx){const e=fh.get(t);if(!e&&t===Xx&&Kj())return nw();if(!e)throw Fa.create("no-app",{appName:t});return e}function UD(){return Array.from(fh.values())}function Xs(t,e,n){var s;let r=(s=qD[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const o=[`Unable to register library "${r}" with version "${e}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&o.push("and"),l&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(o.join(" "));return}Zl(new Wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebase-heartbeat-database",VD=1,ph="firebase-heartbeat-store";let Rp=null;function iw(){return Rp||(Rp=rD(HD,VD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ph)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function GD(t){try{const n=(await iw()).transaction(ph),s=await n.objectStore(ph).get(sw(t));return await n.done,s}catch(e){if(e instanceof Qr)Lr.warn(e.message);else{const n=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(n.message)}}}async function J3(t,e){try{const s=(await iw()).transaction(ph,"readwrite");await s.objectStore(ph).put(e,sw(t)),await s.done}catch(n){if(n instanceof Qr)Lr.warn(n.message);else{const s=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(s.message)}}}function sw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1024,YD=30*24*60*60*1e3;class XD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=e5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const o=new Date(l.date).valueOf();return Date.now()-o<=YD}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e5(),{heartbeatsToSend:s,unsentEntries:r}=ZD(this._heartbeatsCache.heartbeats),a=Zj(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Lr.warn(n),""}}}function e5(){return new Date().toISOString().substring(0,10)}function ZD(t,e=WD){const n=[];let s=t.slice();for(const r of t){const a=n.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),t5(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),t5(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rz()?_z().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return J3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return J3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function t5(t){return Zj(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){Zl(new Wa("platform-logger",e=>new oD(e),"PRIVATE")),Zl(new Wa("heartbeat",e=>new XD(e),"PRIVATE")),Xs(Yx,Q3,t),Xs(Yx,Q3,"esm2017"),Xs("fire-js","")}KD("");var JD="firebase",eP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(JD,eP,"app");function rw(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tP=aw,lw=new Fh("auth","Firebase",aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new e2("@firebase/auth");function nP(t,...e){um.logLevel<=wt.WARN&&um.warn(`Auth (${hf}): ${t}`,...e)}function wd(t,...e){um.logLevel<=wt.ERROR&&um.error(`Auth (${hf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t,...e){throw n2(t,...e)}function ow(t,...e){return n2(t,...e)}function cw(t,e,n){const s=Object.assign(Object.assign({},tP()),{[e]:n});return new Fh("auth","Firebase",s).create(e,{appName:t.name})}function Td(t){return cw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n2(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return lw.create(t,...e)}function yt(t,e,...n){if(!t)throw n2(e,...n)}function L0(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function dm(t,e){t||L0(e)}function iP(){return i5()==="http:"||i5()==="https:"}function i5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iP()||Pz()||"connection"in navigator)?navigator.onLine:!0}function rP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,dm(n>e,"Short delay should be less than long delay!"),this.isMobile=zz()||Iz()}get(){return sP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){dm(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;L0("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;L0("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;L0("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Uh(3e4,6e4);function uw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uf(t,e,n,s,r={}){return dw(t,r,async()=>{let a={},l={};s&&(e==="GET"?l=s:a={body:JSON.stringify(s)});const o=Jj(Object.assign({key:t.config.apiKey},l)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},a);return Dz()||(h.referrerPolicy="no-referrer"),hw.fetch()(mw(t,t.config.apiHost,n,o),h)})}async function dw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},lP),e);try{const r=new cP(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Mu(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const o=a.ok?l.errorMessage:l.error.message,[c,h]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",l);if(c==="USER_DISABLED")throw Mu(t,"user-disabled",l);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw cw(t,u,h);n5(t,u)}}catch(r){if(r instanceof Qr)throw r;n5(t,"network-request-failed",{message:String(r)})}}function mw(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?aP(t.config,r):`${t.config.apiScheme}://${r}`}class cP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ow(this.auth,"network-request-failed")),oP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=ow(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e){return uf(t,"POST","/v1/accounts:delete",e)}async function fw(t,e){return uf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uP(t,e=!1){const n=so(t),s=await n.getIdToken(e),r=pw(s);yt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:F0(_p(r.auth_time)),issuedAtTime:F0(_p(r.iat)),expirationTime:F0(_p(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _p(t){return Number(t)*1e3}function pw(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const r=Qj(n);return r?JSON.parse(r):(wd("Failed to decode base64 JWT payload"),null)}catch(r){return wd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function s5(t){const e=pw(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qr&&dP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function dP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=F0(this.lastLoginAt),this.creationTime=F0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Qx(t,fw(n,{idToken:s}));yt(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?xw(a.providerUserInfo):[],o=pP(t.providerData,l),c=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),u=c?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Kx(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,m)}async function fP(t){const e=so(t);await mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pP(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function xw(t){return t.map(e=>{var{providerId:n}=e,s=rw(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e){const n=await dw(t,{},async()=>{const s=Jj({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,l=mw(t,r,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",hw.fetch()(l,{method:"POST",headers:o,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gP(t,e){return uf(t,"POST","/v2/accounts:revokeToken",uw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=s5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await xP(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,l=new Ko;return s&&(yt(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),r&&(yt(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(yt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return L0("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ea{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,a=rw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Qx(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uP(this,e)}reload(){return fP(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ea(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(w0(this.auth.app))return Promise.reject(Td(this.auth));const e=await this.getIdToken();return await Qx(this,hP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,a,l,o,c,h,u;const m=(s=n.displayName)!==null&&s!==void 0?s:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,y=(o=n.tenantId)!==null&&o!==void 0?o:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,N=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:f,isAnonymous:x,providerData:C,stsTokenManager:j}=n;yt(v&&j,e,"internal-error");const g=Ko.fromJSON(this.name,j);yt(typeof v=="string",e,"internal-error"),ca(m,e.name),ca(p,e.name),yt(typeof f=="boolean",e,"internal-error"),yt(typeof x=="boolean",e,"internal-error"),ca(b,e.name),ca(E,e.name),ca(y,e.name),ca(T,e.name),ca(S,e.name),ca(N,e.name);const A=new Ea({uid:v,auth:e,email:p,emailVerified:f,displayName:m,isAnonymous:x,photoURL:E,phoneNumber:b,tenantId:y,stsTokenManager:g,createdAt:S,lastLoginAt:N});return C&&Array.isArray(C)&&(A.providerData=C.map(w=>Object.assign({},w))),T&&(A._redirectEventId=T),A}static async _fromIdTokenResponse(e,n,s=!1){const r=new Ko;r.updateFromServerResponse(n);const a=new Ea({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await mm(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];yt(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?xw(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),o=new Ko;o.updateFromIdToken(s);const c=new Ea({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:l}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Kx(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new Map;function Il(t){dm(t instanceof Function,"Expected a class definition");let e=r5.get(t);return e?(dm(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,r5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gw.type="NONE";const a5=gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=qp(this.userKey,r.apiKey,a),this.fullPersistenceKey=qp("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ea._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Jo(Il(a5),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=r[0]||Il(a5);const l=qp(s,e.config.apiKey,e.name);let o=null;for(const h of n)try{const u=await h._get(l);if(u){const m=Ea._fromJSON(e,u);h!==a&&(o=m),a=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Jo(a,e,s):(a=c[0],o&&await a._set(l,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new Jo(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TP(e))return"Blackberry";if(SP(e))return"Webos";if(bP(e))return"Safari";if((e.includes("chrome/")||vP(e))&&!e.includes("edge/"))return"Chrome";if(wP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function yP(t=Ks()){return/firefox\//i.test(t)}function bP(t=Ks()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vP(t=Ks()){return/crios\//i.test(t)}function jP(t=Ks()){return/iemobile/i.test(t)}function wP(t=Ks()){return/android/i.test(t)}function TP(t=Ks()){return/blackberry/i.test(t)}function SP(t=Ks()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e=[]){let n;switch(t){case"Browser":n=l5(Ks());break;case"Worker":n=`${l5(Ks())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hf}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((l,o)=>{try{const c=e(a);l(c)}catch(c){o(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(t,e={}){return uf(t,"GET","/v2/passwordPolicy",uw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=6;class EP{constructor(e){var n,s,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:kP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,a,l,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o5(this),this.idTokenSubscription=new o5(this),this.beforeStateQueue=new NP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Il(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fw(this,{idToken:e}),s=await Ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(w0(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(o,o))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===o)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(w0(this.app))return Promise.reject(Td(this));const n=e?so(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return w0(this.app)?Promise.reject(Td(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return w0(this.app)?Promise.reject(Td(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Il(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AP(this),n=new EP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gP(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Il(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Il(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(o,this,"internal-error"),o.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{l=!0,c()}}else{const c=e.addObserver(n);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function MP(t){return so(t)}class o5{constructor(e){this.auth=e,this.observer=null,this.addObserver=Oz(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zP(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Il);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new Uh(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uh(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uh(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uh(5e3,15e3);var c5="@firebase/auth",h5="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IP(t){Zl(new Wa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:o}=s.options;yt(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:l,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yw(t)},h=new CP(s,r,a,c);return zP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Zl(new Wa("auth-internal",e=>{const n=MP(e.getProvider("auth").getImmediate());return(s=>new DP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(c5,h5,PP(t)),Xs(c5,h5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=5*60;Cz("authIdTokenMaxAge");IP("Browser");var u5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,g){function A(){}A.prototype=g.prototype,j.D=g.prototype,j.prototype=new A,j.prototype.constructor=j,j.C=function(w,k,M){for(var I=Array(arguments.length-2),O=2;O<arguments.length;O++)I[O-2]=arguments[O];return g.prototype[k].apply(w,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(j,g,A){A||(A=0);var w=Array(16);if(typeof g=="string")for(var k=0;16>k;++k)w[k]=g.charCodeAt(A++)|g.charCodeAt(A++)<<8|g.charCodeAt(A++)<<16|g.charCodeAt(A++)<<24;else for(k=0;16>k;++k)w[k]=g[A++]|g[A++]<<8|g[A++]<<16|g[A++]<<24;g=j.g[0],A=j.g[1],k=j.g[2];var M=j.g[3],I=g+(M^A&(k^M))+w[0]+3614090360&4294967295;g=A+(I<<7&4294967295|I>>>25),I=M+(k^g&(A^k))+w[1]+3905402710&4294967295,M=g+(I<<12&4294967295|I>>>20),I=k+(A^M&(g^A))+w[2]+606105819&4294967295,k=M+(I<<17&4294967295|I>>>15),I=A+(g^k&(M^g))+w[3]+3250441966&4294967295,A=k+(I<<22&4294967295|I>>>10),I=g+(M^A&(k^M))+w[4]+4118548399&4294967295,g=A+(I<<7&4294967295|I>>>25),I=M+(k^g&(A^k))+w[5]+1200080426&4294967295,M=g+(I<<12&4294967295|I>>>20),I=k+(A^M&(g^A))+w[6]+2821735955&4294967295,k=M+(I<<17&4294967295|I>>>15),I=A+(g^k&(M^g))+w[7]+4249261313&4294967295,A=k+(I<<22&4294967295|I>>>10),I=g+(M^A&(k^M))+w[8]+1770035416&4294967295,g=A+(I<<7&4294967295|I>>>25),I=M+(k^g&(A^k))+w[9]+2336552879&4294967295,M=g+(I<<12&4294967295|I>>>20),I=k+(A^M&(g^A))+w[10]+4294925233&4294967295,k=M+(I<<17&4294967295|I>>>15),I=A+(g^k&(M^g))+w[11]+2304563134&4294967295,A=k+(I<<22&4294967295|I>>>10),I=g+(M^A&(k^M))+w[12]+1804603682&4294967295,g=A+(I<<7&4294967295|I>>>25),I=M+(k^g&(A^k))+w[13]+4254626195&4294967295,M=g+(I<<12&4294967295|I>>>20),I=k+(A^M&(g^A))+w[14]+2792965006&4294967295,k=M+(I<<17&4294967295|I>>>15),I=A+(g^k&(M^g))+w[15]+1236535329&4294967295,A=k+(I<<22&4294967295|I>>>10),I=g+(k^M&(A^k))+w[1]+4129170786&4294967295,g=A+(I<<5&4294967295|I>>>27),I=M+(A^k&(g^A))+w[6]+3225465664&4294967295,M=g+(I<<9&4294967295|I>>>23),I=k+(g^A&(M^g))+w[11]+643717713&4294967295,k=M+(I<<14&4294967295|I>>>18),I=A+(M^g&(k^M))+w[0]+3921069994&4294967295,A=k+(I<<20&4294967295|I>>>12),I=g+(k^M&(A^k))+w[5]+3593408605&4294967295,g=A+(I<<5&4294967295|I>>>27),I=M+(A^k&(g^A))+w[10]+38016083&4294967295,M=g+(I<<9&4294967295|I>>>23),I=k+(g^A&(M^g))+w[15]+3634488961&4294967295,k=M+(I<<14&4294967295|I>>>18),I=A+(M^g&(k^M))+w[4]+3889429448&4294967295,A=k+(I<<20&4294967295|I>>>12),I=g+(k^M&(A^k))+w[9]+568446438&4294967295,g=A+(I<<5&4294967295|I>>>27),I=M+(A^k&(g^A))+w[14]+3275163606&4294967295,M=g+(I<<9&4294967295|I>>>23),I=k+(g^A&(M^g))+w[3]+4107603335&4294967295,k=M+(I<<14&4294967295|I>>>18),I=A+(M^g&(k^M))+w[8]+1163531501&4294967295,A=k+(I<<20&4294967295|I>>>12),I=g+(k^M&(A^k))+w[13]+2850285829&4294967295,g=A+(I<<5&4294967295|I>>>27),I=M+(A^k&(g^A))+w[2]+4243563512&4294967295,M=g+(I<<9&4294967295|I>>>23),I=k+(g^A&(M^g))+w[7]+1735328473&4294967295,k=M+(I<<14&4294967295|I>>>18),I=A+(M^g&(k^M))+w[12]+2368359562&4294967295,A=k+(I<<20&4294967295|I>>>12),I=g+(A^k^M)+w[5]+4294588738&4294967295,g=A+(I<<4&4294967295|I>>>28),I=M+(g^A^k)+w[8]+2272392833&4294967295,M=g+(I<<11&4294967295|I>>>21),I=k+(M^g^A)+w[11]+1839030562&4294967295,k=M+(I<<16&4294967295|I>>>16),I=A+(k^M^g)+w[14]+4259657740&4294967295,A=k+(I<<23&4294967295|I>>>9),I=g+(A^k^M)+w[1]+2763975236&4294967295,g=A+(I<<4&4294967295|I>>>28),I=M+(g^A^k)+w[4]+1272893353&4294967295,M=g+(I<<11&4294967295|I>>>21),I=k+(M^g^A)+w[7]+4139469664&4294967295,k=M+(I<<16&4294967295|I>>>16),I=A+(k^M^g)+w[10]+3200236656&4294967295,A=k+(I<<23&4294967295|I>>>9),I=g+(A^k^M)+w[13]+681279174&4294967295,g=A+(I<<4&4294967295|I>>>28),I=M+(g^A^k)+w[0]+3936430074&4294967295,M=g+(I<<11&4294967295|I>>>21),I=k+(M^g^A)+w[3]+3572445317&4294967295,k=M+(I<<16&4294967295|I>>>16),I=A+(k^M^g)+w[6]+76029189&4294967295,A=k+(I<<23&4294967295|I>>>9),I=g+(A^k^M)+w[9]+3654602809&4294967295,g=A+(I<<4&4294967295|I>>>28),I=M+(g^A^k)+w[12]+3873151461&4294967295,M=g+(I<<11&4294967295|I>>>21),I=k+(M^g^A)+w[15]+530742520&4294967295,k=M+(I<<16&4294967295|I>>>16),I=A+(k^M^g)+w[2]+3299628645&4294967295,A=k+(I<<23&4294967295|I>>>9),I=g+(k^(A|~M))+w[0]+4096336452&4294967295,g=A+(I<<6&4294967295|I>>>26),I=M+(A^(g|~k))+w[7]+1126891415&4294967295,M=g+(I<<10&4294967295|I>>>22),I=k+(g^(M|~A))+w[14]+2878612391&4294967295,k=M+(I<<15&4294967295|I>>>17),I=A+(M^(k|~g))+w[5]+4237533241&4294967295,A=k+(I<<21&4294967295|I>>>11),I=g+(k^(A|~M))+w[12]+1700485571&4294967295,g=A+(I<<6&4294967295|I>>>26),I=M+(A^(g|~k))+w[3]+2399980690&4294967295,M=g+(I<<10&4294967295|I>>>22),I=k+(g^(M|~A))+w[10]+4293915773&4294967295,k=M+(I<<15&4294967295|I>>>17),I=A+(M^(k|~g))+w[1]+2240044497&4294967295,A=k+(I<<21&4294967295|I>>>11),I=g+(k^(A|~M))+w[8]+1873313359&4294967295,g=A+(I<<6&4294967295|I>>>26),I=M+(A^(g|~k))+w[15]+4264355552&4294967295,M=g+(I<<10&4294967295|I>>>22),I=k+(g^(M|~A))+w[6]+2734768916&4294967295,k=M+(I<<15&4294967295|I>>>17),I=A+(M^(k|~g))+w[13]+1309151649&4294967295,A=k+(I<<21&4294967295|I>>>11),I=g+(k^(A|~M))+w[4]+4149444226&4294967295,g=A+(I<<6&4294967295|I>>>26),I=M+(A^(g|~k))+w[11]+3174756917&4294967295,M=g+(I<<10&4294967295|I>>>22),I=k+(g^(M|~A))+w[2]+718787259&4294967295,k=M+(I<<15&4294967295|I>>>17),I=A+(M^(k|~g))+w[9]+3951481745&4294967295,j.g[0]=j.g[0]+g&4294967295,j.g[1]=j.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+M&4294967295}s.prototype.u=function(j,g){g===void 0&&(g=j.length);for(var A=g-this.blockSize,w=this.B,k=this.h,M=0;M<g;){if(k==0)for(;M<=A;)r(this,j,M),M+=this.blockSize;if(typeof j=="string"){for(;M<g;)if(w[k++]=j.charCodeAt(M++),k==this.blockSize){r(this,w),k=0;break}}else for(;M<g;)if(w[k++]=j[M++],k==this.blockSize){r(this,w),k=0;break}}this.h=k,this.o+=g},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var g=1;g<j.length-8;++g)j[g]=0;var A=8*this.o;for(g=j.length-8;g<j.length;++g)j[g]=A&255,A/=256;for(this.u(j),j=Array(16),g=A=0;4>g;++g)for(var w=0;32>w;w+=8)j[A++]=this.g[g]>>>w&255;return j};function a(j,g){var A=o;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=g(j)}function l(j,g){this.h=g;for(var A=[],w=!0,k=j.length-1;0<=k;k--){var M=j[k]|0;w&&M==g||(A[k]=M,w=!1)}this.g=A}var o={};function c(j){return-128<=j&&128>j?a(j,function(g){return new l([g|0],0>g?-1:0)}):new l([j|0],0>j?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return m;if(0>j)return T(h(-j));for(var g=[],A=1,w=0;j>=A;w++)g[w]=j/A|0,A*=4294967296;return new l(g,0)}function u(j,g){if(j.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(j.charAt(0)=="-")return T(u(j.substring(1),g));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(g,8)),w=m,k=0;k<j.length;k+=8){var M=Math.min(8,j.length-k),I=parseInt(j.substring(k,k+M),g);8>M?(M=h(Math.pow(g,M)),w=w.j(M).add(h(I))):(w=w.j(A),w=w.add(h(I)))}return w}var m=c(0),p=c(1),b=c(16777216);t=l.prototype,t.m=function(){if(y(this))return-T(this).m();for(var j=0,g=1,A=0;A<this.g.length;A++){var w=this.i(A);j+=(0<=w?w:4294967296+w)*g,g*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(E(this))return"0";if(y(this))return"-"+T(this).toString(j);for(var g=h(Math.pow(j,6)),A=this,w="";;){var k=f(A,g).g;A=S(A,k.j(g));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(j);if(A=k,E(A))return M+w;for(;6>M.length;)M="0"+M;w=M+w}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function E(j){if(j.h!=0)return!1;for(var g=0;g<j.g.length;g++)if(j.g[g]!=0)return!1;return!0}function y(j){return j.h==-1}t.l=function(j){return j=S(this,j),y(j)?-1:E(j)?0:1};function T(j){for(var g=j.g.length,A=[],w=0;w<g;w++)A[w]=~j.g[w];return new l(A,~j.h).add(p)}t.abs=function(){return y(this)?T(this):this},t.add=function(j){for(var g=Math.max(this.g.length,j.g.length),A=[],w=0,k=0;k<=g;k++){var M=w+(this.i(k)&65535)+(j.i(k)&65535),I=(M>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);w=I>>>16,M&=65535,I&=65535,A[k]=I<<16|M}return new l(A,A[A.length-1]&-2147483648?-1:0)};function S(j,g){return j.add(T(g))}t.j=function(j){if(E(this)||E(j))return m;if(y(this))return y(j)?T(this).j(T(j)):T(T(this).j(j));if(y(j))return T(this.j(T(j)));if(0>this.l(b)&&0>j.l(b))return h(this.m()*j.m());for(var g=this.g.length+j.g.length,A=[],w=0;w<2*g;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var k=0;k<j.g.length;k++){var M=this.i(w)>>>16,I=this.i(w)&65535,O=j.i(k)>>>16,$=j.i(k)&65535;A[2*w+2*k]+=I*$,N(A,2*w+2*k),A[2*w+2*k+1]+=M*$,N(A,2*w+2*k+1),A[2*w+2*k+1]+=I*O,N(A,2*w+2*k+1),A[2*w+2*k+2]+=M*O,N(A,2*w+2*k+2)}for(w=0;w<g;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=g;w<2*g;w++)A[w]=0;return new l(A,0)};function N(j,g){for(;(j[g]&65535)!=j[g];)j[g+1]+=j[g]>>>16,j[g]&=65535,g++}function v(j,g){this.g=j,this.h=g}function f(j,g){if(E(g))throw Error("division by zero");if(E(j))return new v(m,m);if(y(j))return g=f(T(j),g),new v(T(g.g),T(g.h));if(y(g))return g=f(j,T(g)),new v(T(g.g),g.h);if(30<j.g.length){if(y(j)||y(g))throw Error("slowDivide_ only works with positive integers.");for(var A=p,w=g;0>=w.l(j);)A=x(A),w=x(w);var k=C(A,1),M=C(w,1);for(w=C(w,2),A=C(A,2);!E(w);){var I=M.add(w);0>=I.l(j)&&(k=k.add(A),M=I),w=C(w,1),A=C(A,1)}return g=S(j,k.j(g)),new v(k,g)}for(k=m;0<=j.l(g);){for(A=Math.max(1,Math.floor(j.m()/g.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),M=h(A),I=M.j(g);y(I)||0<I.l(j);)A-=w,M=h(A),I=M.j(g);E(M)&&(M=p),k=k.add(M),j=S(j,I)}return new v(k,j)}t.A=function(j){return f(this,j).h},t.and=function(j){for(var g=Math.max(this.g.length,j.g.length),A=[],w=0;w<g;w++)A[w]=this.i(w)&j.i(w);return new l(A,this.h&j.h)},t.or=function(j){for(var g=Math.max(this.g.length,j.g.length),A=[],w=0;w<g;w++)A[w]=this.i(w)|j.i(w);return new l(A,this.h|j.h)},t.xor=function(j){for(var g=Math.max(this.g.length,j.g.length),A=[],w=0;w<g;w++)A[w]=this.i(w)^j.i(w);return new l(A,this.h^j.h)};function x(j){for(var g=j.g.length+1,A=[],w=0;w<g;w++)A[w]=j.i(w)<<1|j.i(w-1)>>>31;return new l(A,j.h)}function C(j,g){var A=g>>5;g%=32;for(var w=j.g.length-A,k=[],M=0;M<w;M++)k[M]=0<g?j.i(M+A)>>>g|j.i(M+A+1)<<32-g:j.i(M+A);return new l(k,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=u,bw=l}).apply(typeof u5<"u"?u5:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,P,B){return d==Array.prototype||d==Object.prototype||(d[P]=B.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var P=0;P<d.length;++P){var B=d[P];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var s=n(this);function r(d,P){if(P)e:{var B=s;d=d.split(".");for(var W=0;W<d.length-1;W++){var le=d[W];if(!(le in B))break e;B=B[le]}d=d[d.length-1],W=B[d],P=P(W),P!=W&&P!=null&&e(B,d,{configurable:!0,writable:!0,value:P})}}function a(d,P){d instanceof String&&(d+="");var B=0,W=!1,le={next:function(){if(!W&&B<d.length){var de=B++;return{value:P(de,d[de]),done:!1}}return W=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}r("Array.prototype.values",function(d){return d||function(){return a(this,function(P,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},o=this||self;function c(d){var P=typeof d;return P=P!="object"?P:d?Array.isArray(d)?"array":P:"null",P=="array"||P=="object"&&typeof d.length=="number"}function h(d){var P=typeof d;return P=="object"&&d!=null||P=="function"}function u(d,P,B){return d.call.apply(d.bind,arguments)}function m(d,P,B){if(!d)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,W),d.apply(P,le)}}return function(){return d.apply(P,arguments)}}function p(d,P,B){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:m,p.apply(null,arguments)}function b(d,P){var B=Array.prototype.slice.call(arguments,1);return function(){var W=B.slice();return W.push.apply(W,arguments),d.apply(this,W)}}function E(d,P){function B(){}B.prototype=P.prototype,d.aa=P.prototype,d.prototype=new B,d.prototype.constructor=d,d.Qb=function(W,le,de){for(var Ce=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Ce[Et-2]=arguments[Et];return P.prototype[le].apply(W,Ce)}}function y(d){const P=d.length;if(0<P){const B=Array(P);for(let W=0;W<P;W++)B[W]=d[W];return B}return[]}function T(d,P){for(let B=1;B<arguments.length;B++){const W=arguments[B];if(c(W)){const le=d.length||0,de=W.length||0;d.length=le+de;for(let Ce=0;Ce<de;Ce++)d[le+Ce]=W[Ce]}else d.push(W)}}class S{constructor(P,B){this.i=P,this.j=B,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function N(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=o.navigator;return d&&(d=d.userAgent)?d:""}function f(d){return f[" "](d),d}f[" "]=function(){};var x=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function C(d,P,B){for(const W in d)P.call(B,d[W],W,d)}function j(d,P){for(const B in d)P.call(void 0,d[B],B,d)}function g(d){const P={};for(const B in d)P[B]=d[B];return P}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(d,P){let B,W;for(let le=1;le<arguments.length;le++){W=arguments[le];for(B in W)d[B]=W[B];for(let de=0;de<A.length;de++)B=A[de],Object.prototype.hasOwnProperty.call(W,B)&&(d[B]=W[B])}}function k(d){var P=1;d=d.split(":");const B=[];for(;0<P&&d.length;)B.push(d.shift()),P--;return d.length&&B.push(d.join(":")),B}function M(d){o.setTimeout(()=>{throw d},0)}function I(){var d=ee;let P=null;return d.g&&(P=d.g,d.g=d.g.next,d.g||(d.h=null),P.next=null),P}class O{constructor(){this.h=this.g=null}add(P,B){const W=$.get();W.set(P,B),this.h?this.h.next=W:this.g=W,this.h=W}}var $=new S(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(P,B){this.h=P,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let V,J=!1,ee=new O,re=()=>{const d=o.Promise.resolve(void 0);V=()=>{d.then(se)}};var se=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(B){M(B)}var P=$;P.j(d),100>P.h&&(P.h++,d.next=P.g,P.g=d)}J=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(d,P){this.type=d,this.g=this.target=P,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,P=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const B=()=>{};o.addEventListener("test",B,P),o.removeEventListener("test",B,P)}catch{}return d}();function Te(d,P){if(ae.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var B=this.type=d.type,W=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=P,P=d.relatedTarget){if(x){e:{try{f(P.nodeName);var le=!0;break e}catch{}le=!1}le||(P=null)}}else B=="mouseover"?P=d.fromElement:B=="mouseout"&&(P=d.toElement);this.relatedTarget=P,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:tt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}E(Te,ae);var tt={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ue(d,P,B,W,le){this.listener=d,this.proxy=null,this.src=P,this.type=B,this.capture=!!W,this.ha=le,this.key=++Ae,this.da=this.fa=!1}function Oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function at(d){this.src=d,this.g={},this.h=0}at.prototype.add=function(d,P,B,W,le){var de=d.toString();d=this.g[de],d||(d=this.g[de]=[],this.h++);var Ce=et(d,P,W,le);return-1<Ce?(P=d[Ce],B||(P.fa=!1)):(P=new Ue(P,this.src,de,!!W,le),P.fa=B,d.push(P)),P};function He(d,P){var B=P.type;if(B in d.g){var W=d.g[B],le=Array.prototype.indexOf.call(W,P,void 0),de;(de=0<=le)&&Array.prototype.splice.call(W,le,1),de&&(Oe(P),d.g[B].length==0&&(delete d.g[B],d.h--))}}function et(d,P,B,W){for(var le=0;le<d.length;++le){var de=d[le];if(!de.da&&de.listener==P&&de.capture==!!B&&de.ha==W)return le}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Le={};function qt(d,P,B,W,le){if(Array.isArray(P)){for(var de=0;de<P.length;de++)qt(d,P[de],B,W,le);return null}return B=zi(B),d&&d[Me]?d.K(P,B,h(W)?!!W.capture:!1,le):Ht(d,P,B,!1,W,le)}function Ht(d,P,B,W,le,de){if(!P)throw Error("Invalid event type");var Ce=h(le)?!!le.capture:!!le,Et=or(d);if(Et||(d[_e]=Et=new at(d)),B=Et.add(P,B,W,Ce,de),B.proxy)return B;if(W=kt(),B.proxy=W,W.src=d,W.listener=B,d.addEventListener)Ne||(le=Ce),le===void 0&&(le=!1),d.addEventListener(P.toString(),W,le);else if(d.attachEvent)d.attachEvent(fi(P.toString()),W);else if(d.addListener&&d.removeListener)d.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return B}function kt(){function d(B){return P.call(d.src,d.listener,B)}const P=ea;return d}function dn(d,P,B,W,le){if(Array.isArray(P))for(var de=0;de<P.length;de++)dn(d,P[de],B,W,le);else W=h(W)?!!W.capture:!!W,B=zi(B),d&&d[Me]?(d=d.i,P=String(P).toString(),P in d.g&&(de=d.g[P],B=et(de,B,W,le),-1<B&&(Oe(de[B]),Array.prototype.splice.call(de,B,1),de.length==0&&(delete d.g[P],d.h--)))):d&&(d=or(d))&&(P=d.g[P.toString()],d=-1,P&&(d=et(P,B,W,le)),(B=-1<d?P[d]:null)&&mi(B))}function mi(d){if(typeof d!="number"&&d&&!d.da){var P=d.src;if(P&&P[Me])He(P.i,d);else{var B=d.type,W=d.proxy;P.removeEventListener?P.removeEventListener(B,W,d.capture):P.detachEvent?P.detachEvent(fi(B),W):P.addListener&&P.removeListener&&P.removeListener(W),(B=or(P))?(He(B,d),B.h==0&&(B.src=null,P[_e]=null)):Oe(d)}}}function fi(d){return d in Le?Le[d]:Le[d]="on"+d}function ea(d,P){if(d.da)d=!0;else{P=new Te(P,this);var B=d.listener,W=d.ha||d.src;d.fa&&mi(d),d=B.call(W,P)}return d}function or(d){return d=d[_e],d instanceof at?d:null}var Xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function zi(d){return typeof d=="function"?d:(d[Xi]||(d[Xi]=function(P){return d.handleEvent(P)}),d[Xi])}function $t(){he.call(this),this.i=new at(this),this.M=this,this.F=null}E($t,he),$t.prototype[Me]=!0,$t.prototype.removeEventListener=function(d,P,B,W){dn(this,d,P,B,W)};function St(d,P){var B,W=d.F;if(W)for(B=[];W;W=W.F)B.push(W);if(d=d.M,W=P.type||P,typeof P=="string")P=new ae(P,d);else if(P instanceof ae)P.target=P.target||d;else{var le=P;P=new ae(W,d),w(P,le)}if(le=!0,B)for(var de=B.length-1;0<=de;de--){var Ce=P.g=B[de];le=ta(Ce,W,!0,P)&&le}if(Ce=P.g=d,le=ta(Ce,W,!0,P)&&le,le=ta(Ce,W,!1,P)&&le,B)for(de=0;de<B.length;de++)Ce=P.g=B[de],le=ta(Ce,W,!1,P)&&le}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var d=this.i,P;for(P in d.g){for(var B=d.g[P],W=0;W<B.length;W++)Oe(B[W]);delete d.g[P],d.h--}}this.F=null},$t.prototype.K=function(d,P,B,W){return this.i.add(String(d),P,!1,B,W)},$t.prototype.L=function(d,P,B,W){return this.i.add(String(d),P,!0,B,W)};function ta(d,P,B,W){if(P=d.i.g[String(P)],!P)return!0;P=P.concat();for(var le=!0,de=0;de<P.length;++de){var Ce=P[de];if(Ce&&!Ce.da&&Ce.capture==B){var Et=Ce.listener,On=Ce.ha||Ce.src;Ce.fa&&He(d.i,Ce),le=Et.call(On,W)!==!1&&le}}return le&&!W.defaultPrevented}function Oc(d,P,B){if(typeof d=="function")B&&(d=p(d,B));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:o.setTimeout(d,P||0)}function Lc(d){d.g=Oc(()=>{d.g=null,d.i&&(d.i=!1,Lc(d))},d.l);const P=d.h;d.h=null,d.m.apply(null,P)}class Fc extends he{constructor(P,B){super(),this.m=P,this.l=B,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Lc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(d){he.call(this),this.h=d,this.g={}}E(na,he);var ul=[];function dl(d){C(d.g,function(P,B){this.g.hasOwnProperty(B)&&mi(P)},d),d.g={}}na.prototype.N=function(){na.aa.N.call(this),dl(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=o.JSON.stringify,ia=o.JSON.parse,Uc=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function ml(){}ml.prototype.h=null;function eu(d){return d.h||(d.h=d.i())}function ho(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hc(){ae.call(this,"d")}E(Hc,ae);function cr(){ae.call(this,"c")}E(cr,ae);var sa={},tu=null;function Zt(){return tu=tu||new $t}sa.La="serverreachability";function hr(d){ae.call(this,sa.La,d)}E(hr,ae);function fl(d){const P=Zt();St(P,new hr(P))}sa.STAT_EVENT="statevent";function Vc(d,P){ae.call(this,sa.STAT_EVENT,d),this.stat=P}E(Vc,ae);function kn(d){const P=Zt();St(P,new Vc(P,d))}sa.Ma="timingevent";function Gc(d,P){ae.call(this,sa.Ma,d),this.size=P}E(Gc,ae);function ra(d,P){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},P)}function pl(){this.g=!0}pl.prototype.xa=function(){this.g=!1};function Zi(d,P,B,W,le,de){d.info(function(){if(d.g)if(de)for(var Ce="",Et=de.split("&"),On=0;On<Et.length;On++){var pt=Et[On].split("=");if(1<pt.length){var Yn=pt[0];pt=pt[1];var Xn=Yn.split("_");Ce=2<=Xn.length&&Xn[1]=="type"?Ce+(Yn+"="+pt+"&"):Ce+(Yn+"=redacted&")}}else Ce=null;else Ce=de;return"XMLHTTP REQ ("+W+") [attempt "+le+"]: "+P+`
`+B+`
`+Ce})}function ur(d,P,B,W,le,de,Ce){d.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+le+"]: "+P+`
`+B+`
`+de+" "+Ce})}function dr(d,P,B,W){d.info(function(){return"XMLHTTP TEXT ("+P+"): "+Wc(d,B)+(W?" "+W:"")})}function nu(d,P){d.info(function(){return"TIMEOUT: "+P})}pl.prototype.info=function(){};function Wc(d,P){if(!d.g)return P;if(!P)return null;try{var B=JSON.parse(P);if(B){for(d=0;d<B.length;d++)if(Array.isArray(B[d])){var W=B[d];if(!(2>W.length)){var le=W[1];if(Array.isArray(le)&&!(1>le.length)){var de=le[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Ce=1;Ce<le.length;Ce++)le[Ce]=""}}}}return Di(B)}catch{return P}}var uo={NO_ERROR:0,TIMEOUT:8},vs={},mo;function xl(){}E(xl,ml),xl.prototype.g=function(){return new XMLHttpRequest},xl.prototype.i=function(){return{}},mo=new xl;function js(d,P,B,W){this.j=d,this.i=P,this.l=B,this.R=W||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yc}function Yc(){this.i=null,this.g="",this.h=!1}var iu={},Fe={};function te(d,P,B){d.L=1,d.v=au(mr(P)),d.m=B,d.P=!0,je(d,null)}function je(d,P){d.F=Date.now(),mn(d),d.A=mr(d.v);var B=d.A,W=d.R;Array.isArray(W)||(W=[String(W)]),Fy(B.i,"t",W),d.C=0,B=d.j.J,d.h=new Yc,d.g=ab(d.j,B?P:null,!d.m),0<d.O&&(d.M=new Fc(p(d.Y,d,d.g),d.O)),P=d.U,B=d.g,W=d.ca;var le="readystatechange";Array.isArray(le)||(le&&(ul[0]=le.toString()),le=ul);for(var de=0;de<le.length;de++){var Ce=qt(B,le[de],W||P.handleEvent,!1,P.h||P);if(!Ce)break;P.g[Ce.key]=Ce}P=d.H?g(d.H):{},d.m?(d.u||(d.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,P)):(d.u="GET",d.g.ea(d.A,d.u,null,P)),fl(),Zi(d.i,d.u,d.A,d.l,d.R,d.m)}js.prototype.ca=function(d){d=d.target;const P=this.M;P&&fr(d)==3?P.j():this.Y(d)},js.prototype.Y=function(d){try{if(d==this.g)e:{const Xn=fr(this.g);var P=this.g.Ba();const xo=this.g.Z();if(!(3>Xn)&&(Xn!=3||this.g&&(this.h.h||this.g.oa()||Xy(this.g)))){this.J||Xn!=4||P==7||(P==8||0>=xo?fl(3):fl(2)),_n(this);var B=this.g.Z();this.X=B;t:if(Be(this)){var W=Xy(this.g);d="";var le=W.length,de=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),Qn(this);var Ce="";break t}this.h.i=new o.TextDecoder}for(P=0;P<le;P++)this.h.h=!0,d+=this.h.i.decode(W[P],{stream:!(de&&P==le-1)});W.length=0,this.h.g+=d,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=B==200,ur(this.i,this.u,this.A,this.l,this.R,Xn,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,On=this.g;if((Et=On.g?On.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Et)){var pt=Et;break t}}pt=null}if(B=pt)dr(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gl(this,B);else{this.o=!1,this.s=3,kn(12),pi(this),Qn(this);break e}}if(this.P){B=!0;let ws;for(;!this.J&&this.C<Ce.length;)if(ws=Dt(this,Ce),ws==Fe){Xn==4&&(this.s=4,kn(14),B=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(ws==iu){this.s=4,kn(15),dr(this.i,this.l,Ce,"[Invalid Chunk]"),B=!1;break}else dr(this.i,this.l,ws,null),gl(this,ws);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xn!=4||Ce.length!=0||this.h.h||(this.s=1,kn(16),B=!1),this.o=this.o&&B,!B)dr(this.i,this.l,Ce,"[Invalid Chunked Response]"),pi(this),Qn(this);else if(0<Ce.length&&!this.W){this.W=!0;var Yn=this.j;Yn.g==this&&Yn.ba&&!Yn.M&&(Yn.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),Hf(Yn),Yn.M=!0,kn(11))}}else dr(this.i,this.l,Ce,null),gl(this,Ce);Xn==4&&pi(this),this.o&&!this.J&&(Xn==4?nb(this.j,this):(this.o=!1,mn(this)))}else ck(this.g),B==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,kn(12)):(this.s=0,kn(13)),pi(this),Qn(this)}}}catch{}finally{}};function Be(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Dt(d,P){var B=d.C,W=P.indexOf(`
`,B);return W==-1?Fe:(B=Number(P.substring(B,W)),isNaN(B)?iu:(W+=1,W+B>P.length?Fe:(P=P.slice(W,W+B),d.C=W+B,P)))}js.prototype.cancel=function(){this.J=!0,pi(this)};function mn(d){d.S=Date.now()+d.I,Qt(d,d.I)}function Qt(d,P){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ra(p(d.ba,d),P)}function _n(d){d.B&&(o.clearTimeout(d.B),d.B=null)}js.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(nu(this.i,this.A),this.L!=2&&(fl(),kn(17)),pi(this),this.s=2,Qn(this)):Qt(this,this.S-d)};function Qn(d){d.j.G==0||d.J||nb(d.j,d)}function pi(d){_n(d);var P=d.M;P&&typeof P.ma=="function"&&P.ma(),d.M=null,dl(d.U),d.g&&(P=d.g,d.g=null,P.abort(),P.ma())}function gl(d,P){try{var B=d.j;if(B.G!=0&&(B.g==d||Bf(B.h,d))){if(!d.K&&Bf(B.h,d)&&B.G==3){try{var W=B.Da.g.parse(P)}catch{W=null}if(Array.isArray(W)&&W.length==3){var le=W;if(le[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<d.F)du(B),hu(B);else break e;Uf(B),kn(18)}}else B.za=le[1],0<B.za-B.T&&37500>le[2]&&B.F&&B.v==0&&!B.C&&(B.C=ra(p(B.Za,B),6e3));if(1>=Py(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else bl(B,11)}else if((d.K||B.g==d)&&du(B),!N(P))for(le=B.Da.g.parse(P),P=0;P<le.length;P++){let pt=le[P];if(B.T=pt[0],pt=pt[1],B.G==2)if(pt[0]=="c"){B.K=pt[1],B.ia=pt[2];const Yn=pt[3];Yn!=null&&(B.la=Yn,B.j.info("VER="+B.la));const Xn=pt[4];Xn!=null&&(B.Aa=Xn,B.j.info("SVER="+B.Aa));const xo=pt[5];xo!=null&&typeof xo=="number"&&0<xo&&(W=1.5*xo,B.L=W,B.j.info("backChannelRequestTimeoutMs_="+W)),W=B;const ws=d.g;if(ws){const mu=ws.g?ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mu){var de=W.h;de.g||mu.indexOf("spdy")==-1&&mu.indexOf("quic")==-1&&mu.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Of(de,de.h),de.h=null))}if(W.D){const Vf=ws.g?ws.g.getResponseHeader("X-HTTP-Session-Id"):null;Vf&&(W.ya=Vf,Bt(W.I,W.D,Vf))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-d.F,B.j.info("Handshake RTT: "+B.R+"ms")),W=B;var Ce=d;if(W.qa=rb(W,W.J?W.ia:null,W.W),Ce.K){Iy(W.h,Ce);var Et=Ce,On=W.L;On&&(Et.I=On),Et.B&&(_n(Et),mn(Et)),W.g=Ce}else eb(W);0<B.i.length&&uu(B)}else pt[0]!="stop"&&pt[0]!="close"||bl(B,7);else B.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?bl(B,7):Ff(B):pt[0]!="noop"&&B.l&&B.l.ta(pt),B.v=0)}}fl(4)}catch{}}var En=class{constructor(d,P){this.g=d,this.map=P}};function Xc(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Py(d){return d.h?1:d.g?d.g.size:0}function Bf(d,P){return d.h?d.h==P:d.g?d.g.has(P):!1}function Of(d,P){d.g?d.g.add(P):d.h=P}function Iy(d,P){d.h&&d.h==P?d.h=null:d.g&&d.g.has(P)&&d.g.delete(P)}Xc.prototype.cancel=function(){if(this.i=Ry(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ry(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let P=d.i;for(const B of d.g.values())P=P.concat(B.D);return P}return y(d.i)}function YA(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var P=[],B=d.length,W=0;W<B;W++)P.push(d[W]);return P}P=[],B=0;for(W in d)P[B++]=d[W];return P}function XA(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var P=[];d=d.length;for(var B=0;B<d;B++)P.push(B);return P}P=[],B=0;for(const W in d)P[B++]=W;return P}}}function _y(d,P){if(d.forEach&&typeof d.forEach=="function")d.forEach(P,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,P,void 0);else for(var B=XA(d),W=YA(d),le=W.length,de=0;de<le;de++)P.call(void 0,W[de],B&&B[de],d)}var qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZA(d,P){if(d){d=d.split("&");for(var B=0;B<d.length;B++){var W=d[B].indexOf("="),le=null;if(0<=W){var de=d[B].substring(0,W);le=d[B].substring(W+1)}else de=d[B];P(de,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function yl(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof yl){this.h=d.h,su(this,d.j),this.o=d.o,this.g=d.g,ru(this,d.s),this.l=d.l;var P=d.i,B=new Jc;B.i=P.i,P.g&&(B.g=new Map(P.g),B.h=P.h),$y(this,B),this.m=d.m}else d&&(P=String(d).match(qy))?(this.h=!1,su(this,P[1]||"",!0),this.o=Qc(P[2]||""),this.g=Qc(P[3]||"",!0),ru(this,P[4]),this.l=Qc(P[5]||"",!0),$y(this,P[6]||"",!0),this.m=Qc(P[7]||"")):(this.h=!1,this.i=new Jc(null,this.h))}yl.prototype.toString=function(){var d=[],P=this.j;P&&d.push(Kc(P,By,!0),":");var B=this.g;return(B||P=="file")&&(d.push("//"),(P=this.o)&&d.push(Kc(P,By,!0),"@"),d.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&d.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&d.push("/"),d.push(Kc(B,B.charAt(0)=="/"?JA:KA,!0))),(B=this.i.toString())&&d.push("?",B),(B=this.m)&&d.push("#",Kc(B,tk)),d.join("")};function mr(d){return new yl(d)}function su(d,P,B){d.j=B?Qc(P,!0):P,d.j&&(d.j=d.j.replace(/:$/,""))}function ru(d,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);d.s=P}else d.s=null}function $y(d,P,B){P instanceof Jc?(d.i=P,nk(d.i,d.h)):(B||(P=Kc(P,ek)),d.i=new Jc(P,d.h))}function Bt(d,P,B){d.i.set(P,B)}function au(d){return Bt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Qc(d,P){return d?P?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Kc(d,P,B){return typeof d=="string"?(d=encodeURI(d).replace(P,QA),B&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function QA(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var By=/[#\/\?@]/g,KA=/[#\?:]/g,JA=/[#\?]/g,ek=/[#\?@]/g,tk=/#/g;function Jc(d,P){this.h=this.g=null,this.i=d||null,this.j=!!P}function aa(d){d.g||(d.g=new Map,d.h=0,d.i&&ZA(d.i,function(P,B){d.add(decodeURIComponent(P.replace(/\+/g," ")),B)}))}t=Jc.prototype,t.add=function(d,P){aa(this),this.i=null,d=fo(this,d);var B=this.g.get(d);return B||this.g.set(d,B=[]),B.push(P),this.h+=1,this};function Oy(d,P){aa(d),P=fo(d,P),d.g.has(P)&&(d.i=null,d.h-=d.g.get(P).length,d.g.delete(P))}function Ly(d,P){return aa(d),P=fo(d,P),d.g.has(P)}t.forEach=function(d,P){aa(this),this.g.forEach(function(B,W){B.forEach(function(le){d.call(P,le,W,this)},this)},this)},t.na=function(){aa(this);const d=Array.from(this.g.values()),P=Array.from(this.g.keys()),B=[];for(let W=0;W<P.length;W++){const le=d[W];for(let de=0;de<le.length;de++)B.push(P[W])}return B},t.V=function(d){aa(this);let P=[];if(typeof d=="string")Ly(this,d)&&(P=P.concat(this.g.get(fo(this,d))));else{d=Array.from(this.g.values());for(let B=0;B<d.length;B++)P=P.concat(d[B])}return P},t.set=function(d,P){return aa(this),this.i=null,d=fo(this,d),Ly(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[P]),this.h+=1,this},t.get=function(d,P){return d?(d=this.V(d),0<d.length?String(d[0]):P):P};function Fy(d,P,B){Oy(d,P),0<B.length&&(d.i=null,d.g.set(fo(d,P),y(B)),d.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],P=Array.from(this.g.keys());for(var B=0;B<P.length;B++){var W=P[B];const de=encodeURIComponent(String(W)),Ce=this.V(W);for(W=0;W<Ce.length;W++){var le=de;Ce[W]!==""&&(le+="="+encodeURIComponent(String(Ce[W]))),d.push(le)}}return this.i=d.join("&")};function fo(d,P){return P=String(P),d.j&&(P=P.toLowerCase()),P}function nk(d,P){P&&!d.j&&(aa(d),d.i=null,d.g.forEach(function(B,W){var le=W.toLowerCase();W!=le&&(Oy(this,W),Fy(this,le,B))},d)),d.j=P}function ik(d,P){const B=new pl;if(o.Image){const W=new Image;W.onload=b(la,B,"TestLoadImage: loaded",!0,P,W),W.onerror=b(la,B,"TestLoadImage: error",!1,P,W),W.onabort=b(la,B,"TestLoadImage: abort",!1,P,W),W.ontimeout=b(la,B,"TestLoadImage: timeout",!1,P,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=d}else P(!1)}function sk(d,P){const B=new pl,W=new AbortController,le=setTimeout(()=>{W.abort(),la(B,"TestPingServer: timeout",!1,P)},1e4);fetch(d,{signal:W.signal}).then(de=>{clearTimeout(le),de.ok?la(B,"TestPingServer: ok",!0,P):la(B,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(le),la(B,"TestPingServer: error",!1,P)})}function la(d,P,B,W,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),W(B)}catch{}}function rk(){this.g=new Uc}function ak(d,P,B){const W=B||"";try{_y(d,function(le,de){let Ce=le;h(le)&&(Ce=Di(le)),P.push(W+de+"="+encodeURIComponent(Ce))})}catch(le){throw P.push(W+"type="+encodeURIComponent("_badmap")),le}}function lu(d){this.l=d.Ub||null,this.j=d.eb||!1}E(lu,ml),lu.prototype.g=function(){return new ou(this.l,this.j)},lu.prototype.i=function(d){return function(){return d}}({});function ou(d,P){$t.call(this),this.D=d,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ou,$t),t=ou.prototype,t.open=function(d,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=P,this.readyState=1,t0(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(P.body=d),(this.D||o).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,e0(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,t0(this)),this.g&&(this.readyState=3,t0(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uy(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uy(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var P=d.value?d.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!d.done}))&&(this.response=this.responseText+=P)}d.done?e0(this):t0(this),this.readyState==3&&Uy(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,e0(this))},t.Qa=function(d){this.g&&(this.response=d,e0(this))},t.ga=function(){this.g&&e0(this)};function e0(d){d.readyState=4,d.l=null,d.j=null,d.v=null,t0(d)}t.setRequestHeader=function(d,P){this.u.append(d,P)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],P=this.h.entries();for(var B=P.next();!B.done;)B=B.value,d.push(B[0]+": "+B[1]),B=P.next();return d.join(`\r
`)};function t0(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Hy(d){let P="";return C(d,function(B,W){P+=W,P+=":",P+=B,P+=`\r
`}),P}function Lf(d,P,B){e:{for(W in B){var W=!1;break e}W=!0}W||(B=Hy(B),typeof d=="string"?B!=null&&encodeURIComponent(String(B)):Bt(d,P,B))}function fn(d){$t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(fn,$t);var lk=/^https?$/i,ok=["POST","PUT"];t=fn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,P,B,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);P=P?P.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mo.g(),this.v=this.o?eu(this.o):eu(mo),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(P,String(d),!0),this.B=!1}catch(de){Vy(this,de);return}if(d=B||"",B=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var le in W)B.set(le,W[le]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const de of W.keys())B.set(de,W.get(de));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(B.keys()).find(de=>de.toLowerCase()=="content-type"),le=o.FormData&&d instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ok,P,void 0))||W||le||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ce]of B)this.g.setRequestHeader(de,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yy(this),this.u=!0,this.g.send(d),this.u=!1}catch(de){Vy(this,de)}};function Vy(d,P){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=P,d.m=5,Gy(d),cu(d)}function Gy(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,St(this,"complete"),St(this,"abort"),cu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cu(this,!0)),fn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wy(this):this.bb())},t.bb=function(){Wy(this)};function Wy(d){if(d.h&&typeof l<"u"&&(!d.v[1]||fr(d)!=4||d.Z()!=2)){if(d.u&&fr(d)==4)Oc(d.Ea,0,d);else if(St(d,"readystatechange"),fr(d)==4){d.h=!1;try{const Ce=d.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var B;if(!(B=P)){var W;if(W=Ce===0){var le=String(d.D).match(qy)[1]||null;!le&&o.self&&o.self.location&&(le=o.self.location.protocol.slice(0,-1)),W=!lk.test(le?le.toLowerCase():"")}B=W}if(B)St(d,"complete"),St(d,"success");else{d.m=6;try{var de=2<fr(d)?d.g.statusText:""}catch{de=""}d.l=de+" ["+d.Z()+"]",Gy(d)}}finally{cu(d)}}}}function cu(d,P){if(d.g){Yy(d);const B=d.g,W=d.v[0]?()=>{}:null;d.g=null,d.v=null,P||St(d,"ready");try{B.onreadystatechange=W}catch{}}}function Yy(d){d.I&&(o.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function fr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var P=this.g.responseText;return d&&P.indexOf(d)==0&&(P=P.substring(d.length)),ia(P)}};function Xy(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ck(d){const P={};d=(d.g&&2<=fr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<d.length;W++){if(N(d[W]))continue;var B=k(d[W]);const le=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const de=P[le]||[];P[le]=de,de.push(B)}j(P,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function n0(d,P,B){return B&&B.internalChannelParams&&B.internalChannelParams[d]||P}function Zy(d){this.Aa=0,this.i=[],this.j=new pl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=n0("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=n0("baseRetryDelayMs",5e3,d),this.cb=n0("retryDelaySeedMs",1e4,d),this.Wa=n0("forwardChannelMaxRetries",2,d),this.wa=n0("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xc(d&&d.concurrentRequestLimit),this.Da=new rk,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zy.prototype,t.la=8,t.G=1,t.connect=function(d,P,B,W){kn(0),this.W=d,this.H=P||{},B&&W!==void 0&&(this.H.OSID=B,this.H.OAID=W),this.F=this.X,this.I=rb(this,null,this.W),uu(this)};function Ff(d){if(Qy(d),d.G==3){var P=d.U++,B=mr(d.I);if(Bt(B,"SID",d.K),Bt(B,"RID",P),Bt(B,"TYPE","terminate"),i0(d,B),P=new js(d,d.j,P),P.L=2,P.v=au(mr(B)),B=!1,o.navigator&&o.navigator.sendBeacon)try{B=o.navigator.sendBeacon(P.v.toString(),"")}catch{}!B&&o.Image&&(new Image().src=P.v,B=!0),B||(P.g=ab(P.j,null),P.g.ea(P.v)),P.F=Date.now(),mn(P)}sb(d)}function hu(d){d.g&&(Hf(d),d.g.cancel(),d.g=null)}function Qy(d){hu(d),d.u&&(o.clearTimeout(d.u),d.u=null),du(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&o.clearTimeout(d.s),d.s=null)}function uu(d){if(!Zc(d.h)&&!d.s){d.s=!0;var P=d.Ga;V||re(),J||(V(),J=!0),ee.add(P,d),d.B=0}}function hk(d,P){return Py(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=P.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ra(p(d.Ga,d,P),ib(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const le=new js(this,this.j,d);let de=this.o;if(this.S&&(de?(de=g(de),w(de,this.S)):de=this.S),this.m!==null||this.O||(le.H=de,de=null),this.P)e:{for(var P=0,B=0;B<this.i.length;B++){t:{var W=this.i[B];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(P+=W,4096<P){P=B;break e}if(P===4096||B===this.i.length-1){P=B+1;break e}}P=1e3}else P=1e3;P=Jy(this,le,P),B=mr(this.I),Bt(B,"RID",d),Bt(B,"CVER",22),this.D&&Bt(B,"X-HTTP-Session-Id",this.D),i0(this,B),de&&(this.O?P="headers="+encodeURIComponent(String(Hy(de)))+"&"+P:this.m&&Lf(B,this.m,de)),Of(this.h,le),this.Ua&&Bt(B,"TYPE","init"),this.P?(Bt(B,"$req",P),Bt(B,"SID","null"),le.T=!0,te(le,B,null)):te(le,B,P),this.G=2}}else this.G==3&&(d?Ky(this,d):this.i.length==0||Zc(this.h)||Ky(this))};function Ky(d,P){var B;P?B=P.l:B=d.U++;const W=mr(d.I);Bt(W,"SID",d.K),Bt(W,"RID",B),Bt(W,"AID",d.T),i0(d,W),d.m&&d.o&&Lf(W,d.m,d.o),B=new js(d,d.j,B,d.B+1),d.m===null&&(B.H=d.o),P&&(d.i=P.D.concat(d.i)),P=Jy(d,B,1e3),B.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Of(d.h,B),te(B,W,P)}function i0(d,P){d.H&&C(d.H,function(B,W){Bt(P,W,B)}),d.l&&_y({},function(B,W){Bt(P,W,B)})}function Jy(d,P,B){B=Math.min(d.i.length,B);var W=d.l?p(d.l.Na,d.l,d):null;e:{var le=d.i;let de=-1;for(;;){const Ce=["count="+B];de==-1?0<B?(de=le[0].g,Ce.push("ofs="+de)):de=0:Ce.push("ofs="+de);let Et=!0;for(let On=0;On<B;On++){let pt=le[On].g;const Yn=le[On].map;if(pt-=de,0>pt)de=Math.max(0,le[On].g-100),Et=!1;else try{ak(Yn,Ce,"req"+pt+"_")}catch{W&&W(Yn)}}if(Et){W=Ce.join("&");break e}}}return d=d.i.splice(0,B),P.D=d,W}function eb(d){if(!d.g&&!d.u){d.Y=1;var P=d.Fa;V||re(),J||(V(),J=!0),ee.add(P,d),d.v=0}}function Uf(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ra(p(d.Fa,d),ib(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,tb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ra(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kn(10),hu(this),tb(this))};function Hf(d){d.A!=null&&(o.clearTimeout(d.A),d.A=null)}function tb(d){d.g=new js(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var P=mr(d.qa);Bt(P,"RID","rpc"),Bt(P,"SID",d.K),Bt(P,"AID",d.T),Bt(P,"CI",d.F?"0":"1"),!d.F&&d.ja&&Bt(P,"TO",d.ja),Bt(P,"TYPE","xmlhttp"),i0(d,P),d.m&&d.o&&Lf(P,d.m,d.o),d.L&&(d.g.I=d.L);var B=d.g;d=d.ia,B.L=1,B.v=au(mr(P)),B.m=null,B.P=!0,je(B,d)}t.Za=function(){this.C!=null&&(this.C=null,hu(this),Uf(this),kn(19))};function du(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function nb(d,P){var B=null;if(d.g==P){du(d),Hf(d),d.g=null;var W=2}else if(Bf(d.h,P))B=P.D,Iy(d.h,P),W=1;else return;if(d.G!=0){if(P.o)if(W==1){B=P.m?P.m.length:0,P=Date.now()-P.F;var le=d.B;W=Zt(),St(W,new Gc(W,B)),uu(d)}else eb(d);else if(le=P.s,le==3||le==0&&0<P.X||!(W==1&&hk(d,P)||W==2&&Uf(d)))switch(B&&0<B.length&&(P=d.h,P.i=P.i.concat(B)),le){case 1:bl(d,5);break;case 4:bl(d,10);break;case 3:bl(d,6);break;default:bl(d,2)}}}function ib(d,P){let B=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(B*=2),B*P}function bl(d,P){if(d.j.info("Error code "+P),P==2){var B=p(d.fb,d),W=d.Xa;const le=!W;W=new yl(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||su(W,"https"),au(W),le?ik(W.toString(),B):sk(W.toString(),B)}else kn(2);d.G=0,d.l&&d.l.sa(P),sb(d),Qy(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),kn(2)):(this.j.info("Failed to ping google.com"),kn(1))};function sb(d){if(d.G=0,d.ka=[],d.l){const P=Ry(d.h);(P.length!=0||d.i.length!=0)&&(T(d.ka,P),T(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function rb(d,P,B){var W=B instanceof yl?mr(B):new yl(B);if(W.g!="")P&&(W.g=P+"."+W.g),ru(W,W.s);else{var le=o.location;W=le.protocol,P=P?P+"."+le.hostname:le.hostname,le=+le.port;var de=new yl(null);W&&su(de,W),P&&(de.g=P),le&&ru(de,le),B&&(de.l=B),W=de}return B=d.D,P=d.ya,B&&P&&Bt(W,B,P),Bt(W,"VER",d.la),i0(d,W),W}function ab(d,P,B){if(P&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=d.Ca&&!d.pa?new fn(new lu({eb:B})):new fn(d.pa),P.Ha(d.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lb(){}t=lb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qi(d,P){$t.call(this),this.g=new Zy(P),this.l=d,this.h=P&&P.messageUrlParams||null,d=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(d?d["X-WebChannel-Content-Type"]=P.messageContentType:d={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(d?d["X-WebChannel-Client-Profile"]=P.va:d={"X-WebChannel-Client-Profile":P.va}),this.g.S=d,(d=P&&P.Sb)&&!N(d)&&(this.g.m=d),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!N(P)&&(this.g.D=P,d=this.h,d!==null&&P in d&&(d=this.h,P in d&&delete d[P])),this.j=new po(this)}E(Qi,$t),Qi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qi.prototype.close=function(){Ff(this.g)},Qi.prototype.o=function(d){var P=this.g;if(typeof d=="string"){var B={};B.__data__=d,d=B}else this.u&&(B={},B.__data__=Di(d),d=B);P.i.push(new En(P.Ya++,d)),P.G==3&&uu(P)},Qi.prototype.N=function(){this.g.l=null,delete this.j,Ff(this.g),delete this.g,Qi.aa.N.call(this)};function ob(d){Hc.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var P=d.__sm__;if(P){e:{for(const B in P){d=B;break e}d=void 0}(this.i=d)&&(d=this.i,P=P!==null&&d in P?P[d]:void 0),this.data=P}else this.data=d}E(ob,Hc);function cb(){cr.call(this),this.status=1}E(cb,cr);function po(d){this.g=d}E(po,lb),po.prototype.ua=function(){St(this.g,"a")},po.prototype.ta=function(d){St(this.g,new ob(d))},po.prototype.sa=function(d){St(this.g,new cb)},po.prototype.ra=function(){St(this.g,"b")},Qi.prototype.send=Qi.prototype.o,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,vs.COMPLETE="complete",ho.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",$t.prototype.listen=$t.prototype.K,fn.prototype.listenOnce=fn.prototype.L,fn.prototype.getLastError=fn.prototype.Ka,fn.prototype.getLastErrorCode=fn.prototype.Ba,fn.prototype.getStatus=fn.prototype.Z,fn.prototype.getResponseJson=fn.prototype.Oa,fn.prototype.getResponseText=fn.prototype.oa,fn.prototype.send=fn.prototype.ea,fn.prototype.setWithCredentials=fn.prototype.Ha}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const d5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new e2("@firebase/firestore");function Ds(t,...e){if(fm.logLevel<=wt.DEBUG){const n=e.map(jw);fm.debug(`Firestore (${df}): ${t}`,...n)}}function vw(t,...e){if(fm.logLevel<=wt.ERROR){const n=e.map(jw);fm.error(`Firestore (${df}): ${t}`,...n)}}function jw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t="Unexpected state"){const e=`FIRESTORE (${df}) INTERNAL ASSERTION FAILED: `+t;throw vw(e),new Error(e)}function U0(t,e){t||ww()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class zs extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ii.UNAUTHENTICATED))}shutdown(){}}class $P{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){U0(this.o===void 0);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let a=new H0;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new H0,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},o=c=>{Ds("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Ds("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new H0)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Ds("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(U0(typeof s.accessToken=="string"),new _P(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return U0(e===null||typeof e=="string"),new Ii(e)}}class BP{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OP{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new BP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){U0(this.o===void 0);const s=a=>{a.error!=null&&Ds("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ds("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{Ds("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):Ds("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U0(typeof n.token=="string"),this.R=n.token,new LP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UP(t){return t.name==="IndexedDbTransactionError"}class pm{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m5,dt;(dt=m5||(m5={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new bw([4294967295,4294967295],0);function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,s=1e3,r=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-s);r>0&&Ds("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new H0,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const l=Date.now()+s,o=new i2(e,n,l,r,a);return o.start(s),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zs(Ms.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var f5,p5;(p5=f5||(f5={})).ea="default",p5.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Map;function GP(t,e,n,s){if(e===!0&&s===!0)throw new zs(Ms.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new zs(Ms.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new zs(Ms.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VP((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new zs(Ms.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new zs(Ms.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new zs(Ms.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WP{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zs(Ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zs(Ms.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g5(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qP;switch(s.type){case"firstParty":return new OP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new zs(Ms.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=x5.get(n);s&&(Ds("ComponentProvider","Removing Datastore"),x5.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new HP(this,"async_queue_retry"),this.Vu=()=>{const s=$p();s&&Ds("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=$p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new H0;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!UP(e))throw e;Ds("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const r=function(l){let o=l.message||"";return l.stack&&(o=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),o}(s);throw vw("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=i2.createAndSchedule(this,e,n,s,a=>this.yu(a));return this.Tu.push(r),r}fu(){this.Eu&&ww()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class YP extends WP{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new y5,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y5(e),this._firestoreClient=void 0,await e}}}(function(e,n=!0){(function(r){df=r})(hf),Zl(new Wa("firestore",(s,{instanceIdentifier:r,options:a})=>{const l=s.getProvider("app").getImmediate(),o=new YP(new $P(s.getProvider("auth-internal")),new FP(s.getProvider("app-check-internal")),function(h,u){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new zs(Ms.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pm(h.options.projectId,u)}(l,r),l);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Xs(d5,"4.7.3",e),Xs(d5,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="type.googleapis.com/google.protobuf.Int64Value",ZP="type.googleapis.com/google.protobuf.UInt64Value";function Tw(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function Jx(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Jx(e));if(typeof t=="function"||typeof t=="object")return Tw(t,e=>Jx(e));throw new Error("Data cannot be encoded in JSON: "+t)}function xm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case XP:case ZP:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>xm(e)):typeof t=="function"||typeof t=="object"?Tw(t,e=>xm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ec extends Qr{constructor(e,n,s){super(`${s2}/${e}`,n||""),this.details=s}}function QP(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function KP(t,e){let n=QP(t),s=n,r;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!b5[l])return new ec("internal","internal");n=b5[l],s=l}const o=a.message;typeof o=="string"&&(s=o),r=a.details,r!==void 0&&(r=xm(r))}}catch{}return n==="ok"?null:new ec(n,s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,s){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||s.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="us-central1";function eI(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new ec("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class tI{constructor(e,n,s,r,a=eg,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new JP(n,s,r),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(a);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=eg}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function nI(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function iI(t,e,n){return s=>rI(t,e,s,{})}async function sI(t,e,n,s){n["Content-Type"]="application/json";let r;try{r=await s(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}function rI(t,e,n,s){const r=t._url(e);return aI(t,r,n,s)}async function aI(t,e,n,s){n=Jx(n);const r={data:n},a={},l=await t.contextProvider.getContext(s.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const o=s.timeout||7e4,c=eI(o),h=await Promise.race([sI(e,r,a,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!h)throw new ec("cancelled","Firebase Functions instance was deleted.");const u=KP(h.status,h.json);if(u)throw u;if(!h.json)throw new ec("internal","Response is not valid JSON object.");let m=h.json.data;if(typeof m>"u"&&(m=h.json.result),typeof m>"u")throw new ec("internal","Response is missing data field.");return{data:xm(m)}}const v5="@firebase/functions",j5="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="auth-internal",oI="app-check-internal",cI="messaging-internal";function hI(t,e){const n=(s,{instanceIdentifier:r})=>{const a=s.getProvider("app").getImmediate(),l=s.getProvider(lI),o=s.getProvider(cI),c=s.getProvider(oI);return new tI(a,l,o,c,r,t)};Zl(new Wa(s2,n,"PUBLIC").setMultipleInstances(!0)),Xs(v5,j5,e),Xs(v5,j5,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t=FD(),e=eg){const s=BD(so(t),s2).getImmediate({identifier:e}),r=Ez("functions");return r&&Sw(s,...r),s}function Sw(t,e,n){nI(so(t),e,n)}function _o(t,e,n){return iI(so(t),e)}hI(fetch.bind(self));const tg={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},dI=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let Du=null,Pu=null;function mI(){if(!Du){const t=UD();t.length>0?Du=t[0]:Du=nw(tg)}return Du}function qo(){if(!Pu&&(Pu=uI(mI()),dI&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{Sw(Pu,"localhost",5001)}catch{}return Pu}function r2(){return!!tg.apiKey&&tg.apiKey!=="YOUR_API_KEY"}const fI=5e3,pI=3e4,xI=3e4,gI=30*1e3,yI=2e3,bI=60*60*1e3,w5=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class vI{constructor(e="",n=!0){pr(this,"prefix");pr(this,"enabled");this.prefix=e?`[${e}]`:"",this.enabled=n}log(e,n,s){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${n}`:n;if(e==="debug"||e==="info")return;const a=console[e]||console.log;s!==void 0?a(r,s):a(r)}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}setEnabled(e){this.enabled=e}}const Bp={};function tr(t){const e=t||"__default__";return Bp[e]||(Bp[e]=new vI(t)),Bp[e]}const Rl=tr("NostrUtils"),jI="qpzry9x8gf2tvdw0s3jn54khce6mua7l",wI=[996825010,642813549,513874426,1027748829,705979059];function TI(t){let e=1;for(const n of t){const s=e>>25;e=(e&33554431)<<5^n;for(let r=0;r<5;r++)s>>r&1&&(e^=wI[r])}return e}function SI(t){const e=[];for(const n of t)e.push(n.charCodeAt(0)>>5);e.push(0);for(const n of t)e.push(n.charCodeAt(0)&31);return e}function NI(t,e){return TI([...SI(t),...e])===1}function AI(t,e,n,s){let r=0,a=0;const l=[],o=(1<<n)-1;for(const c of t){if(c<0||c>>e)return null;for(r=r<<e|c,a+=e;a>=n;)a-=n,l.push(r>>a&o)}return a>=e||r<<n-a&o?null:l}function kI(t){const e=t.toLowerCase(),n=t.toUpperCase();if(t!==e&&t!==n)return null;const s=e,r=s.lastIndexOf("1");if(r<1||r+7>s.length||s.length>90)return null;const a=s.slice(0,r),l=s.slice(r+1),o=[];for(const u of l){const m=jI.indexOf(u);if(m===-1)return null;o.push(m)}if(!NI(a,o))return null;const c=o.slice(0,-6),h=AI(new Uint8Array(c),5,8);return h?{hrp:a,data:new Uint8Array(h)}:null}function EI(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function CI(t){const e=kI(t);if(!e||e.hrp!=="npub")throw new Error("Invalid npub");return EI(e.data)}function gm(t,e=8){return t.length<=e*2+3?t:`${t.slice(0,e)}...${t.slice(-e)}`}function MI(t,e){return new Promise(n=>{let s=!1,r=null,a=null;const l=()=>{s||(s=!0,a&&(clearTimeout(a),a=null),r&&r.readyState!==WebSocket.CLOSED&&r.close())};a=setTimeout(()=>{Rl.debug(`WebSocket timeout for relay: ${t}`),l(),n(null)},fI);try{r=new WebSocket(t)}catch(c){Rl.debug(`Failed to create WebSocket for relay ${t}:`,c),l(),n(null);return}const o=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(s||!r)return;const c=JSON.stringify(["REQ",o,{kinds:[0],authors:[e],limit:1}]);r.send(c)},r.onmessage=c=>{if(!s)try{const h=JSON.parse(c.data);if(h[0]==="EVENT"&&h[1]===o){const u=JSON.parse(h[2].content);l(),n({name:u.name||u.display_name,display_name:u.display_name,nip05:u.nip05,picture:u.picture,about:u.about})}else h[0]==="EOSE"&&(l(),n(null))}catch(h){Rl.debug(`Failed to parse WebSocket message from ${t}:`,h)}},r.onerror=c=>{Rl.debug(`WebSocket error for relay ${t}:`,c),l(),n(null)},r.onclose=()=>{s||(l(),n(null))}})}async function zI(t){try{const e=CI(t);for(const n of w5)try{const s=await MI(n,e);if(s)return s}catch(s){Rl.debug(`Failed to fetch profile from relay ${n}:`,s)}return Rl.debug(`No profile found for npub across ${w5.length} relays`),null}catch(e){return Rl.debug("Failed to convert npub to hex:",e),null}}async function DI(t){const e=new Map,n=10;for(let s=0;s<t.length;s+=n){const a=t.slice(s,s+n).map(async l=>{const o=await zI(l);o&&e.set(l,o)});await Promise.all(a)}return e}const PI=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art","four_pillars"];function II(t){return PI.includes(t)}function pe(t,e,n){function s(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:l,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,c);const h=l.prototype,u=Object.keys(h);for(let m=0;m<u.length;m++){const p=u[m];p in o||(o[p]=h[p].bind(o))}}const r=(n==null?void 0:n.Parent)??Object;class a extends r{}Object.defineProperty(a,"name",{value:t});function l(o){var c;const h=n!=null&&n.Parent?new a:this;s(h,o),(c=h._zod).deferred??(c.deferred=[]);for(const u of h._zod.deferred)u();return h}return Object.defineProperty(l,"init",{value:s}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,h;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(h=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:h.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class tc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Nw extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Aw={};function Ya(t){return Aw}function kw(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,r])=>e.indexOf(+s)===-1).map(([s,r])=>r)}function ng(t,e){return typeof e=="bigint"?e.toString():e}function a2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function l2(t){return t==null}function o2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function RI(t,e){const n=(t.toString().split(".")[1]||"").length,s=e.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const c=s.match(/\d?e-(\d?)/);c!=null&&c[1]&&(r=Number.parseInt(c[1]))}const a=n>r?n:r,l=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return l%o/10**a}const T5=Symbol("evaluating");function It(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==T5)return s===void 0&&(s=T5,s=n()),s},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function ro(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ao(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function S5(t){return JSON.stringify(t)}function _I(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Ew="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function ym(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const qI=a2(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function gc(t){if(ym(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(ym(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Cw(t){return gc(t)?{...t}:Array.isArray(t)?[...t]:t}const $I=new Set(["string","number","symbol"]);function mf(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ll(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(s._zod.parent=t),s}function Ve(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function BI(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const OI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function LI(t,e){const n=t._zod.def,s=ao(t._zod.def,{get shape(){const r={};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(r[a]=n.shape[a])}return ro(this,"shape",r),r},checks:[]});return ll(t,s)}function FI(t,e){const n=t._zod.def,s=ao(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete r[a]}return ro(this,"shape",r),r},checks:[]});return ll(t,s)}function UI(t,e){if(!gc(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=ao(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return ro(this,"shape",a),a},checks:[]});return ll(t,r)}function HI(t,e){if(!gc(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const s={...t._zod.def.shape,...e};return ro(this,"shape",s),s},checks:t._zod.def.checks};return ll(t,n)}function VI(t,e){const n=ao(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return ro(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return ll(t,n)}function GI(t,e,n){const s=ao(e._zod.def,{get shape(){const r=e._zod.def.shape,a={...r};if(n)for(const l in n){if(!(l in r))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=t?new t({type:"optional",innerType:r[l]}):r[l])}else for(const l in r)a[l]=t?new t({type:"optional",innerType:r[l]}):r[l];return ro(this,"shape",a),a},checks:[]});return ll(e,s)}function WI(t,e,n){const s=ao(e._zod.def,{get shape(){const r=e._zod.def.shape,a={...r};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new t({type:"nonoptional",innerType:r[l]}))}else for(const l in r)a[l]=new t({type:"nonoptional",innerType:r[l]});return ro(this,"shape",a),a},checks:[]});return ll(e,s)}function $o(t,e=0){var n;if(t.aborted===!0)return!0;for(let s=e;s<t.issues.length;s++)if(((n=t.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function Bo(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function Iu(t){return typeof t=="string"?t:t==null?void 0:t.message}function Xa(t,e,n){var r,a,l,o,c,h;const s={...t,path:t.path??[]};if(!t.message){const u=Iu((l=(a=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,t))??Iu((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Iu((c=n.customError)==null?void 0:c.call(n,t))??Iu((h=n.localeError)==null?void 0:h.call(n,t))??"Invalid input";s.message=u}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function c2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function xh(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const Mw=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,ng,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},zw=pe("$ZodError",Mw),Dw=pe("$ZodError",Mw,{Parent:Error});function YI(t,e=n=>n.message){const n={},s=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}function XI(t,e=n=>n.message){const n={_errors:[]},s=r=>{for(const a of r.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>s({issues:l}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)n._errors.push(e(a));else{let l=n,o=0;for(;o<a.path.length;){const c=a.path[o];o===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(e(a))):l[c]=l[c]||{_errors:[]},l=l[c],o++}}};return s(t),n}const h2=t=>(e,n,s,r)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new tc;if(l.issues.length){const o=new((r==null?void 0:r.Err)??t)(l.issues.map(c=>Xa(c,a,Ya())));throw Ew(o,r==null?void 0:r.callee),o}return l.value},u2=t=>async(e,n,s,r)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((r==null?void 0:r.Err)??t)(l.issues.map(c=>Xa(c,a,Ya())));throw Ew(o,r==null?void 0:r.callee),o}return l.value},ff=t=>(e,n,s)=>{const r=s?{...s,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new tc;return a.issues.length?{success:!1,error:new(t??zw)(a.issues.map(l=>Xa(l,r,Ya())))}:{success:!0,data:a.value}},ZI=ff(Dw),pf=t=>async(e,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>Xa(l,r,Ya())))}:{success:!0,data:a.value}},QI=pf(Dw),KI=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return h2(t)(e,n,r)},JI=t=>(e,n,s)=>h2(t)(e,n,s),eR=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return u2(t)(e,n,r)},tR=t=>async(e,n,s)=>u2(t)(e,n,s),nR=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return ff(t)(e,n,r)},iR=t=>(e,n,s)=>ff(t)(e,n,s),sR=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return pf(t)(e,n,r)},rR=t=>async(e,n,s)=>pf(t)(e,n,s),aR=/^[cC][^\s-]{8,}$/,lR=/^[0-9a-z]+$/,oR=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,cR=/^[0-9a-vA-V]{20}$/,hR=/^[A-Za-z0-9]{27}$/,uR=/^[a-zA-Z0-9_-]{21}$/,dR=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,mR=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,N5=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,fR=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,pR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function xR(){return new RegExp(pR,"u")}const gR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,bR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,vR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jR=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Pw=/^[A-Za-z0-9_-]*$/,wR=/^\+(?:[0-9]){6,14}[0-9]$/,Iw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",TR=new RegExp(`^${Iw}$`);function Rw(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function SR(t){return new RegExp(`^${Rw(t)}$`)}function NR(t){const e=Rw({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${Iw}T(?:${s})$`)}const AR=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},kR=/^-?\d+$/,ER=/^-?\d+(?:\.\d+)?/,CR=/^(?:true|false)$/i,MR=/^[^A-Z]*$/,zR=/^[^a-z]*$/,Ei=pe("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),_w={number:"number",bigint:"bigint",object:"date"},qw=pe("$ZodCheckLessThan",(t,e)=>{Ei.init(t,e);const n=_w[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,a=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:n,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),$w=pe("$ZodCheckGreaterThan",(t,e)=>{Ei.init(t,e);const n=_w[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,a=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:n,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),DR=pe("$ZodCheckMultipleOf",(t,e)=>{Ei.init(t,e),t._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):RI(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),PR=pe("$ZodCheckNumberFormat",(t,e)=>{var l;Ei.init(t,e),e.format=e.format||"float64";const n=(l=e.format)==null?void 0:l.includes("int"),s=n?"int":"number",[r,a]=OI[e.format];t._zod.onattach.push(o=>{const c=o._zod.bag;c.format=e.format,c.minimum=r,c.maximum=a,n&&(c.pattern=kR)}),t._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:s,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort});return}}c<r&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),c>a&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:t})}}),IR=pe("$ZodCheckMaxLength",(t,e)=>{var n;Ei.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!l2(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const r=s.value;if(r.length<=e.maximum)return;const l=c2(r);s.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),RR=pe("$ZodCheckMinLength",(t,e)=>{var n;Ei.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!l2(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const r=s.value;if(r.length>=e.minimum)return;const l=c2(r);s.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),_R=pe("$ZodCheckLengthEquals",(t,e)=>{var n;Ei.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!l2(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=s=>{const r=s.value,a=r.length;if(a===e.length)return;const l=c2(r),o=a>e.length;s.issues.push({origin:l,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),xf=pe("$ZodCheckStringFormat",(t,e)=>{var n,s;Ei.init(t,e),t._zod.onattach.push(r=>{const a=r._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),qR=pe("$ZodCheckRegex",(t,e)=>{xf.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),$R=pe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=MR),xf.init(t,e)}),BR=pe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=zR),xf.init(t,e)}),OR=pe("$ZodCheckIncludes",(t,e)=>{Ei.init(t,e);const n=mf(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),LR=pe("$ZodCheckStartsWith",(t,e)=>{Ei.init(t,e);const n=new RegExp(`^${mf(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),FR=pe("$ZodCheckEndsWith",(t,e)=>{Ei.init(t,e);const n=new RegExp(`.*${mf(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),UR=pe("$ZodCheckOverwrite",(t,e)=>{Ei.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class HR{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(l=>l),r=Math.min(...s.map(l=>l.length-l.trimStart().length)),a=s.map(l=>l.slice(r)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...n,r.join(`
`))}}const VR={major:4,minor:2,patch:1},un=pe("$ZodType",(t,e)=>{var r;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=VR;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const a of s)for(const l of a._zod.onattach)l(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),(r=t._zod.deferred)==null||r.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,c,h)=>{let u=$o(o),m;for(const p of c){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(u)continue;const b=o.issues.length,E=p._zod.check(o);if(E instanceof Promise&&(h==null?void 0:h.async)===!1)throw new tc;if(m||E instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await E,o.issues.length!==b&&(u||(u=$o(o,b)))});else{if(o.issues.length===b)continue;u||(u=$o(o,b))}}return m?m.then(()=>o):o},l=(o,c,h)=>{if($o(o))return o.aborted=!0,o;const u=a(c,s,h);if(u instanceof Promise){if(h.async===!1)throw new tc;return u.then(m=>t._zod.parse(m,h))}return t._zod.parse(u,h)};t._zod.run=(o,c)=>{if(c.skipChecks)return t._zod.parse(o,c);if(c.direction==="backward"){const u=t._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return u instanceof Promise?u.then(m=>l(m,o,c)):l(u,o,c)}const h=t._zod.parse(o,c);if(h instanceof Promise){if(c.async===!1)throw new tc;return h.then(u=>a(u,s,c))}return a(h,s,c)}}t["~standard"]={validate:a=>{var l;try{const o=ZI(t,a);return o.success?{value:o.data}:{issues:(l=o.error)==null?void 0:l.issues}}catch{return QI(t,a).then(c=>{var h;return c.success?{value:c.data}:{issues:(h=c.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}}),d2=pe("$ZodString",(t,e)=>{var n;un.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??AR(t._zod.bag),t._zod.parse=(s,r)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:t}),s}}),Wt=pe("$ZodStringFormat",(t,e)=>{xf.init(t,e),d2.init(t,e)}),GR=pe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=mR),Wt.init(t,e)}),WR=pe("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=N5(s))}else e.pattern??(e.pattern=N5());Wt.init(t,e)}),YR=pe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=fR),Wt.init(t,e)}),XR=pe("$ZodURL",(t,e)=>{Wt.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),ZR=pe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=xR()),Wt.init(t,e)}),QR=pe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=uR),Wt.init(t,e)}),KR=pe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=aR),Wt.init(t,e)}),JR=pe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=lR),Wt.init(t,e)}),e_=pe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=oR),Wt.init(t,e)}),t_=pe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=cR),Wt.init(t,e)}),n_=pe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=hR),Wt.init(t,e)}),i_=pe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=NR(e)),Wt.init(t,e)}),s_=pe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=TR),Wt.init(t,e)}),r_=pe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=SR(e)),Wt.init(t,e)}),a_=pe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=dR),Wt.init(t,e)}),l_=pe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=gR),Wt.init(t,e),t._zod.bag.format="ipv4"}),o_=pe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=yR),Wt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),c_=pe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=bR),Wt.init(t,e)}),h_=pe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=vR),Wt.init(t,e),t._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,a]=s;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Bw(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const u_=pe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=jR),Wt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{Bw(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function d_(t){if(!Pw.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Bw(n)}const m_=pe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Pw),Wt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{d_(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),f_=pe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=wR),Wt.init(t,e)});function p_(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const x_=pe("$ZodJWT",(t,e)=>{Wt.init(t,e),t._zod.check=n=>{p_(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Ow=pe("$ZodNumber",(t,e)=>{un.init(t,e),t._zod.pattern=t._zod.bag.pattern??ER,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...a?{received:a}:{}}),n}}),g_=pe("$ZodNumberFormat",(t,e)=>{PR.init(t,e),Ow.init(t,e)}),y_=pe("$ZodBoolean",(t,e)=>{un.init(t,e),t._zod.pattern=CR,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),b_=pe("$ZodUnknown",(t,e)=>{un.init(t,e),t._zod.parse=n=>n}),v_=pe("$ZodNever",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function A5(t,e,n){t.issues.length&&e.issues.push(...Bo(n,t.issues)),e.value[n]=t.value}const j_=pe("$ZodArray",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const a=[];for(let l=0;l<r.length;l++){const o=r[l],c=e.element._zod.run({value:o,issues:[]},s);c instanceof Promise?a.push(c.then(h=>A5(h,n,l))):A5(c,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function bm(t,e,n,s){t.issues.length&&e.issues.push(...Bo(n,t.issues)),t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}function Lw(t){var s,r,a,l;const e=Object.keys(t.shape);for(const o of e)if(!((l=(a=(r=(s=t.shape)==null?void 0:s[o])==null?void 0:r._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=BI(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Fw(t,e,n,s,r,a){const l=[],o=r.keySet,c=r.catchall._zod,h=c.def.type;for(const u in e){if(o.has(u))continue;if(h==="never"){l.push(u);continue}const m=c.run({value:e[u],issues:[]},s);m instanceof Promise?t.push(m.then(p=>bm(p,n,u,e))):bm(m,n,u,e)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>n):n}const w_=pe("$ZodObject",(t,e)=>{un.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const o=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...o};return Object.defineProperty(e,"shape",{value:c}),c}})}const s=a2(()=>Lw(e));It(t._zod,"propValues",()=>{const o=e.shape,c={};for(const h in o){const u=o[h]._zod;if(u.values){c[h]??(c[h]=new Set);for(const m of u.values)c[h].add(m)}}return c});const r=ym,a=e.catchall;let l;t._zod.parse=(o,c)=>{l??(l=s.value);const h=o.value;if(!r(h))return o.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),o;o.value={};const u=[],m=l.shape;for(const p of l.keys){const E=m[p]._zod.run({value:h[p],issues:[]},c);E instanceof Promise?u.push(E.then(y=>bm(y,o,p,h))):bm(E,o,p,h)}return a?Fw(u,h,o,c,s.value,t):u.length?Promise.all(u).then(()=>o):o}}),T_=pe("$ZodObjectJIT",(t,e)=>{w_.init(t,e);const n=t._zod.parse,s=a2(()=>Lw(e)),r=p=>{const b=new HR(["shape","payload","ctx"]),E=s.value,y=v=>{const f=S5(v);return`shape[${f}]._zod.run({ value: input[${f}], issues: [] }, ctx)`};b.write("const input = payload.value;");const T=Object.create(null);let S=0;for(const v of E.keys)T[v]=`key_${S++}`;b.write("const newResult = {};");for(const v of E.keys){const f=T[v],x=S5(v);b.write(`const ${f} = ${y(v)};`),b.write(`
        if (${f}.issues.length) {
          payload.issues = payload.issues.concat(${f}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${x}, ...iss.path] : [${x}]
          })));
        }
        
        
        if (${f}.value === undefined) {
          if (${x} in input) {
            newResult[${x}] = undefined;
          }
        } else {
          newResult[${x}] = ${f}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const N=b.compile();return(v,f)=>N(p,v,f)};let a;const l=ym,o=!Aw.jitless,h=o&&qI.value,u=e.catchall;let m;t._zod.parse=(p,b)=>{m??(m=s.value);const E=p.value;return l(E)?o&&h&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(a||(a=r(e.shape)),p=a(p,b),u?Fw([],E,p,b,m,t):p):n(p,b):(p.issues.push({expected:"object",code:"invalid_type",input:E,inst:t}),p)}});function k5(t,e,n,s){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const r=t.filter(a=>!$o(a));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(l=>Xa(l,s,Ya())))}),e)}const S_=pe("$ZodUnion",(t,e)=>{un.init(t,e),It(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),It(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),It(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),It(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>o2(a.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(r,a)=>{if(n)return s(r,a);let l=!1;const o=[];for(const c of e.options){const h=c._zod.run({value:r.value,issues:[]},a);if(h instanceof Promise)o.push(h),l=!0;else{if(h.issues.length===0)return h;o.push(h)}}return l?Promise.all(o).then(c=>k5(c,r,t,a)):k5(o,r,t,a)}}),N_=pe("$ZodIntersection",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{const r=n.value,a=e.left._zod.run({value:r,issues:[]},s),l=e.right._zod.run({value:r,issues:[]},s);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([c,h])=>E5(n,c,h)):E5(n,a,l)}});function ig(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(gc(t)&&gc(e)){const n=Object.keys(e),s=Object.keys(t).filter(a=>n.indexOf(a)!==-1),r={...t,...e};for(const a of s){const l=ig(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};r[a]=l.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const r=t[s],a=e[s],l=ig(r,a);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function E5(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),$o(t))return t;const s=ig(e.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}const A_=pe("$ZodRecord",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!gc(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),n;const a=[],l=e.keyType._zod.values;if(l){n.value={};const o=new Set;for(const h of l)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){o.add(typeof h=="number"?h.toString():h);const u=e.valueType._zod.run({value:r[h],issues:[]},s);u instanceof Promise?a.push(u.then(m=>{m.issues.length&&n.issues.push(...Bo(h,m.issues)),n.value[h]=m.value})):(u.issues.length&&n.issues.push(...Bo(h,u.issues)),n.value[h]=u.value)}let c;for(const h in r)o.has(h)||(c=c??[],c.push(h));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:c})}else{n.value={};for(const o of Reflect.ownKeys(r)){if(o==="__proto__")continue;const c=e.keyType._zod.run({value:o,issues:[]},s);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){e.mode==="loose"?n.value[o]=r[o]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(u=>Xa(u,s,Ya())),input:o,path:[o],inst:t});continue}const h=e.valueType._zod.run({value:r[o],issues:[]},s);h instanceof Promise?a.push(h.then(u=>{u.issues.length&&n.issues.push(...Bo(o,u.issues)),n.value[c.value]=u.value})):(h.issues.length&&n.issues.push(...Bo(o,h.issues)),n.value[c.value]=h.value)}}return a.length?Promise.all(a).then(()=>n):n}}),k_=pe("$ZodEnum",(t,e)=>{un.init(t,e);const n=kw(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(r=>$I.has(typeof r)).map(r=>typeof r=="string"?mf(r):r.toString()).join("|")})$`),t._zod.parse=(r,a)=>{const l=r.value;return s.has(l)||r.issues.push({code:"invalid_value",values:n,input:l,inst:t}),r}}),E_=pe("$ZodTransform",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new Nw(t.constructor.name);const r=e.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(l=>(n.value=l,n));if(r instanceof Promise)throw new tc;return n.value=r,n}});function C5(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const C_=pe("$ZodOptional",(t,e)=>{un.init(t,e),t._zod.optin="optional",t._zod.optout="optional",It(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),It(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${o2(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>C5(a,n.value)):C5(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),M_=pe("$ZodNullable",(t,e)=>{un.init(t,e),It(t._zod,"optin",()=>e.innerType._zod.optin),It(t._zod,"optout",()=>e.innerType._zod.optout),It(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${o2(n.source)}|null)$`):void 0}),It(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),z_=pe("$ZodDefault",(t,e)=>{un.init(t,e),t._zod.optin="optional",It(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>M5(a,e)):M5(r,e)}});function M5(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const D_=pe("$ZodPrefault",(t,e)=>{un.init(t,e),t._zod.optin="optional",It(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),P_=pe("$ZodNonOptional",(t,e)=>{un.init(t,e),It(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>z5(a,t)):z5(r,t)}});function z5(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const I_=pe("$ZodCatch",(t,e)=>{un.init(t,e),It(t._zod,"optin",()=>e.innerType._zod.optin),It(t._zod,"optout",()=>e.innerType._zod.optout),It(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>Xa(l,s,Ya()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(a=>Xa(a,s,Ya()))},input:n.value}),n.issues=[]),n)}}),R_=pe("$ZodPipe",(t,e)=>{un.init(t,e),It(t._zod,"values",()=>e.in._zod.values),It(t._zod,"optin",()=>e.in._zod.optin),It(t._zod,"optout",()=>e.out._zod.optout),It(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{if(s.direction==="backward"){const a=e.out._zod.run(n,s);return a instanceof Promise?a.then(l=>Ru(l,e.in,s)):Ru(a,e.in,s)}const r=e.in._zod.run(n,s);return r instanceof Promise?r.then(a=>Ru(a,e.out,s)):Ru(r,e.out,s)}});function Ru(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const __=pe("$ZodReadonly",(t,e)=>{un.init(t,e),It(t._zod,"propValues",()=>e.innerType._zod.propValues),It(t._zod,"values",()=>e.innerType._zod.values),It(t._zod,"optin",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optin}),It(t._zod,"optout",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optout}),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(D5):D5(r)}});function D5(t){return t.value=Object.freeze(t.value),t}const q_=pe("$ZodCustom",(t,e)=>{Ei.init(t,e),un.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,r=e.fn(s);if(r instanceof Promise)return r.then(a=>P5(a,n,s,t));P5(r,n,s,t)}});function P5(t,e,n,s){if(!t){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),e.issues.push(xh(r))}}var I5;class $_{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const s=n[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function B_(){return new $_}(I5=globalThis).__zod_globalRegistry??(I5.__zod_globalRegistry=B_());const T0=globalThis.__zod_globalRegistry;function O_(t,e){return new t({type:"string",...Ve(e)})}function L_(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ve(e)})}function R5(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(e)})}function F_(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(e)})}function U_(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(e)})}function H_(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(e)})}function V_(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(e)})}function G_(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ve(e)})}function W_(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(e)})}function Y_(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(e)})}function X_(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(e)})}function Z_(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(e)})}function Q_(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(e)})}function K_(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(e)})}function J_(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(e)})}function eq(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(e)})}function tq(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(e)})}function nq(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(e)})}function iq(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(e)})}function sq(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(e)})}function rq(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(e)})}function aq(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(e)})}function lq(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(e)})}function oq(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(e)})}function cq(t,e){return new t({type:"string",format:"date",check:"string_format",...Ve(e)})}function hq(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ve(e)})}function uq(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ve(e)})}function dq(t,e){return new t({type:"number",checks:[],...Ve(e)})}function mq(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(e)})}function fq(t,e){return new t({type:"boolean",...Ve(e)})}function pq(t){return new t({type:"unknown"})}function xq(t,e){return new t({type:"never",...Ve(e)})}function _5(t,e){return new qw({check:"less_than",...Ve(e),value:t,inclusive:!1})}function Op(t,e){return new qw({check:"less_than",...Ve(e),value:t,inclusive:!0})}function q5(t,e){return new $w({check:"greater_than",...Ve(e),value:t,inclusive:!1})}function Lp(t,e){return new $w({check:"greater_than",...Ve(e),value:t,inclusive:!0})}function $5(t,e){return new DR({check:"multiple_of",...Ve(e),value:t})}function Uw(t,e){return new IR({check:"max_length",...Ve(e),maximum:t})}function vm(t,e){return new RR({check:"min_length",...Ve(e),minimum:t})}function Hw(t,e){return new _R({check:"length_equals",...Ve(e),length:t})}function gq(t,e){return new qR({check:"string_format",format:"regex",...Ve(e),pattern:t})}function yq(t){return new $R({check:"string_format",format:"lowercase",...Ve(t)})}function bq(t){return new BR({check:"string_format",format:"uppercase",...Ve(t)})}function vq(t,e){return new OR({check:"string_format",format:"includes",...Ve(e),includes:t})}function jq(t,e){return new LR({check:"string_format",format:"starts_with",...Ve(e),prefix:t})}function wq(t,e){return new FR({check:"string_format",format:"ends_with",...Ve(e),suffix:t})}function zc(t){return new UR({check:"overwrite",tx:t})}function Tq(t){return zc(e=>e.normalize(t))}function Sq(){return zc(t=>t.trim())}function Nq(){return zc(t=>t.toLowerCase())}function Aq(){return zc(t=>t.toUpperCase())}function kq(){return zc(t=>_I(t))}function Eq(t,e,n){return new t({type:"array",element:e,...Ve(n)})}function Cq(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ve(n)})}function Mq(t){const e=zq(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(xh(s,n.value,e._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(xh(r))}},t(n.value,n)));return e}function zq(t,e){const n=new Ei({check:"custom",...Ve(e)});return n._zod.check=t,n}function Vw(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??T0,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function Pn(t,e,n={path:[],schemaPath:[]}){var u,m;var s;const r=t._zod.def,a=e.seen.get(t);if(a)return a.count++,n.schemaPath.includes(t)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const o=(m=(u=t._zod).toJSONSchema)==null?void 0:m.call(u);if(o)l.schema=o;else{const p={...n,schemaPath:[...n.schemaPath,t],path:n.path},b=t._zod.parent;if(b)l.ref=b,Pn(b,e,p),e.seen.get(b).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,p);else{const E=l.schema,y=e.processors[r.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);y(t,e,E,p)}}const c=e.metadataRegistry.get(t);return c&&Object.assign(l.schema,c),e.io==="input"&&ti(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((s=l.schema).default??(s.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function Gw(t,e){var a,l,o;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=c=>{var b;const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const E=(b=t.external.registry.get(c[0]))==null?void 0:b.id,y=t.external.uri??(S=>S);if(E)return{ref:y(E)};const T=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=T,{defId:T,ref:`${y("__shared")}#/${h}/${T}`}}if(c[1]===n)return{ref:"#"};const m=`#/${h}/`,p=c[1].schema.id??`__schema${t.counter++}`;return{defId:p,ref:m+p}},r=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:u,defId:m}=s(c);h.def={...h.schema},m&&(h.defId=m);const p=h.schema;for(const b in p)delete p[b];p.$ref=u};if(t.cycles==="throw")for(const c of t.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${(a=h.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const h=c[1];if(e===c[0]){r(c);continue}if(t.external){const m=(l=t.external.registry.get(c[0]))==null?void 0:l.id;if(e!==c[0]&&m){r(c);continue}}if((o=t.metadataRegistry.get(c[0]))==null?void 0:o.id){r(c);continue}if(h.cycle){r(c);continue}if(h.count>1&&t.reused==="ref"){r(c);continue}}}function Ww(t,e){var l,o,c;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=h=>{const u=t.seen.get(h),m=u.def??u.schema,p={...m};if(u.ref===null)return;const b=u.ref;if(u.ref=null,b){s(b);const E=t.seen.get(b).schema;E.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(E)):(Object.assign(m,E),Object.assign(m,p))}u.isParent||t.override({zodSchema:h,jsonSchema:m,path:u.path??[]})};for(const h of[...t.seen.entries()].reverse())s(h[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,(l=t.external)!=null&&l.uri){const h=(o=t.external.registry.get(e))==null?void 0:o.id;if(!h)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(h)}Object.assign(r,n.def??n.schema);const a=((c=t.external)==null?void 0:c.defs)??{};for(const h of t.seen.entries()){const u=h[1];u.def&&u.defId&&(a[u.defId]=u.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?r.$defs=a:r.definitions=a);try{const h=JSON.parse(JSON.stringify(r));return Object.defineProperty(h,"~standard",{value:{...e["~standard"],jsonSchema:{input:jm(e,"input"),output:jm(e,"output")}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function ti(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return ti(s.element,n);if(s.type==="set")return ti(s.valueType,n);if(s.type==="lazy")return ti(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return ti(s.innerType,n);if(s.type==="intersection")return ti(s.left,n)||ti(s.right,n);if(s.type==="record"||s.type==="map")return ti(s.keyType,n)||ti(s.valueType,n);if(s.type==="pipe")return ti(s.in,n)||ti(s.out,n);if(s.type==="object"){for(const r in s.shape)if(ti(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(ti(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(ti(r,n))return!0;return!!(s.rest&&ti(s.rest,n))}return!1}const Dq=(t,e={})=>n=>{const s=Vw({...n,processors:e});return Pn(t,s),Gw(s,t),Ww(s,t)},jm=(t,e)=>n=>{const{libraryOptions:s,target:r}=n??{},a=Vw({...s??{},target:r,io:e,processors:{}});return Pn(t,a),Gw(a,t),Ww(a,t)},Pq={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Iq=(t,e,n,s)=>{const r=n;r.type="string";const{minimum:a,maximum:l,format:o,patterns:c,contentEncoding:h}=t._zod.bag;if(typeof a=="number"&&(r.minLength=a),typeof l=="number"&&(r.maxLength=l),o&&(r.format=Pq[o]??o,r.format===""&&delete r.format),h&&(r.contentEncoding=h),c&&c.size>0){const u=[...c];u.length===1?r.pattern=u[0].source:u.length>1&&(r.allOf=[...u.map(m=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},Rq=(t,e,n,s)=>{const r=n,{minimum:a,maximum:l,format:o,multipleOf:c,exclusiveMaximum:h,exclusiveMinimum:u}=t._zod.bag;typeof o=="string"&&o.includes("int")?r.type="integer":r.type="number",typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.minimum=u,r.exclusiveMinimum=!0):r.exclusiveMinimum=u),typeof a=="number"&&(r.minimum=a,typeof u=="number"&&e.target!=="draft-04"&&(u>=a?delete r.minimum:delete r.exclusiveMinimum)),typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.maximum=h,r.exclusiveMaximum=!0):r.exclusiveMaximum=h),typeof l=="number"&&(r.maximum=l,typeof h=="number"&&e.target!=="draft-04"&&(h<=l?delete r.maximum:delete r.exclusiveMaximum)),typeof c=="number"&&(r.multipleOf=c)},_q=(t,e,n,s)=>{n.type="boolean"},qq=(t,e,n,s)=>{n.not={}},$q=(t,e,n,s)=>{},Bq=(t,e,n,s)=>{const r=t._zod.def,a=kw(r.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},Oq=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Lq=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Fq=(t,e,n,s)=>{const r=n,a=t._zod.def,{minimum:l,maximum:o}=t._zod.bag;typeof l=="number"&&(r.minItems=l),typeof o=="number"&&(r.maxItems=o),r.type="array",r.items=Pn(a.element,e,{...s,path:[...s.path,"items"]})},Uq=(t,e,n,s)=>{var h;const r=n,a=t._zod.def;r.type="object",r.properties={};const l=a.shape;for(const u in l)r.properties[u]=Pn(l[u],e,{...s,path:[...s.path,"properties",u]});const o=new Set(Object.keys(l)),c=new Set([...o].filter(u=>{const m=a.shape[u]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));c.size>0&&(r.required=Array.from(c)),((h=a.catchall)==null?void 0:h._zod.def.type)==="never"?r.additionalProperties=!1:a.catchall?a.catchall&&(r.additionalProperties=Pn(a.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(r.additionalProperties=!1)},Hq=(t,e,n,s)=>{const r=t._zod.def,a=r.inclusive===!1,l=r.options.map((o,c)=>Pn(o,e,{...s,path:[...s.path,a?"oneOf":"anyOf",c]}));a?n.oneOf=l:n.anyOf=l},Vq=(t,e,n,s)=>{const r=t._zod.def,a=Pn(r.left,e,{...s,path:[...s.path,"allOf",0]}),l=Pn(r.right,e,{...s,path:[...s.path,"allOf",1]}),o=h=>"allOf"in h&&Object.keys(h).length===1,c=[...o(a)?a.allOf:[a],...o(l)?l.allOf:[l]];n.allOf=c},Gq=(t,e,n,s)=>{const r=n,a=t._zod.def;r.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(r.propertyNames=Pn(a.keyType,e,{...s,path:[...s.path,"propertyNames"]})),r.additionalProperties=Pn(a.valueType,e,{...s,path:[...s.path,"additionalProperties"]})},Wq=(t,e,n,s)=>{const r=t._zod.def,a=Pn(r.innerType,e,s),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=r.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},Yq=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType},Xq=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},Zq=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},Qq=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType;let l;try{l=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},Kq=(t,e,n,s)=>{const r=t._zod.def,a=e.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;Pn(a,e,s);const l=e.seen.get(t);l.ref=a},Jq=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType,n.readOnly=!0},e$=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType},t$=pe("ZodISODateTime",(t,e)=>{i_.init(t,e),sn.init(t,e)});function n$(t){return oq(t$,t)}const i$=pe("ZodISODate",(t,e)=>{s_.init(t,e),sn.init(t,e)});function s$(t){return cq(i$,t)}const r$=pe("ZodISOTime",(t,e)=>{r_.init(t,e),sn.init(t,e)});function a$(t){return hq(r$,t)}const l$=pe("ZodISODuration",(t,e)=>{a_.init(t,e),sn.init(t,e)});function o$(t){return uq(l$,t)}const c$=(t,e)=>{zw.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>XI(t,n)},flatten:{value:n=>YI(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,ng,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,ng,2)}},isEmpty:{get(){return t.issues.length===0}}})},bs=pe("ZodError",c$,{Parent:Error}),h$=h2(bs),u$=u2(bs),d$=ff(bs),m$=pf(bs),f$=KI(bs),p$=JI(bs),x$=eR(bs),g$=tR(bs),y$=nR(bs),b$=iR(bs),v$=sR(bs),j$=rR(bs),bn=pe("ZodType",(t,e)=>(un.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:jm(t,"input"),output:jm(t,"output")}}),t.toJSONSchema=Dq(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(ao(e,{checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),t.clone=(n,s)=>ll(t,n,s),t.brand=()=>t,t.register=(n,s)=>(n.add(t,s),t),t.parse=(n,s)=>h$(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>d$(t,n,s),t.parseAsync=async(n,s)=>u$(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>m$(t,n,s),t.spa=t.safeParseAsync,t.encode=(n,s)=>f$(t,n,s),t.decode=(n,s)=>p$(t,n,s),t.encodeAsync=async(n,s)=>x$(t,n,s),t.decodeAsync=async(n,s)=>g$(t,n,s),t.safeEncode=(n,s)=>y$(t,n,s),t.safeDecode=(n,s)=>b$(t,n,s),t.safeEncodeAsync=async(n,s)=>v$(t,n,s),t.safeDecodeAsync=async(n,s)=>j$(t,n,s),t.refine=(n,s)=>t.check(dB(n,s)),t.superRefine=n=>t.check(mB(n)),t.overwrite=n=>t.check(zc(n)),t.optional=()=>L5(t),t.nullable=()=>F5(t),t.nullish=()=>L5(F5(t)),t.nonoptional=n=>rB(t,n),t.array=()=>yc(t),t.or=n=>Zw([t,n]),t.and=n=>Z$(t,n),t.transform=n=>U5(t,J$(n)),t.default=n=>nB(t,n),t.prefault=n=>sB(t,n),t.catch=n=>lB(t,n),t.pipe=n=>U5(t,n),t.readonly=()=>hB(t),t.describe=n=>{const s=t.clone();return T0.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){var n;return(n=T0.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return T0.get(t);const s=t.clone();return T0.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Yw=pe("_ZodString",(t,e)=>{d2.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(s,r,a)=>Iq(t,s,r);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(gq(...s)),t.includes=(...s)=>t.check(vq(...s)),t.startsWith=(...s)=>t.check(jq(...s)),t.endsWith=(...s)=>t.check(wq(...s)),t.min=(...s)=>t.check(vm(...s)),t.max=(...s)=>t.check(Uw(...s)),t.length=(...s)=>t.check(Hw(...s)),t.nonempty=(...s)=>t.check(vm(1,...s)),t.lowercase=s=>t.check(yq(s)),t.uppercase=s=>t.check(bq(s)),t.trim=()=>t.check(Sq()),t.normalize=(...s)=>t.check(Tq(...s)),t.toLowerCase=()=>t.check(Nq()),t.toUpperCase=()=>t.check(Aq()),t.slugify=()=>t.check(kq())}),w$=pe("ZodString",(t,e)=>{d2.init(t,e),Yw.init(t,e),t.email=n=>t.check(L_(T$,n)),t.url=n=>t.check(G_(S$,n)),t.jwt=n=>t.check(lq(B$,n)),t.emoji=n=>t.check(W_(N$,n)),t.guid=n=>t.check(R5(B5,n)),t.uuid=n=>t.check(F_(_u,n)),t.uuidv4=n=>t.check(U_(_u,n)),t.uuidv6=n=>t.check(H_(_u,n)),t.uuidv7=n=>t.check(V_(_u,n)),t.nanoid=n=>t.check(Y_(A$,n)),t.guid=n=>t.check(R5(B5,n)),t.cuid=n=>t.check(X_(k$,n)),t.cuid2=n=>t.check(Z_(E$,n)),t.ulid=n=>t.check(Q_(C$,n)),t.base64=n=>t.check(sq(_$,n)),t.base64url=n=>t.check(rq(q$,n)),t.xid=n=>t.check(K_(M$,n)),t.ksuid=n=>t.check(J_(z$,n)),t.ipv4=n=>t.check(eq(D$,n)),t.ipv6=n=>t.check(tq(P$,n)),t.cidrv4=n=>t.check(nq(I$,n)),t.cidrv6=n=>t.check(iq(R$,n)),t.e164=n=>t.check(aq($$,n)),t.datetime=n=>t.check(n$(n)),t.date=n=>t.check(s$(n)),t.time=n=>t.check(a$(n)),t.duration=n=>t.check(o$(n))});function zn(t){return O_(w$,t)}const sn=pe("ZodStringFormat",(t,e)=>{Wt.init(t,e),Yw.init(t,e)}),T$=pe("ZodEmail",(t,e)=>{YR.init(t,e),sn.init(t,e)}),B5=pe("ZodGUID",(t,e)=>{GR.init(t,e),sn.init(t,e)}),_u=pe("ZodUUID",(t,e)=>{WR.init(t,e),sn.init(t,e)}),S$=pe("ZodURL",(t,e)=>{XR.init(t,e),sn.init(t,e)}),N$=pe("ZodEmoji",(t,e)=>{ZR.init(t,e),sn.init(t,e)}),A$=pe("ZodNanoID",(t,e)=>{QR.init(t,e),sn.init(t,e)}),k$=pe("ZodCUID",(t,e)=>{KR.init(t,e),sn.init(t,e)}),E$=pe("ZodCUID2",(t,e)=>{JR.init(t,e),sn.init(t,e)}),C$=pe("ZodULID",(t,e)=>{e_.init(t,e),sn.init(t,e)}),M$=pe("ZodXID",(t,e)=>{t_.init(t,e),sn.init(t,e)}),z$=pe("ZodKSUID",(t,e)=>{n_.init(t,e),sn.init(t,e)}),D$=pe("ZodIPv4",(t,e)=>{l_.init(t,e),sn.init(t,e)}),P$=pe("ZodIPv6",(t,e)=>{o_.init(t,e),sn.init(t,e)}),I$=pe("ZodCIDRv4",(t,e)=>{c_.init(t,e),sn.init(t,e)}),R$=pe("ZodCIDRv6",(t,e)=>{h_.init(t,e),sn.init(t,e)}),_$=pe("ZodBase64",(t,e)=>{u_.init(t,e),sn.init(t,e)}),q$=pe("ZodBase64URL",(t,e)=>{m_.init(t,e),sn.init(t,e)}),$$=pe("ZodE164",(t,e)=>{f_.init(t,e),sn.init(t,e)}),B$=pe("ZodJWT",(t,e)=>{x_.init(t,e),sn.init(t,e)}),Xw=pe("ZodNumber",(t,e)=>{Ow.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(s,r,a)=>Rq(t,s,r),t.gt=(s,r)=>t.check(q5(s,r)),t.gte=(s,r)=>t.check(Lp(s,r)),t.min=(s,r)=>t.check(Lp(s,r)),t.lt=(s,r)=>t.check(_5(s,r)),t.lte=(s,r)=>t.check(Op(s,r)),t.max=(s,r)=>t.check(Op(s,r)),t.int=s=>t.check(O5(s)),t.safe=s=>t.check(O5(s)),t.positive=s=>t.check(q5(0,s)),t.nonnegative=s=>t.check(Lp(0,s)),t.negative=s=>t.check(_5(0,s)),t.nonpositive=s=>t.check(Op(0,s)),t.multipleOf=(s,r)=>t.check($5(s,r)),t.step=(s,r)=>t.check($5(s,r)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Un(t){return dq(Xw,t)}const O$=pe("ZodNumberFormat",(t,e)=>{g_.init(t,e),Xw.init(t,e)});function O5(t){return mq(O$,t)}const L$=pe("ZodBoolean",(t,e)=>{y_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>_q(t,n,s)});function F$(t){return fq(L$,t)}const U$=pe("ZodUnknown",(t,e)=>{b_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>$q()});function sg(){return pq(U$)}const H$=pe("ZodNever",(t,e)=>{v_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>qq(t,n,s)});function V$(t){return xq(H$,t)}const G$=pe("ZodArray",(t,e)=>{j_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Fq(t,n,s,r),t.element=e.element,t.min=(n,s)=>t.check(vm(n,s)),t.nonempty=n=>t.check(vm(1,n)),t.max=(n,s)=>t.check(Uw(n,s)),t.length=(n,s)=>t.check(Hw(n,s)),t.unwrap=()=>t.element});function yc(t,e){return Eq(G$,t,e)}const W$=pe("ZodObject",(t,e)=>{T_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Uq(t,n,s,r),It(t,"shape",()=>e.shape),t.keyof=()=>ag(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:sg()}),t.loose=()=>t.clone({...t._zod.def,catchall:sg()}),t.strict=()=>t.clone({...t._zod.def,catchall:V$()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>UI(t,n),t.safeExtend=n=>HI(t,n),t.merge=n=>VI(t,n),t.pick=n=>LI(t,n),t.omit=n=>FI(t,n),t.partial=(...n)=>GI(Kw,t,n[0]),t.required=(...n)=>WI(Jw,t,n[0])});function Is(t,e){const n={type:"object",shape:t??{},...Ve(e)};return new W$(n)}const Y$=pe("ZodUnion",(t,e)=>{S_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Hq(t,n,s,r),t.options=e.options});function Zw(t,e){return new Y$({type:"union",options:t,...Ve(e)})}const X$=pe("ZodIntersection",(t,e)=>{N_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Vq(t,n,s,r)});function Z$(t,e){return new X$({type:"intersection",left:t,right:e})}const Q$=pe("ZodRecord",(t,e)=>{A_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Gq(t,n,s,r),t.keyType=e.keyType,t.valueType=e.valueType});function Qw(t,e,n){return new Q$({type:"record",keyType:t,valueType:e,...Ve(n)})}const rg=pe("ZodEnum",(t,e)=>{k_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(s,r,a)=>Bq(t,s,r),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,r)=>{const a={};for(const l of s)if(n.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new rg({...e,checks:[],...Ve(r),entries:a})},t.exclude=(s,r)=>{const a={...e.entries};for(const l of s)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new rg({...e,checks:[],...Ve(r),entries:a})}});function ag(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new rg({type:"enum",entries:n,...Ve(e)})}const K$=pe("ZodTransform",(t,e)=>{E_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Lq(t,n),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new Nw(t.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(xh(a,n.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(xh(l))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function J$(t){return new K$({type:"transform",transform:t})}const Kw=pe("ZodOptional",(t,e)=>{C_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>e$(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function L5(t){return new Kw({type:"optional",innerType:t})}const eB=pe("ZodNullable",(t,e)=>{M_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Wq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function F5(t){return new eB({type:"nullable",innerType:t})}const tB=pe("ZodDefault",(t,e)=>{z_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Xq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function nB(t,e){return new tB({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Cw(e)}})}const iB=pe("ZodPrefault",(t,e)=>{D_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Zq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function sB(t,e){return new iB({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Cw(e)}})}const Jw=pe("ZodNonOptional",(t,e)=>{P_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Yq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function rB(t,e){return new Jw({type:"nonoptional",innerType:t,...Ve(e)})}const aB=pe("ZodCatch",(t,e)=>{I_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Qq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function lB(t,e){return new aB({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const oB=pe("ZodPipe",(t,e)=>{R_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Kq(t,n,s,r),t.in=e.in,t.out=e.out});function U5(t,e){return new oB({type:"pipe",in:t,out:e})}const cB=pe("ZodReadonly",(t,e)=>{__.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Jq(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function hB(t){return new cB({type:"readonly",innerType:t})}const uB=pe("ZodCustom",(t,e)=>{q_.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>Oq(t,n)});function dB(t,e={}){return Cq(uB,t,e)}function mB(t){return Mq(t)}tr("Validation");const H5=zn().min(1).max(100);zn().regex(/^[a-fA-F0-9]{64}$/);const gf=zn().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),eT=zn().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);zn().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);Is({challenge:zn().min(10).max(200),expiresAt:Un().int().positive()});Is({kind:Un().int(),created_at:Un().int().nonnegative(),tags:yc(yc(zn())),content:zn()});Is({npub:gf,displayName:eT.nullable()});const tT=Is({visitedAt:zn().nullable().optional(),completedAt:zn().nullable().optional(),quizAttempts:yc(Is({xpEarned:Un().int().min(0).optional(),score:Un().min(0).max(100).optional(),timestamp:zn().optional(),difficulty:ag(["easy","medium","hard"]).optional(),correctAnswers:Un().int().min(0).optional(),totalQuestions:Un().int().min(1).optional()})).optional(),visualizationsInteracted:yc(zn().max(100)).optional(),masteryLevel:Zw([Un().int().min(0).max(3),ag(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:zn().optional(),timeSpentSeconds:Un().int().min(0).optional()});Is({user:Is({totalXP:Un().int().min(0),level:Un().int().min(1).max(10),sectionsCompleted:yc(H5)}),sections:Qw(H5,tT),dailyGoals:Is({lastResetDate:zn().nullable(),currentStreak:Un().int().min(0),xpEarned:Un().int().min(0),xpGoal:Un().int().min(0)}),lastUpdated:Un().int().nonnegative()});Is({success:F$(),totalXP:Un().int().min(0)});Is({npub:gf,displayName:eT.nullable(),xp:Un().int().min(0),lastSync:zn()});Is({timestamp:zn(),action:zn(),targetNpub:gf.nullable(),performedBy:zn(),details:Qw(zn(),sg()).nullable()});function Fp(t){return gf.safeParse(t).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function fB(t){const e=tT.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid section data format"}}const Ni={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},V0=[0,100,250,500,850,1300,1900,2650,3550,4600],nT=50,wm=tr("SyncManager"),pB="magic-internet-math-progress";function V5(){try{const t=localStorage.getItem(pB);if(!t)return null;const e=JSON.parse(t);if(!(e!=null&&e.user)||!(e!=null&&e.sections))return null;const n={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0,four_pillars:0};for(const[s,r]of Object.entries(e.sections)){const[a]=s.split(":");if(!II(a))continue;const l=a,o=fB(r);if(!o.valid||!o.data){wm.warn(`Invalid section data for ${s}, skipping`);continue}const c=o.data;if(c.quizAttempts)for(const h of c.quizAttempts)h.xpEarned&&(n[l]+=h.xpEarned);c.visitedAt&&(n[l]+=Ni.SECTION_VISIT),c.completedAt&&(n[l]+=Ni.SECTION_COMPLETE),c.visualizationsInteracted&&(n[l]+=c.visualizationsInteracted.length*Ni.VISUALIZATION_USE)}return[{courseId:"ba",xp:n.ba},{courseId:"crypto",xp:n.crypto},{courseId:"aa",xp:n.aa},{courseId:"linalg",xp:n.linalg},{courseId:"advlinalg",xp:n.advlinalg},{courseId:"template",xp:n.template},{courseId:"islr",xp:n.islr},{courseId:"ra",xp:n.ra},{courseId:"calc1",xp:n.calc1},{courseId:"calc_lib_art",xp:n.calc_lib_art},{courseId:"four_pillars",xp:n.four_pillars}]}catch(t){return wm.error("Error extracting scores from storage:",t),null}}class xB{constructor(){pr(this,"syncInterval",null);pr(this,"debounceTimeout",null);pr(this,"lastSyncTime",0);pr(this,"isAuthenticated",!1);pr(this,"displayName",null);pr(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()})}setAuthenticated(e){this.isAuthenticated=e,e&&this.syncNow()}setDisplayName(e){this.displayName=e}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},gI),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},yI))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!r2())return{success:!1,error:"Firebase not configured"};const e=Date.now();if(e-this.lastSyncTime<pI)return{success:!1,error:"Rate limited"};try{const n=V5();if(!n)return{success:!1,error:"No scores to sync"};const s=qo(),r=_o(s,"syncScores"),a={scores:n};this.displayName!==void 0&&(a.displayName=this.displayName);const l=await r(a);return this.lastSyncTime=e,{success:l.data.success,totalXP:l.data.totalXP}}catch(n){return wm.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(e=3){for(let n=0;n<e;n++){const s=await this.syncNow();if(s.success||s.error==="Not authenticated"||s.error==="No scores to sync"||s.error==="Firebase not configured")return s;if(n<e-1){const r=1e3*Math.pow(2,n);wm.debug(`Sync retry ${n+1}/${e} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const e=V5();return e?e.reduce((n,s)=>(n[s.courseId]=s.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0,four_pillars:0}):null}}let Up=null;function iT(){return Up||(Up=new xB),Up}tr("NostrAuth");const gB=q.createContext(null);function yf(){const t=q.useContext(gB);if(!t)throw new Error("useNostrAuth must be used within NostrAuthProvider");return t}tr("ErrorContext");q.createContext(null);tr("ErrorBoundary");function G5({className:t="",showDisplayName:e=!0}){var p,b;const{isAuthenticated:n,isConnecting:s,npub:r,displayName:a,hasExtension:l,extensionChecked:o,error:c,connect:h,disconnect:u,clearError:m}=yf();return o?n?i.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((p=a==null?void 0:a[0])==null?void 0:p.toUpperCase())||((b=r==null?void 0:r[5])==null?void 0:b.toUpperCase())||"?"}),i.jsxs("div",{className:"flex flex-col",children:[e&&a&&i.jsx("span",{className:"text-sm font-medium text-dark-100",children:a}),i.jsx("span",{className:"text-xs text-dark-400 font-mono",children:r?gm(r,6):"..."})]})]}),i.jsx("button",{onClick:u,className:"p-1.5 rounded-lg text-dark-400 hover:text-dark-200 hover:bg-dark-700/50 transition-colors",title:"Disconnect",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):i.jsxs("div",{className:`flex flex-col items-center gap-2 ${t}`,children:[i.jsx("button",{onClick:()=>{h()},disabled:s||!l,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm
            transition-all duration-200
            ${l?s?"bg-primary-600 text-white opacity-70 cursor-wait":"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/25":"bg-dark-700 text-dark-400 cursor-not-allowed"}
          `,children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Connect with Nostr"]})}),!l&&i.jsxs("p",{className:"text-xs text-dark-400 text-center max-w-xs",children:["Install a Nostr extension like"," ",i.jsx("a",{href:"https://github.com/nickytonline/nos2x",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"nos2x"})," ","or"," ",i.jsx("a",{href:"https://getalby.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"Alby"})," ","to connect"]}),c&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400",children:[i.jsx("span",{children:c}),i.jsx("button",{onClick:m,className:"text-dark-400 hover:text-dark-200",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):i.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[i.jsx("div",{className:"w-4 h-4 border-2 border-dark-400 border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"text-dark-400 text-sm",children:"Checking..."})]})}function yB(t){switch(t){case 1:return{emoji:"1st",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case 2:return{emoji:"2nd",bgColor:"bg-gray-400/20",textColor:"text-gray-300",borderColor:"border-gray-400/30"};case 3:return{emoji:"3rd",bgColor:"bg-orange-500/20",textColor:"text-orange-400",borderColor:"border-orange-500/30"};default:return{emoji:`${t}`,bgColor:"bg-dark-700/50",textColor:"text-dark-300",borderColor:"border-dark-600/30"}}}function bB({entry:t,isCurrentUser:e}){var s,r,a;const n=yB(t.rank);return i.jsxs("div",{className:`
        flex items-center gap-4 p-3 rounded-xl transition-colors
        ${e?"bg-primary-500/10 border border-primary-500/30":"hover:bg-dark-700/30"}
      `,children:[i.jsx("div",{className:`
          w-10 h-10 rounded-lg ${n.bgColor} ${n.borderColor} border
          flex items-center justify-center font-bold ${n.textColor}
          ${t.rank<=3?"text-lg":"text-sm"}
        `,children:n.emoji}),i.jsx("div",{className:`
          w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold
          ${t.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":t.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500":t.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-primary-500 to-purple-500"}
        `,children:((r=(s=t.displayName)==null?void 0:s[0])==null?void 0:r.toUpperCase())||((a=t.npub[5])==null?void 0:a.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`font-medium truncate ${e?"text-primary-300":"text-dark-100"}`,children:t.displayName||gm(t.npub,8)}),e&&i.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-1.5 py-0.5 rounded",children:"You"})]}),t.displayName&&i.jsx("span",{className:"text-xs text-dark-500 font-mono",children:gm(t.npub,6)})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[t.xp.toLocaleString(),i.jsx("span",{className:"text-xs text-dark-400 ml-1",children:"XP"})]}),i.jsxs("div",{className:"text-xs text-dark-400",children:["Level ",t.level]})]})]})}function vB(){return i.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(t=>i.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl animate-pulse",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700"}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-dark-700 rounded w-32"}),i.jsx("div",{className:"h-3 bg-dark-700 rounded w-24"})]}),i.jsxs("div",{className:"space-y-2 text-right",children:[i.jsx("div",{className:"h-5 bg-dark-700 rounded w-16 ml-auto"}),i.jsx("div",{className:"h-3 bg-dark-700 rounded w-12 ml-auto"})]})]},t))})}function jB(){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-4xl mb-3",children:""}),i.jsx("p",{className:"text-dark-300 font-medium",children:"No rankings yet"}),i.jsx("p",{className:"text-dark-500 text-sm mt-1",children:"Be the first to join the leaderboard!"})]})}function wB({rankings:t,currentUserNpub:e,isLoading:n=!1}){return n?i.jsx(vB,{}):t.length===0?i.jsx(jB,{}):i.jsx("div",{className:"space-y-2",children:t.map(s=>i.jsx(bB,{entry:s,isCurrentUser:e===s.npub},s.npub))})}function TB({rank:t,totalXP:e,level:n,courseXP:s}){var u,m;const{npub:r,displayName:a,nip05:l}=yf(),[o,c]=q.useState(!1),h=q.useCallback(()=>{r&&(navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3))},[r]);return r?i.jsxs("div",{className:"p-5 rounded-2xl bg-gradient-to-br from-primary-500/10 to-purple-500/10 border border-primary-500/20 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-primary-500/25",children:((u=a==null?void 0:a[0])==null?void 0:u.toUpperCase())||((m=r[5])==null?void 0:m.toUpperCase())||"?"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[a&&i.jsx("div",{className:"font-semibold text-dark-100 truncate text-lg",children:a}),l&&i.jsxs("div",{className:"text-sm text-dark-300 flex items-center gap-1",children:[i.jsx("span",{className:"truncate",children:l}),i.jsx("svg",{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),i.jsxs("button",{onClick:h,className:"text-xs text-dark-400 font-mono break-all text-left hover:text-dark-200 transition-colors group",title:"Click to copy",children:[r,i.jsx("span",{className:"ml-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:o?"":""})]})]}),i.jsx("div",{className:"text-right",children:t!==null?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-3xl font-bold text-primary-400",children:["#",t]}),i.jsx("div",{className:"text-xs text-dark-400",children:"Global Rank"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-xl font-bold text-dark-400",children:"--"}),i.jsx("div",{className:"text-xs text-dark-500",children:"Not ranked"})]})})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:e.toLocaleString()}),i.jsx("div",{className:"text-xs text-dark-400",children:"Total XP"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:n}),i.jsx("div",{className:"text-xs text-dark-400",children:"Level"})]})]}),s&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[i.jsx("div",{className:"text-xs text-dark-400 mb-2",children:"XP by Course"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[i.jsx("div",{className:"text-sm font-bold text-blue-400",children:(s.ba||0).toLocaleString()}),i.jsx("div",{className:"text-xs text-dark-500",children:"Basic Algebra"})]}),i.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[i.jsx("div",{className:"text-sm font-bold text-green-400",children:(s.crypto||0).toLocaleString()}),i.jsx("div",{className:"text-xs text-dark-500",children:"Cryptography"})]}),i.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[i.jsx("div",{className:"text-sm font-bold text-purple-400",children:(s.aa||0).toLocaleString()}),i.jsx("div",{className:"text-xs text-dark-500",children:"Abstract Algebra"})]}),i.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[i.jsx("div",{className:"text-sm font-bold text-cyan-400",children:(s.linalg||0).toLocaleString()}),i.jsx("div",{className:"text-xs text-dark-500",children:"Linear Algebra"})]}),i.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[i.jsx("div",{className:"text-sm font-bold text-pink-400",children:(s.advlinalg||0).toLocaleString()}),i.jsx("div",{className:"text-xs text-dark-500",children:"Adv. Linear Alg."})]})]})]})]}):null}const SB=tr("AdminPanel");function NB({className:t=""}){const{isAdmin:e}=yf(),[n,s]=q.useState(""),[r,a]=q.useState(""),[l,o]=q.useState(!1),[c,h]=q.useState(null),[u,m]=q.useState([]),[p,b]=q.useState(!1),E=q.useCallback(async()=>{if(!(!r2()||!e))try{const v=qo(),x=await _o(v,"getAdminLogs")({limit:20});m(x.data.logs)}catch(v){SB.error("Failed to load admin logs:",v)}},[e]);q.useEffect(()=>{p&&E()},[p,E]);const y=async()=>{const v=n.trim();if(!v){h({type:"error",text:"Please enter an npub"});return}const f=Fp(v);if(!f.valid){h({type:"error",text:f.error||"Invalid npub format"});return}o(!0),h(null);try{const x=qo();await _o(x,"banUser")({targetNpub:n.trim(),reason:r.trim()||void 0}),h({type:"success",text:"User banned successfully"}),s(""),a(""),p&&E()}catch(x){h({type:"error",text:x instanceof Error?x.message:"Failed to ban user"})}finally{o(!1)}},T=async()=>{const v=n.trim();if(!v){h({type:"error",text:"Please enter an npub"});return}const f=Fp(v);if(!f.valid){h({type:"error",text:f.error||"Invalid npub format"});return}o(!0),h(null);try{const x=qo();await _o(x,"unbanUser")({targetNpub:n.trim()}),h({type:"success",text:"User unbanned successfully"}),s(""),p&&E()}catch(x){h({type:"error",text:x instanceof Error?x.message:"Failed to unban user"})}finally{o(!1)}},S=async()=>{const v=n.trim();if(!v){h({type:"error",text:"Please enter an npub"});return}const f=Fp(v);if(!f.valid){h({type:"error",text:f.error||"Invalid npub format"});return}if(confirm("Are you sure you want to reset this user's scores? This cannot be undone.")){o(!0),h(null);try{const x=qo();await _o(x,"resetUserScores")({targetNpub:n.trim(),reason:r.trim()||void 0}),h({type:"success",text:"User scores reset successfully"}),s(""),a(""),p&&E()}catch(x){h({type:"error",text:x instanceof Error?x.message:"Failed to reset scores"})}finally{o(!1)}}},N=v=>new Date(v.seconds*1e3).toLocaleString();return e?i.jsxs("div",{className:`p-5 rounded-2xl bg-dark-800/60 border border-dark-700/50 ${t}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-dark-100 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),"Admin Panel"]}),i.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Admin"})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Target User (npub)"}),i.jsx("input",{type:"text",value:n,onChange:v=>s(v.target.value),placeholder:"npub1...",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm font-mono focus:outline-none focus:border-primary-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Reason (optional)"}),i.jsx("input",{type:"text",value:r,onChange:v=>a(v.target.value),placeholder:"Reason for action",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500"})]})]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("button",{onClick:y,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-medium hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Ban User"}),i.jsx("button",{onClick:T,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-green-600/20 border border-green-500/30 text-green-400 text-sm font-medium hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Unban User"}),i.jsx("button",{onClick:S,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-orange-600/20 border border-orange-500/30 text-orange-400 text-sm font-medium hover:bg-orange-600/30 transition-colors disabled:opacity-50",children:"Reset Scores"})]}),c&&i.jsx("div",{className:`p-3 rounded-lg text-sm mb-4 ${c.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:c.text}),i.jsxs("button",{onClick:()=>b(!p),className:"w-full text-sm text-dark-400 hover:text-dark-200 transition-colors flex items-center justify-center gap-1",children:[p?"Hide":"Show"," Admin Logs",i.jsx("svg",{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[i.jsx("h4",{className:"text-sm font-medium text-dark-200 mb-2",children:"Recent Actions"}),u.length===0?i.jsx("p",{className:"text-xs text-dark-500",children:"No admin actions recorded"}):i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.map(v=>i.jsxs("div",{className:"p-2 rounded-lg bg-dark-900/50 text-xs",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:`font-medium ${v.action==="ban"?"text-red-400":v.action==="unban"?"text-green-400":"text-orange-400"}`,children:v.action.toUpperCase()}),i.jsx("span",{className:"text-dark-500",children:N(v.timestamp)})]}),i.jsxs("div",{className:"text-dark-400",children:["Target: ",i.jsx("span",{className:"font-mono",children:gm(v.targetNpub,8)})]}),v.reason&&i.jsxs("div",{className:"text-dark-500 mt-1",children:["Reason: ",v.reason]})]},v.id))})]})]}):null}const AB=tr("Leaderboard"),sT="magic-internet-math-leaderboard-cache";function kB(t){try{const e=localStorage.getItem(sT);if(!e)return null;const n=JSON.parse(e);return n.tab!==t||Date.now()-n.timestamp>bI?null:n}catch{return null}}function EB(t,e,n){try{const s={rankings:t,userRank:e,timestamp:Date.now(),tab:n};localStorage.setItem(sT,JSON.stringify(s))}catch{}}function W5(t){if(t instanceof Error){const e=t.message.toLowerCase();if(e.includes("unauthenticated")||e.includes("not authenticated"))return"Please connect your Nostr wallet to view the leaderboard.";if(e.includes("permission")||e.includes("denied"))return"You don't have permission to access this resource.";if(e.includes("not-found")||e.includes("not found"))return"The requested data was not found.";if(e.includes("network")||e.includes("fetch")||e.includes("failed to fetch"))return"Network error. Please check your connection and try again.";if(e.includes("timeout")||e.includes("deadline"))return"Request timed out. Please try again."}return"Failed to load leaderboard. Please try again."}const Y5=[{id:"overall",label:"Overall",shortLabel:"All"},{id:"ba",label:"Basic Algebra",shortLabel:"BA"},{id:"crypto",label:"Cryptography",shortLabel:"Crypto"},{id:"aa",label:"Abstract Algebra",shortLabel:"AA"},{id:"linalg",label:"Linear Algebra",shortLabel:"LinAlg"},{id:"advlinalg",label:"Advanced Linear Algebra",shortLabel:"AdvLinAlg"},{id:"islr",label:"Statistical Learning",shortLabel:"ISLR"},{id:"ra",label:"Real Analysis",shortLabel:"RA"},{id:"calc1",label:"Calculus I",shortLabel:"Calc1"},{id:"calc_lib_art",label:"Calculus (Liberal Arts)",shortLabel:"CalcLA"},{id:"calc_easy",label:"Calculus Made Easy",shortLabel:"CalcEasy"}];function CB({className:t=""}){var k;const{isAuthenticated:e,npub:n,displayName:s,setDisplayName:r,isAdmin:a}=yf(),[l,o]=q.useState("overall"),[c,h]=q.useState([]),[u,m]=q.useState(null),[p,b]=q.useState(!0),[E,y]=q.useState(null),[T,S]=q.useState(!1),[N,v]=q.useState(s||""),f=q.useRef(new Map),x=q.useCallback(async()=>{if(!r2()){y("Firebase not configured"),b(!1);return}b(!0),y(null);try{const M=qo(),O=await _o(M,"getLeaderboard")({courseId:l,limit:50});h(O.data.rankings),m(O.data.userRank),EB(O.data.rankings,O.data.userRank,l)}catch(M){AB.error("Failed to load leaderboard:",M);const I=kB(l);I?(h(I.rankings),m(I.userRank),y("Showing cached data. "+W5(M))):y(W5(M))}finally{b(!1)}},[l]);q.useEffect(()=>{x()},[x]),q.useEffect(()=>{(async()=>{const I=c.filter($=>!$.displayName&&!f.current.has($.npub)).map($=>$.npub);if(I.length===0)return;const O=await DI(I);O.forEach(($,G)=>{f.current.set(G,$)}),O.size>0&&h($=>$.map(G=>{const V=f.current.get(G.npub);return!G.displayName&&V?{...G,displayName:V.display_name||V.name||null}:G}))})()},[c]),q.useEffect(()=>{const M=setInterval(x,xI);return()=>clearInterval(M)},[x]);const j=iT().getLocalScores(),g=j?Object.values(j).reduce((M,I)=>M+(I||0),0):0,A=Math.floor(Math.sqrt(g/100))+1,w=()=>{const M=N.trim().slice(0,30);r(M||null),S(!1)};return i.jsxs("div",{className:`max-w-2xl mx-auto ${t}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:"Leaderboard"}),i.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Compete with other learners across all courses"})]}),i.jsx(G5,{showDisplayName:!1})]}),e&&i.jsxs("div",{className:"mb-6",children:[i.jsx(TB,{rank:u,totalXP:g,level:A,courseXP:j||void 0}),i.jsx("div",{className:"mt-3 flex items-center gap-2",children:T?i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",value:N,onChange:M=>v(M.target.value),placeholder:"Enter display name",maxLength:30,className:"flex-1 px-3 py-1.5 rounded-lg bg-dark-800 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500",autoFocus:!0,onKeyDown:M=>{M.key==="Enter"&&w(),M.key==="Escape"&&S(!1)}}),i.jsx("button",{onClick:w,className:"px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-500 transition-colors",children:"Save"}),i.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1.5 rounded-lg bg-dark-700 text-dark-300 text-sm hover:bg-dark-600 transition-colors",children:"Cancel"})]}):i.jsx("button",{onClick:()=>{v(s||""),S(!0)},className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:s?"Edit display name":"Set display name"})})]}),!e&&i.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-dark-800/60 border border-dark-700/50 text-center",children:[i.jsx("div",{className:"text-4xl mb-3",children:""}),i.jsx("h3",{className:"text-lg font-semibold text-dark-100 mb-2",children:"Connect to Join the Leaderboard"}),i.jsx("p",{className:"text-sm text-dark-400 mb-4 max-w-sm mx-auto",children:"Link your Nostr identity to sync your progress and compete with other learners."}),i.jsx(G5,{})]}),i.jsx("div",{className:"flex gap-1 p-1 rounded-xl bg-dark-800/60 border border-dark-700/50 mb-4",children:Y5.map(M=>i.jsxs("button",{onClick:()=>o(M.id),className:`
              flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors
              ${l===M.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/25":"text-dark-300 hover:text-dark-100 hover:bg-dark-700/50"}
            `,children:[i.jsx("span",{className:"hidden sm:inline",children:M.label}),i.jsx("span",{className:"sm:hidden",children:M.shortLabel})]},M.id))}),E&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:[E,i.jsx("button",{onClick:x,className:"ml-2 underline hover:no-underline",children:"Retry"})]}),i.jsxs("div",{className:"p-4 rounded-2xl bg-dark-800/60 border border-dark-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"font-semibold text-dark-100",children:[(k=Y5.find(M=>M.id===l))==null?void 0:k.label," Rankings"]}),i.jsx("button",{onClick:x,disabled:p,className:"text-xs text-dark-400 hover:text-dark-200 transition-colors disabled:opacity-50",children:p?"Loading...":"Refresh"})]}),i.jsx(wB,{rankings:c,currentUserNpub:n,isLoading:p})]}),a&&i.jsx(NB,{className:"mt-6"}),i.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"Scores sync automatically when you're connected. Rankings update every few minutes."})]})}let es=class rT{constructor(e,n,s){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=s}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new rT(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}},Rs=class aT{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new aT(n,es.range(this,e))}},Se=class lT{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s="KaTeX parse error: "+e,r,a,l=n&&n.loc;if(l&&l.start<=l.end){var o=l.lexer.input;r=l.start,a=l.end,r===o.length?s+=" at end of input: ":s+=" at position "+(r+1)+": ";var c=o.slice(r,a).replace(/[^]/g,"$&"),h;r>15?h=""+o.slice(r-15,r):h=o.slice(0,r);var u;a+15<o.length?u=o.slice(a,a+15)+"":u=o.slice(a),s+=h+c+u}var m=new Error(s);return m.name="ParseError",m.__proto__=lT.prototype,m.position=r,r!=null&&a!=null&&(m.length=a-r),m.rawMessage=e,m}};Se.prototype.__proto__=Error.prototype;var MB=function(e,n){return e===void 0?n:e},zB=/([A-Z])/g,DB=function(e){return e.replace(zB,"-$1").toLowerCase()},PB={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},IB=/[&><"']/g;function RB(t){return String(t).replace(IB,e=>PB[e])}var oT=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},_B=function(e){var n=oT(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},qB=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},$B=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},xt={deflt:MB,escape:RB,hyphenate:DB,getBaseElem:oT,isCharacterBox:_B,protocolFromUrl:$B},Sd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function BB(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let m2=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Sd)if(Sd.hasOwnProperty(n)){var s=Sd[n];this[n]=e[n]!==void 0?s.processor?s.processor(e[n]):e[n]:BB(s)}}reportNonstrict(e,n,s){var r=this.strict;if(typeof r=="function"&&(r=r(e,n,s)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new Se("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),s);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,s){var r=this.strict;if(typeof r=="function")try{r=r(e,n,s)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=xt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var s=typeof this.trust=="function"?this.trust(e):this.trust;return!!s}},ha=class{constructor(e,n,s){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=s}sup(){return Bs[OB[this.id]]}sub(){return Bs[LB[this.id]]}fracNum(){return Bs[FB[this.id]]}fracDen(){return Bs[UB[this.id]]}cramp(){return Bs[HB[this.id]]}text(){return Bs[VB[this.id]]}isTight(){return this.size>=2}};var f2=0,Tm=1,nc=2,Dr=3,gh=4,ls=5,bc=6,ri=7,Bs=[new ha(f2,0,!1),new ha(Tm,0,!0),new ha(nc,1,!1),new ha(Dr,1,!0),new ha(gh,2,!1),new ha(ls,2,!0),new ha(bc,3,!1),new ha(ri,3,!0)],OB=[gh,ls,gh,ls,bc,ri,bc,ri],LB=[ls,ls,ls,ls,ri,ri,ri,ri],FB=[nc,Dr,gh,ls,bc,ri,bc,ri],UB=[Dr,Dr,ls,ls,ri,ri,ri,ri],HB=[Tm,Tm,Dr,Dr,ls,ls,ri,ri],VB=[f2,Tm,nc,Dr,nc,Dr,nc,Dr],Ye={DISPLAY:Bs[f2],TEXT:Bs[nc],SCRIPT:Bs[gh],SCRIPTSCRIPT:Bs[bc]},lg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function GB(t){for(var e=0;e<lg.length;e++)for(var n=lg[e],s=0;s<n.blocks.length;s++){var r=n.blocks[s];if(t>=r[0]&&t<=r[1])return n.name}return null}var Nd=[];lg.forEach(t=>t.blocks.forEach(e=>Nd.push(...e)));function cT(t){for(var e=0;e<Nd.length;e+=2)if(t>=Nd[e]&&t<=Nd[e+1])return!0;return!1}var bo=80,WB=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},YB=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},XB=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ZB=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},QB=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},KB=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},JB=function(e,n,s){var r=s-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},eO=function(e,n,s){n=1e3*n;var r="";switch(e){case"sqrtMain":r=WB(n,bo);break;case"sqrtSize1":r=YB(n,bo);break;case"sqrtSize2":r=XB(n,bo);break;case"sqrtSize3":r=ZB(n,bo);break;case"sqrtSize4":r=QB(n,bo);break;case"sqrtTall":r=JB(n,bo,s)}return r},tO=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},X5={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},nO=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let Hh=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}};var Hs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},qu={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Z5={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function iO(t,e){Hs[t]=e}function p2(t,e,n){if(!Hs[e])throw new Error("Font metrics not found for font: "+e+".");var s=t.charCodeAt(0),r=Hs[e][s];if(!r&&t[0]in Z5&&(s=Z5[t[0]].charCodeAt(0),r=Hs[e][s]),!r&&n==="text"&&cT(s)&&(r=Hs[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var Hp={};function sO(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Hp[e]){var n=Hp[e]={cssEmPerMu:qu.quad[e]/18};for(var s in qu)qu.hasOwnProperty(s)&&(n[s]=qu[s][e])}return Hp[e]}var rO=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Q5=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],K5=function(e,n){return n.size<2?e:rO[e-1][n.size-1]};let hT=class zl{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||zl.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Q5[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);return new zl(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:K5(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Q5[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=K5(zl.BASESIZE,e);return this.size===n&&this.textSize===zl.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==zl.BASESIZE?["sizing","reset-size"+this.size,"size"+zl.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=sO(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};hT.BASESIZE=6;var og={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},aO={ex:!0,em:!0,mu:!0},uT=function(e){return typeof e!="string"&&(e=e.unit),e in og||e in aO||e==="ex"},en=function(e,n){var s;if(e.unit in og)s=og[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")s=n.fontMetrics().cssEmPerMu;else{var r;if(n.style.isTight()?r=n.havingStyle(n.style.text()):r=n,e.unit==="ex")s=r.fontMetrics().xHeight;else if(e.unit==="em")s=r.fontMetrics().quad;else throw new Se("Invalid unit: '"+e.unit+"'");r!==n&&(s*=r.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*s,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},Za=function(e){return e.filter(n=>n).join(" ")},dT=function(e,n,s){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=s||{},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}},mT=function(e){var n=document.createElement(e);n.className=Za(this.classes);for(var s in this.style)this.style.hasOwnProperty(s)&&(n.style[s]=this.style[s]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},lO=/[\s"'>/=\x00-\x1f]/,fT=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+xt.escape(Za(this.classes))+'"');var s="";for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=xt.hyphenate(r)+":"+this.style[r]+";");s&&(n+=' style="'+xt.escape(s)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(lO.test(a))throw new Se("Invalid attribute name '"+a+"'");n+=" "+a+'="'+xt.escape(this.attributes[a])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};let Vh=class{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,dT.call(this,e,s,r),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return mT.call(this,"span")}toMarkup(){return fT.call(this,"span")}},x2=class{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,dT.call(this,n,r),this.children=s||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return mT.call(this,"a")}toMarkup(){return fT.call(this,"a")}},oO=class{constructor(e,n,s){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=s}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+xt.escape(this.src)+'"'+(' alt="'+xt.escape(this.alt)+'"'),n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=xt.hyphenate(s)+":"+this.style[s]+";");return n&&(e+=' style="'+xt.escape(n)+'"'),e+="'/>",e}};var cO={:"",:"",:"",:""};let fs=class{constructor(e,n,s,r,a,l,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=s||0,this.italic=r||0,this.skew=a||0,this.width=l||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var h=GB(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=cO[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Za(this.classes));for(var s in this.style)this.style.hasOwnProperty(s)&&(n=n||document.createElement("span"),n.style[s]=this.style[s]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=xt.escape(Za(this.classes)),n+='"');var s="";this.italic>0&&(s+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=xt.hyphenate(r)+":"+this.style[r]+";");s&&(e=!0,n+=' style="'+xt.escape(s)+'"');var a=xt.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}},Fr=class{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+xt.escape(this.attributes[n])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</svg>",e}},Qa=class{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",X5[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+xt.escape(this.alternate)+'"/>':'<path d="'+xt.escape(X5[this.pathName])+'"/>'}},cg=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+xt.escape(this.attributes[n])+'"');return e+="/>",e}};function J5(t){if(t instanceof fs)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function hO(t){if(t instanceof Vh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var uO={bin:1,close:1,inner:1,open:1,punct:1,rel:1},dO={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Rt={math:{},text:{}};function z(t,e,n,s,r,a){Rt[t][r]={font:e,group:n,replace:s},a&&s&&(Rt[t][s]=Rt[t][r])}var R="math",ge="text",L="main",X="ams",Yt="accent-token",Pe="bin",ui="close",Dc="inner",Ge="mathord",Nn="op-token",Wi="open",bf="punct",Q="rel",Kr="spacing",ne="textord";z(R,L,Q,"","\\equiv",!0);z(R,L,Q,"","\\prec",!0);z(R,L,Q,"","\\succ",!0);z(R,L,Q,"","\\sim",!0);z(R,L,Q,"","\\perp");z(R,L,Q,"","\\preceq",!0);z(R,L,Q,"","\\succeq",!0);z(R,L,Q,"","\\simeq",!0);z(R,L,Q,"","\\mid",!0);z(R,L,Q,"","\\ll",!0);z(R,L,Q,"","\\gg",!0);z(R,L,Q,"","\\asymp",!0);z(R,L,Q,"","\\parallel");z(R,L,Q,"","\\bowtie",!0);z(R,L,Q,"","\\smile",!0);z(R,L,Q,"","\\sqsubseteq",!0);z(R,L,Q,"","\\sqsupseteq",!0);z(R,L,Q,"","\\doteq",!0);z(R,L,Q,"","\\frown",!0);z(R,L,Q,"","\\ni",!0);z(R,L,Q,"","\\propto",!0);z(R,L,Q,"","\\vdash",!0);z(R,L,Q,"","\\dashv",!0);z(R,L,Q,"","\\owns");z(R,L,bf,".","\\ldotp");z(R,L,bf,"","\\cdotp");z(R,L,ne,"#","\\#");z(ge,L,ne,"#","\\#");z(R,L,ne,"&","\\&");z(ge,L,ne,"&","\\&");z(R,L,ne,"","\\aleph",!0);z(R,L,ne,"","\\forall",!0);z(R,L,ne,"","\\hbar",!0);z(R,L,ne,"","\\exists",!0);z(R,L,ne,"","\\nabla",!0);z(R,L,ne,"","\\flat",!0);z(R,L,ne,"","\\ell",!0);z(R,L,ne,"","\\natural",!0);z(R,L,ne,"","\\clubsuit",!0);z(R,L,ne,"","\\wp",!0);z(R,L,ne,"","\\sharp",!0);z(R,L,ne,"","\\diamondsuit",!0);z(R,L,ne,"","\\Re",!0);z(R,L,ne,"","\\heartsuit",!0);z(R,L,ne,"","\\Im",!0);z(R,L,ne,"","\\spadesuit",!0);z(R,L,ne,"","\\S",!0);z(ge,L,ne,"","\\S");z(R,L,ne,"","\\P",!0);z(ge,L,ne,"","\\P");z(R,L,ne,"","\\dag");z(ge,L,ne,"","\\dag");z(ge,L,ne,"","\\textdagger");z(R,L,ne,"","\\ddag");z(ge,L,ne,"","\\ddag");z(ge,L,ne,"","\\textdaggerdbl");z(R,L,ui,"","\\rmoustache",!0);z(R,L,Wi,"","\\lmoustache",!0);z(R,L,ui,"","\\rgroup",!0);z(R,L,Wi,"","\\lgroup",!0);z(R,L,Pe,"","\\mp",!0);z(R,L,Pe,"","\\ominus",!0);z(R,L,Pe,"","\\uplus",!0);z(R,L,Pe,"","\\sqcap",!0);z(R,L,Pe,"","\\ast");z(R,L,Pe,"","\\sqcup",!0);z(R,L,Pe,"","\\bigcirc",!0);z(R,L,Pe,"","\\bullet",!0);z(R,L,Pe,"","\\ddagger");z(R,L,Pe,"","\\wr",!0);z(R,L,Pe,"","\\amalg");z(R,L,Pe,"&","\\And");z(R,L,Q,"","\\longleftarrow",!0);z(R,L,Q,"","\\Leftarrow",!0);z(R,L,Q,"","\\Longleftarrow",!0);z(R,L,Q,"","\\longrightarrow",!0);z(R,L,Q,"","\\Rightarrow",!0);z(R,L,Q,"","\\Longrightarrow",!0);z(R,L,Q,"","\\leftrightarrow",!0);z(R,L,Q,"","\\longleftrightarrow",!0);z(R,L,Q,"","\\Leftrightarrow",!0);z(R,L,Q,"","\\Longleftrightarrow",!0);z(R,L,Q,"","\\mapsto",!0);z(R,L,Q,"","\\longmapsto",!0);z(R,L,Q,"","\\nearrow",!0);z(R,L,Q,"","\\hookleftarrow",!0);z(R,L,Q,"","\\hookrightarrow",!0);z(R,L,Q,"","\\searrow",!0);z(R,L,Q,"","\\leftharpoonup",!0);z(R,L,Q,"","\\rightharpoonup",!0);z(R,L,Q,"","\\swarrow",!0);z(R,L,Q,"","\\leftharpoondown",!0);z(R,L,Q,"","\\rightharpoondown",!0);z(R,L,Q,"","\\nwarrow",!0);z(R,L,Q,"","\\rightleftharpoons",!0);z(R,X,Q,"","\\nless",!0);z(R,X,Q,"","\\@nleqslant");z(R,X,Q,"","\\@nleqq");z(R,X,Q,"","\\lneq",!0);z(R,X,Q,"","\\lneqq",!0);z(R,X,Q,"","\\@lvertneqq");z(R,X,Q,"","\\lnsim",!0);z(R,X,Q,"","\\lnapprox",!0);z(R,X,Q,"","\\nprec",!0);z(R,X,Q,"","\\npreceq",!0);z(R,X,Q,"","\\precnsim",!0);z(R,X,Q,"","\\precnapprox",!0);z(R,X,Q,"","\\nsim",!0);z(R,X,Q,"","\\@nshortmid");z(R,X,Q,"","\\nmid",!0);z(R,X,Q,"","\\nvdash",!0);z(R,X,Q,"","\\nvDash",!0);z(R,X,Q,"","\\ntriangleleft");z(R,X,Q,"","\\ntrianglelefteq",!0);z(R,X,Q,"","\\subsetneq",!0);z(R,X,Q,"","\\@varsubsetneq");z(R,X,Q,"","\\subsetneqq",!0);z(R,X,Q,"","\\@varsubsetneqq");z(R,X,Q,"","\\ngtr",!0);z(R,X,Q,"","\\@ngeqslant");z(R,X,Q,"","\\@ngeqq");z(R,X,Q,"","\\gneq",!0);z(R,X,Q,"","\\gneqq",!0);z(R,X,Q,"","\\@gvertneqq");z(R,X,Q,"","\\gnsim",!0);z(R,X,Q,"","\\gnapprox",!0);z(R,X,Q,"","\\nsucc",!0);z(R,X,Q,"","\\nsucceq",!0);z(R,X,Q,"","\\succnsim",!0);z(R,X,Q,"","\\succnapprox",!0);z(R,X,Q,"","\\ncong",!0);z(R,X,Q,"","\\@nshortparallel");z(R,X,Q,"","\\nparallel",!0);z(R,X,Q,"","\\nVDash",!0);z(R,X,Q,"","\\ntriangleright");z(R,X,Q,"","\\ntrianglerighteq",!0);z(R,X,Q,"","\\@nsupseteqq");z(R,X,Q,"","\\supsetneq",!0);z(R,X,Q,"","\\@varsupsetneq");z(R,X,Q,"","\\supsetneqq",!0);z(R,X,Q,"","\\@varsupsetneqq");z(R,X,Q,"","\\nVdash",!0);z(R,X,Q,"","\\precneqq",!0);z(R,X,Q,"","\\succneqq",!0);z(R,X,Q,"","\\@nsubseteqq");z(R,X,Pe,"","\\unlhd");z(R,X,Pe,"","\\unrhd");z(R,X,Q,"","\\nleftarrow",!0);z(R,X,Q,"","\\nrightarrow",!0);z(R,X,Q,"","\\nLeftarrow",!0);z(R,X,Q,"","\\nRightarrow",!0);z(R,X,Q,"","\\nleftrightarrow",!0);z(R,X,Q,"","\\nLeftrightarrow",!0);z(R,X,Q,"","\\vartriangle");z(R,X,ne,"","\\hslash");z(R,X,ne,"","\\triangledown");z(R,X,ne,"","\\lozenge");z(R,X,ne,"","\\circledS");z(R,X,ne,"","\\circledR");z(ge,X,ne,"","\\circledR");z(R,X,ne,"","\\measuredangle",!0);z(R,X,ne,"","\\nexists");z(R,X,ne,"","\\mho");z(R,X,ne,"","\\Finv",!0);z(R,X,ne,"","\\Game",!0);z(R,X,ne,"","\\backprime");z(R,X,ne,"","\\blacktriangle");z(R,X,ne,"","\\blacktriangledown");z(R,X,ne,"","\\blacksquare");z(R,X,ne,"","\\blacklozenge");z(R,X,ne,"","\\bigstar");z(R,X,ne,"","\\sphericalangle",!0);z(R,X,ne,"","\\complement",!0);z(R,X,ne,"","\\eth",!0);z(ge,L,ne,"","");z(R,X,ne,"","\\diagup");z(R,X,ne,"","\\diagdown");z(R,X,ne,"","\\square");z(R,X,ne,"","\\Box");z(R,X,ne,"","\\Diamond");z(R,X,ne,"","\\yen",!0);z(ge,X,ne,"","\\yen",!0);z(R,X,ne,"","\\checkmark",!0);z(ge,X,ne,"","\\checkmark");z(R,X,ne,"","\\beth",!0);z(R,X,ne,"","\\daleth",!0);z(R,X,ne,"","\\gimel",!0);z(R,X,ne,"","\\digamma",!0);z(R,X,ne,"","\\varkappa");z(R,X,Wi,"","\\@ulcorner",!0);z(R,X,ui,"","\\@urcorner",!0);z(R,X,Wi,"","\\@llcorner",!0);z(R,X,ui,"","\\@lrcorner",!0);z(R,X,Q,"","\\leqq",!0);z(R,X,Q,"","\\leqslant",!0);z(R,X,Q,"","\\eqslantless",!0);z(R,X,Q,"","\\lesssim",!0);z(R,X,Q,"","\\lessapprox",!0);z(R,X,Q,"","\\approxeq",!0);z(R,X,Pe,"","\\lessdot");z(R,X,Q,"","\\lll",!0);z(R,X,Q,"","\\lessgtr",!0);z(R,X,Q,"","\\lesseqgtr",!0);z(R,X,Q,"","\\lesseqqgtr",!0);z(R,X,Q,"","\\doteqdot");z(R,X,Q,"","\\risingdotseq",!0);z(R,X,Q,"","\\fallingdotseq",!0);z(R,X,Q,"","\\backsim",!0);z(R,X,Q,"","\\backsimeq",!0);z(R,X,Q,"","\\subseteqq",!0);z(R,X,Q,"","\\Subset",!0);z(R,X,Q,"","\\sqsubset",!0);z(R,X,Q,"","\\preccurlyeq",!0);z(R,X,Q,"","\\curlyeqprec",!0);z(R,X,Q,"","\\precsim",!0);z(R,X,Q,"","\\precapprox",!0);z(R,X,Q,"","\\vartriangleleft");z(R,X,Q,"","\\trianglelefteq");z(R,X,Q,"","\\vDash",!0);z(R,X,Q,"","\\Vvdash",!0);z(R,X,Q,"","\\smallsmile");z(R,X,Q,"","\\smallfrown");z(R,X,Q,"","\\bumpeq",!0);z(R,X,Q,"","\\Bumpeq",!0);z(R,X,Q,"","\\geqq",!0);z(R,X,Q,"","\\geqslant",!0);z(R,X,Q,"","\\eqslantgtr",!0);z(R,X,Q,"","\\gtrsim",!0);z(R,X,Q,"","\\gtrapprox",!0);z(R,X,Pe,"","\\gtrdot");z(R,X,Q,"","\\ggg",!0);z(R,X,Q,"","\\gtrless",!0);z(R,X,Q,"","\\gtreqless",!0);z(R,X,Q,"","\\gtreqqless",!0);z(R,X,Q,"","\\eqcirc",!0);z(R,X,Q,"","\\circeq",!0);z(R,X,Q,"","\\triangleq",!0);z(R,X,Q,"","\\thicksim");z(R,X,Q,"","\\thickapprox");z(R,X,Q,"","\\supseteqq",!0);z(R,X,Q,"","\\Supset",!0);z(R,X,Q,"","\\sqsupset",!0);z(R,X,Q,"","\\succcurlyeq",!0);z(R,X,Q,"","\\curlyeqsucc",!0);z(R,X,Q,"","\\succsim",!0);z(R,X,Q,"","\\succapprox",!0);z(R,X,Q,"","\\vartriangleright");z(R,X,Q,"","\\trianglerighteq");z(R,X,Q,"","\\Vdash",!0);z(R,X,Q,"","\\shortmid");z(R,X,Q,"","\\shortparallel");z(R,X,Q,"","\\between",!0);z(R,X,Q,"","\\pitchfork",!0);z(R,X,Q,"","\\varpropto");z(R,X,Q,"","\\blacktriangleleft");z(R,X,Q,"","\\therefore",!0);z(R,X,Q,"","\\backepsilon");z(R,X,Q,"","\\blacktriangleright");z(R,X,Q,"","\\because",!0);z(R,X,Q,"","\\llless");z(R,X,Q,"","\\gggtr");z(R,X,Pe,"","\\lhd");z(R,X,Pe,"","\\rhd");z(R,X,Q,"","\\eqsim",!0);z(R,L,Q,"","\\Join");z(R,X,Q,"","\\Doteq",!0);z(R,X,Pe,"","\\dotplus",!0);z(R,X,Pe,"","\\smallsetminus");z(R,X,Pe,"","\\Cap",!0);z(R,X,Pe,"","\\Cup",!0);z(R,X,Pe,"","\\doublebarwedge",!0);z(R,X,Pe,"","\\boxminus",!0);z(R,X,Pe,"","\\boxplus",!0);z(R,X,Pe,"","\\divideontimes",!0);z(R,X,Pe,"","\\ltimes",!0);z(R,X,Pe,"","\\rtimes",!0);z(R,X,Pe,"","\\leftthreetimes",!0);z(R,X,Pe,"","\\rightthreetimes",!0);z(R,X,Pe,"","\\curlywedge",!0);z(R,X,Pe,"","\\curlyvee",!0);z(R,X,Pe,"","\\circleddash",!0);z(R,X,Pe,"","\\circledast",!0);z(R,X,Pe,"","\\centerdot");z(R,X,Pe,"","\\intercal",!0);z(R,X,Pe,"","\\doublecap");z(R,X,Pe,"","\\doublecup");z(R,X,Pe,"","\\boxtimes",!0);z(R,X,Q,"","\\dashrightarrow",!0);z(R,X,Q,"","\\dashleftarrow",!0);z(R,X,Q,"","\\leftleftarrows",!0);z(R,X,Q,"","\\leftrightarrows",!0);z(R,X,Q,"","\\Lleftarrow",!0);z(R,X,Q,"","\\twoheadleftarrow",!0);z(R,X,Q,"","\\leftarrowtail",!0);z(R,X,Q,"","\\looparrowleft",!0);z(R,X,Q,"","\\leftrightharpoons",!0);z(R,X,Q,"","\\curvearrowleft",!0);z(R,X,Q,"","\\circlearrowleft",!0);z(R,X,Q,"","\\Lsh",!0);z(R,X,Q,"","\\upuparrows",!0);z(R,X,Q,"","\\upharpoonleft",!0);z(R,X,Q,"","\\downharpoonleft",!0);z(R,L,Q,"","\\origof",!0);z(R,L,Q,"","\\imageof",!0);z(R,X,Q,"","\\multimap",!0);z(R,X,Q,"","\\leftrightsquigarrow",!0);z(R,X,Q,"","\\rightrightarrows",!0);z(R,X,Q,"","\\rightleftarrows",!0);z(R,X,Q,"","\\twoheadrightarrow",!0);z(R,X,Q,"","\\rightarrowtail",!0);z(R,X,Q,"","\\looparrowright",!0);z(R,X,Q,"","\\curvearrowright",!0);z(R,X,Q,"","\\circlearrowright",!0);z(R,X,Q,"","\\Rsh",!0);z(R,X,Q,"","\\downdownarrows",!0);z(R,X,Q,"","\\upharpoonright",!0);z(R,X,Q,"","\\downharpoonright",!0);z(R,X,Q,"","\\rightsquigarrow",!0);z(R,X,Q,"","\\leadsto");z(R,X,Q,"","\\Rrightarrow",!0);z(R,X,Q,"","\\restriction");z(R,L,ne,"","`");z(R,L,ne,"$","\\$");z(ge,L,ne,"$","\\$");z(ge,L,ne,"$","\\textdollar");z(R,L,ne,"%","\\%");z(ge,L,ne,"%","\\%");z(R,L,ne,"_","\\_");z(ge,L,ne,"_","\\_");z(ge,L,ne,"_","\\textunderscore");z(R,L,ne,"","\\angle",!0);z(R,L,ne,"","\\infty",!0);z(R,L,ne,"","\\prime");z(R,L,ne,"","\\triangle");z(R,L,ne,"","\\Gamma",!0);z(R,L,ne,"","\\Delta",!0);z(R,L,ne,"","\\Theta",!0);z(R,L,ne,"","\\Lambda",!0);z(R,L,ne,"","\\Xi",!0);z(R,L,ne,"","\\Pi",!0);z(R,L,ne,"","\\Sigma",!0);z(R,L,ne,"","\\Upsilon",!0);z(R,L,ne,"","\\Phi",!0);z(R,L,ne,"","\\Psi",!0);z(R,L,ne,"","\\Omega",!0);z(R,L,ne,"A","");z(R,L,ne,"B","");z(R,L,ne,"E","");z(R,L,ne,"Z","");z(R,L,ne,"H","");z(R,L,ne,"I","");z(R,L,ne,"K","");z(R,L,ne,"M","");z(R,L,ne,"N","");z(R,L,ne,"O","");z(R,L,ne,"P","");z(R,L,ne,"T","");z(R,L,ne,"X","");z(R,L,ne,"","\\neg",!0);z(R,L,ne,"","\\lnot");z(R,L,ne,"","\\top");z(R,L,ne,"","\\bot");z(R,L,ne,"","\\emptyset");z(R,X,ne,"","\\varnothing");z(R,L,Ge,"","\\alpha",!0);z(R,L,Ge,"","\\beta",!0);z(R,L,Ge,"","\\gamma",!0);z(R,L,Ge,"","\\delta",!0);z(R,L,Ge,"","\\epsilon",!0);z(R,L,Ge,"","\\zeta",!0);z(R,L,Ge,"","\\eta",!0);z(R,L,Ge,"","\\theta",!0);z(R,L,Ge,"","\\iota",!0);z(R,L,Ge,"","\\kappa",!0);z(R,L,Ge,"","\\lambda",!0);z(R,L,Ge,"","\\mu",!0);z(R,L,Ge,"","\\nu",!0);z(R,L,Ge,"","\\xi",!0);z(R,L,Ge,"","\\omicron",!0);z(R,L,Ge,"","\\pi",!0);z(R,L,Ge,"","\\rho",!0);z(R,L,Ge,"","\\sigma",!0);z(R,L,Ge,"","\\tau",!0);z(R,L,Ge,"","\\upsilon",!0);z(R,L,Ge,"","\\phi",!0);z(R,L,Ge,"","\\chi",!0);z(R,L,Ge,"","\\psi",!0);z(R,L,Ge,"","\\omega",!0);z(R,L,Ge,"","\\varepsilon",!0);z(R,L,Ge,"","\\vartheta",!0);z(R,L,Ge,"","\\varpi",!0);z(R,L,Ge,"","\\varrho",!0);z(R,L,Ge,"","\\varsigma",!0);z(R,L,Ge,"","\\varphi",!0);z(R,L,Pe,"","*",!0);z(R,L,Pe,"+","+");z(R,L,Pe,"","-",!0);z(R,L,Pe,"","\\cdot",!0);z(R,L,Pe,"","\\circ",!0);z(R,L,Pe,"","\\div",!0);z(R,L,Pe,"","\\pm",!0);z(R,L,Pe,"","\\times",!0);z(R,L,Pe,"","\\cap",!0);z(R,L,Pe,"","\\cup",!0);z(R,L,Pe,"","\\setminus",!0);z(R,L,Pe,"","\\land");z(R,L,Pe,"","\\lor");z(R,L,Pe,"","\\wedge",!0);z(R,L,Pe,"","\\vee",!0);z(R,L,ne,"","\\surd");z(R,L,Wi,"","\\langle",!0);z(R,L,Wi,"","\\lvert");z(R,L,Wi,"","\\lVert");z(R,L,ui,"?","?");z(R,L,ui,"!","!");z(R,L,ui,"","\\rangle",!0);z(R,L,ui,"","\\rvert");z(R,L,ui,"","\\rVert");z(R,L,Q,"=","=");z(R,L,Q,":",":");z(R,L,Q,"","\\approx",!0);z(R,L,Q,"","\\cong",!0);z(R,L,Q,"","\\ge");z(R,L,Q,"","\\geq",!0);z(R,L,Q,"","\\gets");z(R,L,Q,">","\\gt",!0);z(R,L,Q,"","\\in",!0);z(R,L,Q,"","\\@not");z(R,L,Q,"","\\subset",!0);z(R,L,Q,"","\\supset",!0);z(R,L,Q,"","\\subseteq",!0);z(R,L,Q,"","\\supseteq",!0);z(R,X,Q,"","\\nsubseteq",!0);z(R,X,Q,"","\\nsupseteq",!0);z(R,L,Q,"","\\models");z(R,L,Q,"","\\leftarrow",!0);z(R,L,Q,"","\\le");z(R,L,Q,"","\\leq",!0);z(R,L,Q,"<","\\lt",!0);z(R,L,Q,"","\\rightarrow",!0);z(R,L,Q,"","\\to");z(R,X,Q,"","\\ngeq",!0);z(R,X,Q,"","\\nleq",!0);z(R,L,Kr,"","\\ ");z(R,L,Kr,"","\\space");z(R,L,Kr,"","\\nobreakspace");z(ge,L,Kr,"","\\ ");z(ge,L,Kr,""," ");z(ge,L,Kr,"","\\space");z(ge,L,Kr,"","\\nobreakspace");z(R,L,Kr,null,"\\nobreak");z(R,L,Kr,null,"\\allowbreak");z(R,L,bf,",",",");z(R,L,bf,";",";");z(R,X,Pe,"","\\barwedge",!0);z(R,X,Pe,"","\\veebar",!0);z(R,L,Pe,"","\\odot",!0);z(R,L,Pe,"","\\oplus",!0);z(R,L,Pe,"","\\otimes",!0);z(R,L,ne,"","\\partial",!0);z(R,L,Pe,"","\\oslash",!0);z(R,X,Pe,"","\\circledcirc",!0);z(R,X,Pe,"","\\boxdot",!0);z(R,L,Pe,"","\\bigtriangleup");z(R,L,Pe,"","\\bigtriangledown");z(R,L,Pe,"","\\dagger");z(R,L,Pe,"","\\diamond");z(R,L,Pe,"","\\star");z(R,L,Pe,"","\\triangleleft");z(R,L,Pe,"","\\triangleright");z(R,L,Wi,"{","\\{");z(ge,L,ne,"{","\\{");z(ge,L,ne,"{","\\textbraceleft");z(R,L,ui,"}","\\}");z(ge,L,ne,"}","\\}");z(ge,L,ne,"}","\\textbraceright");z(R,L,Wi,"{","\\lbrace");z(R,L,ui,"}","\\rbrace");z(R,L,Wi,"[","\\lbrack",!0);z(ge,L,ne,"[","\\lbrack",!0);z(R,L,ui,"]","\\rbrack",!0);z(ge,L,ne,"]","\\rbrack",!0);z(R,L,Wi,"(","\\lparen",!0);z(R,L,ui,")","\\rparen",!0);z(ge,L,ne,"<","\\textless",!0);z(ge,L,ne,">","\\textgreater",!0);z(R,L,Wi,"","\\lfloor",!0);z(R,L,ui,"","\\rfloor",!0);z(R,L,Wi,"","\\lceil",!0);z(R,L,ui,"","\\rceil",!0);z(R,L,ne,"\\","\\backslash");z(R,L,ne,"","|");z(R,L,ne,"","\\vert");z(ge,L,ne,"|","\\textbar",!0);z(R,L,ne,"","\\|");z(R,L,ne,"","\\Vert");z(ge,L,ne,"","\\textbardbl");z(ge,L,ne,"~","\\textasciitilde");z(ge,L,ne,"\\","\\textbackslash");z(ge,L,ne,"^","\\textasciicircum");z(R,L,Q,"","\\uparrow",!0);z(R,L,Q,"","\\Uparrow",!0);z(R,L,Q,"","\\downarrow",!0);z(R,L,Q,"","\\Downarrow",!0);z(R,L,Q,"","\\updownarrow",!0);z(R,L,Q,"","\\Updownarrow",!0);z(R,L,Nn,"","\\coprod");z(R,L,Nn,"","\\bigvee");z(R,L,Nn,"","\\bigwedge");z(R,L,Nn,"","\\biguplus");z(R,L,Nn,"","\\bigcap");z(R,L,Nn,"","\\bigcup");z(R,L,Nn,"","\\int");z(R,L,Nn,"","\\intop");z(R,L,Nn,"","\\iint");z(R,L,Nn,"","\\iiint");z(R,L,Nn,"","\\prod");z(R,L,Nn,"","\\sum");z(R,L,Nn,"","\\bigotimes");z(R,L,Nn,"","\\bigoplus");z(R,L,Nn,"","\\bigodot");z(R,L,Nn,"","\\oint");z(R,L,Nn,"","\\oiint");z(R,L,Nn,"","\\oiiint");z(R,L,Nn,"","\\bigsqcup");z(R,L,Nn,"","\\smallint");z(ge,L,Dc,"","\\textellipsis");z(R,L,Dc,"","\\mathellipsis");z(ge,L,Dc,"","\\ldots",!0);z(R,L,Dc,"","\\ldots",!0);z(R,L,Dc,"","\\@cdots",!0);z(R,L,Dc,"","\\ddots",!0);z(R,L,ne,"","\\varvdots");z(ge,L,ne,"","\\varvdots");z(R,L,Yt,"","\\acute");z(R,L,Yt,"","\\grave");z(R,L,Yt,"","\\ddot");z(R,L,Yt,"~","\\tilde");z(R,L,Yt,"","\\bar");z(R,L,Yt,"","\\breve");z(R,L,Yt,"","\\check");z(R,L,Yt,"^","\\hat");z(R,L,Yt,"","\\vec");z(R,L,Yt,"","\\dot");z(R,L,Yt,"","\\mathring");z(R,L,Ge,"","\\@imath");z(R,L,Ge,"","\\@jmath");z(R,L,ne,"","");z(R,L,ne,"","");z(ge,L,ne,"","\\i",!0);z(ge,L,ne,"","\\j",!0);z(ge,L,ne,"","\\ss",!0);z(ge,L,ne,"","\\ae",!0);z(ge,L,ne,"","\\oe",!0);z(ge,L,ne,"","\\o",!0);z(ge,L,ne,"","\\AE",!0);z(ge,L,ne,"","\\OE",!0);z(ge,L,ne,"","\\O",!0);z(ge,L,Yt,"","\\'");z(ge,L,Yt,"","\\`");z(ge,L,Yt,"","\\^");z(ge,L,Yt,"","\\~");z(ge,L,Yt,"","\\=");z(ge,L,Yt,"","\\u");z(ge,L,Yt,"","\\.");z(ge,L,Yt,"","\\c");z(ge,L,Yt,"","\\r");z(ge,L,Yt,"","\\v");z(ge,L,Yt,"",'\\"');z(ge,L,Yt,"","\\H");z(ge,L,Yt,"","\\textcircled");var pT={"--":!0,"---":!0,"``":!0,"''":!0};z(ge,L,ne,"","--",!0);z(ge,L,ne,"","\\textendash");z(ge,L,ne,"","---",!0);z(ge,L,ne,"","\\textemdash");z(ge,L,ne,"","`",!0);z(ge,L,ne,"","\\textquoteleft");z(ge,L,ne,"","'",!0);z(ge,L,ne,"","\\textquoteright");z(ge,L,ne,"","``",!0);z(ge,L,ne,"","\\textquotedblleft");z(ge,L,ne,"","''",!0);z(ge,L,ne,"","\\textquotedblright");z(R,L,ne,"","\\degree",!0);z(ge,L,ne,"","\\degree");z(ge,L,ne,"","\\textdegree",!0);z(R,L,ne,"","\\pounds");z(R,L,ne,"","\\mathsterling",!0);z(ge,L,ne,"","\\pounds");z(ge,L,ne,"","\\textsterling",!0);z(R,X,ne,"","\\maltese");z(ge,X,ne,"","\\maltese");var ev='0123456789/@."';for(var Vp=0;Vp<ev.length;Vp++){var tv=ev.charAt(Vp);z(R,L,ne,tv,tv)}var nv='0123456789!@*()-=+";:?/.,';for(var Gp=0;Gp<nv.length;Gp++){var iv=nv.charAt(Gp);z(ge,L,ne,iv,iv)}var Sm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Wp=0;Wp<Sm.length;Wp++){var $u=Sm.charAt(Wp);z(R,L,Ge,$u,$u),z(ge,L,ne,$u,$u)}z(R,X,ne,"C","");z(ge,X,ne,"C","");z(R,X,ne,"H","");z(ge,X,ne,"H","");z(R,X,ne,"N","");z(ge,X,ne,"N","");z(R,X,ne,"P","");z(ge,X,ne,"P","");z(R,X,ne,"Q","");z(ge,X,ne,"Q","");z(R,X,ne,"R","");z(ge,X,ne,"R","");z(R,X,ne,"Z","");z(ge,X,ne,"Z","");z(R,L,Ge,"h","");z(ge,L,Ge,"h","");var Ze="";for(var Kn=0;Kn<Sm.length;Kn++){var rn=Sm.charAt(Kn);Ze=String.fromCharCode(55349,56320+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56372+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56424+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56580+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56684+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56736+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56788+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56840+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56944+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Kn<26&&(Ze=String.fromCharCode(55349,56632+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56476+Kn),z(R,L,Ge,rn,Ze),z(ge,L,ne,rn,Ze))}Ze="";z(R,L,Ge,"k",Ze);z(ge,L,ne,"k",Ze);for(var jl=0;jl<10;jl++){var ua=jl.toString();Ze=String.fromCharCode(55349,57294+jl),z(R,L,Ge,ua,Ze),z(ge,L,ne,ua,Ze),Ze=String.fromCharCode(55349,57314+jl),z(R,L,Ge,ua,Ze),z(ge,L,ne,ua,Ze),Ze=String.fromCharCode(55349,57324+jl),z(R,L,Ge,ua,Ze),z(ge,L,ne,ua,Ze),Ze=String.fromCharCode(55349,57334+jl),z(R,L,Ge,ua,Ze),z(ge,L,ne,ua,Ze)}var hg="";for(var Yp=0;Yp<hg.length;Yp++){var Bu=hg.charAt(Yp);z(R,L,Ge,Bu,Bu),z(ge,L,ne,Bu,Bu)}var Ou=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],sv=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],mO=function(e,n){var s=e.charCodeAt(0),r=e.charCodeAt(1),a=(s-55296)*1024+(r-56320)+65536,l=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[Ou[o][2],Ou[o][l]]}else if(120782<=a&&a<=120831){var c=Math.floor((a-120782)/10);return[sv[c][2],sv[c][l]]}else{if(a===120485||a===120486)return[Ou[0][2],Ou[0][l]];if(120486<a&&a<120782)return["",""];throw new Se("Unsupported character: "+e)}},vf=function(e,n,s){return Rt[s][e]&&Rt[s][e].replace&&(e=Rt[s][e].replace),{value:e,metrics:p2(e,n,s)}},Es=function(e,n,s,r,a){var l=vf(e,n,s),o=l.metrics;e=l.value;var c;if(o){var h=o.italic;(s==="text"||r&&r.font==="mathit")&&(h=0),c=new fs(e,o.height,o.depth,h,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+s+"'")),c=new fs(e,0,0,0,0,0,a);if(r){c.maxFontSize=r.sizeMultiplier,r.style.isTight()&&c.classes.push("mtight");var u=r.getColor();u&&(c.style.color=u)}return c},fO=function(e,n,s,r){return r===void 0&&(r=[]),s.font==="boldsymbol"&&vf(e,"Main-Bold",n).metrics?Es(e,"Main-Bold",n,s,r.concat(["mathbf"])):e==="\\"||Rt[n][e].font==="main"?Es(e,"Main-Regular",n,s,r):Es(e,"AMS-Regular",n,s,r.concat(["amsrm"]))},pO=function(e,n,s,r,a){return a!=="textord"&&vf(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},xO=function(e,n,s){var r=e.mode,a=e.text,l=["mord"],o=r==="math"||r==="text"&&n.font,c=o?n.font:n.fontFamily,h="",u="";if(a.charCodeAt(0)===55349&&([h,u]=mO(a,r)),h.length>0)return Es(a,h,r,n,l.concat(u));if(c){var m,p;if(c==="boldsymbol"){var b=pO(a,r,n,l,s);m=b.fontName,p=[b.fontClass]}else o?(m=yT[c].fontName,p=[c]):(m=Lu(c,n.fontWeight,n.fontShape),p=[c,n.fontWeight,n.fontShape]);if(vf(a,m,r).metrics)return Es(a,m,r,n,l.concat(p));if(pT.hasOwnProperty(a)&&m.slice(0,10)==="Typewriter"){for(var E=[],y=0;y<a.length;y++)E.push(Es(a[y],m,r,n,l.concat(p)));return gT(E)}}if(s==="mathord")return Es(a,"Math-Italic",r,n,l.concat(["mathnormal"]));if(s==="textord"){var T=Rt[r][a]&&Rt[r][a].font;if(T==="ams"){var S=Lu("amsrm",n.fontWeight,n.fontShape);return Es(a,S,r,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(T==="main"||!T){var N=Lu("textrm",n.fontWeight,n.fontShape);return Es(a,N,r,n,l.concat(n.fontWeight,n.fontShape))}else{var v=Lu(T,n.fontWeight,n.fontShape);return Es(a,v,r,n,l.concat(v,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+s+" in makeOrd")},gO=(t,e)=>{if(Za(t.classes)!==Za(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var s in t.style)if(t.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;return!0},yO=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],s=t[e+1];n instanceof fs&&s instanceof fs&&gO(n,s)&&(n.text+=s.text,n.height=Math.max(n.height,s.height),n.depth=Math.max(n.depth,s.depth),n.italic=s.italic,t.splice(e+1,1),e--)}return t},g2=function(e){for(var n=0,s=0,r=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>n&&(n=l.height),l.depth>s&&(s=l.depth),l.maxFontSize>r&&(r=l.maxFontSize)}e.height=n,e.depth=s,e.maxFontSize=r},bi=function(e,n,s,r){var a=new Vh(e,n,s,r);return g2(a),a},xT=(t,e,n,s)=>new Vh(t,e,n,s),bO=function(e,n,s){var r=bi([e],[],n);return r.height=Math.max(s||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),r.style.borderBottomWidth=ke(r.height),r.maxFontSize=1,r},vO=function(e,n,s,r){var a=new x2(e,n,s,r);return g2(a),a},gT=function(e){var n=new Hh(e);return g2(n),n},jO=function(e,n){return e instanceof Hh?bi([],[e],n):e},wO=function(e){if(e.positionType==="individualShift"){for(var n=e.children,s=[n[0]],r=-n[0].shift-n[0].elem.depth,a=r,l=1;l<n.length;l++){var o=-n[l].shift-a-n[l].elem.depth,c=o-(n[l-1].elem.height+n[l-1].elem.depth);a=a+o,s.push({type:"kern",size:c}),s.push(n[l])}return{children:s,depth:r}}var h;if(e.positionType==="top"){for(var u=e.positionData,m=0;m<e.children.length;m++){var p=e.children[m];u-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}h=u}else if(e.positionType==="bottom")h=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},TO=function(e,n){for(var{children:s,depth:r}=wO(e),a=0,l=0;l<s.length;l++){var o=s[l];if(o.type==="elem"){var c=o.elem;a=Math.max(a,c.maxFontSize,c.height)}}a+=2;var h=bi(["pstrut"],[]);h.style.height=ke(a);for(var u=[],m=r,p=r,b=r,E=0;E<s.length;E++){var y=s[E];if(y.type==="kern")b+=y.size;else{var T=y.elem,S=y.wrapperClasses||[],N=y.wrapperStyle||{},v=bi(S,[h,T],void 0,N);v.style.top=ke(-a-b-T.depth),y.marginLeft&&(v.style.marginLeft=y.marginLeft),y.marginRight&&(v.style.marginRight=y.marginRight),u.push(v),b+=T.height+T.depth}m=Math.min(m,b),p=Math.max(p,b)}var f=bi(["vlist"],u);f.style.height=ke(p);var x;if(m<0){var C=bi([],[]),j=bi(["vlist"],[C]);j.style.height=ke(-m);var g=bi(["vlist-s"],[new fs("")]);x=[bi(["vlist-r"],[f,g]),bi(["vlist-r"],[j])]}else x=[bi(["vlist-r"],[f])];var A=bi(["vlist-t"],x);return x.length===2&&A.classes.push("vlist-t2"),A.height=p,A.depth=-m,A},SO=(t,e)=>{var n=bi(["mspace"],[],e),s=en(t,e);return n.style.marginRight=ke(s),n},Lu=function(e,n,s){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return n==="textbf"&&s==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",r+"-"+a},yT={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},bT={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},NO=function(e,n){var[s,r,a]=bT[e],l=new Qa(s),o=new Fr([l],{width:ke(r),height:ke(a),style:"width:"+ke(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),c=xT(["overlay"],[o],n);return c.height=a,c.style.height=ke(a),c.style.width=ke(r),c},oe={fontMap:yT,makeSymbol:Es,mathsym:fO,makeSpan:bi,makeSvgSpan:xT,makeLineSpan:bO,makeAnchor:vO,makeFragment:gT,wrapFragment:jO,makeVList:TO,makeOrd:xO,makeGlue:SO,staticSvg:NO,svgData:bT,tryCombineChars:yO},Kt={number:3,unit:"mu"},wl={number:4,unit:"mu"},vr={number:5,unit:"mu"},AO={mord:{mop:Kt,mbin:wl,mrel:vr,minner:Kt},mop:{mord:Kt,mop:Kt,mrel:vr,minner:Kt},mbin:{mord:wl,mop:wl,mopen:wl,minner:wl},mrel:{mord:vr,mop:vr,mopen:vr,minner:vr},mopen:{},mclose:{mop:Kt,mbin:wl,mrel:vr,minner:Kt},mpunct:{mord:Kt,mop:Kt,mrel:vr,mopen:Kt,mclose:Kt,mpunct:Kt,minner:Kt},minner:{mord:Kt,mop:Kt,mbin:wl,mrel:vr,mopen:Kt,mpunct:Kt,minner:Kt}},kO={mord:{mop:Kt},mop:{mord:Kt,mop:Kt},mbin:{},mrel:{},mopen:{},mclose:{mop:Kt},mpunct:{},minner:{mop:Kt}},vT={},Nm={},Am={};function ze(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs,argTypes:s.argTypes,allowedInArgument:!!s.allowedInArgument,allowedInText:!!s.allowedInText,allowedInMath:s.allowedInMath===void 0?!0:s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,primitive:!!s.primitive,handler:r},c=0;c<n.length;++c)vT[n[c]]=o;e&&(a&&(Nm[e]=a),l&&(Am[e]=l))}function lo(t){var{type:e,htmlBuilder:n,mathmlBuilder:s}=t;ze({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:s})}var km=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},xn=function(e){return e.type==="ordgroup"?e.body:[e]},Ur=oe.makeSpan,EO=["leftmost","mbin","mopen","mrel","mop","mpunct"],CO=["rightmost","mrel","mclose","mpunct"],MO={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT},zO={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},In=function(e,n,s,r){r===void 0&&(r=[null,null]);for(var a=[],l=0;l<e.length;l++){var o=mt(e[l],n);if(o instanceof Hh){var c=o.children;a.push(...c)}else a.push(o)}if(oe.tryCombineChars(a),!s)return a;var h=n;if(e.length===1){var u=e[0];u.type==="sizing"?h=n.havingSize(u.size):u.type==="styling"&&(h=n.havingStyle(MO[u.style]))}var m=Ur([r[0]||"leftmost"],[],n),p=Ur([r[1]||"rightmost"],[],n),b=s==="root";return rv(a,(E,y)=>{var T=y.classes[0],S=E.classes[0];T==="mbin"&&CO.includes(S)?y.classes[0]="mord":S==="mbin"&&EO.includes(T)&&(E.classes[0]="mord")},{node:m},p,b),rv(a,(E,y)=>{var T=ug(y),S=ug(E),N=T&&S?E.hasClass("mtight")?kO[T][S]:AO[T][S]:null;if(N)return oe.makeGlue(N,h)},{node:m},p,b),a},rv=function t(e,n,s,r,a){r&&e.push(r);for(var l=0;l<e.length;l++){var o=e[l],c=jT(o);if(c){t(c.children,n,s,null,a);continue}var h=!o.hasClass("mspace");if(h){var u=n(o,s.node);u&&(s.insertAfter?s.insertAfter(u):(e.unshift(u),l++))}h?s.node=o:a&&o.hasClass("newline")&&(s.node=Ur(["leftmost"])),s.insertAfter=(m=>p=>{e.splice(m+1,0,p),l++})(l)}r&&e.pop()},jT=function(e){return e instanceof Hh||e instanceof x2||e instanceof Vh&&e.hasClass("enclosing")?e:null},DO=function t(e,n){var s=jT(e);if(s){var r=s.children;if(r.length){if(n==="right")return t(r[r.length-1],"right");if(n==="left")return t(r[0],"left")}}return e},ug=function(e,n){return e?(n&&(e=DO(e,n)),zO[e.classes[0]]||null):null},yh=function(e,n){var s=["nulldelimiter"].concat(e.baseSizingClasses());return Ur(n.concat(s))},mt=function(e,n,s){if(!e)return Ur();if(Nm[e.type]){var r=Nm[e.type](e,n);if(s&&n.size!==s.size){r=Ur(n.sizingClasses(s),[r],n);var a=n.sizeMultiplier/s.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new Se("Got group of unknown type: '"+e.type+"'")};function Fu(t,e){var n=Ur(["base"],t,e),s=Ur(["strut"]);return s.style.height=ke(n.height+n.depth),n.depth&&(s.style.verticalAlign=ke(-n.depth)),n.children.unshift(s),n}function dg(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var s=In(t,e,"root"),r;s.length===2&&s[1].hasClass("tag")&&(r=s.pop());for(var a=[],l=[],o=0;o<s.length;o++)if(l.push(s[o]),s[o].hasClass("mbin")||s[o].hasClass("mrel")||s[o].hasClass("allowbreak")){for(var c=!1;o<s.length-1&&s[o+1].hasClass("mspace")&&!s[o+1].hasClass("newline");)o++,l.push(s[o]),s[o].hasClass("nobreak")&&(c=!0);c||(a.push(Fu(l,e)),l=[])}else s[o].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(Fu(l,e)),l=[]),a.push(s[o]));l.length>0&&a.push(Fu(l,e));var h;n?(h=Fu(In(n,e,!0)),h.classes=["tag"],a.push(h)):r&&a.push(r);var u=Ur(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),h){var m=h.children[0];m.style.height=ke(u.height+u.depth),u.depth&&(m.style.verticalAlign=ke(-u.depth))}return u}function wT(t){return new Hh(t)}let qi=class{constructor(e,n,s){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=s||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Za(this.classes));for(var s=0;s<this.children.length;s++)if(this.children[s]instanceof Vs&&this.children[s+1]instanceof Vs){for(var r=this.children[s].toText()+this.children[++s].toText();this.children[s+1]instanceof Vs;)r+=this.children[++s].toText();e.appendChild(new Vs(r).toNode())}else e.appendChild(this.children[s].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=xt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+xt.escape(Za(this.classes))+'"'),e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Vs=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return xt.escape(this.toText())}toText(){return this.text}},PO=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}};var be={MathNode:qi,TextNode:Vs,SpaceNode:PO,newDocumentFragment:wT},ps=function(e,n,s){return Rt[n][e]&&Rt[n][e].replace&&e.charCodeAt(0)!==55349&&!(pT.hasOwnProperty(e)&&s&&(s.fontFamily&&s.fontFamily.slice(4,6)==="tt"||s.font&&s.font.slice(4,6)==="tt"))&&(e=Rt[n][e].replace),new be.TextNode(e)},y2=function(e){return e.length===1?e[0]:new be.MathNode("mrow",e)},b2=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var s=n.font;if(!s||s==="mathnormal")return null;var r=e.mode;if(s==="mathit")return"italic";if(s==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(s==="mathbf")return"bold";if(s==="mathbb")return"double-struck";if(s==="mathsfit")return"sans-serif-italic";if(s==="mathfrak")return"fraktur";if(s==="mathscr"||s==="mathcal")return"script";if(s==="mathsf")return"sans-serif";if(s==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Rt[r][a]&&Rt[r][a].replace&&(a=Rt[r][a].replace);var l=oe.fontMap[s].fontName;return p2(a,l,r)?oe.fontMap[s].variant:null};function Xp(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Vs&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Vs&&n.text===","}else return!1}var Ci=function(e,n,s){if(e.length===1){var r=Mt(e[0],n);return s&&r instanceof qi&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],l,o=0;o<e.length;o++){var c=Mt(e[o],n);if(c instanceof qi&&l instanceof qi){if(c.type==="mtext"&&l.type==="mtext"&&c.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...c.children);continue}else if(c.type==="mn"&&l.type==="mn"){l.children.push(...c.children);continue}else if(Xp(c)&&l.type==="mn"){l.children.push(...c.children);continue}else if(c.type==="mn"&&Xp(l))c.children=[...l.children,...c.children],a.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(l.type==="mn"||Xp(l))){var h=c.children[0];h instanceof qi&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var u=l.children[0];if(u instanceof Vs&&u.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var m=c.children[0];m instanceof Vs&&m.text.length>0&&(m.text=m.text.slice(0,1)+""+m.text.slice(1),a.pop())}}}a.push(c),l=c}return a},Ka=function(e,n,s){return y2(Ci(e,n,s))},Mt=function(e,n){if(!e)return new be.MathNode("mrow");if(Am[e.type]){var s=Am[e.type](e,n);return s}else throw new Se("Got group of unknown type: '"+e.type+"'")};function av(t,e,n,s,r){var a=Ci(t,n),l;a.length===1&&a[0]instanceof qi&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new be.MathNode("mrow",a);var o=new be.MathNode("annotation",[new be.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var c=new be.MathNode("semantics",[l,o]),h=new be.MathNode("math",[c]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&h.setAttribute("display","block");var u=r?"katex":"katex-mathml";return oe.makeSpan([u],[h])}var TT=function(e){return new hT({style:e.displayMode?Ye.DISPLAY:Ye.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},ST=function(e,n){if(n.displayMode){var s=["katex-display"];n.leqno&&s.push("leqno"),n.fleqn&&s.push("fleqn"),e=oe.makeSpan(s,[e])}return e},IO=function(e,n,s){var r=TT(s),a;if(s.output==="mathml")return av(e,n,r,s.displayMode,!0);if(s.output==="html"){var l=dg(e,r);a=oe.makeSpan(["katex"],[l])}else{var o=av(e,n,r,s.displayMode,!1),c=dg(e,r);a=oe.makeSpan(["katex"],[o,c])}return ST(a,s)},RO=function(e,n,s){var r=TT(s),a=dg(e,r),l=oe.makeSpan(["katex"],[a]);return ST(l,s)},_O={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},qO=function(e){var n=new be.MathNode("mo",[new be.TextNode(_O[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},$O={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},BO=function(e){return e.type==="ordgroup"?e.body.length:1},OO=function(e,n){function s(){var o=4e5,c=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(c)){var h=e,u=BO(h.base),m,p,b;if(u>5)c==="widehat"||c==="widecheck"?(m=420,o=2364,b=.42,p=c+"4"):(m=312,o=2340,b=.34,p="tilde4");else{var E=[1,1,2,2,3,3][u];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][E],m=[0,239,300,360,420][E],b=[0,.24,.3,.3,.36,.42][E],p=c+E):(o=[0,600,1033,2339,2340][E],m=[0,260,286,306,312][E],b=[0,.26,.286,.3,.306,.34][E],p="tilde"+E)}var y=new Qa(p),T=new Fr([y],{width:"100%",height:ke(b),viewBox:"0 0 "+o+" "+m,preserveAspectRatio:"none"});return{span:oe.makeSvgSpan([],[T],n),minWidth:0,height:b}}else{var S=[],N=$O[c],[v,f,x]=N,C=x/1e3,j=v.length,g,A;if(j===1){var w=N[3];g=["hide-tail"],A=[w]}else if(j===2)g=["halfarrow-left","halfarrow-right"],A=["xMinYMin","xMaxYMin"];else if(j===3)g=["brace-left","brace-center","brace-right"],A=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+j+" children.");for(var k=0;k<j;k++){var M=new Qa(v[k]),I=new Fr([M],{width:"400em",height:ke(C),viewBox:"0 0 "+o+" "+x,preserveAspectRatio:A[k]+" slice"}),O=oe.makeSvgSpan([g[k]],[I],n);if(j===1)return{span:O,minWidth:f,height:C};O.style.height=ke(C),S.push(O)}return{span:oe.makeSpan(["stretchy"],S,n),minWidth:f,height:C}}}var{span:r,minWidth:a,height:l}=s();return r.height=l,r.style.height=ke(l),a>0&&(r.style.minWidth=ke(a)),r},LO=function(e,n,s,r,a){var l,o=e.height+e.depth+s+r;if(/fbox|color|angl/.test(n)){if(l=oe.makeSpan(["stretchy",n],[],a),n==="fbox"){var c=a.color&&a.getColor();c&&(l.style.borderColor=c)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new cg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new cg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Fr(h,{width:"100%",height:ke(o)});l=oe.makeSvgSpan([],[u],a)}return l.height=o,l.style.height=ke(o),l},Hr={encloseSpan:LO,mathMLnode:qO,svgSpan:OO};function st(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function v2(t){var e=jf(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function jf(t){return t&&(t.type==="atom"||dO.hasOwnProperty(t.type))?t:null}var j2=(t,e)=>{var n,s,r;t&&t.type==="supsub"?(s=st(t.base,"accent"),n=s.base,t.base=n,r=hO(mt(t,e)),t.base=s):(s=st(t,"accent"),n=s.base);var a=mt(n,e.havingCrampedStyle()),l=s.isShifty&&xt.isCharacterBox(n),o=0;if(l){var c=xt.getBaseElem(n),h=mt(c,e.havingCrampedStyle());o=J5(h).skew}var u=s.label==="\\c",m=u?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(s.isStretchy)p=Hr.svgSpan(s,e),p=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ke(2*o)+")",marginLeft:ke(2*o)}:void 0}]},e);else{var b,E;s.label==="\\vec"?(b=oe.staticSvg("vec",e),E=oe.svgData.vec[1]):(b=oe.makeOrd({mode:s.mode,text:s.label},e,"textord"),b=J5(b),b.italic=0,E=b.width,u&&(m+=b.depth)),p=oe.makeSpan(["accent-body"],[b]);var y=s.label==="\\textcircled";y&&(p.classes.push("accent-full"),m=a.height);var T=o;y||(T-=E/2),p.style.left=ke(T),s.label==="\\textcircled"&&(p.style.top=".2em"),p=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-m},{type:"elem",elem:p}]},e)}var S=oe.makeSpan(["mord","accent"],[p],e);return r?(r.children[0]=S,r.height=Math.max(S.height,r.height),r.classes[0]="mord",r):S},NT=(t,e)=>{var n=t.isStretchy?Hr.mathMLnode(t.label):new be.MathNode("mo",[ps(t.label,t.mode)]),s=new be.MathNode("mover",[Mt(t.base,e),n]);return s.setAttribute("accent","true"),s},FO=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ze({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=km(e[0]),s=!FO.test(t.funcName),r=!s||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:s,isShifty:r,base:n}},htmlBuilder:j2,mathmlBuilder:NT});ze({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],s=t.parser.mode;return s==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),s="text"),{type:"accent",mode:s,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:j2,mathmlBuilder:NT});ze({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"accentUnder",mode:n.mode,label:s,base:r}},htmlBuilder:(t,e)=>{var n=mt(t.base,e),s=Hr.svgSpan(t,e),r=t.label==="\\utilde"?.12:0,a=oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},e);return oe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=Hr.mathMLnode(t.label),s=new be.MathNode("munder",[Mt(t.base,e),n]);return s.setAttribute("accentunder","true"),s}});var Uu=t=>{var e=new be.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ze({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s,funcName:r}=t;return{type:"xArrow",mode:s.mode,label:r,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,s=e.havingStyle(n.sup()),r=oe.wrapFragment(mt(t.body,s,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var l;t.below&&(s=e.havingStyle(n.sub()),l=oe.wrapFragment(mt(t.below,s,e),e),l.classes.push(a+"-arrow-pad"));var o=Hr.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*o.height,h=-e.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||t.label==="\\xleftequilibrium")&&(h-=r.depth);var u;if(l){var m=-e.fontMetrics().axisHeight+l.height+.5*o.height+.111;u=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:m}]},e)}else u=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),oe.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=Hr.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var s;if(t.body){var r=Uu(Mt(t.body,e));if(t.below){var a=Uu(Mt(t.below,e));s=new be.MathNode("munderover",[n,a,r])}else s=new be.MathNode("mover",[n,r])}else if(t.below){var l=Uu(Mt(t.below,e));s=new be.MathNode("munder",[n,l])}else s=Uu(),s=new be.MathNode("mover",[n,s]);return s}});var UO=oe.makeSpan;function AT(t,e){var n=In(t.body,e,!0);return UO([t.mclass],n,e)}function kT(t,e){var n,s=Ci(t.body,e);return t.mclass==="minner"?n=new be.MathNode("mpadded",s):t.mclass==="mord"?t.isCharacterBox?(n=s[0],n.type="mi"):n=new be.MathNode("mi",s):(t.isCharacterBox?(n=s[0],n.type="mo"):n=new be.MathNode("mo",s),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ze({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+s.slice(5),body:xn(r),isCharacterBox:xt.isCharacterBox(r)}},htmlBuilder:AT,mathmlBuilder:kT});var wf=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ze({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:wf(e[0]),body:xn(e[1]),isCharacterBox:xt.isCharacterBox(e[1])}}});ze({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:s}=t,r=e[1],a=e[0],l;s!=="\\stackrel"?l=wf(r):l="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:s!=="\\stackrel",body:xn(r)},c={type:"supsub",mode:a.mode,base:o,sup:s==="\\underset"?null:a,sub:s==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:l,body:[c],isCharacterBox:xt.isCharacterBox(c)}},htmlBuilder:AT,mathmlBuilder:kT});ze({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:wf(e[0]),body:xn(e[0])}},htmlBuilder(t,e){var n=In(t.body,e,!0),s=oe.makeSpan([t.mclass],n,e);return s.style.textShadow="0.02em 0.01em 0.04px",s},mathmlBuilder(t,e){var n=Ci(t.body,e),s=new be.MathNode("mstyle",n);return s.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),s}});var HO={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},lv=()=>({type:"styling",body:[],mode:"math",style:"display"}),ov=t=>t.type==="textord"&&t.text==="@",VO=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function GO(t,e,n){var s=HO[t];switch(s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(s,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:s,mode:"math",family:"rel"},l=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[r,l,o]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function WO(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Se("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var s=[],r=[s],a=0;a<e.length;a++){for(var l=e[a],o=lv(),c=0;c<l.length;c++)if(!ov(l[c]))o.body.push(l[c]);else{s.push(o),c+=1;var h=v2(l[c]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var m=0;m<2;m++){for(var p=!0,b=c+1;b<l.length;b++){if(VO(l[b],h)){p=!1,c=b;break}if(ov(l[b]))throw new Se("Missing a "+h+" character to complete a CD arrow.",l[b]);u[m].body.push(l[b])}if(p)throw new Se("Missing a "+h+" character to complete a CD arrow.",l[c])}else throw new Se('Expected one of "<>AV=|." after @',l[c]);var E=GO(h,u,t),y={type:"styling",body:[E],mode:"math",style:"display"};s.push(y),o=lv()}a%2===0?s.push(o):s.shift(),s=[],r.push(s)}t.gullet.endGroup(),t.gullet.endGroup();var T=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}ze({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"cdlabel",mode:n.mode,side:s.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),s=oe.wrapFragment(mt(t.label,n,e),e);return s.classes.push("cd-label-"+t.side),s.style.bottom=ke(.8-s.depth),s.height=0,s.depth=0,s},mathmlBuilder(t,e){var n=new be.MathNode("mrow",[Mt(t.label,e)]);return n=new be.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new be.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ze({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=oe.wrapFragment(mt(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new be.MathNode("mrow",[Mt(t.fragment,e)])}});ze({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,s=st(e[0],"ordgroup"),r=s.body,a="",l=0;l<r.length;l++){var o=st(r[l],"textord");a+=o.text}var c=parseInt(a),h;if(isNaN(c))throw new Se("\\@char has non-numeric argument "+a);if(c<0||c>=1114111)throw new Se("\\@char with invalid code point "+a);return c<=65535?h=String.fromCharCode(c):(c-=65536,h=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var ET=(t,e)=>{var n=In(t.body,e.withColor(t.color),!1);return oe.makeFragment(n)},CT=(t,e)=>{var n=Ci(t.body,e.withColor(t.color)),s=new be.MathNode("mstyle",n);return s.setAttribute("mathcolor",t.color),s};ze({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,s=st(e[0],"color-token").color,r=e[1];return{type:"color",mode:n.mode,color:s,body:xn(r)}},htmlBuilder:ET,mathmlBuilder:CT});ze({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:s}=t,r=st(e[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var a=n.parseExpression(!0,s);return{type:"color",mode:n.mode,color:r,body:a}},htmlBuilder:ET,mathmlBuilder:CT});ze({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:s}=t,r=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,a=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:s.mode,newLine:a,size:r&&st(r,"size").value}},htmlBuilder(t,e){var n=oe.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(en(t.size,e)))),n},mathmlBuilder(t,e){var n=new be.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(en(t.size,e)))),n}});var mg={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},MT=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Se("Expected a control sequence",t);return e},YO=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},zT=(t,e,n,s)=>{var r=t.gullet.macros.get(n.text);r==null&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,r,s)};ze({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var s=e.fetch();if(mg[s.text])return(n==="\\global"||n==="\\\\globallong")&&(s.text=mg[s.text]),st(e.parseFunction(),"internal");throw new Se("Invalid token after macro prefix",s)}});ze({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=e.gullet.popToken(),r=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new Se("Expected a control sequence",s);for(var a=0,l,o=[[]];e.gullet.future().text!=="{";)if(s=e.gullet.popToken(),s.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),o[a].push("{");break}if(s=e.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new Se('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==a+1)throw new Se('Argument number "'+s.text+'" out of order');a++,o.push([])}else{if(s.text==="EOF")throw new Se("Expected a macro definition");o[a].push(s.text)}var{tokens:c}=e.gullet.consumeArg();return l&&c.unshift(l),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(r,{tokens:c,numArgs:a,delimiters:o},n===mg[n]),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=MT(e.gullet.popToken());e.gullet.consumeSpaces();var r=YO(e);return zT(e,s,r,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=MT(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return zT(e,s,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var S0=function(e,n,s){var r=Rt.math[e]&&Rt.math[e].replace,a=p2(r||e,n,s);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},w2=function(e,n,s,r){var a=s.havingBaseStyle(n),l=oe.makeSpan(r.concat(a.sizingClasses(s)),[e],s),o=a.sizeMultiplier/s.sizeMultiplier;return l.height*=o,l.depth*=o,l.maxFontSize=a.sizeMultiplier,l},DT=function(e,n,s){var r=n.havingBaseStyle(s),a=(1-n.sizeMultiplier/r.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(a),e.height-=a,e.depth+=a},XO=function(e,n,s,r,a,l){var o=oe.makeSymbol(e,"Main-Regular",a,r),c=w2(o,n,r,l);return s&&DT(c,r,n),c},ZO=function(e,n,s,r){return oe.makeSymbol(e,"Size"+n+"-Regular",s,r)},PT=function(e,n,s,r,a,l){var o=ZO(e,n,a,r),c=w2(oe.makeSpan(["delimsizing","size"+n],[o],r),Ye.TEXT,r,l);return s&&DT(c,r,Ye.TEXT),c},Zp=function(e,n,s){var r;n==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=oe.makeSpan(["delimsizinginner",r],[oe.makeSpan([],[oe.makeSymbol(e,n,s)])]);return{type:"elem",elem:a}},Qp=function(e,n,s){var r=Hs["Size4-Regular"][e.charCodeAt(0)]?Hs["Size4-Regular"][e.charCodeAt(0)][4]:Hs["Size1-Regular"][e.charCodeAt(0)][4],a=new Qa("inner",tO(e,Math.round(1e3*n))),l=new Fr([a],{width:ke(r),height:ke(n),style:"width:"+ke(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=oe.makeSvgSpan([],[l],s);return o.height=n,o.style.height=ke(n),o.style.width=ke(r),{type:"elem",elem:o}},fg=.008,Hu={type:"kern",size:-1*fg},QO=["|","\\lvert","\\rvert","\\vert"],KO=["\\|","\\lVert","\\rVert","\\Vert"],IT=function(e,n,s,r,a,l){var o,c,h,u,m="",p=0;o=h=u=e,c=null;var b="Size1-Regular";e==="\\uparrow"?h=u="":e==="\\Uparrow"?h=u="":e==="\\downarrow"?o=h="":e==="\\Downarrow"?o=h="":e==="\\updownarrow"?(o="\\uparrow",h="",u="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",h="",u="\\Downarrow"):QO.includes(e)?(h="",m="vert",p=333):KO.includes(e)?(h="",m="doublevert",p=556):e==="["||e==="\\lbrack"?(o="",h="",u="",b="Size4-Regular",m="lbrack",p=667):e==="]"||e==="\\rbrack"?(o="",h="",u="",b="Size4-Regular",m="rbrack",p=667):e==="\\lfloor"||e===""?(h=o="",u="",b="Size4-Regular",m="lfloor",p=667):e==="\\lceil"||e===""?(o="",h=u="",b="Size4-Regular",m="lceil",p=667):e==="\\rfloor"||e===""?(h=o="",u="",b="Size4-Regular",m="rfloor",p=667):e==="\\rceil"||e===""?(o="",h=u="",b="Size4-Regular",m="rceil",p=667):e==="("||e==="\\lparen"?(o="",h="",u="",b="Size4-Regular",m="lparen",p=875):e===")"||e==="\\rparen"?(o="",h="",u="",b="Size4-Regular",m="rparen",p=875):e==="\\{"||e==="\\lbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\lgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\rgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",u="",h="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",u="",h="",b="Size4-Regular");var E=S0(o,b,a),y=E.height+E.depth,T=S0(h,b,a),S=T.height+T.depth,N=S0(u,b,a),v=N.height+N.depth,f=0,x=1;if(c!==null){var C=S0(c,b,a);f=C.height+C.depth,x=2}var j=y+v+f,g=Math.max(0,Math.ceil((n-j)/(x*S))),A=j+g*x*S,w=r.fontMetrics().axisHeight;s&&(w*=r.sizeMultiplier);var k=A/2-w,M=[];if(m.length>0){var I=A-y-v,O=Math.round(A*1e3),$=nO(m,Math.round(I*1e3)),G=new Qa(m,$),V=(p/1e3).toFixed(3)+"em",J=(O/1e3).toFixed(3)+"em",ee=new Fr([G],{width:V,height:J,viewBox:"0 0 "+p+" "+O}),re=oe.makeSvgSpan([],[ee],r);re.height=O/1e3,re.style.width=V,re.style.height=J,M.push({type:"elem",elem:re})}else{if(M.push(Zp(u,b,a)),M.push(Hu),c===null){var se=A-y-v+2*fg;M.push(Qp(h,se,r))}else{var he=(A-y-v-f)/2+2*fg;M.push(Qp(h,he,r)),M.push(Hu),M.push(Zp(c,b,a)),M.push(Hu),M.push(Qp(h,he,r))}M.push(Hu),M.push(Zp(o,b,a))}var ae=r.havingBaseStyle(Ye.TEXT),Ne=oe.makeVList({positionType:"bottom",positionData:k,children:M},ae);return w2(oe.makeSpan(["delimsizing","mult"],[Ne],ae),Ye.TEXT,r,l)},Kp=80,Jp=.08,e1=function(e,n,s,r,a){var l=eO(e,r,s),o=new Qa(e,l),c=new Fr([o],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+s,preserveAspectRatio:"xMinYMin slice"});return oe.makeSvgSpan(["hide-tail"],[c],a)},JO=function(e,n){var s=n.havingBaseSizing(),r=$T("\\surd",e*s.sizeMultiplier,qT,s),a=s.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,c=0,h=0,u=0,m;return r.type==="small"?(u=1e3+1e3*l+Kp,e<1?a=1:e<1.4&&(a=.7),c=(1+l+Jp)/a,h=(1+l)/a,o=e1("sqrtMain",c,u,l,n),o.style.minWidth="0.853em",m=.833/a):r.type==="large"?(u=(1e3+Kp)*G0[r.size],h=(G0[r.size]+l)/a,c=(G0[r.size]+l+Jp)/a,o=e1("sqrtSize"+r.size,c,u,l,n),o.style.minWidth="1.02em",m=1/a):(c=e+l+Jp,h=e+l,u=Math.floor(1e3*e+l)+Kp,o=e1("sqrtTall",c,u,l,n),o.style.minWidth="0.742em",m=1.056),o.height=h,o.style.height=ke(c),{span:o,advanceWidth:m,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*a}},RT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],eL=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],_T=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],G0=[0,1.2,1.8,2.4,3],tL=function(e,n,s,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),RT.includes(e)||_T.includes(e))return PT(e,n,!1,s,r,a);if(eL.includes(e))return IT(e,G0[n],!1,s,r,a);throw new Se("Illegal delimiter: '"+e+"'")},nL=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],iL=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"stack"}],qT=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],sL=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},$T=function(e,n,s,r){for(var a=Math.min(2,3-r.style.size),l=a;l<s.length&&s[l].type!=="stack";l++){var o=S0(e,sL(s[l]),"math"),c=o.height+o.depth;if(s[l].type==="small"){var h=r.havingBaseStyle(s[l].style);c*=h.sizeMultiplier}if(c>n)return s[l]}return s[s.length-1]},BT=function(e,n,s,r,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;_T.includes(e)?o=nL:RT.includes(e)?o=qT:o=iL;var c=$T(e,n,o,r);return c.type==="small"?XO(e,c.style,s,r,a,l):c.type==="large"?PT(e,c.size,s,r,a,l):IT(e,n,s,r,a,l)},rL=function(e,n,s,r,a,l){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,c=901,h=5/r.fontMetrics().ptPerEm,u=Math.max(n-o,s+o),m=Math.max(u/500*c,2*u-h);return BT(e,m,!0,r,a,l)},Pr={sqrtImage:JO,sizedDelim:tL,sizeToMaxHeight:G0,customSizedDelim:BT,leftRightDelim:rL},cv={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},aL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Tf(t,e){var n=jf(t);if(n&&aL.includes(n.text))return n;throw n?new Se("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Se("Invalid delimiter type '"+t.type+"'",t)}ze({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Tf(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:cv[t.funcName].size,mclass:cv[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?oe.makeSpan([t.mclass]):Pr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ps(t.delim,t.mode));var n=new be.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var s=ke(Pr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",s),n.setAttribute("maxsize",s),n}});function hv(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ze({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Se("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Tf(e[0],t).text,color:n}}});ze({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Tf(e[0],t),s=t.parser;++s.leftrightDepth;var r=s.parseExpression(!1);--s.leftrightDepth,s.expect("\\right",!1);var a=st(s.parseFunction(),"leftright-right");return{type:"leftright",mode:s.mode,body:r,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{hv(t);for(var n=In(t.body,e,!0,["mopen","mclose"]),s=0,r=0,a=!1,l=0;l<n.length;l++)n[l].isMiddle?a=!0:(s=Math.max(n[l].height,s),r=Math.max(n[l].depth,r));s*=e.sizeMultiplier,r*=e.sizeMultiplier;var o;if(t.left==="."?o=yh(e,["mopen"]):o=Pr.leftRightDelim(t.left,s,r,e,t.mode,["mopen"]),n.unshift(o),a)for(var c=1;c<n.length;c++){var h=n[c],u=h.isMiddle;u&&(n[c]=Pr.leftRightDelim(u.delim,s,r,u.options,t.mode,[]))}var m;if(t.right===".")m=yh(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;m=Pr.leftRightDelim(t.right,s,r,p,t.mode,["mclose"])}return n.push(m),oe.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{hv(t);var n=Ci(t.body,e);if(t.left!=="."){var s=new be.MathNode("mo",[ps(t.left,t.mode)]);s.setAttribute("fence","true"),n.unshift(s)}if(t.right!=="."){var r=new be.MathNode("mo",[ps(t.right,t.mode)]);r.setAttribute("fence","true"),t.rightColor&&r.setAttribute("mathcolor",t.rightColor),n.push(r)}return y2(n)}});ze({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Tf(e[0],t);if(!t.parser.leftrightDepth)throw new Se("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=yh(e,[]);else{n=Pr.sizedDelim(t.delim,1,e,t.mode,[]);var s={delim:t.delim,options:e};n.isMiddle=s}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?ps("|","text"):ps(t.delim,t.mode),s=new be.MathNode("mo",[n]);return s.setAttribute("fence","true"),s.setAttribute("lspace","0.05em"),s.setAttribute("rspace","0.05em"),s}});var T2=(t,e)=>{var n=oe.wrapFragment(mt(t.body,e),e),s=t.label.slice(1),r=e.sizeMultiplier,a,l=0,o=xt.isCharacterBox(t.body);if(s==="sout")a=oe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,l=-.5*e.fontMetrics().xHeight;else if(s==="phase"){var c=en({number:.6,unit:"pt"},e),h=en({number:.35,unit:"ex"},e),u=e.havingBaseSizing();r=r/u.sizeMultiplier;var m=n.height+n.depth+c+h;n.style.paddingLeft=ke(m/2+c);var p=Math.floor(1e3*m*r),b=KB(p),E=new Fr([new Qa("phase",b)],{width:"400em",height:ke(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=oe.makeSvgSpan(["hide-tail"],[E],e),a.style.height=ke(m),l=n.depth+c+h}else{/cancel/.test(s)?o||n.classes.push("cancel-pad"):s==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,T=0,S=0;/box/.test(s)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(s==="colorbox"?0:S),T=y):s==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*S,T=Math.max(0,.25-n.depth)):(y=o?.2:0,T=y),a=Hr.encloseSpan(n,s,y,T,e),/fbox|boxed|fcolorbox/.test(s)?(a.style.borderStyle="solid",a.style.borderWidth=ke(S)):s==="angl"&&S!==.049&&(a.style.borderTopWidth=ke(S),a.style.borderRightWidth=ke(S)),l=n.depth+T,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var N;if(t.backgroundColor)N=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var v=/cancel|phase/.test(s)?["svg-align"]:[];N=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:v}]},e)}return/cancel/.test(s)&&(N.height=n.height,N.depth=n.depth),/cancel/.test(s)&&!o?oe.makeSpan(["mord","cancel-lap"],[N],e):oe.makeSpan(["mord"],[N],e)},S2=(t,e)=>{var n=0,s=new be.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Mt(t.body,e)]);switch(t.label){case"\\cancel":s.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":s.setAttribute("notation","downdiagonalstrike");break;case"\\phase":s.setAttribute("notation","phasorangle");break;case"\\sout":s.setAttribute("notation","horizontalstrike");break;case"\\fbox":s.setAttribute("notation","box");break;case"\\angl":s.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,s.setAttribute("width","+"+2*n+"pt"),s.setAttribute("height","+"+2*n+"pt"),s.setAttribute("lspace",n+"pt"),s.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);s.setAttribute("style","border: "+r+"em solid "+String(t.borderColor))}break;case"\\xcancel":s.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&s.setAttribute("mathbackground",t.backgroundColor),s};ze({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=st(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:s.mode,label:r,backgroundColor:a,body:l}},htmlBuilder:T2,mathmlBuilder:S2});ze({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=st(e[0],"color-token").color,l=st(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:s.mode,label:r,backgroundColor:l,borderColor:a,body:o}},htmlBuilder:T2,mathmlBuilder:S2});ze({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ze({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"enclose",mode:n.mode,label:s,body:r}},htmlBuilder:T2,mathmlBuilder:S2});ze({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var OT={};function nr(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},c=0;c<n.length;++c)OT[n[c]]=o;a&&(Nm[e]=a),l&&(Am[e]=l)}var LT={};function U(t,e){LT[t]=e}function uv(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Sf=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Se("{"+t.envName+"} can be used only in display mode.")};function N2(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ol(t,e,n){var{hskipBeforeAndAfter:s,addJot:r,cols:a,arraystretch:l,colSeparationType:o,autoTag:c,singleRow:h,emptySingleRow:u,maxNumCols:m,leqno:p}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Se("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var E=[],y=[E],T=[],S=[],N=c!=null?[]:void 0;function v(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function f(){N&&(t.gullet.macros.get("\\df@tag")?(N.push(t.subparse([new Rs("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(v(),S.push(uv(t));;){var x=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),x={type:"ordgroup",mode:t.mode,body:x},n&&(x={type:"styling",mode:t.mode,style:n,body:[x]}),E.push(x);var C=t.fetch().text;if(C==="&"){if(m&&E.length===m){if(h||o)throw new Se("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(C==="\\end"){f(),E.length===1&&x.type==="styling"&&x.body[0].body.length===0&&(y.length>1||!u)&&y.pop(),S.length<y.length+1&&S.push([]);break}else if(C==="\\\\"){t.consume();var j=void 0;t.gullet.future().text!==" "&&(j=t.parseSizeGroup(!0)),T.push(j?j.value:null),f(),S.push(uv(t)),E=[],y.push(E),v()}else throw new Se("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:r,arraystretch:l,body:y,cols:a,rowGaps:T,hskipBeforeAndAfter:s,hLinesBeforeRow:S,colSeparationType:o,tags:N,leqno:p}}function A2(t){return t.slice(0,1)==="d"?"display":"text"}var ir=function(e,n){var s,r,a=e.body.length,l=e.hLinesBeforeRow,o=0,c=new Array(a),h=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),m=1/n.fontMetrics().ptPerEm,p=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(Ye.SCRIPT).sizeMultiplier;p=.2778*(b/n.sizeMultiplier)}var E=e.colSeparationType==="CD"?en({number:3,unit:"ex"},n):12*m,y=3*m,T=e.arraystretch*E,S=.7*T,N=.3*T,v=0;function f(kt){for(var dn=0;dn<kt.length;++dn)dn>0&&(v+=.25),h.push({pos:v,isDashed:kt[dn]})}for(f(l[0]),s=0;s<e.body.length;++s){var x=e.body[s],C=S,j=N;o<x.length&&(o=x.length);var g=new Array(x.length);for(r=0;r<x.length;++r){var A=mt(x[r],n);j<A.depth&&(j=A.depth),C<A.height&&(C=A.height),g[r]=A}var w=e.rowGaps[s],k=0;w&&(k=en(w,n),k>0&&(k+=N,j<k&&(j=k),k=0)),e.addJot&&(j+=y),g.height=C,g.depth=j,v+=C,g.pos=v,v+=j+k,c[s]=g,f(l[s+1])}var M=v/2+n.fontMetrics().axisHeight,I=e.cols||[],O=[],$,G,V=[];if(e.tags&&e.tags.some(kt=>kt))for(s=0;s<a;++s){var J=c[s],ee=J.pos-M,re=e.tags[s],se=void 0;re===!0?se=oe.makeSpan(["eqn-num"],[],n):re===!1?se=oe.makeSpan([],[],n):se=oe.makeSpan([],In(re,n,!0),n),se.depth=J.depth,se.height=J.height,V.push({type:"elem",elem:se,shift:ee})}for(r=0,G=0;r<o||G<I.length;++r,++G){for(var he=I[G]||{},ae=!0;he.type==="separator";){if(ae||($=oe.makeSpan(["arraycolsep"],[]),$.style.width=ke(n.fontMetrics().doubleRuleSep),O.push($)),he.separator==="|"||he.separator===":"){var Ne=he.separator==="|"?"solid":"dashed",Te=oe.makeSpan(["vertical-separator"],[],n);Te.style.height=ke(v),Te.style.borderRightWidth=ke(u),Te.style.borderRightStyle=Ne,Te.style.margin="0 "+ke(-u/2);var tt=v-M;tt&&(Te.style.verticalAlign=ke(-tt)),O.push(Te)}else throw new Se("Invalid separator type: "+he.separator);G++,he=I[G]||{},ae=!1}if(!(r>=o)){var Me=void 0;(r>0||e.hskipBeforeAndAfter)&&(Me=xt.deflt(he.pregap,p),Me!==0&&($=oe.makeSpan(["arraycolsep"],[]),$.style.width=ke(Me),O.push($)));var Ae=[];for(s=0;s<a;++s){var Ue=c[s],Oe=Ue[r];if(Oe){var at=Ue.pos-M;Oe.depth=Ue.depth,Oe.height=Ue.height,Ae.push({type:"elem",elem:Oe,shift:at})}}Ae=oe.makeVList({positionType:"individualShift",children:Ae},n),Ae=oe.makeSpan(["col-align-"+(he.align||"c")],[Ae]),O.push(Ae),(r<o-1||e.hskipBeforeAndAfter)&&(Me=xt.deflt(he.postgap,p),Me!==0&&($=oe.makeSpan(["arraycolsep"],[]),$.style.width=ke(Me),O.push($)))}}if(c=oe.makeSpan(["mtable"],O),h.length>0){for(var He=oe.makeLineSpan("hline",n,u),et=oe.makeLineSpan("hdashline",n,u),_e=[{type:"elem",elem:c,shift:0}];h.length>0;){var Le=h.pop(),qt=Le.pos-M;Le.isDashed?_e.push({type:"elem",elem:et,shift:qt}):_e.push({type:"elem",elem:He,shift:qt})}c=oe.makeVList({positionType:"individualShift",children:_e},n)}if(V.length===0)return oe.makeSpan(["mord"],[c],n);var Ht=oe.makeVList({positionType:"individualShift",children:V},n);return Ht=oe.makeSpan(["tag"],[Ht],n),oe.makeFragment([c,Ht])},lL={c:"center ",l:"left ",r:"right "},sr=function(e,n){for(var s=[],r=new be.MathNode("mtd",[],["mtr-glue"]),a=new be.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var o=e.body[l],c=[],h=0;h<o.length;h++)c.push(new be.MathNode("mtd",[Mt(o[h],n)]));e.tags&&e.tags[l]&&(c.unshift(r),c.push(r),e.leqno?c.unshift(a):c.push(a)),s.push(new be.MathNode("mtr",c))}var u=new be.MathNode("mtable",s),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",ke(m));var p="",b="";if(e.cols&&e.cols.length>0){var E=e.cols,y="",T=!1,S=0,N=E.length;E[0].type==="separator"&&(p+="top ",S=1),E[E.length-1].type==="separator"&&(p+="bottom ",N-=1);for(var v=S;v<N;v++)E[v].type==="align"?(b+=lL[E[v].align],T&&(y+="none "),T=!0):E[v].type==="separator"&&T&&(y+=E[v].separator==="|"?"solid ":"dashed ",T=!1);u.setAttribute("columnalign",b.trim()),/[sd]/.test(y)&&u.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var f=e.cols||[],x="",C=1;C<f.length;C++)x+=C%2?"0em ":"1em ";u.setAttribute("columnspacing",x.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var j="",g=e.hLinesBeforeRow;p+=g[0].length>0?"left ":"",p+=g[g.length-1].length>0?"right ":"";for(var A=1;A<g.length-1;A++)j+=g[A].length===0?"none ":g[A][0]?"dashed ":"solid ";return/[sd]/.test(j)&&u.setAttribute("rowlines",j.trim()),p!==""&&(u=new be.MathNode("menclose",[u]),u.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(u=new be.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},FT=function(e,n){e.envName.indexOf("ed")===-1&&Sf(e);var s=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=ol(e.parser,{cols:s,addJot:!0,autoTag:a?void 0:N2(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,c=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",m=0;m<n[0].body.length;m++){var p=st(n[0].body[m],"textord");u+=p.text}o=Number(u),c=o*2}var b=!c;l.body.forEach(function(S){for(var N=1;N<S.length;N+=2){var v=st(S[N],"styling"),f=st(v.body[0],"ordgroup");f.body.unshift(h)}if(b)c<S.length&&(c=S.length);else{var x=S.length/2;if(o<x)throw new Se("Too many math in a row: "+("expected "+o+", but got "+x),S[0])}});for(var E=0;E<c;++E){var y="r",T=0;E%2===1?y="l":E>0&&b&&(T=1),s[E]={type:"align",align:y,pregap:T,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};nr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=jf(e[0]),s=n?[e[0]]:st(e[0],"ordgroup").body,r=s.map(function(l){var o=v2(l),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new Se("Unknown column alignment: "+c,l)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return ol(t.parser,a,A2(t.envName))},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var r=t.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,"lcr".indexOf(n)===-1)throw new Se("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),s.cols=[{type:"align",align:n}]}}var a=ol(t.parser,s,A2(t.envName)),l=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=ol(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=jf(e[0]),s=n?[e[0]]:st(e[0],"ordgroup").body,r=s.map(function(l){var o=v2(l),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new Se("Unknown column alignment: "+c,l)});if(r.length>1)throw new Se("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=ol(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Se("{subarray} can contain only one column");return a},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ol(t.parser,e,A2(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:FT,htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Sf(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:N2(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ol(t.parser,e,"display")},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:FT,htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Sf(t);var e={autoTag:N2(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ol(t.parser,e,"display")},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Sf(t),WO(t.parser)},htmlBuilder:ir,mathmlBuilder:sr});U("\\nonumber","\\gdef\\@eqnsw{0}");U("\\notag","\\nonumber");ze({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Se(t.funcName+" valid only within array environment")}});var dv=OT;ze({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];if(r.type!=="ordgroup")throw new Se("Invalid environment name",r);for(var a="",l=0;l<r.body.length;++l)a+=st(r.body[l],"textord").text;if(s==="\\begin"){if(!dv.hasOwnProperty(a))throw new Se("No such environment: "+a,r);var o=dv[a],{args:c,optArgs:h}=n.parseArguments("\\begin{"+a+"}",o),u={mode:n.mode,envName:a,parser:n},m=o.handler(u,c,h);n.expect("\\end",!1);var p=n.nextToken,b=st(n.parseFunction(),"environment");if(b.name!==a)throw new Se("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",p);return m}return{type:"environment",mode:n.mode,name:a,nameGroup:r}}});var UT=(t,e)=>{var n=t.font,s=e.withFont(n);return mt(t.body,s)},HT=(t,e)=>{var n=t.font,s=e.withFont(n);return Mt(t.body,s)},mv={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ze({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=km(e[0]),a=s;return a in mv&&(a=mv[a]),{type:"font",mode:n.mode,font:a.slice(1),body:r}},htmlBuilder:UT,mathmlBuilder:HT});ze({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,s=e[0],r=xt.isCharacterBox(s);return{type:"mclass",mode:n.mode,mclass:wf(s),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:s}],isCharacterBox:r}}});ze({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,breakOnTokenText:r}=t,{mode:a}=n,l=n.parseExpression(!0,r),o="math"+s.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:UT,mathmlBuilder:HT});var VT=(t,e)=>{var n=e;return t==="display"?n=n.id>=Ye.SCRIPT.id?n.text():Ye.DISPLAY:t==="text"&&n.size===Ye.DISPLAY.size?n=Ye.TEXT:t==="script"?n=Ye.SCRIPT:t==="scriptscript"&&(n=Ye.SCRIPTSCRIPT),n},k2=(t,e)=>{var n=VT(t.size,e.style),s=n.fracNum(),r=n.fracDen(),a;a=e.havingStyle(s);var l=mt(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;l.height=l.height<o?o:l.height,l.depth=l.depth<c?c:l.depth}a=e.havingStyle(r);var h=mt(t.denom,a,e),u,m,p;t.hasBarLine?(t.barSize?(m=en(t.barSize,e),u=oe.makeLineSpan("frac-line",e,m)):u=oe.makeLineSpan("frac-line",e),m=u.height,p=u.height):(u=null,m=0,p=e.fontMetrics().defaultRuleThickness);var b,E,y;n.size===Ye.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,m>0?E=3*p:E=7*p,y=e.fontMetrics().denom1):(m>0?(b=e.fontMetrics().num2,E=p):(b=e.fontMetrics().num3,E=3*p),y=e.fontMetrics().denom2);var T;if(u){var N=e.fontMetrics().axisHeight;b-l.depth-(N+.5*m)<E&&(b+=E-(b-l.depth-(N+.5*m))),N-.5*m-(h.height-y)<E&&(y+=E-(N-.5*m-(h.height-y)));var v=-(N-.5*m);T=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:u,shift:v},{type:"elem",elem:l,shift:-b}]},e)}else{var S=b-l.depth-(h.height-y);S<E&&(b+=.5*(E-S),y+=.5*(E-S)),T=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:l,shift:-b}]},e)}a=e.havingStyle(n),T.height*=a.sizeMultiplier/e.sizeMultiplier,T.depth*=a.sizeMultiplier/e.sizeMultiplier;var f;n.size===Ye.DISPLAY.size?f=e.fontMetrics().delim1:n.size===Ye.SCRIPTSCRIPT.size?f=e.havingStyle(Ye.SCRIPT).fontMetrics().delim2:f=e.fontMetrics().delim2;var x,C;return t.leftDelim==null?x=yh(e,["mopen"]):x=Pr.customSizedDelim(t.leftDelim,f,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?C=oe.makeSpan([]):t.rightDelim==null?C=yh(e,["mclose"]):C=Pr.customSizedDelim(t.rightDelim,f,!0,e.havingStyle(n),t.mode,["mclose"]),oe.makeSpan(["mord"].concat(a.sizingClasses(e)),[x,oe.makeSpan(["mfrac"],[T]),C],e)},E2=(t,e)=>{var n=new be.MathNode("mfrac",[Mt(t.numer,e),Mt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var s=en(t.barSize,e);n.setAttribute("linethickness",ke(s))}var r=VT(t.size,e.style);if(r.size!==e.style.size){n=new be.MathNode("mstyle",[n]);var a=r.size===Ye.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var o=new be.MathNode("mo",[new be.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),l.push(o)}if(l.push(n),t.rightDelim!=null){var c=new be.MathNode("mo",[new be.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}return y2(l)}return n};ze({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1],l,o=null,c=null,h="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,o="(",c=")";break;case"\\\\bracefrac":l=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":l=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:a,hasBarLine:l,leftDelim:o,rightDelim:c,size:h,barSize:null}},htmlBuilder:k2,mathmlBuilder:E2});ze({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ze({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:s}=t,r;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:s}}});var fv=["display","text","script","scriptscript"],pv=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ze({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,s=e[4],r=e[5],a=km(e[0]),l=a.type==="atom"&&a.family==="open"?pv(a.text):null,o=km(e[1]),c=o.type==="atom"&&o.family==="close"?pv(o.text):null,h=st(e[2],"size"),u,m=null;h.isBlank?u=!0:(m=h.value,u=m.number>0);var p="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var E=st(b.body[0],"textord");p=fv[Number(E.text)]}}else b=st(b,"textord"),p=fv[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:s,denom:r,continued:!1,hasBarLine:u,barSize:m,leftDelim:l,rightDelim:c,size:p}},htmlBuilder:k2,mathmlBuilder:E2});ze({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:s,token:r}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:st(e[0],"size").value,token:r}}});ze({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=qB(st(e[1],"infix").size),l=e[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:l,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:k2,mathmlBuilder:E2});var GT=(t,e)=>{var n=e.style,s,r;t.type==="supsub"?(s=t.sup?mt(t.sup,e.havingStyle(n.sup()),e):mt(t.sub,e.havingStyle(n.sub()),e),r=st(t.base,"horizBrace")):r=st(t,"horizBrace");var a=mt(r.base,e.havingBaseStyle(Ye.DISPLAY)),l=Hr.svgSpan(r,e),o;if(r.isOver?(o=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=oe.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),s){var c=oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);r.isOver?o=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:s}]},e):o=oe.makeVList({positionType:"bottom",positionData:c.depth+.2+s.height+s.depth,children:[{type:"elem",elem:s},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)},oL=(t,e)=>{var n=Hr.mathMLnode(t.label);return new be.MathNode(t.isOver?"mover":"munder",[Mt(t.base,e),n])};ze({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"horizBrace",mode:n.mode,label:s,isOver:/^\\over/.test(s),base:e[0]}},htmlBuilder:GT,mathmlBuilder:oL});ze({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[1],r=st(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:xn(s)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=In(t.body,e,!1);return oe.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Ka(t.body,e);return n instanceof qi||(n=new qi("mrow",[n])),n.setAttribute("href",t.href),n}});ze({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=st(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:s}))return n.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<s.length;a++){var l=s[a];l==="~"&&(l="\\textasciitilde"),r.push({type:"textord",mode:"text",text:l})}var o={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:s,body:xn(o)}}});ze({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:xn(e[0])}},htmlBuilder(t,e){var n=In(t.body,e,!1);return oe.makeFragment(n)},mathmlBuilder(t,e){return new be.MathNode("mrow",Ci(t.body,e))}});ze({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,token:r}=t,a=st(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(s){case"\\htmlClass":c.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),u=0;u<h.length;u++){var m=h[u],p=m.indexOf("=");if(p<0)throw new Se("\\htmlData key/value '"+m+"' missing equals sign");var b=m.slice(0,p),E=m.slice(p+1);c["data-"+b.trim()]=E}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:c,body:xn(l)}:n.formatUnsupportedCmd(s)},htmlBuilder:(t,e)=>{var n=In(t.body,e,!1),s=["enclosing"];t.attributes.class&&s.push(...t.attributes.class.trim().split(/\s+/));var r=oe.makeSpan(s,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&r.setAttribute(a,t.attributes[a]);return r},mathmlBuilder:(t,e)=>Ka(t.body,e)});ze({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:xn(e[0]),mathml:xn(e[1])}},htmlBuilder:(t,e)=>{var n=In(t.html,e,!1);return oe.makeFragment(n)},mathmlBuilder:(t,e)=>Ka(t.mathml,e)});var t1=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Se("Invalid size: '"+e+"' in \\includegraphics");var s={number:+(n[1]+n[2]),unit:n[3]};if(!uT(s))throw new Se("Invalid unit: '"+s.unit+"' in \\includegraphics.");return s};ze({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:s}=t,r={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},o="";if(n[0])for(var c=st(n[0],"raw").string,h=c.split(","),u=0;u<h.length;u++){var m=h[u].split("=");if(m.length===2){var p=m[1].trim();switch(m[0].trim()){case"alt":o=p;break;case"width":r=t1(p);break;case"height":a=t1(p);break;case"totalheight":l=t1(p);break;default:throw new Se("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var b=st(e[0],"url").url;return o===""&&(o=b,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:s.mode,alt:o,width:r,height:a,totalheight:l,src:b}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=en(t.height,e),s=0;t.totalheight.number>0&&(s=en(t.totalheight,e)-n);var r=0;t.width.number>0&&(r=en(t.width,e));var a={height:ke(n+s)};r>0&&(a.width=ke(r)),s>0&&(a.verticalAlign=ke(-s));var l=new oO(t.src,t.alt,a);return l.height=n,l.depth=s,l},mathmlBuilder:(t,e)=>{var n=new be.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var s=en(t.height,e),r=0;if(t.totalheight.number>0&&(r=en(t.totalheight,e)-s,n.setAttribute("valign",ke(-r))),n.setAttribute("height",ke(s+r)),t.width.number>0){var a=en(t.width,e);n.setAttribute("width",ke(a))}return n.setAttribute("src",t.src),n}});ze({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=st(e[0],"size");if(n.settings.strict){var a=s[1]==="m",l=r.value.unit==="mu";a?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+r.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder(t,e){return oe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=en(t.dimension,e);return new be.SpaceNode(n)}});ze({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"lap",mode:n.mode,alignment:s.slice(5),body:r}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=oe.makeSpan([],[mt(t.body,e)]),n=oe.makeSpan(["inner"],[n],e)):n=oe.makeSpan(["inner"],[mt(t.body,e)]);var s=oe.makeSpan(["fix"],[]),r=oe.makeSpan([t.alignment],[n,s],e),a=oe.makeSpan(["strut"]);return a.style.height=ke(r.height+r.depth),r.depth&&(a.style.verticalAlign=ke(-r.depth)),r.children.unshift(a),r=oe.makeSpan(["thinbox"],[r],e),oe.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(t,e)=>{var n=new be.MathNode("mpadded",[Mt(t.body,e)]);if(t.alignment!=="rlap"){var s=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",s+"width")}return n.setAttribute("width","0px"),n}});ze({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:s}=t,r=s.mode;s.switchMode("math");var a=n==="\\("?"\\)":"$",l=s.parseExpression(!1,a);return s.expect(a),s.switchMode(r),{type:"styling",mode:s.mode,style:"text",body:l}}});ze({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Se("Mismatched "+t.funcName)}});var xv=(t,e)=>{switch(e.style.size){case Ye.DISPLAY.size:return t.display;case Ye.TEXT.size:return t.text;case Ye.SCRIPT.size:return t.script;case Ye.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ze({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:xn(e[0]),text:xn(e[1]),script:xn(e[2]),scriptscript:xn(e[3])}},htmlBuilder:(t,e)=>{var n=xv(t,e),s=In(n,e,!1);return oe.makeFragment(s)},mathmlBuilder:(t,e)=>{var n=xv(t,e);return Ka(n,e)}});var WT=(t,e,n,s,r,a,l)=>{t=oe.makeSpan([],[t]);var o=n&&xt.isCharacterBox(n),c,h;if(e){var u=mt(e,s.havingStyle(r.sup()),s);h={elem:u,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var m=mt(n,s.havingStyle(r.sub()),s);c={elem:m,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-m.height)}}var p;if(h&&c){var b=s.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+l;p=oe.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:ke(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ke(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else if(c){var E=t.height-l;p=oe.makeVList({positionType:"top",positionData:E,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:ke(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},s)}else if(h){var y=t.depth+l;p=oe.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ke(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else return t;var T=[p];if(c&&a!==0&&!o){var S=oe.makeSpan(["mspace"],[],s);S.style.marginRight=ke(a),T.unshift(S)}return oe.makeSpan(["mop","op-limits"],T,s)},YT=["\\smallint"],Pc=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=st(t.base,"op"),r=!0):a=st(t,"op");var l=e.style,o=!1;l.size===Ye.DISPLAY.size&&a.symbol&&!YT.includes(a.name)&&(o=!0);var c;if(a.symbol){var h=o?"Size2-Regular":"Size1-Regular",u="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(u=a.name.slice(1),a.name=u==="oiint"?"\\iint":"\\iiint"),c=oe.makeSymbol(a.name,h,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),u.length>0){var m=c.italic,p=oe.staticSvg(u+"Size"+(o?"2":"1"),e);c=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:p,shift:o?.08:0}]},e),a.name="\\"+u,c.classes.unshift("mop"),c.italic=m}}else if(a.body){var b=In(a.body,e,!0);b.length===1&&b[0]instanceof fs?(c=b[0],c.classes[0]="mop"):c=oe.makeSpan(["mop"],b,e)}else{for(var E=[],y=1;y<a.name.length;y++)E.push(oe.mathsym(a.name[y],a.mode,e));c=oe.makeSpan(["mop"],E,e)}var T=0,S=0;return(c instanceof fs||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(T=(c.height-c.depth)/2-e.fontMetrics().axisHeight,S=c.italic),r?WT(c,n,s,e,l,S,T):(T&&(c.style.position="relative",c.style.top=ke(T)),c)},Gh=(t,e)=>{var n;if(t.symbol)n=new qi("mo",[ps(t.name,t.mode)]),YT.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new qi("mo",Ci(t.body,e));else{n=new qi("mi",[new Vs(t.name.slice(1))]);var s=new qi("mo",[ps("","text")]);t.parentIsSupSub?n=new qi("mrow",[n,s]):n=wT([n,s])}return n},cL={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ze({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=s;return r.length===1&&(r=cL[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Pc,mathmlBuilder:Gh});ze({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:xn(s)}},htmlBuilder:Pc,mathmlBuilder:Gh});var hL={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ze({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Pc,mathmlBuilder:Gh});ze({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Pc,mathmlBuilder:Gh});ze({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,s=n;return s.length===1&&(s=hL[s]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:Pc,mathmlBuilder:Gh});var XT=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=st(t.base,"operatorname"),r=!0):a=st(t,"operatorname");var l;if(a.body.length>0){for(var o=a.body.map(m=>{var p=m.text;return typeof p=="string"?{type:"textord",mode:m.mode,text:p}:m}),c=In(o,e.withFont("mathrm"),!0),h=0;h<c.length;h++){var u=c[h];u instanceof fs&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=oe.makeSpan(["mop"],c,e)}else l=oe.makeSpan(["mop"],[],e);return r?WT(l,n,s,e,e.style,0,0):l},uL=(t,e)=>{for(var n=Ci(t.body,e.withFont("mathrm")),s=!0,r=0;r<n.length;r++){var a=n[r];if(!(a instanceof be.SpaceNode))if(a instanceof be.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof be.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):s=!1;break}default:s=!1}else s=!1}if(s){var o=n.map(u=>u.toText()).join("");n=[new be.TextNode(o)]}var c=new be.MathNode("mi",n);c.setAttribute("mathvariant","normal");var h=new be.MathNode("mo",[ps("","text")]);return t.parentIsSupSub?new be.MathNode("mrow",[c,h]):be.newDocumentFragment([c,h])};ze({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"operatorname",mode:n.mode,body:xn(r),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:XT,mathmlBuilder:uL});U("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");lo({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?oe.makeFragment(In(t.body,e,!1)):oe.makeSpan(["mord"],In(t.body,e,!0),e)},mathmlBuilder(t,e){return Ka(t.body,e,!0)}});ze({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,s=e[0];return{type:"overline",mode:n.mode,body:s}},htmlBuilder(t,e){var n=mt(t.body,e.havingCrampedStyle()),s=oe.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:s},{type:"kern",size:r}]},e);return oe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new be.MathNode("mo",[new be.TextNode("")]);n.setAttribute("stretchy","true");var s=new be.MathNode("mover",[Mt(t.body,e),n]);return s.setAttribute("accent","true"),s}});ze({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"phantom",mode:n.mode,body:xn(s)}},htmlBuilder:(t,e)=>{var n=In(t.body,e.withPhantom(),!1);return oe.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ci(t.body,e);return new be.MathNode("mphantom",n)}});ze({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"hphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=oe.makeSpan([],[mt(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var s=0;s<n.children.length;s++)n.children[s].height=0,n.children[s].depth=0;return n=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),oe.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ci(xn(t.body),e),s=new be.MathNode("mphantom",n),r=new be.MathNode("mpadded",[s]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});ze({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"vphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=oe.makeSpan(["inner"],[mt(t.body,e.withPhantom())]),s=oe.makeSpan(["fix"],[]);return oe.makeSpan(["mord","rlap"],[n,s],e)},mathmlBuilder:(t,e)=>{var n=Ci(xn(t.body),e),s=new be.MathNode("mphantom",n),r=new be.MathNode("mpadded",[s]);return r.setAttribute("width","0px"),r}});ze({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,s=st(e[0],"size").value,r=e[1];return{type:"raisebox",mode:n.mode,dy:s,body:r}},htmlBuilder(t,e){var n=mt(t.body,e),s=en(t.dy,e);return oe.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new be.MathNode("mpadded",[Mt(t.body,e)]),s=t.dy.number+t.dy.unit;return n.setAttribute("voffset",s),n}});ze({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ze({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:s}=t,r=n[0],a=st(e[0],"size"),l=st(e[1],"size");return{type:"rule",mode:s.mode,shift:r&&st(r,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var n=oe.makeSpan(["mord","rule"],[],e),s=en(t.width,e),r=en(t.height,e),a=t.shift?en(t.shift,e):0;return n.style.borderRightWidth=ke(s),n.style.borderTopWidth=ke(r),n.style.bottom=ke(a),n.width=s,n.height=r+a,n.depth=-a,n.maxFontSize=r*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=en(t.width,e),s=en(t.height,e),r=t.shift?en(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new be.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(s));var o=new be.MathNode("mpadded",[l]);return r>=0?o.setAttribute("height",ke(r)):(o.setAttribute("height",ke(r)),o.setAttribute("depth",ke(-r))),o.setAttribute("voffset",ke(r)),o}});function ZT(t,e,n){for(var s=In(t,e,!1),r=e.sizeMultiplier/n.sizeMultiplier,a=0;a<s.length;a++){var l=s[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(s[a].classes,e.sizingClasses(n)):s[a].classes[l+1]==="reset-size"+e.size&&(s[a].classes[l+1]="reset-size"+n.size),s[a].height*=r,s[a].depth*=r}return oe.makeFragment(s)}var gv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],dL=(t,e)=>{var n=e.havingSize(t.size);return ZT(t.body,n,e)};ze({type:"sizing",names:gv,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:gv.indexOf(s)+1,body:a}},htmlBuilder:dL,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),s=Ci(t.body,n),r=new be.MathNode("mstyle",s);return r.setAttribute("mathsize",ke(n.sizeMultiplier)),r}});ze({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:s}=t,r=!1,a=!1,l=n[0]&&st(n[0],"ordgroup");if(l)for(var o="",c=0;c<l.body.length;++c){var h=l.body[c];if(o=h.text,o==="t")r=!0;else if(o==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var u=e[0];return{type:"smash",mode:s.mode,body:u,smashHeight:r,smashDepth:a}},htmlBuilder:(t,e)=>{var n=oe.makeSpan([],[mt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var s=0;s<n.children.length;s++)n.children[s].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var a=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return oe.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new be.MathNode("mpadded",[Mt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ze({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s}=t,r=n[0],a=e[0];return{type:"sqrt",mode:s.mode,body:a,index:r}},htmlBuilder(t,e){var n=mt(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=oe.wrapFragment(n,e);var s=e.fontMetrics(),r=s.defaultRuleThickness,a=r;e.style.id<Ye.TEXT.id&&(a=e.fontMetrics().xHeight);var l=r+a/4,o=n.height+n.depth+l+r,{span:c,ruleWidth:h,advanceWidth:u}=Pr.sqrtImage(o,e),m=c.height-h;m>n.height+n.depth+l&&(l=(l+m-n.height-n.depth)/2);var p=c.height-n.height-l-h;n.style.paddingLeft=ke(u);var b=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+p)},{type:"elem",elem:c},{type:"kern",size:h}]},e);if(t.index){var E=e.havingStyle(Ye.SCRIPTSCRIPT),y=mt(t.index,E,e),T=.6*(b.height-b.depth),S=oe.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:y}]},e),N=oe.makeSpan(["root"],[S]);return oe.makeSpan(["mord","sqrt"],[N,b],e)}else return oe.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:s}=t;return s?new be.MathNode("mroot",[Mt(n,e),Mt(s,e)]):new be.MathNode("msqrt",[Mt(n,e)])}});var yv={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT};ze({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!0,n),l=s.slice(1,s.length-5);return{type:"styling",mode:r.mode,style:l,body:a}},htmlBuilder(t,e){var n=yv[t.style],s=e.havingStyle(n).withFont("");return ZT(t.body,s,e)},mathmlBuilder(t,e){var n=yv[t.style],s=e.havingStyle(n),r=Ci(t.body,s),a=new be.MathNode("mstyle",r),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=l[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var mL=function(e,n){var s=e.base;if(s)if(s.type==="op"){var r=s.limits&&(n.style.size===Ye.DISPLAY.size||s.alwaysHandleSupSub);return r?Pc:null}else if(s.type==="operatorname"){var a=s.alwaysHandleSupSub&&(n.style.size===Ye.DISPLAY.size||s.limits);return a?XT:null}else{if(s.type==="accent")return xt.isCharacterBox(s.base)?j2:null;if(s.type==="horizBrace"){var l=!e.sub;return l===s.isOver?GT:null}else return null}else return null};lo({type:"supsub",htmlBuilder(t,e){var n=mL(t,e);if(n)return n(t,e);var{base:s,sup:r,sub:a}=t,l=mt(s,e),o,c,h=e.fontMetrics(),u=0,m=0,p=s&&xt.isCharacterBox(s);if(r){var b=e.havingStyle(e.style.sup());o=mt(r,b,e),p||(u=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var E=e.havingStyle(e.style.sub());c=mt(a,E,e),p||(m=l.depth+E.fontMetrics().subDrop*E.sizeMultiplier/e.sizeMultiplier)}var y;e.style===Ye.DISPLAY?y=h.sup1:e.style.cramped?y=h.sup3:y=h.sup2;var T=e.sizeMultiplier,S=ke(.5/h.ptPerEm/T),N=null;if(c){var v=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof fs||v)&&(N=ke(-l.italic))}var f;if(o&&c){u=Math.max(u,y,o.depth+.25*h.xHeight),m=Math.max(m,h.sub2);var x=h.defaultRuleThickness,C=4*x;if(u-o.depth-(c.height-m)<C){m=C-(u-o.depth)+c.height;var j=.8*h.xHeight-(u-o.depth);j>0&&(u+=j,m-=j)}var g=[{type:"elem",elem:c,shift:m,marginRight:S,marginLeft:N},{type:"elem",elem:o,shift:-u,marginRight:S}];f=oe.makeVList({positionType:"individualShift",children:g},e)}else if(c){m=Math.max(m,h.sub1,c.height-.8*h.xHeight);var A=[{type:"elem",elem:c,marginLeft:N,marginRight:S}];f=oe.makeVList({positionType:"shift",positionData:m,children:A},e)}else if(o)u=Math.max(u,y,o.depth+.25*h.xHeight),f=oe.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var w=ug(l,"right")||"mord";return oe.makeSpan([w],[l,oe.makeSpan(["msupsub"],[f])],e)},mathmlBuilder(t,e){var n=!1,s,r;t.base&&t.base.type==="horizBrace"&&(r=!!t.sup,r===t.base.isOver&&(n=!0,s=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Mt(t.base,e)];t.sub&&a.push(Mt(t.sub,e)),t.sup&&a.push(Mt(t.sup,e));var l;if(n)l=s?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===Ye.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===Ye.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Ye.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Ye.DISPLAY)?l="munder":l="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Ye.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Ye.DISPLAY)?l="mover":l="msup"}return new be.MathNode(l,a)}});lo({type:"atom",htmlBuilder(t,e){return oe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new be.MathNode("mo",[ps(t.text,t.mode)]);if(t.family==="bin"){var s=b2(t,e);s==="bold-italic"&&n.setAttribute("mathvariant",s)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var QT={mi:"italic",mn:"normal",mtext:"normal"};lo({type:"mathord",htmlBuilder(t,e){return oe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new be.MathNode("mi",[ps(t.text,t.mode,e)]),s=b2(t,e)||"italic";return s!==QT[n.type]&&n.setAttribute("mathvariant",s),n}});lo({type:"textord",htmlBuilder(t,e){return oe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=ps(t.text,t.mode,e),s=b2(t,e)||"normal",r;return t.mode==="text"?r=new be.MathNode("mtext",[n]):/[0-9]/.test(t.text)?r=new be.MathNode("mn",[n]):t.text==="\\prime"?r=new be.MathNode("mo",[n]):r=new be.MathNode("mi",[n]),s!==QT[r.type]&&r.setAttribute("mathvariant",s),r}});var n1={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},i1={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};lo({type:"spacing",htmlBuilder(t,e){if(i1.hasOwnProperty(t.text)){var n=i1[t.text].className||"";if(t.mode==="text"){var s=oe.makeOrd(t,e,"textord");return s.classes.push(n),s}else return oe.makeSpan(["mspace",n],[oe.mathsym(t.text,t.mode,e)],e)}else{if(n1.hasOwnProperty(t.text))return oe.makeSpan(["mspace",n1[t.text]],[],e);throw new Se('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(i1.hasOwnProperty(t.text))n=new be.MathNode("mtext",[new be.TextNode("")]);else{if(n1.hasOwnProperty(t.text))return new be.MathNode("mspace");throw new Se('Unknown type of space "'+t.text+'"')}return n}});var bv=()=>{var t=new be.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};lo({type:"tag",mathmlBuilder(t,e){var n=new be.MathNode("mtable",[new be.MathNode("mtr",[bv(),new be.MathNode("mtd",[Ka(t.body,e)]),bv(),new be.MathNode("mtd",[Ka(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var vv={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},jv={"\\textbf":"textbf","\\textmd":"textmd"},fL={"\\textit":"textit","\\textup":"textup"},wv=(t,e)=>{var n=t.font;if(n){if(vv[n])return e.withTextFontFamily(vv[n]);if(jv[n])return e.withTextFontWeight(jv[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(fL[n])};ze({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"text",mode:n.mode,body:xn(r),font:s}},htmlBuilder(t,e){var n=wv(t,e),s=In(t.body,n,!0);return oe.makeSpan(["mord","text"],s,n)},mathmlBuilder(t,e){var n=wv(t,e);return Ka(t.body,n)}});ze({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=mt(t.body,e),s=oe.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:s},{type:"kern",size:3*r},{type:"elem",elem:n}]},e);return oe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new be.MathNode("mo",[new be.TextNode("")]);n.setAttribute("stretchy","true");var s=new be.MathNode("munder",[Mt(t.body,e),n]);return s.setAttribute("accentunder","true"),s}});ze({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=mt(t.body,e),s=e.fontMetrics().axisHeight,r=.5*(n.height-s-(n.depth+s));return oe.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new be.MathNode("mpadded",[Mt(t.body,e)],["vcenter"])}});ze({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Se("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=Tv(t),s=[],r=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),s.push(oe.makeSymbol(l,"Typewriter-Regular",t.mode,r,["mord","texttt"]))}return oe.makeSpan(["mord","text"].concat(r.sizingClasses(e)),oe.tryCombineChars(s),r)},mathmlBuilder(t,e){var n=new be.TextNode(Tv(t)),s=new be.MathNode("mtext",[n]);return s.setAttribute("mathvariant","monospace"),s}});var Tv=t=>t.body.replace(/ /g,t.star?"":""),Ca=vT,KT=`[ \r
	]`,pL="\\\\[a-zA-Z@]+",xL="\\\\[^\uD800-\uDFFF]",gL="("+pL+")"+KT+"*",yL=`\\\\(
|[ \r	]+
?)[ \r	]*`,pg="[-]",bL=new RegExp(pg+"+$"),vL="("+KT+"+)|"+(yL+"|")+"([!-\\[\\]---]"+(pg+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(pg+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+gL)+("|"+xL+")");let Sv=class{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(vL,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Rs("EOF",new es(this,n,n));var s=this.tokenRegex.exec(e);if(s===null||s.index!==n)throw new Se("Unexpected character: '"+e[n]+"'",new Rs(e[n],new es(this,n,n+1)));var r=s[6]||s[3]||(s[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Rs(r,new es(this,n,this.tokenRegex.lastIndex))}},jL=class{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Se("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,s){if(s===void 0&&(s=!1),s){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}};var wL=LT;U("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});U("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});U("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});U("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});U("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});U("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");U("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Nv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};U("\\char",function(t){var e=t.popToken(),n,s="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")s=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Se("\\char` missing argument");s=e.text.charCodeAt(0)}else n=10;if(n){if(s=Nv[e.text],s==null||s>=n)throw new Se("Invalid base-"+n+" digit "+e.text);for(var r;(r=Nv[t.future().text])!=null&&r<n;)s*=n,s+=r,t.popToken()}return"\\@char{"+s+"}"});var C2=(t,e,n,s)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new Se("\\newcommand's first argument must be a macro name");var a=r[0].text,l=t.isDefined(a);if(l&&!e)throw new Se("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!n)throw new Se("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var c="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)c+=h.text,h=t.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new Se("Invalid number of arguments: "+c);o=parseInt(c),r=t.consumeArg().tokens}return l&&s||t.macros.set(a,{tokens:r,numArgs:o}),""};U("\\newcommand",t=>C2(t,!1,!0,!1));U("\\renewcommand",t=>C2(t,!0,!1,!1));U("\\providecommand",t=>C2(t,!0,!0,!0));U("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});U("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});U("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Ca[n],Rt.math[n],Rt.text[n]),""});U("\\bgroup","{");U("\\egroup","}");U("~","\\nobreakspace");U("\\lq","`");U("\\rq","'");U("\\aa","\\r a");U("\\AA","\\r A");U("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");U("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");U("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");U("","\\mathscr{B}");U("","\\mathscr{E}");U("","\\mathscr{F}");U("","\\mathscr{H}");U("","\\mathscr{I}");U("","\\mathscr{L}");U("","\\mathscr{M}");U("","\\mathscr{R}");U("","\\mathfrak{C}");U("","\\mathfrak{H}");U("","\\mathfrak{Z}");U("\\Bbbk","\\Bbb{k}");U("","\\cdotp");U("\\llap","\\mathllap{\\textrm{#1}}");U("\\rlap","\\mathrlap{\\textrm{#1}}");U("\\clap","\\mathclap{\\textrm{#1}}");U("\\mathstrut","\\vphantom{(}");U("\\underbar","\\underline{\\text{#1}}");U("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');U("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");U("\\ne","\\neq");U("","\\neq");U("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");U("","\\notin");U("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");U("","\\perp");U("","\\mathclose{!\\mkern-0.8mu!}");U("","\\notni");U("","\\ulcorner");U("","\\urcorner");U("","\\llcorner");U("","\\lrcorner");U("","\\copyright");U("","\\textregistered");U("","\\textregistered");U("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');U("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');U("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');U("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');U("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");U("","\\vdots");U("\\varGamma","\\mathit{\\Gamma}");U("\\varDelta","\\mathit{\\Delta}");U("\\varTheta","\\mathit{\\Theta}");U("\\varLambda","\\mathit{\\Lambda}");U("\\varXi","\\mathit{\\Xi}");U("\\varPi","\\mathit{\\Pi}");U("\\varSigma","\\mathit{\\Sigma}");U("\\varUpsilon","\\mathit{\\Upsilon}");U("\\varPhi","\\mathit{\\Phi}");U("\\varPsi","\\mathit{\\Psi}");U("\\varOmega","\\mathit{\\Omega}");U("\\substack","\\begin{subarray}{c}#1\\end{subarray}");U("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");U("\\boxed","\\fbox{$\\displaystyle{#1}$}");U("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");U("\\implies","\\DOTSB\\;\\Longrightarrow\\;");U("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");U("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");U("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Av={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};U("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in Av?e=Av[n]:(n.slice(0,4)==="\\not"||n in Rt.math&&["bin","rel"].includes(Rt.math[n].group))&&(e="\\dotsb"),e});var M2={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};U("\\dotso",function(t){var e=t.future().text;return e in M2?"\\ldots\\,":"\\ldots"});U("\\dotsc",function(t){var e=t.future().text;return e in M2&&e!==","?"\\ldots\\,":"\\ldots"});U("\\cdots",function(t){var e=t.future().text;return e in M2?"\\@cdots\\,":"\\@cdots"});U("\\dotsb","\\cdots");U("\\dotsm","\\cdots");U("\\dotsi","\\!\\cdots");U("\\dotsx","\\ldots\\,");U("\\DOTSI","\\relax");U("\\DOTSB","\\relax");U("\\DOTSX","\\relax");U("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");U("\\,","\\tmspace+{3mu}{.1667em}");U("\\thinspace","\\,");U("\\>","\\mskip{4mu}");U("\\:","\\tmspace+{4mu}{.2222em}");U("\\medspace","\\:");U("\\;","\\tmspace+{5mu}{.2777em}");U("\\thickspace","\\;");U("\\!","\\tmspace-{3mu}{.1667em}");U("\\negthinspace","\\!");U("\\negmedspace","\\tmspace-{4mu}{.2222em}");U("\\negthickspace","\\tmspace-{5mu}{.277em}");U("\\enspace","\\kern.5em ");U("\\enskip","\\hskip.5em\\relax");U("\\quad","\\hskip1em\\relax");U("\\qquad","\\hskip2em\\relax");U("\\tag","\\@ifstar\\tag@literal\\tag@paren");U("\\tag@paren","\\tag@literal{({#1})}");U("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Se("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});U("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");U("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");U("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");U("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");U("\\newline","\\\\\\relax");U("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var JT=ke(Hs["Main-Regular"][84][1]-.7*Hs["Main-Regular"][65][1]);U("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+JT+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");U("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+JT+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");U("\\hspace","\\@ifstar\\@hspacer\\@hspace");U("\\@hspace","\\hskip #1\\relax");U("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");U("\\ordinarycolon",":");U("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");U("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');U("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');U("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');U("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');U("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');U("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');U("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');U("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');U("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');U("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');U("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');U("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');U("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');U("","\\dblcolon");U("","\\eqcolon");U("","\\coloneqq");U("","\\eqqcolon");U("","\\Coloneqq");U("\\ratio","\\vcentcolon");U("\\coloncolon","\\dblcolon");U("\\colonequals","\\coloneqq");U("\\coloncolonequals","\\Coloneqq");U("\\equalscolon","\\eqqcolon");U("\\equalscoloncolon","\\Eqqcolon");U("\\colonminus","\\coloneq");U("\\coloncolonminus","\\Coloneq");U("\\minuscolon","\\eqcolon");U("\\minuscoloncolon","\\Eqcolon");U("\\coloncolonapprox","\\Colonapprox");U("\\coloncolonsim","\\Colonsim");U("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");U("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");U("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");U("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");U("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");U("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");U("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");U("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");U("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");U("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");U("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");U("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");U("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");U("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");U("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");U("\\ngeqq","\\html@mathml{\\@ngeqq}{}");U("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");U("\\nleqq","\\html@mathml{\\@nleqq}{}");U("\\nleqslant","\\html@mathml{\\@nleqslant}{}");U("\\nshortmid","\\html@mathml{\\@nshortmid}{}");U("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");U("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");U("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");U("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");U("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");U("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");U("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");U("\\imath","\\html@mathml{\\@imath}{}");U("\\jmath","\\html@mathml{\\@jmath}{}");U("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");U("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");U("","\\llbracket");U("","\\rrbracket");U("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");U("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");U("","\\lBrace");U("","\\rBrace");U("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");U("","\\minuso");U("\\darr","\\downarrow");U("\\dArr","\\Downarrow");U("\\Darr","\\Downarrow");U("\\lang","\\langle");U("\\rang","\\rangle");U("\\uarr","\\uparrow");U("\\uArr","\\Uparrow");U("\\Uarr","\\Uparrow");U("\\N","\\mathbb{N}");U("\\R","\\mathbb{R}");U("\\Z","\\mathbb{Z}");U("\\alef","\\aleph");U("\\alefsym","\\aleph");U("\\Alpha","\\mathrm{A}");U("\\Beta","\\mathrm{B}");U("\\bull","\\bullet");U("\\Chi","\\mathrm{X}");U("\\clubs","\\clubsuit");U("\\cnums","\\mathbb{C}");U("\\Complex","\\mathbb{C}");U("\\Dagger","\\ddagger");U("\\diamonds","\\diamondsuit");U("\\empty","\\emptyset");U("\\Epsilon","\\mathrm{E}");U("\\Eta","\\mathrm{H}");U("\\exist","\\exists");U("\\harr","\\leftrightarrow");U("\\hArr","\\Leftrightarrow");U("\\Harr","\\Leftrightarrow");U("\\hearts","\\heartsuit");U("\\image","\\Im");U("\\infin","\\infty");U("\\Iota","\\mathrm{I}");U("\\isin","\\in");U("\\Kappa","\\mathrm{K}");U("\\larr","\\leftarrow");U("\\lArr","\\Leftarrow");U("\\Larr","\\Leftarrow");U("\\lrarr","\\leftrightarrow");U("\\lrArr","\\Leftrightarrow");U("\\Lrarr","\\Leftrightarrow");U("\\Mu","\\mathrm{M}");U("\\natnums","\\mathbb{N}");U("\\Nu","\\mathrm{N}");U("\\Omicron","\\mathrm{O}");U("\\plusmn","\\pm");U("\\rarr","\\rightarrow");U("\\rArr","\\Rightarrow");U("\\Rarr","\\Rightarrow");U("\\real","\\Re");U("\\reals","\\mathbb{R}");U("\\Reals","\\mathbb{R}");U("\\Rho","\\mathrm{P}");U("\\sdot","\\cdot");U("\\sect","\\S");U("\\spades","\\spadesuit");U("\\sub","\\subset");U("\\sube","\\subseteq");U("\\supe","\\supseteq");U("\\Tau","\\mathrm{T}");U("\\thetasym","\\vartheta");U("\\weierp","\\wp");U("\\Zeta","\\mathrm{Z}");U("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");U("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");U("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");U("\\bra","\\mathinner{\\langle{#1}|}");U("\\ket","\\mathinner{|{#1}\\rangle}");U("\\braket","\\mathinner{\\langle{#1}\\rangle}");U("\\Bra","\\left\\langle#1\\right|");U("\\Ket","\\left|#1\\right\\rangle");var eS=t=>e=>{var n=e.consumeArg().tokens,s=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var c=m=>p=>{t&&(p.macros.set("|",l),r.length&&p.macros.set("\\|",o));var b=m;if(!m&&r.length){var E=p.future();E.text==="|"&&(p.popToken(),b=!0)}return{tokens:b?r:s,numArgs:0}};e.macros.set("|",c(!1)),r.length&&e.macros.set("\\|",c(!0));var h=e.consumeArg().tokens,u=e.expandTokens([...a,...h,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};U("\\bra@ket",eS(!1));U("\\bra@set",eS(!0));U("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");U("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");U("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");U("\\angln","{\\angl n}");U("\\blue","\\textcolor{##6495ed}{#1}");U("\\orange","\\textcolor{##ffa500}{#1}");U("\\pink","\\textcolor{##ff00af}{#1}");U("\\red","\\textcolor{##df0030}{#1}");U("\\green","\\textcolor{##28ae7b}{#1}");U("\\gray","\\textcolor{gray}{#1}");U("\\purple","\\textcolor{##9d38bd}{#1}");U("\\blueA","\\textcolor{##ccfaff}{#1}");U("\\blueB","\\textcolor{##80f6ff}{#1}");U("\\blueC","\\textcolor{##63d9ea}{#1}");U("\\blueD","\\textcolor{##11accd}{#1}");U("\\blueE","\\textcolor{##0c7f99}{#1}");U("\\tealA","\\textcolor{##94fff5}{#1}");U("\\tealB","\\textcolor{##26edd5}{#1}");U("\\tealC","\\textcolor{##01d1c1}{#1}");U("\\tealD","\\textcolor{##01a995}{#1}");U("\\tealE","\\textcolor{##208170}{#1}");U("\\greenA","\\textcolor{##b6ffb0}{#1}");U("\\greenB","\\textcolor{##8af281}{#1}");U("\\greenC","\\textcolor{##74cf70}{#1}");U("\\greenD","\\textcolor{##1fab54}{#1}");U("\\greenE","\\textcolor{##0d923f}{#1}");U("\\goldA","\\textcolor{##ffd0a9}{#1}");U("\\goldB","\\textcolor{##ffbb71}{#1}");U("\\goldC","\\textcolor{##ff9c39}{#1}");U("\\goldD","\\textcolor{##e07d10}{#1}");U("\\goldE","\\textcolor{##a75a05}{#1}");U("\\redA","\\textcolor{##fca9a9}{#1}");U("\\redB","\\textcolor{##ff8482}{#1}");U("\\redC","\\textcolor{##f9685d}{#1}");U("\\redD","\\textcolor{##e84d39}{#1}");U("\\redE","\\textcolor{##bc2612}{#1}");U("\\maroonA","\\textcolor{##ffbde0}{#1}");U("\\maroonB","\\textcolor{##ff92c6}{#1}");U("\\maroonC","\\textcolor{##ed5fa6}{#1}");U("\\maroonD","\\textcolor{##ca337c}{#1}");U("\\maroonE","\\textcolor{##9e034e}{#1}");U("\\purpleA","\\textcolor{##ddd7ff}{#1}");U("\\purpleB","\\textcolor{##c6b9fc}{#1}");U("\\purpleC","\\textcolor{##aa87ff}{#1}");U("\\purpleD","\\textcolor{##7854ab}{#1}");U("\\purpleE","\\textcolor{##543b78}{#1}");U("\\mintA","\\textcolor{##f5f9e8}{#1}");U("\\mintB","\\textcolor{##edf2df}{#1}");U("\\mintC","\\textcolor{##e0e5cc}{#1}");U("\\grayA","\\textcolor{##f6f7f7}{#1}");U("\\grayB","\\textcolor{##f0f1f2}{#1}");U("\\grayC","\\textcolor{##e3e5e6}{#1}");U("\\grayD","\\textcolor{##d6d8da}{#1}");U("\\grayE","\\textcolor{##babec2}{#1}");U("\\grayF","\\textcolor{##888d93}{#1}");U("\\grayG","\\textcolor{##626569}{#1}");U("\\grayH","\\textcolor{##3b3e40}{#1}");U("\\grayI","\\textcolor{##21242c}{#1}");U("\\kaBlue","\\textcolor{##314453}{#1}");U("\\kaGreen","\\textcolor{##71B307}{#1}");var tS={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};let TL=class{constructor(e,n,s){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new jL(wL,n.macros),this.mode=s,this.stack=[]}feed(e){this.lexer=new Sv(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,s,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:r,end:s}=this.consumeArg(["]"])}else({tokens:r,start:n,end:s}=this.consumeArg());return this.pushToken(new Rs("EOF",s.loc)),this.pushTokens(r),new Rs("",es.range(n,s))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],s=e&&e.length>0;s||this.consumeSpaces();var r=this.future(),a,l=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new Se("Extra }",a)}else if(a.text==="EOF")throw new Se("Unexpected end of input in a macro argument, expected '"+(e&&s?e[o]:"}")+"'",a);if(e&&s)if((l===0||l===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(l!==0||s);return r.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:r,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Se("The length of delimiters doesn't match the number of args!");for(var s=n[0],r=0;r<s.length;r++){var a=this.popToken();if(s[r]!==a.text)throw new Se("Use of the macro doesn't match its definition",a)}}for(var l=[],o=0;o<e;o++)l.push(this.consumeArg(n&&n[o+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Se("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),s=n.text,r=n.noexpand?null:this._getExpansion(s);if(r==null||e&&r.unexpandable){if(e&&r==null&&s[0]==="\\"&&!this.isDefined(s))throw new Se("Undefined control sequence: "+s);return this.pushToken(n),!1}this.countExpansion(1);var a=r.tokens,l=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var c=a[o];if(c.text==="#"){if(o===0)throw new Se("Incomplete placeholder at end of macro body",c);if(c=a[--o],c.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(c.text))a.splice(o,2,...l[+c.text-1]);else throw new Se("Not a valid argument number",c)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Rs(e)]):void 0}expandTokens(e){var n=[],s=this.stack.length;for(this.pushTokens(e);this.stack.length>s;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),n.push(r)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(s=>s.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var s=this.lexer.catcodes[e];if(s!=null&&s!==13)return}var r=typeof n=="function"?n(this):n;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var l=r.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var o=new Sv(r,this.settings),c=[],h=o.lex();h.text!=="EOF";)c.push(h),h=o.lex();c.reverse();var u={tokens:c,numArgs:a};return u}return r}isDefined(e){return this.macros.has(e)||Ca.hasOwnProperty(e)||Rt.math.hasOwnProperty(e)||Rt.text.hasOwnProperty(e)||tS.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Ca.hasOwnProperty(e)&&!Ca[e].primitive}};var kv=/^[]/,Vu=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),s1={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Ev={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let nS=class iS{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new TL(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Se("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Rs("}")),this.gullet.pushTokens(e);var s=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,s}parseExpression(e,n){for(var s=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(iS.endOfExpression.indexOf(r.text)!==-1||n&&r.text===n||e&&Ca[r.text]&&Ca[r.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;s.push(a)}return this.mode==="text"&&this.formLigatures(s),this.handleInfixNodes(s)}handleInfixNodes(e){for(var n=-1,s,r=0;r<e.length;r++)if(e[r].type==="infix"){if(n!==-1)throw new Se("only one infix operator per group",e[r].token);n=r,s=e[r].replaceWith}if(n!==-1&&s){var a,l,o=e.slice(0,n),c=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?l=c[0]:l={type:"ordgroup",mode:this.mode,body:c};var h;return s==="\\\\abovefrac"?h=this.callFunction(s,[a,e[n],l],[]):h=this.callFunction(s,[a,l],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),s=n.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new Se("Expected group after '"+s+"'",n);return r}formatUnsupportedCmd(e){for(var n=[],s=0;s<e.length;s++)n.push({type:"textord",mode:"text",text:e[s]});var r={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var s,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var l=a.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new Se("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(s)throw new Se("Double superscript",a);s=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new Se("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(s)throw new Se("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:c}}else if(Vu[a.text]){var h=kv.test(a.text),u=[];for(u.push(new Rs(Vu[a.text])),this.consume();;){var m=this.fetch().text;if(!Vu[m]||kv.test(m)!==h)break;u.unshift(new Rs(Vu[m])),this.consume()}var p=this.subparse(u);h?r={type:"ordgroup",mode:"math",body:p}:s={type:"ordgroup",mode:"math",body:p}}else break}return s||r?{type:"supsub",mode:this.mode,base:n,sup:s,sub:r}:n}parseFunction(e,n){var s=this.fetch(),r=s.text,a=Ca[r];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new Se("Got function '"+r+"' with no arguments"+(n?" as "+n:""),s);if(this.mode==="text"&&!a.allowedInText)throw new Se("Can't use function '"+r+"' in text mode",s);if(this.mode==="math"&&a.allowedInMath===!1)throw new Se("Can't use function '"+r+"' in math mode",s);var{args:l,optArgs:o}=this.parseArguments(r,a);return this.callFunction(r,l,o,s,e)}callFunction(e,n,s,r,a){var l={funcName:e,parser:this,token:r,breakOnTokenText:a},o=Ca[e];if(o&&o.handler)return o.handler(l,n,s);throw new Se("No function handler for "+e)}parseArguments(e,n){var s=n.numArgs+n.numOptionalArgs;if(s===0)return{args:[],optArgs:[]};for(var r=[],a=[],l=0;l<s;l++){var o=n.argTypes&&n.argTypes[l],c=l<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&l===1&&a[0]==null)&&(o="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",o,c);if(c)a.push(h);else if(h!=null)r.push(h);else throw new Se("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,n,s){switch(n){case"color":return this.parseColorGroup(s);case"size":return this.parseSizeGroup(s);case"url":return this.parseUrlGroup(s);case"math":case"text":return this.parseArgumentGroup(s,n);case"hbox":{var r=this.parseArgumentGroup(s,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",s);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(s)throw new Se("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Se("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(s);default:throw new Se("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var s=this.gullet.scanArgument(n);if(s==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),s.text=r,s}parseRegexGroup(e,n){for(var s=this.fetch(),r=s,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)r=l,a+=r.text,this.consume();if(a==="")throw new Se("Invalid "+n+": '"+s.text+"'",s);return s.range(r,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var s=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!s)throw new Se("Invalid color: '"+n.text+"'",n);var r=s[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var n,s=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",s=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!r)throw new Se("Invalid size: '"+n.text+"'",n);var a={number:+(r[1]+r[2]),unit:r[3]};if(!uT(a))throw new Se("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:s}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var s=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:s}}parseArgumentGroup(e,n){var s=this.gullet.scanArgument(e);if(s==null)return null;var r=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:s.loc,body:a};return n&&this.switchMode(r),l}parseGroup(e,n){var s=this.fetch(),r=s.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var l=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,l),c=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:es.range(s,c),body:o,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!tS.hasOwnProperty(r)){if(this.settings.throwOnError)throw new Se("Undefined control sequence: "+r,s);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var n=e.length-1,s=0;s<n;++s){var r=e[s],a=r.text;a==="-"&&e[s+1].text==="-"&&(s+1<n&&e[s+2].text==="-"?(e.splice(s,3,{type:"textord",mode:"text",loc:es.range(r,e[s+2]),text:"---"}),n-=2):(e.splice(s,2,{type:"textord",mode:"text",loc:es.range(r,e[s+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[s+1].text===a&&(e.splice(s,2,{type:"textord",mode:"text",loc:es.range(r,e[s+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var s=n.slice(5),r=s.charAt(0)==="*";if(r&&(s=s.slice(1)),s.length<2||s.charAt(0)!==s.slice(-1))throw new Se(`\\verb assertion failed --
                    please report what input caused this bug`);return s=s.slice(1,-1),{type:"verb",mode:"text",body:s,star:r}}Ev.hasOwnProperty(n[0])&&!Rt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=Ev[n[0]]+n.slice(1));var a=bL.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var l;if(Rt[this.mode][n]){this.settings.strict&&this.mode==="math"&&hg.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=Rt[this.mode][n].group,c=es.range(e),h;if(uO.hasOwnProperty(o)){var u=o;h={type:"atom",mode:this.mode,family:u,loc:c,text:n}}else h={type:o,mode:this.mode,loc:c,text:n};l=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(cT(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:es.range(e),text:n};else return null;if(this.consume(),a)for(var m=0;m<a[0].length;m++){var p=a[0][m];if(!s1[p])throw new Se("Unknown accent ' "+p+"'",e);var b=s1[p][this.mode]||s1[p].text;if(!b)throw new Se("Accent "+p+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:es.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}};nS.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var z2=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s=new nS(e,n);delete s.gullet.macros.current["\\df@tag"];var r=s.parse();if(delete s.gullet.macros.current["\\current@color"],delete s.gullet.macros.current["\\color"],s.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Se("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:s.subparse([new Rs("\\df@tag")])}]}return r},sS=function(e,n,s){n.textContent="";var r=D2(e,s).toNode();n.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),sS=function(){throw new Se("KaTeX doesn't work in quirks mode.")});var SL=function(e,n){var s=D2(e,n).toMarkup();return s},NL=function(e,n){var s=new m2(n);return z2(e,s)},rS=function(e,n,s){if(s.throwOnError||!(e instanceof Se))throw e;var r=oe.makeSpan(["katex-error"],[new fs(n)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+s.errorColor),r},D2=function(e,n){var s=new m2(n);try{var r=z2(e,s);return IO(r,e,s)}catch(a){return rS(a,e,s)}},AL=function(e,n){var s=new m2(n);try{var r=z2(e,s);return RO(r,e,s)}catch(a){return rS(a,e,s)}},kL="0.16.27",EL={Span:Vh,Anchor:x2,SymbolNode:fs,SvgNode:Fr,PathNode:Qa,LineNode:cg},Cv={version:kL,render:sS,renderToString:SL,ParseError:Se,SETTINGS_SCHEMA:Sd,__parse:NL,__renderToDomTree:D2,__renderToHTMLTree:AL,__setFontMetrics:iO,__defineSymbol:z,__defineFunction:ze,__defineMacro:U,__domTree:EL};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:aS,setPrototypeOf:Mv,isFrozen:CL,getPrototypeOf:ML,getOwnPropertyDescriptor:zL}=Object;let{freeze:oi,seal:xs,create:xg}=Object,{apply:gg,construct:yg}=typeof Reflect<"u"&&Reflect;oi||(oi=function(e){return e});xs||(xs=function(e){return e});gg||(gg=function(e,n){for(var s=arguments.length,r=new Array(s>2?s-2:0),a=2;a<s;a++)r[a-2]=arguments[a];return e.apply(n,r)});yg||(yg=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return new e(...s)});const Gu=ci(Array.prototype.forEach),DL=ci(Array.prototype.lastIndexOf),zv=ci(Array.prototype.pop),u0=ci(Array.prototype.push),PL=ci(Array.prototype.splice),Ad=ci(String.prototype.toLowerCase),r1=ci(String.prototype.toString),a1=ci(String.prototype.match),d0=ci(String.prototype.replace),IL=ci(String.prototype.indexOf),RL=ci(String.prototype.trim),Ns=ci(Object.prototype.hasOwnProperty),Jn=ci(RegExp.prototype.test),m0=_L(TypeError);function ci(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return gg(t,e,s)}}function _L(t){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return yg(t,n)}}function lt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ad;Mv&&Mv(t,null);let s=e.length;for(;s--;){let r=e[s];if(typeof r=="string"){const a=n(r);a!==r&&(CL(e)||(e[s]=a),r=a)}t[r]=!0}return t}function qL(t){for(let e=0;e<t.length;e++)Ns(t,e)||(t[e]=null);return t}function $s(t){const e=xg(null);for(const[n,s]of aS(t))Ns(t,n)&&(Array.isArray(s)?e[n]=qL(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=$s(s):e[n]=s);return e}function f0(t,e){for(;t!==null;){const s=zL(t,e);if(s){if(s.get)return ci(s.get);if(typeof s.value=="function")return ci(s.value)}t=ML(t)}function n(){return null}return n}const Dv=oi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),l1=oi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),o1=oi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$L=oi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),c1=oi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BL=oi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pv=oi(["#text"]),Iv=oi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),h1=oi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rv=oi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Wu=oi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OL=xs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),LL=xs(/<%[\w\W]*|[\w\W]*%>/gm),FL=xs(/\$\{[\w\W]*/gm),UL=xs(/^data-[\-\w.\u00B7-\uFFFF]+$/),HL=xs(/^aria-[\-\w]+$/),lS=xs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),VL=xs(/^(?:\w+script|data):/i),GL=xs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),oS=xs(/^html$/i),WL=xs(/^[a-z][.\w]*(-[.\w]+)+$/i);var _v=Object.freeze({__proto__:null,ARIA_ATTR:HL,ATTR_WHITESPACE:GL,CUSTOM_ELEMENT:WL,DATA_ATTR:UL,DOCTYPE_NAME:oS,ERB_EXPR:LL,IS_ALLOWED_URI:lS,IS_SCRIPT_OR_DATA:VL,MUSTACHE_EXPR:OL,TMPLIT_EXPR:FL});const p0={element:1,text:3,progressingInstruction:7,comment:8,document:9},YL=function(){return typeof window>"u"?null:window},XL=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(s=n.getAttribute(r));const a="dompurify"+(s?"#"+s:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},qv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function cS(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YL();const e=Fe=>cS(Fe);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==p0.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const s=n,r=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:o,Element:c,NodeFilter:h,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:b}=t,E=c.prototype,y=f0(E,"cloneNode"),T=f0(E,"remove"),S=f0(E,"nextSibling"),N=f0(E,"childNodes"),v=f0(E,"parentNode");if(typeof l=="function"){const Fe=n.createElement("template");Fe.content&&Fe.content.ownerDocument&&(n=Fe.content.ownerDocument)}let f,x="";const{implementation:C,createNodeIterator:j,createDocumentFragment:g,getElementsByTagName:A}=n,{importNode:w}=s;let k=qv();e.isSupported=typeof aS=="function"&&typeof v=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:I,TMPLIT_EXPR:O,DATA_ATTR:$,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:ee}=_v;let{IS_ALLOWED_URI:re}=_v,se=null;const he=lt({},[...Dv,...l1,...o1,...c1,...Pv]);let ae=null;const Ne=lt({},[...Iv,...h1,...Rv,...Wu]);let Te=Object.seal(xg(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tt=null,Me=null;const Ae=Object.seal(xg(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ue=!0,Oe=!0,at=!1,He=!0,et=!1,_e=!0,Le=!1,qt=!1,Ht=!1,kt=!1,dn=!1,mi=!1,fi=!0,ea=!1;const or="user-content-";let Xi=!0,zi=!1,$t={},St=null;const ta=lt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Oc=null;const Lc=lt({},["audio","video","img","source","image","track"]);let Fc=null;const na=lt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ul="http://www.w3.org/1998/Math/MathML",dl="http://www.w3.org/2000/svg",Di="http://www.w3.org/1999/xhtml";let ia=Di,Uc=!1,ml=null;const eu=lt({},[ul,dl,Di],r1);let ho=lt({},["mi","mo","mn","ms","mtext"]),qs=lt({},["annotation-xml"]);const Hc=lt({},["title","style","font","a","script"]);let cr=null;const sa=["application/xhtml+xml","text/html"],tu="text/html";let Zt=null,hr=null;const fl=n.createElement("form"),Vc=function(te){return te instanceof RegExp||te instanceof Function},kn=function(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(hr&&hr===te)){if((!te||typeof te!="object")&&(te={}),te=$s(te),cr=sa.indexOf(te.PARSER_MEDIA_TYPE)===-1?tu:te.PARSER_MEDIA_TYPE,Zt=cr==="application/xhtml+xml"?r1:Ad,se=Ns(te,"ALLOWED_TAGS")?lt({},te.ALLOWED_TAGS,Zt):he,ae=Ns(te,"ALLOWED_ATTR")?lt({},te.ALLOWED_ATTR,Zt):Ne,ml=Ns(te,"ALLOWED_NAMESPACES")?lt({},te.ALLOWED_NAMESPACES,r1):eu,Fc=Ns(te,"ADD_URI_SAFE_ATTR")?lt($s(na),te.ADD_URI_SAFE_ATTR,Zt):na,Oc=Ns(te,"ADD_DATA_URI_TAGS")?lt($s(Lc),te.ADD_DATA_URI_TAGS,Zt):Lc,St=Ns(te,"FORBID_CONTENTS")?lt({},te.FORBID_CONTENTS,Zt):ta,tt=Ns(te,"FORBID_TAGS")?lt({},te.FORBID_TAGS,Zt):$s({}),Me=Ns(te,"FORBID_ATTR")?lt({},te.FORBID_ATTR,Zt):$s({}),$t=Ns(te,"USE_PROFILES")?te.USE_PROFILES:!1,Ue=te.ALLOW_ARIA_ATTR!==!1,Oe=te.ALLOW_DATA_ATTR!==!1,at=te.ALLOW_UNKNOWN_PROTOCOLS||!1,He=te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,et=te.SAFE_FOR_TEMPLATES||!1,_e=te.SAFE_FOR_XML!==!1,Le=te.WHOLE_DOCUMENT||!1,kt=te.RETURN_DOM||!1,dn=te.RETURN_DOM_FRAGMENT||!1,mi=te.RETURN_TRUSTED_TYPE||!1,Ht=te.FORCE_BODY||!1,fi=te.SANITIZE_DOM!==!1,ea=te.SANITIZE_NAMED_PROPS||!1,Xi=te.KEEP_CONTENT!==!1,zi=te.IN_PLACE||!1,re=te.ALLOWED_URI_REGEXP||lS,ia=te.NAMESPACE||Di,ho=te.MATHML_TEXT_INTEGRATION_POINTS||ho,qs=te.HTML_INTEGRATION_POINTS||qs,Te=te.CUSTOM_ELEMENT_HANDLING||{},te.CUSTOM_ELEMENT_HANDLING&&Vc(te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),te.CUSTOM_ELEMENT_HANDLING&&Vc(te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),te.CUSTOM_ELEMENT_HANDLING&&typeof te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Te.allowCustomizedBuiltInElements=te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),et&&(Oe=!1),dn&&(kt=!0),$t&&(se=lt({},Pv),ae=[],$t.html===!0&&(lt(se,Dv),lt(ae,Iv)),$t.svg===!0&&(lt(se,l1),lt(ae,h1),lt(ae,Wu)),$t.svgFilters===!0&&(lt(se,o1),lt(ae,h1),lt(ae,Wu)),$t.mathMl===!0&&(lt(se,c1),lt(ae,Rv),lt(ae,Wu))),te.ADD_TAGS&&(typeof te.ADD_TAGS=="function"?Ae.tagCheck=te.ADD_TAGS:(se===he&&(se=$s(se)),lt(se,te.ADD_TAGS,Zt))),te.ADD_ATTR&&(typeof te.ADD_ATTR=="function"?Ae.attributeCheck=te.ADD_ATTR:(ae===Ne&&(ae=$s(ae)),lt(ae,te.ADD_ATTR,Zt))),te.ADD_URI_SAFE_ATTR&&lt(Fc,te.ADD_URI_SAFE_ATTR,Zt),te.FORBID_CONTENTS&&(St===ta&&(St=$s(St)),lt(St,te.FORBID_CONTENTS,Zt)),te.ADD_FORBID_CONTENTS&&(St===ta&&(St=$s(St)),lt(St,te.ADD_FORBID_CONTENTS,Zt)),Xi&&(se["#text"]=!0),Le&&lt(se,["html","head","body"]),se.table&&(lt(se,["tbody"]),delete tt.tbody),te.TRUSTED_TYPES_POLICY){if(typeof te.TRUSTED_TYPES_POLICY.createHTML!="function")throw m0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw m0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');f=te.TRUSTED_TYPES_POLICY,x=f.createHTML("")}else f===void 0&&(f=XL(b,r)),f!==null&&typeof x=="string"&&(x=f.createHTML(""));oi&&oi(te),hr=te}},Gc=lt({},[...l1,...o1,...$L]),ra=lt({},[...c1,...BL]),pl=function(te){let je=v(te);(!je||!je.tagName)&&(je={namespaceURI:ia,tagName:"template"});const Be=Ad(te.tagName),Dt=Ad(je.tagName);return ml[te.namespaceURI]?te.namespaceURI===dl?je.namespaceURI===Di?Be==="svg":je.namespaceURI===ul?Be==="svg"&&(Dt==="annotation-xml"||ho[Dt]):!!Gc[Be]:te.namespaceURI===ul?je.namespaceURI===Di?Be==="math":je.namespaceURI===dl?Be==="math"&&qs[Dt]:!!ra[Be]:te.namespaceURI===Di?je.namespaceURI===dl&&!qs[Dt]||je.namespaceURI===ul&&!ho[Dt]?!1:!ra[Be]&&(Hc[Be]||!Gc[Be]):!!(cr==="application/xhtml+xml"&&ml[te.namespaceURI]):!1},Zi=function(te){u0(e.removed,{element:te});try{v(te).removeChild(te)}catch{T(te)}},ur=function(te,je){try{u0(e.removed,{attribute:je.getAttributeNode(te),from:je})}catch{u0(e.removed,{attribute:null,from:je})}if(je.removeAttribute(te),te==="is")if(kt||dn)try{Zi(je)}catch{}else try{je.setAttribute(te,"")}catch{}},dr=function(te){let je=null,Be=null;if(Ht)te="<remove></remove>"+te;else{const Qt=a1(te,/^[\r\n\t ]+/);Be=Qt&&Qt[0]}cr==="application/xhtml+xml"&&ia===Di&&(te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+te+"</body></html>");const Dt=f?f.createHTML(te):te;if(ia===Di)try{je=new p().parseFromString(Dt,cr)}catch{}if(!je||!je.documentElement){je=C.createDocument(ia,"template",null);try{je.documentElement.innerHTML=Uc?x:Dt}catch{}}const mn=je.body||je.documentElement;return te&&Be&&mn.insertBefore(n.createTextNode(Be),mn.childNodes[0]||null),ia===Di?A.call(je,Le?"html":"body")[0]:Le?je.documentElement:mn},nu=function(te){return j.call(te.ownerDocument||te,te,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Wc=function(te){return te instanceof m&&(typeof te.nodeName!="string"||typeof te.textContent!="string"||typeof te.removeChild!="function"||!(te.attributes instanceof u)||typeof te.removeAttribute!="function"||typeof te.setAttribute!="function"||typeof te.namespaceURI!="string"||typeof te.insertBefore!="function"||typeof te.hasChildNodes!="function")},uo=function(te){return typeof o=="function"&&te instanceof o};function vs(Fe,te,je){Gu(Fe,Be=>{Be.call(e,te,je,hr)})}const mo=function(te){let je=null;if(vs(k.beforeSanitizeElements,te,null),Wc(te))return Zi(te),!0;const Be=Zt(te.nodeName);if(vs(k.uponSanitizeElement,te,{tagName:Be,allowedTags:se}),_e&&te.hasChildNodes()&&!uo(te.firstElementChild)&&Jn(/<[/\w!]/g,te.innerHTML)&&Jn(/<[/\w!]/g,te.textContent)||te.nodeType===p0.progressingInstruction||_e&&te.nodeType===p0.comment&&Jn(/<[/\w]/g,te.data))return Zi(te),!0;if(!(Ae.tagCheck instanceof Function&&Ae.tagCheck(Be))&&(!se[Be]||tt[Be])){if(!tt[Be]&&js(Be)&&(Te.tagNameCheck instanceof RegExp&&Jn(Te.tagNameCheck,Be)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(Be)))return!1;if(Xi&&!St[Be]){const Dt=v(te)||te.parentNode,mn=N(te)||te.childNodes;if(mn&&Dt){const Qt=mn.length;for(let _n=Qt-1;_n>=0;--_n){const Qn=y(mn[_n],!0);Qn.__removalCount=(te.__removalCount||0)+1,Dt.insertBefore(Qn,S(te))}}}return Zi(te),!0}return te instanceof c&&!pl(te)||(Be==="noscript"||Be==="noembed"||Be==="noframes")&&Jn(/<\/no(script|embed|frames)/i,te.innerHTML)?(Zi(te),!0):(et&&te.nodeType===p0.text&&(je=te.textContent,Gu([M,I,O],Dt=>{je=d0(je,Dt," ")}),te.textContent!==je&&(u0(e.removed,{element:te.cloneNode()}),te.textContent=je)),vs(k.afterSanitizeElements,te,null),!1)},xl=function(te,je,Be){if(fi&&(je==="id"||je==="name")&&(Be in n||Be in fl))return!1;if(!(Oe&&!Me[je]&&Jn($,je))){if(!(Ue&&Jn(G,je))){if(!(Ae.attributeCheck instanceof Function&&Ae.attributeCheck(je,te))){if(!ae[je]||Me[je]){if(!(js(te)&&(Te.tagNameCheck instanceof RegExp&&Jn(Te.tagNameCheck,te)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(te))&&(Te.attributeNameCheck instanceof RegExp&&Jn(Te.attributeNameCheck,je)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(je,te))||je==="is"&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&Jn(Te.tagNameCheck,Be)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(Be))))return!1}else if(!Fc[je]){if(!Jn(re,d0(Be,J,""))){if(!((je==="src"||je==="xlink:href"||je==="href")&&te!=="script"&&IL(Be,"data:")===0&&Oc[te])){if(!(at&&!Jn(V,d0(Be,J,"")))){if(Be)return!1}}}}}}}return!0},js=function(te){return te!=="annotation-xml"&&a1(te,ee)},Yc=function(te){vs(k.beforeSanitizeAttributes,te,null);const{attributes:je}=te;if(!je||Wc(te))return;const Be={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae,forceKeepAttr:void 0};let Dt=je.length;for(;Dt--;){const mn=je[Dt],{name:Qt,namespaceURI:_n,value:Qn}=mn,pi=Zt(Qt),gl=Qn;let En=Qt==="value"?gl:RL(gl);if(Be.attrName=pi,Be.attrValue=En,Be.keepAttr=!0,Be.forceKeepAttr=void 0,vs(k.uponSanitizeAttribute,te,Be),En=Be.attrValue,ea&&(pi==="id"||pi==="name")&&(ur(Qt,te),En=or+En),_e&&Jn(/((--!?|])>)|<\/(style|title|textarea)/i,En)){ur(Qt,te);continue}if(pi==="attributename"&&a1(En,"href")){ur(Qt,te);continue}if(Be.forceKeepAttr)continue;if(!Be.keepAttr){ur(Qt,te);continue}if(!He&&Jn(/\/>/i,En)){ur(Qt,te);continue}et&&Gu([M,I,O],Zc=>{En=d0(En,Zc," ")});const Xc=Zt(te.nodeName);if(!xl(Xc,pi,En)){ur(Qt,te);continue}if(f&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!_n)switch(b.getAttributeType(Xc,pi)){case"TrustedHTML":{En=f.createHTML(En);break}case"TrustedScriptURL":{En=f.createScriptURL(En);break}}if(En!==gl)try{_n?te.setAttributeNS(_n,Qt,En):te.setAttribute(Qt,En),Wc(te)?Zi(te):zv(e.removed)}catch{ur(Qt,te)}}vs(k.afterSanitizeAttributes,te,null)},iu=function Fe(te){let je=null;const Be=nu(te);for(vs(k.beforeSanitizeShadowDOM,te,null);je=Be.nextNode();)vs(k.uponSanitizeShadowNode,je,null),mo(je),Yc(je),je.content instanceof a&&Fe(je.content);vs(k.afterSanitizeShadowDOM,te,null)};return e.sanitize=function(Fe){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je=null,Be=null,Dt=null,mn=null;if(Uc=!Fe,Uc&&(Fe="<!-->"),typeof Fe!="string"&&!uo(Fe))if(typeof Fe.toString=="function"){if(Fe=Fe.toString(),typeof Fe!="string")throw m0("dirty is not a string, aborting")}else throw m0("toString is not a function");if(!e.isSupported)return Fe;if(qt||kn(te),e.removed=[],typeof Fe=="string"&&(zi=!1),zi){if(Fe.nodeName){const Qn=Zt(Fe.nodeName);if(!se[Qn]||tt[Qn])throw m0("root node is forbidden and cannot be sanitized in-place")}}else if(Fe instanceof o)je=dr("<!---->"),Be=je.ownerDocument.importNode(Fe,!0),Be.nodeType===p0.element&&Be.nodeName==="BODY"||Be.nodeName==="HTML"?je=Be:je.appendChild(Be);else{if(!kt&&!et&&!Le&&Fe.indexOf("<")===-1)return f&&mi?f.createHTML(Fe):Fe;if(je=dr(Fe),!je)return kt?null:mi?x:""}je&&Ht&&Zi(je.firstChild);const Qt=nu(zi?Fe:je);for(;Dt=Qt.nextNode();)mo(Dt),Yc(Dt),Dt.content instanceof a&&iu(Dt.content);if(zi)return Fe;if(kt){if(dn)for(mn=g.call(je.ownerDocument);je.firstChild;)mn.appendChild(je.firstChild);else mn=je;return(ae.shadowroot||ae.shadowrootmode)&&(mn=w.call(s,mn,!0)),mn}let _n=Le?je.outerHTML:je.innerHTML;return Le&&se["!doctype"]&&je.ownerDocument&&je.ownerDocument.doctype&&je.ownerDocument.doctype.name&&Jn(oS,je.ownerDocument.doctype.name)&&(_n="<!DOCTYPE "+je.ownerDocument.doctype.name+`>
`+_n),et&&Gu([M,I,O],Qn=>{_n=d0(_n,Qn," ")}),f&&mi?f.createHTML(_n):_n},e.setConfig=function(){let Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kn(Fe),qt=!0},e.clearConfig=function(){hr=null,qt=!1},e.isValidAttribute=function(Fe,te,je){hr||kn({});const Be=Zt(Fe),Dt=Zt(te);return xl(Be,Dt,je)},e.addHook=function(Fe,te){typeof te=="function"&&u0(k[Fe],te)},e.removeHook=function(Fe,te){if(te!==void 0){const je=DL(k[Fe],te);return je===-1?void 0:PL(k[Fe],je,1)[0]}return zv(k[Fe])},e.removeHooks=function(Fe){k[Fe]=[]},e.removeAllHooks=function(){k=qv()},e}var ZL=cS();function u1(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function QL(t){if(!t)return[];const e=[];let n=0;const s=[],r=/\$\$([^$]*?)\$\$/g;let a;for(;(a=r.exec(t))!==null;)s.push({type:"display",latex:a[1],start:a.index,end:a.index+a[0].length});const l=/\$([^$]+?)\$/g;let o;for(;(o=l.exec(t))!==null;)s.some(h=>o.index>=h.start&&o.index<h.end)||s.push({type:"inline",latex:o[1],start:o.index,end:o.index+o[0].length});return s.sort((c,h)=>c.start-h.start),s.forEach(c=>{const h=t.slice(n,c.start);h&&e.push({type:"text",content:h}),e.push({type:c.type==="display"?"display-math":"inline-math",content:c.latex}),n=c.end}),n<t.length&&e.push({type:"text",content:t.slice(n)}),e}function KL(t){if(!t)return"";const n=QL(t).map(s=>{if(s.type==="text")return u1(s.content);if(s.type==="inline-math")try{return Cv.renderToString(s.content,{throwOnError:!1,displayMode:!1})}catch{return u1(s.content)}else if(s.type==="display-math")try{return Cv.renderToString(s.content,{throwOnError:!1,displayMode:!0})}catch{return u1(s.content)}return""}).join("");return ZL.sanitize(n,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function d1(t){return typeof t=="string"?KL(t):t.map(e=>(e.type==="text",e.content)).join("")}const Pl=tr("Storage"),bg="magic-internet-math-progress",m1=2;function hS(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function JL(t){if(t===null||typeof t!="object")return!1;const e=t;if(typeof e.version!="number"||typeof e.user!="object"||e.user===null||typeof e.sections!="object"||e.sections===null||typeof e.streak!="object"||e.streak===null)return!1;const n=e.user;if(typeof n.totalXP!="number"||typeof n.level!="number")return!1;const s=e.streak;return!(typeof s.currentStreak!="number"||typeof s.longestStreak!="number")}function eF(){if(!hS())return Pl.warn("localStorage is not available"),null;try{const t=localStorage.getItem(bg);if(!t)return null;const e=JSON.parse(t);return JL(e)?(e.version!==m1&&(Pl.info(`Migrating state from v${e.version} to v${m1}`),e.version=m1),e):(Pl.warn("Invalid gamification state structure in localStorage"),null)}catch(t){Pl.error("Failed to load gamification state:",t);try{localStorage.removeItem(bg),Pl.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function tF(t){if(!hS()){Pl.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(bg,JSON.stringify(t))}catch(e){Pl.error("Failed to save gamification state:",e)}}function uS(){const t=new Date().toISOString(),e=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:nF(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:e,xpEarned:0,xpGoal:nT,completed:!1},lastUpdated:t}}function nF(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10}]}const iF=50;function $v(t){return Math.round(t/iF*100)}const sF=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>$v(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>$v(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(e=>e.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function rF(t){const e=[];for(const n of sF){const s=t.achievements.find(a=>a.id===n.id);if(s!=null&&s.unlockedAt)continue;n.check(t)>=n.target&&e.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return e}function Nf(t){for(let e=V0.length-1;e>=0;e--)if(t>=V0[e])return e+1;return 1}function aF(t,e){if(e>=V0.length)return 100;const n=V0[e-1],s=V0[e],r=(t-n)/(s-n)*100;return Math.min(100,Math.max(0,r))}function dS(t,e){const n={easy:Ni.QUIZ_EASY,medium:Ni.QUIZ_MEDIUM,hard:Ni.QUIZ_HARD}[t];return Math.round(n*(e/100))}const lF=1e3*60*60*24;function oF(t){const e=new Date,n=e.toISOString().split("T")[0],s=t.streak.lastActivityDate;if(t.dailyGoals.date!==n&&(t={...t,dailyGoals:{date:n,xpEarned:0,xpGoal:nT,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!s)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:n}};const r=new Date(s),a=Math.floor((e.getTime()-r.getTime())/lF);if(a===0)return t;if(a===1){const l=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:l,longestStreak:Math.max(l,t.streak.longestStreak),lastActivityDate:n}}}return a===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:n}}}function mS(t){const{quizAttempts:e}=t;if(e.length===0)return"learning";const n=Math.max(...e.map(a=>a.score)),s=e.reduce((a,l)=>a+l.score,0)/e.length;return e.filter(a=>a.score===100).length>=1||s>=90&&e.length>=3?"mastered":n>=80||s>=70&&e.length>=2?"familiar":"learning"}function cF(t){switch(t){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const P2=tr("GamificationReducer");function hF(t,e,n){const s=t.sections[e];if(s!=null&&s.visitedAt)return t;const r=t.user.totalXP+Ni.SECTION_VISIT;return{...t,user:{...t.user,totalXP:r,level:Nf(r)},sections:{...t.sections,[e]:{sectionId:e,visitedAt:n,completedAt:(s==null?void 0:s.completedAt)??null,timeSpentSeconds:(s==null?void 0:s.timeSpentSeconds)??0,quizAttempts:(s==null?void 0:s.quizAttempts)??[],masteryLevel:(s==null?void 0:s.masteryLevel)??"learning",visualizationsInteracted:(s==null?void 0:s.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ni.SECTION_VISIT},lastUpdated:n}}function uF(t,e,n){const s=t.sections[e];if(s!=null&&s.completedAt)return t;if(!s)return P2.warn(`Attempted to complete unvisited section: ${e}`),t;const r=t.user.totalXP+Ni.SECTION_COMPLETE,a=[...t.user.sectionsCompleted,e];return{...t,user:{...t.user,totalXP:r,level:Nf(r),sectionsCompleted:a},sections:{...t.sections,[e]:{...s,completedAt:n,masteryLevel:mS(s)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ni.SECTION_COMPLETE},lastUpdated:n}}function dF(t,e,n){const{sectionId:s,difficulty:r,score:a,correctAnswers:l,totalQuestions:o}=e,c=t.sections[s];if(!c)return P2.warn(`Section ${s} was not visited before quiz`),t;const h=dS(r,a),u=l===o,m=u?Math.round(h*(1+Ni.QUIZ_PERFECT_BONUS)):h,p=t.user.totalXP+m,b={timestamp:n,difficulty:r,score:a,correctAnswers:l,totalQuestions:o,xpEarned:m},E=[...c.quizAttempts,b],y={...c,quizAttempts:E};return{...t,user:{...t.user,totalXP:p,level:Nf(p),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:u?t.user.perfectQuizzes+1:t.user.perfectQuizzes},sections:{...t.sections,[s]:{...y,masteryLevel:mS(y)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+m},lastUpdated:n}}function mF(t,e,n,s){const r=t.sections[e];if(r!=null&&r.visualizationsInteracted.includes(n))return t;if(!r)return P2.warn(`Section ${e} was not visited before visualization`),t;const a=t.user.totalXP+Ni.VISUALIZATION_USE,l=[...r.visualizationsInteracted,n];return{...t,user:{...t.user,totalXP:a,level:Nf(a),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[e]:{...r,visualizationsInteracted:l}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ni.VISUALIZATION_USE},lastUpdated:s}}function fF(t,e){const n=new Date().toISOString();switch(e.type){case"LOAD_STATE":return e.payload;case"VISIT_SECTION":return hF(t,e.payload.sectionId,n);case"COMPLETE_SECTION":return uF(t,e.payload.sectionId,n);case"RECORD_QUIZ":return dF(t,e.payload,n);case"USE_VISUALIZATION":return mF(t,e.payload.sectionId,e.payload.name,n);case"UPDATE_STREAK":return oF(t);case"RESET_PROGRESS":return uS();default:return t}}const pF=500,fS=q.createContext(null);function xF({children:t,courseId:e}){const[n,s]=q.useReducer(fF,uS()),[r,a]=q.useState(!0),[l,o]=q.useState([]),c=q.useRef(null),h=q.useCallback(S=>`${e}:${S}`,[e]);q.useEffect(()=>{const S=eF();S&&s({type:"LOAD_STATE",payload:S}),a(!1)},[]),q.useEffect(()=>{r||(tF(n),iT().requestSync())},[n,r]),q.useEffect(()=>{r||s({type:"UPDATE_STREAK"})},[r]),q.useEffect(()=>{if(!r)return c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{const S=rF(n);S.length>0&&o(N=>[...N,...S])},pF),()=>{c.current&&clearTimeout(c.current)}},[n,r]);const u=q.useCallback(S=>{s({type:"VISIT_SECTION",payload:{sectionId:h(S)}})},[h]),m=q.useCallback(S=>{s({type:"COMPLETE_SECTION",payload:{sectionId:h(S)}})},[h]),p=q.useCallback((S,N,v,f,x)=>{s({type:"RECORD_QUIZ",payload:{sectionId:h(S),difficulty:N,score:v,correctAnswers:f,totalQuestions:x}})},[h]),b=q.useCallback((S,N)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:h(S),name:N}})},[h]),E=q.useCallback(S=>{o(N=>N.filter(v=>v.id!==S))},[]),y=q.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),T=q.useMemo(()=>({state:n,isLoading:r,notifications:l,visitSection:u,completeSection:m,recordQuiz:p,useVisualization:b,dismissNotification:E,resetProgress:y}),[n,r,l,u,m,p,b,E,y]);return i.jsx(fS.Provider,{value:T,children:t})}function Ic(){const t=q.useContext(fS);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}function gF({children:t}){return i.jsx(xF,{courseId:hm,children:t})}const I2=q.createContext({});function R2(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const _2=typeof window<"u",pS=_2?q.useLayoutEffect:q.useEffect,Af=q.createContext(null);function q2(t,e){t.indexOf(e)===-1&&t.push(e)}function $2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vr=(t,e,n)=>n>e?e:n<t?t:n;let B2=()=>{};const Gr={},xS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function gS(t){return typeof t=="object"&&t!==null}const yS=t=>/^0[^.\s]+$/u.test(t);function O2(t){let e;return()=>(e===void 0&&(e=t()),e)}const ds=t=>t,yF=(t,e)=>n=>e(t(n)),Wh=(...t)=>t.reduce(yF),bh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class L2{constructor(){this.subscriptions=[]}add(e){return q2(this.subscriptions,e),()=>$2(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zs=t=>t*1e3,os=t=>t/1e3;function bS(t,e){return e?t*(1e3/e):0}const vS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bF=1e-7,vF=12;function jF(t,e,n,s,r){let a,l,o=0;do l=e+(n-e)/2,a=vS(l,s,r)-t,a>0?n=l:e=l;while(Math.abs(a)>bF&&++o<vF);return l}function Yh(t,e,n,s){if(t===e&&n===s)return ds;const r=a=>jF(a,0,1,t,n);return a=>a===0||a===1?a:vS(r(a),e,s)}const jS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wS=t=>e=>1-t(1-e),TS=Yh(.33,1.53,.69,.99),F2=wS(TS),SS=jS(F2),NS=t=>(t*=2)<1?.5*F2(t):.5*(2-Math.pow(2,-10*(t-1))),U2=t=>1-Math.sin(Math.acos(t)),AS=wS(U2),kS=jS(U2),wF=Yh(.42,0,1,1),TF=Yh(0,0,.58,1),ES=Yh(.42,0,.58,1),SF=t=>Array.isArray(t)&&typeof t[0]!="number",CS=t=>Array.isArray(t)&&typeof t[0]=="number",NF={linear:ds,easeIn:wF,easeInOut:ES,easeOut:TF,circIn:U2,circInOut:kS,circOut:AS,backIn:F2,backInOut:SS,backOut:TS,anticipate:NS},AF=t=>typeof t=="string",Bv=t=>{if(CS(t)){B2(t.length===4);const[e,n,s,r]=t;return Yh(e,n,s,r)}else if(AF(t))return NF[t];return t},Yu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kF(t,e){let n=new Set,s=new Set,r=!1,a=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){l.has(u)&&(h.schedule(u),t()),u(o)}const h={schedule:(u,m=!1,p=!1)=>{const E=p&&r?n:s;return m&&l.add(u),E.has(u)||E.add(u),u},cancel:u=>{s.delete(u),l.delete(u)},process:u=>{if(o=u,r){a=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,h.process(u))}};return h}const EF=40;function MS(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Yu.reduce((v,f)=>(v[f]=kF(a),v),{}),{setup:o,read:c,resolveKeyframes:h,preUpdate:u,update:m,preRender:p,render:b,postRender:E}=l,y=()=>{const v=Gr.useManualTiming?r.timestamp:performance.now();n=!1,Gr.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,EF),1)),r.timestamp=v,r.isProcessing=!0,o.process(r),c.process(r),h.process(r),u.process(r),m.process(r),p.process(r),b.process(r),E.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(y))},T=()=>{n=!0,s=!0,r.isProcessing||t(y)};return{schedule:Yu.reduce((v,f)=>{const x=l[f];return v[f]=(C,j=!1,g=!1)=>(n||T(),x.schedule(C,j,g)),v},{}),cancel:v=>{for(let f=0;f<Yu.length;f++)l[Yu[f]].cancel(v)},state:r,steps:l}}const{schedule:Gt,cancel:Ja,state:Ln,steps:f1}=MS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ds,!0);let kd;function CF(){kd=void 0}const Ti={now:()=>(kd===void 0&&Ti.set(Ln.isProcessing||Gr.useManualTiming?Ln.timestamp:performance.now()),kd),set:t=>{kd=t,queueMicrotask(CF)}},zS=t=>e=>typeof e=="string"&&e.startsWith(t),DS=zS("--"),MF=zS("var(--"),H2=t=>MF(t)?zF.test(t.split("/*")[0].trim()):!1,zF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vh={...Rc,transform:t=>Vr(0,1,t)},Xu={...Rc,default:1},W0=t=>Math.round(t*1e5)/1e5,V2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DF(t){return t==null}const PF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G2=(t,e)=>n=>!!(typeof n=="string"&&PF.test(n)&&n.startsWith(t)||e&&!DF(n)&&Object.prototype.hasOwnProperty.call(n,e)),PS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,a,l,o]=s.match(V2);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},IF=t=>Vr(0,255,t),p1={...Rc,transform:t=>Math.round(IF(t))},_l={test:G2("rgb","red"),parse:PS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+p1.transform(t)+", "+p1.transform(e)+", "+p1.transform(n)+", "+W0(vh.transform(s))+")"};function RF(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const vg={test:G2("#"),parse:RF,transform:_l.transform},Xh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pa=Xh("deg"),Qs=Xh("%"),Ke=Xh("px"),_F=Xh("vh"),qF=Xh("vw"),Ov={...Qs,parse:t=>Qs.parse(t)/100,transform:t=>Qs.transform(t*100)},Oo={test:G2("hsl","hue"),parse:PS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Qs.transform(W0(e))+", "+Qs.transform(W0(n))+", "+W0(vh.transform(s))+")"},vn={test:t=>_l.test(t)||vg.test(t)||Oo.test(t),parse:t=>_l.test(t)?_l.parse(t):Oo.test(t)?Oo.parse(t):vg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_l.transform(t):Oo.transform(t),getAnimatableNone:t=>{const e=vn.parse(t);return e.alpha=0,vn.transform(e)}},$F=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(V2))==null?void 0:e.length)||0)+(((n=t.match($F))==null?void 0:n.length)||0)>0}const IS="number",RS="color",OF="var",LF="var(",Lv="${}",FF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const o=e.replace(FF,c=>(vn.test(c)?(s.color.push(a),r.push(RS),n.push(vn.parse(c))):c.startsWith(LF)?(s.var.push(a),r.push(OF),n.push(c)):(s.number.push(a),r.push(IS),n.push(parseFloat(c))),++a,Lv)).split(Lv);return{values:n,split:o,indexes:s,types:r}}function _S(t){return jh(t).values}function qS(t){const{split:e,types:n}=jh(t),s=e.length;return r=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],r[l]!==void 0){const o=n[l];o===IS?a+=W0(r[l]):o===RS?a+=vn.transform(r[l]):a+=r[l]}return a}}const UF=t=>typeof t=="number"?0:vn.test(t)?vn.getAnimatableNone(t):t;function HF(t){const e=_S(t);return qS(t)(e.map(UF))}const el={test:BF,parse:_S,createTransformer:qS,getAnimatableNone:HF};function x1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VF({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,a=0,l=0;if(!e)r=a=l=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;r=x1(c,o,t+1/3),a=x1(c,o,t),l=x1(c,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function Em(t,e){return n=>n>0?e:t}const nn=(t,e,n)=>t+(e-t)*n,g1=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},GF=[vg,_l,Oo],WF=t=>GF.find(e=>e.test(t));function Fv(t){const e=WF(t);if(!e)return!1;let n=e.parse(t);return e===Oo&&(n=VF(n)),n}const Uv=(t,e)=>{const n=Fv(t),s=Fv(e);if(!n||!s)return Em(t,e);const r={...n};return a=>(r.red=g1(n.red,s.red,a),r.green=g1(n.green,s.green,a),r.blue=g1(n.blue,s.blue,a),r.alpha=nn(n.alpha,s.alpha,a),_l.transform(r))},jg=new Set(["none","hidden"]);function YF(t,e){return jg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XF(t,e){return n=>nn(t,e,n)}function W2(t){return typeof t=="number"?XF:typeof t=="string"?H2(t)?Em:vn.test(t)?Uv:KF:Array.isArray(t)?$S:typeof t=="object"?vn.test(t)?Uv:ZF:Em}function $S(t,e){const n=[...t],s=n.length,r=t.map((a,l)=>W2(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)n[l]=r[l](a);return n}}function ZF(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=W2(t[r])(t[r],e[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function QF(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],l=t.indexes[a][s[a]],o=t.values[l]??0;n[r]=o,s[a]++}return n}const KF=(t,e)=>{const n=el.createTransformer(e),s=jh(t),r=jh(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?jg.has(t)&&!r.values.length||jg.has(e)&&!s.values.length?YF(t,e):Wh($S(QF(s,r),r.values),n):Em(t,e)};function BS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nn(t,e,n):W2(t)(t,e)}const JF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>Ja(e),now:()=>Ln.isProcessing?Ln.timestamp:Ti.now()}},OS=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let a=0;a<r;a++)s+=Math.round(t(a/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Cm=2e4;function Y2(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Cm;)e+=n,s=t.next(e);return e>=Cm?1/0:e}function eU(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(Y2(s),Cm);return{type:"keyframes",ease:a=>s.next(r*a).value/e,duration:os(r)}}const tU=5;function LS(t,e,n){const s=Math.max(e-tU,0);return bS(n-t(s),e-s)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},y1=.001;function nU({duration:t=on.duration,bounce:e=on.bounce,velocity:n=on.velocity,mass:s=on.mass}){let r,a,l=1-e;l=Vr(on.minDamping,on.maxDamping,l),t=Vr(on.minDuration,on.maxDuration,os(t)),l<1?(r=h=>{const u=h*l,m=u*t,p=u-n,b=wg(h,l),E=Math.exp(-m);return y1-p/b*E},a=h=>{const m=h*l*t,p=m*n+n,b=Math.pow(l,2)*Math.pow(h,2)*t,E=Math.exp(-m),y=wg(Math.pow(h,2),l);return(-r(h)+y1>0?-1:1)*((p-b)*E)/y}):(r=h=>{const u=Math.exp(-h*t),m=(h-n)*t+1;return-y1+u*m},a=h=>{const u=Math.exp(-h*t),m=(n-h)*(t*t);return u*m});const o=5/t,c=sU(r,a,o);if(t=Zs(t),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:t};{const h=Math.pow(c,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:t}}}const iU=12;function sU(t,e,n){let s=n;for(let r=1;r<iU;r++)s=s-t(s)/e(s);return s}function wg(t,e){return t*Math.sqrt(1-e*e)}const rU=["duration","bounce"],aU=["stiffness","damping","mass"];function Hv(t,e){return e.some(n=>t[n]!==void 0)}function lU(t){let e={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...t};if(!Hv(t,aU)&&Hv(t,rU))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*Vr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:on.mass,stiffness:r,damping:a}}else{const n=nU(t);e={...e,...n,mass:on.mass},e.isResolvedFromDuration=!0}return e}function Mm(t=on.visualDuration,e=on.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:h,mass:u,duration:m,velocity:p,isResolvedFromDuration:b}=lU({...n,velocity:-os(n.velocity||0)}),E=p||0,y=h/(2*Math.sqrt(c*u)),T=l-a,S=os(Math.sqrt(c/u)),N=Math.abs(T)<5;s||(s=N?on.restSpeed.granular:on.restSpeed.default),r||(r=N?on.restDelta.granular:on.restDelta.default);let v;if(y<1){const x=wg(S,y);v=C=>{const j=Math.exp(-y*S*C);return l-j*((E+y*S*T)/x*Math.sin(x*C)+T*Math.cos(x*C))}}else if(y===1)v=x=>l-Math.exp(-S*x)*(T+(E+S*T)*x);else{const x=S*Math.sqrt(y*y-1);v=C=>{const j=Math.exp(-y*S*C),g=Math.min(x*C,300);return l-j*((E+y*S*T)*Math.sinh(g)+x*T*Math.cosh(g))/x}}const f={calculatedDuration:b&&m||null,next:x=>{const C=v(x);if(b)o.done=x>=m;else{let j=x===0?E:0;y<1&&(j=x===0?Zs(E):LS(v,x,C));const g=Math.abs(j)<=s,A=Math.abs(l-C)<=r;o.done=g&&A}return o.value=o.done?l:C,o},toString:()=>{const x=Math.min(Y2(f),Cm),C=OS(j=>f.next(x*j).value,x,30);return x+"ms "+C},toTransition:()=>{}};return f}Mm.applyToOptions=t=>{const e=eU(t,100,Mm);return t.ease=e.ease,t.duration=Zs(e.duration),t.type="keyframes",t};function Tg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:o,max:c,restDelta:h=.5,restSpeed:u}){const m=t[0],p={done:!1,value:m},b=g=>o!==void 0&&g<o||c!==void 0&&g>c,E=g=>o===void 0?c:c===void 0||Math.abs(o-g)<Math.abs(c-g)?o:c;let y=n*e;const T=m+y,S=l===void 0?T:l(T);S!==T&&(y=S-m);const N=g=>-y*Math.exp(-g/s),v=g=>S+N(g),f=g=>{const A=N(g),w=v(g);p.done=Math.abs(A)<=h,p.value=p.done?S:w};let x,C;const j=g=>{b(p.value)&&(x=g,C=Mm({keyframes:[p.value,E(p.value)],velocity:LS(v,g,p.value),damping:r,stiffness:a,restDelta:h,restSpeed:u}))};return j(0),{calculatedDuration:null,next:g=>{let A=!1;return!C&&x===void 0&&(A=!0,f(g),j(g)),x!==void 0&&g>=x?C.next(g-x):(!A&&f(g),p)}}}function oU(t,e,n){const s=[],r=n||Gr.mix||BS,a=t.length-1;for(let l=0;l<a;l++){let o=r(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||ds:e;o=Wh(c,o)}s.push(o)}return s}function cU(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const a=t.length;if(B2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=oU(e,s,r),c=o.length,h=u=>{if(l&&u<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(u<t[m+1]);m++);const p=bh(t[m],t[m+1],u);return o[m](p)};return n?u=>h(Vr(t[0],t[a-1],u)):h}function hU(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=bh(0,e,s);t.push(nn(n,1,r))}}function uU(t){const e=[0];return hU(e,t.length-1),e}function dU(t,e){return t.map(n=>n*e)}function mU(t,e){return t.map(()=>e||ES).splice(0,t.length-1)}function Y0({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=SF(s)?s.map(Bv):Bv(s),a={done:!1,value:e[0]},l=dU(n&&n.length===e.length?n:uU(e),t),o=cU(l,e,{ease:Array.isArray(r)?r:mU(e,r)});return{calculatedDuration:t,next:c=>(a.value=o(c),a.done=c>=t,a)}}const fU=t=>t!==null;function X2(t,{repeat:e,repeatType:n="loop"},s,r=1){const a=t.filter(fU),o=r<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||s===void 0?a[o]:s}const pU={decay:Tg,inertia:Tg,tween:Y0,keyframes:Y0,spring:Mm};function FS(t){typeof t.type=="string"&&(t.type=pU[t.type])}class Z2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xU=t=>t/100;class Q2 extends Z2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Ti.now()&&this.tick(Ti.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;FS(e);const{type:n=Y0,repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=e;let{keyframes:o}=e;const c=n||Y0;c!==Y0&&typeof o[0]!="number"&&(this.mixKeyframes=Wh(xU,BS(o[0],o[1])),o=[0,100]);const h=c({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Y2(h));const{calculatedDuration:u}=h;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:u,repeat:m,repeatType:p,repeatDelay:b,type:E,onUpdate:y,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,f=s;if(m){const g=Math.min(this.currentTime,r)/o;let A=Math.floor(g),w=g%1;!w&&g>=1&&(w=1),w===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(p==="reverse"?(w=1-w,b&&(w-=b/o)):p==="mirror"&&(f=l)),v=Vr(0,1,w)*o}const x=N?{done:!1,value:u[0]}:f.next(v);a&&(x.value=a(x.value));let{done:C}=x;!N&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&E!==Tg&&(x.value=X2(u,this.options,T,this.speed)),y&&y(x.value),j&&this.finish(),x}then(e,n){return this.finished.then(e,n)}get duration(){return os(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+os(e)}get time(){return os(this.currentTime)}set time(e){var n;e=Zs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ti.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=os(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=JF,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(r=this.options).onPlay)==null||a.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ti.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function gU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ql=t=>t*180/Math.PI,Sg=t=>{const e=ql(Math.atan2(t[1],t[0]));return Ng(e)},yU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Sg,rotateZ:Sg,skewX:t=>ql(Math.atan(t[1])),skewY:t=>ql(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ng=t=>(t=t%360,t<0&&(t+=360),t),Vv=Sg,Gv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gv,scaleY:Wv,scale:t=>(Gv(t)+Wv(t))/2,rotateX:t=>Ng(ql(Math.atan2(t[6],t[5]))),rotateY:t=>Ng(ql(Math.atan2(-t[2],t[0]))),rotateZ:Vv,rotate:Vv,skewX:t=>ql(Math.atan(t[4])),skewY:t=>ql(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ag(t){return t.includes("scale")?1:0}function kg(t,e){if(!t||t==="none")return Ag(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=bU,r=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=yU,r=o}if(!r)return Ag(e);const a=s[e],l=r[1].split(",").map(jU);return typeof a=="function"?a(l):l[a]}const vU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return kg(n,e)};function jU(t){return parseFloat(t.trim())}const _c=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qc=new Set(_c),Yv=t=>t===Rc||t===Ke,wU=new Set(["x","y","z"]),TU=_c.filter(t=>!wU.has(t));function SU(t){const e=[];return TU.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ul={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kg(e,"x"),y:(t,{transform:e})=>kg(e,"y")};Ul.translateX=Ul.x;Ul.translateY=Ul.y;const Hl=new Set;let Eg=!1,Cg=!1,Mg=!1;function US(){if(Cg){const t=Array.from(Hl).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=SU(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,l])=>{var o;(o=s.getValue(a))==null||o.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Cg=!1,Eg=!1,Hl.forEach(t=>t.complete(Mg)),Hl.clear()}function HS(){Hl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cg=!0)})}function NU(){Mg=!0,HS(),US(),Mg=!1}class K2{constructor(e,n,s,r,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Hl.add(this),Eg||(Eg=!0,Gt.read(HS),Gt.resolveKeyframes(US))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const o=s.readValue(n,l);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}gU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hl.delete(this)}cancel(){this.state==="scheduled"&&(Hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AU=t=>t.startsWith("--");function kU(t,e,n){AU(e)?t.style.setProperty(e,n):t.style[e]=n}const EU=O2(()=>window.ScrollTimeline!==void 0),CU={};function MU(t,e){const n=O2(t);return()=>CU[e]??n()}const VS=MU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),N0=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Xv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:N0([0,.65,.55,1]),circOut:N0([.55,0,1,.45]),backIn:N0([.31,.01,.66,-.59]),backOut:N0([.33,1.53,.69,.99])};function GS(t,e){if(t)return typeof t=="function"?VS()?OS(t,e):"ease-out":CS(t)?N0(t):Array.isArray(t)?t.map(n=>GS(n,e)||Xv.easeOut):Xv[t]}function zU(t,e,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:o="easeOut",times:c}={},h=void 0){const u={[e]:n};c&&(u.offset=c);const m=GS(o,r);Array.isArray(m)&&(u.easing=m);const p={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(p.pseudoElement=h),t.animate(u,p)}function WS(t){return typeof t=="function"&&"applyToOptions"in t}function DU({type:t,...e}){return WS(t)&&VS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PU extends Z2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,B2(typeof e.type!="string");const h=DU(e);this.animation=zU(n,s,r,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=X2(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):kU(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return os(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+os(e)}get time(){return os(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&EU()?(this.animation.timeline=e,ds):n(this)}}const YS={anticipate:NS,backInOut:SS,circInOut:kS};function IU(t){return t in YS}function RU(t){typeof t.ease=="string"&&IU(t.ease)&&(t.ease=YS[t.ease])}const Zv=10;class _U extends PU{constructor(e){RU(e),FS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Q2({...l,autoplay:!1}),c=Zs(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-Zv).value,o.sample(c).value,Zv),o.stop()}}const Qv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(el.test(t)||t==="0")&&!t.startsWith("url("));function qU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $U(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Qv(r,e),o=Qv(a,e);return!l||!o?!1:qU(t)||(n==="spring"||WS(n))&&s}function zg(t){t.duration=0,t.type="keyframes"}const BU=new Set(["opacity","clipPath","filter","transform"]),OU=O2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LU(t){var u;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:a,type:l}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=e.owner.getProps();return OU()&&n&&BU.has(n)&&(n!=="transform"||!h)&&!c&&!s&&r!=="mirror"&&a!==0&&l!=="inertia"}const FU=40;class UU extends Z2{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",keyframes:o,name:c,motionValue:h,element:u,...m}){var E;super(),this.stop=()=>{var y,T;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Ti.now();const p={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:l,name:c,motionValue:h,element:u,...m},b=(u==null?void 0:u.KeyframeResolver)||K2;this.keyframeResolver=new b(o,(y,T,S)=>this.onKeyframesResolved(y,T,p,!S),c,h,u),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:a,type:l,velocity:o,delay:c,isHandoff:h,onUpdate:u}=s;this.resolvedAt=Ti.now(),$U(e,a,l,o)||((Gr.instantAnimations||!c)&&(u==null||u(X2(e,s,n))),e[0]=e[e.length-1],zg(s),s.repeat=0);const p={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>FU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&LU(p)?new _U({...p,element:p.motionValue.owner.current}):new Q2(p);b.finished.then(()=>this.notifyFinished()).catch(ds),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),NU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const HU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VU(t){const e=HU.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function XS(t,e,n=1){const[s,r]=VU(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return xS(l)?parseFloat(l):l}return H2(r)?XS(r,e,n+1):r}function J2(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const ZS=new Set(["width","height","top","left","right","bottom",..._c]),GU={test:t=>t==="auto",parse:t=>t},QS=t=>e=>e.test(t),KS=[Rc,Ke,Qs,pa,qF,_F,GU],Kv=t=>KS.find(QS(t));function WU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yS(t):!0}const YU=new Set(["brightness","contrast","saturate","opacity"]);function XU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(V2)||[];if(!s)return t;const r=n.replace(s,"");let a=YU.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+r+")"}const ZU=/\b([a-z-]*)\(.*?\)/gu,Dg={...el,getAnimatableNone:t=>{const e=t.match(ZU);return e?e.map(XU).join(" "):t}},Jv={...Rc,transform:Math.round},QU={rotate:pa,rotateX:pa,rotateY:pa,rotateZ:pa,scale:Xu,scaleX:Xu,scaleY:Xu,scaleZ:Xu,skew:pa,skewX:pa,skewY:pa,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:vh,originX:Ov,originY:Ov,originZ:Ke},ey={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke,...QU,zIndex:Jv,fillOpacity:vh,strokeOpacity:vh,numOctaves:Jv},KU={...ey,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:Dg,WebkitFilter:Dg},JS=t=>KU[t];function eN(t,e){let n=JS(t);return n!==Dg&&(n=el),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const JU=new Set(["auto","none","0"]);function eH(t,e,n){let s=0,r;for(;s<t.length&&!r;){const a=t[s];typeof a=="string"&&!JU.has(a)&&jh(a).values.length&&(r=t[s]),s++}if(r&&n)for(const a of e)t[a]=eN(n,r)}class tH extends K2{constructor(e,n,s,r,a){super(e,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),H2(h))){const u=XS(h,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!ZS.has(s)||e.length!==2)return;const[r,a]=e,l=Kv(r),o=Kv(a);if(l!==o)if(Yv(l)&&Yv(o))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else Ul[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||WU(e[r]))&&s.push(r);s.length&&eH(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ul[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Ul[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function nH(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const tN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nN(t){return gS(t)&&"offsetHeight"in t}const e6=30,iH=t=>!isNaN(parseFloat(t));class sH{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const r=Ti.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new L2);const s=this.events[e].add(n);return e==="change"?()=>{s(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>e6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e6);return bS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vc(t,e){return new sH(t,e)}const{schedule:ty}=MS(queueMicrotask,!1),As={x:!1,y:!1};function iN(){return As.x||As.y}function rH(t){return t==="x"||t==="y"?As[t]?null:(As[t]=!0,()=>{As[t]=!1}):As.x||As.y?null:(As.x=As.y=!0,()=>{As.x=As.y=!1})}function sN(t,e){const n=nH(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function t6(t){return!(t.pointerType==="touch"||iN())}function aH(t,e,n={}){const[s,r,a]=sN(t,n),l=o=>{if(!t6(o))return;const{target:c}=o,h=e(c,o);if(typeof h!="function"||!c)return;const u=m=>{t6(m)&&(h(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,r)};return s.forEach(o=>{o.addEventListener("pointerenter",l,r)}),a}const rN=(t,e)=>e?t===e?!0:rN(t,e.parentElement):!1,ny=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oH(t){return lH.has(t.tagName)||t.tabIndex!==-1}const Ed=new WeakSet;function n6(t){return e=>{e.key==="Enter"&&t(e)}}function b1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cH=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=n6(()=>{if(Ed.has(n))return;b1(n,"down");const r=n6(()=>{b1(n,"up")}),a=()=>b1(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function i6(t){return ny(t)&&!iN()}function hH(t,e,n={}){const[s,r,a]=sN(t,n),l=o=>{const c=o.currentTarget;if(!i6(o))return;Ed.add(c);const h=e(c,o),u=(b,E)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Ed.has(c)&&Ed.delete(c),i6(b)&&typeof h=="function"&&h(b,{success:E})},m=b=>{u(b,c===window||c===document||n.useGlobalTarget||rN(c,b.target))},p=b=>{u(b,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",p,r)};return s.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,r),nN(o)&&(o.addEventListener("focus",h=>cH(h,r)),!oH(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function aN(t){return gS(t)&&"ownerSVGElement"in t}function uH(t){return aN(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),dH=[...KS,vn,el],mH=t=>dH.find(QS(t)),iy=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function s6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fH(...t){return e=>{let n=!1;const s=t.map(r=>{const a=s6(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():s6(t[r],null)}}}}function pH(...t){return q.useCallback(fH(...t),t)}class xH extends q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=nN(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gH({children:t,isPresent:e,anchorX:n,root:s}){const r=q.useId(),a=q.useRef(null),l=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=q.useContext(iy),c=pH(a,t==null?void 0:t.ref);return q.useInsertionEffect(()=>{const{width:h,height:u,top:m,left:p,right:b}=l.current;if(e||!a.current||!h||!u)return;const E=n==="left"?`left: ${p}`:`right: ${b}`;a.current.dataset.motionPopId=r;const y=document.createElement("style");o&&(y.nonce=o);const T=s??document.head;return T.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${u}px !important;
            ${E}px !important;
            top: ${m}px !important;
          }
        `),()=>{T.contains(y)&&T.removeChild(y)}},[e]),i.jsx(xH,{isPresent:e,childRef:a,sizeRef:l,children:q.cloneElement(t,{ref:c})})}const yH=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:l,anchorX:o,root:c})=>{const h=R2(bH),u=q.useId();let m=!0,p=q.useMemo(()=>(m=!1,{id:u,initial:e,isPresent:n,custom:r,onExitComplete:b=>{h.set(b,!0);for(const E of h.values())if(!E)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return a&&m&&(p={...p}),q.useMemo(()=>{h.forEach((b,E)=>h.set(E,!1))},[n]),q.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),l==="popLayout"&&(t=i.jsx(gH,{isPresent:n,anchorX:o,root:c,children:t})),i.jsx(Af.Provider,{value:p,children:t})};function bH(){return new Map}function lN(t=!0){const e=q.useContext(Af);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,a=q.useId();q.useEffect(()=>{if(t)return r(a)},[t]);const l=q.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}const Zu=t=>t.key||"";function r6(t){const e=[];return q.Children.forEach(t,n=>{q.isValidElement(n)&&e.push(n)}),e}const wh=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[h,u]=lN(l),m=q.useMemo(()=>r6(t),[t]),p=l&&!h?[]:m.map(Zu),b=q.useRef(!0),E=q.useRef(m),y=R2(()=>new Map),[T,S]=q.useState(m),[N,v]=q.useState(m);pS(()=>{b.current=!1,E.current=m;for(let C=0;C<N.length;C++){const j=Zu(N[C]);p.includes(j)?y.delete(j):y.get(j)!==!0&&y.set(j,!1)}},[N,p.length,p.join("-")]);const f=[];if(m!==T){let C=[...m];for(let j=0;j<N.length;j++){const g=N[j],A=Zu(g);p.includes(A)||(C.splice(j,0,g),f.push(g))}return a==="wait"&&f.length&&(C=f),v(r6(C)),S(m),null}const{forceRender:x}=q.useContext(I2);return i.jsx(i.Fragment,{children:N.map(C=>{const j=Zu(C),g=l&&!h?!1:m===N||p.includes(j),A=()=>{if(y.has(j))y.set(j,!0);else return;let w=!0;y.forEach(k=>{k||(w=!1)}),w&&(x==null||x(),v(E.current),l&&(u==null||u()),s&&s())};return i.jsx(yH,{isPresent:g,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:c,onExitComplete:g?void 0:A,anchorX:o,children:C},j)})})},oN=q.createContext({strict:!1}),a6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jc={};for(const t in a6)jc[t]={isEnabled:e=>a6[t].some(n=>!!e[n])};function vH(t){for(const e in t)jc[e]={...jc[e],...t[e]}}const jH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jH.has(t)}let cN=t=>!zm(t);function wH(t){typeof t=="function"&&(cN=e=>e.startsWith("on")?!zm(e):t(e))}try{wH(require("@emotion/is-prop-valid").default)}catch{}function TH(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(cN(r)||n===!0&&zm(r)||!e&&!zm(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const kf=q.createContext({});function Ef(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Th(t){return typeof t=="string"||Array.isArray(t)}const sy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ry=["initial",...sy];function Cf(t){return Ef(t.animate)||ry.some(e=>Th(t[e]))}function hN(t){return!!(Cf(t)||t.variants)}function SH(t,e){if(Cf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Th(n)?n:void 0,animate:Th(s)?s:void 0}}return t.inherit!==!1?e:{}}function NH(t){const{initial:e,animate:n}=SH(t,q.useContext(kf));return q.useMemo(()=>({initial:e,animate:n}),[l6(e),l6(n)])}function l6(t){return Array.isArray(t)?t.join(" "):t}function o6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const x0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const n=o6(t,e.target.x),s=o6(t,e.target.y);return`${n}% ${s}%`}},AH={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=el.parse(t);if(r.length>5)return s;const a=el.createTransformer(t),l=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;r[0+l]/=o,r[1+l]/=c;const h=nn(o,c,.5);return typeof r[2+l]=="number"&&(r[2+l]/=h),typeof r[3+l]=="number"&&(r[3+l]/=h),a(r)}},Pg={borderRadius:{...x0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:x0,borderTopRightRadius:x0,borderBottomLeftRadius:x0,borderBottomRightRadius:x0,boxShadow:AH};function uN(t,{layout:e,layoutId:n}){return qc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pg[t]||t==="opacity")}const kH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EH=_c.length;function CH(t,e,n){let s="",r=!0;for(let a=0;a<EH;a++){const l=_c[a],o=t[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const h=tN(o,ey[l]);if(!c){r=!1;const u=kH[l]||l;s+=`${u}(${h}) `}n&&(e[l]=h)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function ay(t,e,n){const{style:s,vars:r,transformOrigin:a}=t;let l=!1,o=!1;for(const c in e){const h=e[c];if(qc.has(c)){l=!0;continue}else if(DS(c)){r[c]=h;continue}else{const u=tN(h,ey[c]);c.startsWith("origin")?(o=!0,a[c]=u):s[c]=u}}if(e.transform||(l||n?s.transform=CH(e,t.transform,n):s.transform&&(s.transform="none")),o){const{originX:c="50%",originY:h="50%",originZ:u=0}=a;s.transformOrigin=`${c} ${h} ${u}`}}const ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dN(t,e,n){for(const s in e)!Zn(e[s])&&!uN(s,n)&&(t[s]=e[s])}function MH({transformTemplate:t},e){return q.useMemo(()=>{const n=ly();return ay(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zH(t,e){const n=t.style||{},s={};return dN(s,n,t),Object.assign(s,MH(t,e)),s}function DH(t,e){const n={},s=zH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const PH={offset:"stroke-dashoffset",array:"stroke-dasharray"},IH={offset:"strokeDashoffset",array:"strokeDasharray"};function RH(t,e,n=1,s=0,r=!0){t.pathLength=1;const a=r?PH:IH;t[a.offset]=Ke.transform(-s);const l=Ke.transform(e),o=Ke.transform(n);t[a.array]=`${l} ${o}`}function mN(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...o},c,h,u){if(ay(t,o,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),r!==void 0&&RH(m,r,a,l,!1)}const fN=()=>({...ly(),attrs:{}}),pN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _H(t,e,n,s){const r=q.useMemo(()=>{const a=fN();return mN(a,e,pN(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};dN(a,t.style,t),r.style={...a,...r.style}}return r}const qH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oy(t){return typeof t!="string"||t.includes("-")?!1:!!(qH.indexOf(t)>-1||/[A-Z]/u.test(t))}function $H(t,e,n,{latestValues:s},r,a=!1){const o=(oy(t)?_H:DH)(e,s,r,t),c=TH(e,typeof t=="string",a),h=t!==q.Fragment?{...c,...o,ref:n}:{},{children:u}=e,m=q.useMemo(()=>Zn(u)?u.get():u,[u]);return q.createElement(t,{...h,children:m})}function c6(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function cy(t,e,n,s){if(typeof e=="function"){const[r,a]=c6(s);e=e(n!==void 0?n:t.custom,r,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,a]=c6(s);e=e(n!==void 0?n:t.custom,r,a)}return e}function Cd(t){return Zn(t)?t.get():t}function BH({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:OH(n,s,r,t),renderState:e()}}function OH(t,e,n,s){const r={},a=s(t,{});for(const p in a)r[p]=Cd(a[p]);let{initial:l,animate:o}=t;const c=Cf(t),h=hN(t);e&&h&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||l===!1;const m=u?o:l;if(m&&typeof m!="boolean"&&!Ef(m)){const p=Array.isArray(m)?m:[m];for(let b=0;b<p.length;b++){const E=cy(t,p[b]);if(E){const{transitionEnd:y,transition:T,...S}=E;for(const N in S){let v=S[N];if(Array.isArray(v)){const f=u?v.length-1:0;v=v[f]}v!==null&&(r[N]=v)}for(const N in y)r[N]=y[N]}}}return r}const xN=t=>(e,n)=>{const s=q.useContext(kf),r=q.useContext(Af),a=()=>BH(t,e,s,r);return n?a():R2(a)};function hy(t,e,n){var a;const{style:s}=t,r={};for(const l in s)(Zn(s[l])||e.style&&Zn(e.style[l])||uN(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(r[l]=s[l]);return r}const LH=xN({scrapeMotionValuesFromProps:hy,createRenderState:ly});function gN(t,e,n){const s=hy(t,e,n);for(const r in t)if(Zn(t[r])||Zn(e[r])){const a=_c.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=t[r]}return s}const FH=xN({scrapeMotionValuesFromProps:gN,createRenderState:fN}),UH=Symbol.for("motionComponentSymbol");function Lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HH(t,e,n){return q.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Lo(n)&&(n.current=s))},[e])}const uy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VH="framerAppearId",yN="data-"+uy(VH),bN=q.createContext({});function GH(t,e,n,s,r){var y,T;const{visualElement:a}=q.useContext(kf),l=q.useContext(oN),o=q.useContext(Af),c=q.useContext(iy).reducedMotion,h=q.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=h.current,m=q.useContext(bN);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&WH(h.current,n,r,m);const p=q.useRef(!1);q.useInsertionEffect(()=>{u&&p.current&&u.update(n,o)});const b=n[yN],E=q.useRef(!!b&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,b))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,b)));return pS(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),E.current&&u.animationState&&u.animationState.animateChanges())}),q.useEffect(()=>{u&&(!E.current&&u.animationState&&u.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,b)}),E.current=!1),u.enteringChildren=void 0)}),u}function WH(t,e,n,s){const{layoutId:r,layout:a,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:h,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vN(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||o&&Lo(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:h})}function vN(t){if(t)return t.options.allowProjection!==!1?t.projection:vN(t.parent)}function v1(t,{forwardMotionProps:e=!1}={},n,s){n&&vH(n);const r=oy(t)?FH:LH;function a(o,c){let h;const u={...q.useContext(iy),...o,layoutId:YH(o)},{isStatic:m}=u,p=NH(o),b=r(o,m);if(!m&&_2){XH();const E=ZH(u);h=E.MeasureLayout,p.visualElement=GH(t,b,u,s,E.ProjectionNode)}return i.jsxs(kf.Provider,{value:p,children:[h&&p.visualElement?i.jsx(h,{visualElement:p.visualElement,...u}):null,$H(t,o,HH(b,p.visualElement,c),b,m,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=q.forwardRef(a);return l[UH]=t,l}function YH({layoutId:t}){const e=q.useContext(I2).id;return e&&t!==void 0?e+"-"+t:t}function XH(t,e){q.useContext(oN).strict}function ZH(t){const{drag:e,layout:n}=jc;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function QH(t,e){if(typeof Proxy>"u")return v1;const n=new Map,s=(a,l)=>v1(a,l,t,e),r=(a,l)=>s(a,l);return new Proxy(r,{get:(a,l)=>l==="create"?s:(n.has(l)||n.set(l,v1(l,void 0,t,e)),n.get(l))})}function jN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function KH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function j1(t){return t===void 0||t===1}function Ig({scale:t,scaleX:e,scaleY:n}){return!j1(t)||!j1(e)||!j1(n)}function Dl(t){return Ig(t)||wN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wN(t){return h6(t.x)||h6(t.y)}function h6(t){return t&&t!=="0%"}function Dm(t,e,n){const s=t-n,r=e*s;return n+r}function u6(t,e,n,s,r){return r!==void 0&&(t=Dm(t,r,s)),Dm(t,n,s)+e}function Rg(t,e=0,n=1,s,r){t.min=u6(t.min,e,n,s,r),t.max=u6(t.max,e,n,s,r)}function TN(t,{x:e,y:n}){Rg(t.x,e.translate,e.scale,e.originPoint),Rg(t.y,n.translate,n.scale,n.originPoint)}const d6=.999999999999,m6=1.0000000000001;function eV(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,l;for(let o=0;o<r;o++){a=n[o],l=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Uo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,TN(t,l)),s&&Dl(a.latestValues)&&Uo(t,a.latestValues))}e.x<m6&&e.x>d6&&(e.x=1),e.y<m6&&e.y>d6&&(e.y=1)}function Fo(t,e){t.min=t.min+e,t.max=t.max+e}function f6(t,e,n,s,r=.5){const a=nn(t.min,t.max,r);Rg(t,e,n,a,s)}function Uo(t,e){f6(t.x,e.x,e.scaleX,e.scale,e.originX),f6(t.y,e.y,e.scaleY,e.scale,e.originY)}function SN(t,e){return jN(JH(t.getBoundingClientRect(),e))}function tV(t,e,n){const s=SN(t,n),{scroll:r}=e;return r&&(Fo(s.x,r.offset.x),Fo(s.y,r.offset.y)),s}const p6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:p6(),y:p6()}),x6=()=>({min:0,max:0}),Cn=()=>({x:x6(),y:x6()}),_g={current:null},NN={current:!1};function nV(){if(NN.current=!0,!!_2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_g.current=t.matches;t.addEventListener("change",e),e()}else _g.current=!1}const iV=new WeakMap;function sV(t,e,n){for(const s in e){const r=e[s],a=n[s];if(Zn(r))t.addValue(s,r);else if(Zn(a))t.addValue(s,vc(r,{owner:t}));else if(a!==r)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(s);t.addValue(s,vc(l!==void 0?l:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const g6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rV{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ti.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Gt.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Cf(n),this.isVariantNode=hN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const b=m[p];c[p]!==void 0&&Zn(b)&&b.set(c[p])}}mount(e){var n;this.current=e,iV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),NN.current||nV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_g.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ja(this.notifyUpdate),Ja(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=qc.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jc){const n=jc[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<g6.length;s++){const r=g6[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=e[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=sV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=vc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(xS(s)||yS(s))?s=parseFloat(s):!mH(s)&&el.test(n)&&(s=eN(e,n)),this.setBaseTarget(e,Zn(s)?s.get():s)),Zn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=cy(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Zn(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new L2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ty.render(this.render)}}class AN extends rV{constructor(){super(...arguments),this.KeyframeResolver=tH}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kN(t,{style:e,vars:n},s,r){const a=t.style;let l;for(l in e)a[l]=e[l];r==null||r.applyProjectionStyles(a,s);for(l in n)a.setProperty(l,n[l])}function aV(t){return window.getComputedStyle(t)}class lV extends AN{constructor(){super(...arguments),this.type="html",this.renderInstance=kN}readValueFromInstance(e,n){var s;if(qc.has(n))return(s=this.projection)!=null&&s.isProjecting?Ag(n):vU(e,n);{const r=aV(e),a=(DS(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return SN(e,n)}build(e,n,s){ay(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return hy(e,n,s)}}const EN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oV(t,e,n,s){kN(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(EN.has(r)?r:uy(r),e.attrs[r])}class cV extends AN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qc.has(n)){const s=JS(n);return s&&s.default||0}return n=EN.has(n)?n:uy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return gN(e,n,s)}build(e,n,s){mN(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){oV(e,n,s,r)}mount(e){this.isSVGTag=pN(e.tagName),super.mount(e)}}const hV=(t,e)=>oy(t)?new cV(e):new lV(e,{allowProjection:t!==q.Fragment});function ic(t,e,n){const s=t.getProps();return cy(s,e,n!==void 0?n:s.custom,t)}const qg=t=>Array.isArray(t);function uV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vc(n))}function dV(t){return qg(t)?t[t.length-1]||0:t}function mV(t,e){const n=ic(t,e);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const l in a){const o=dV(a[l]);uV(t,l,o)}}function fV(t){return!!(Zn(t)&&t.add)}function $g(t,e){const n=t.getValue("willChange");if(fV(n))return n.add(e);if(!n&&Gr.WillChange){const s=new Gr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function CN(t){return t.props[yN]}const pV=t=>t!==null;function xV(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(pV),a=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[a]}const gV={type:"spring",stiffness:500,damping:25,restSpeed:10},yV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bV={type:"keyframes",duration:.8},vV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jV=(t,{keyframes:e})=>e.length>2?bV:qc.has(t)?t.startsWith("scale")?yV(e[1]):gV:vV;function wV({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:o,from:c,elapsed:h,...u}){return!!Object.keys(u).length}const dy=(t,e,n,s={},r,a)=>l=>{const o=J2(s,t)||{},c=o.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Zs(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-h,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:r};wV(o)||Object.assign(u,jV(t,u)),u.duration&&(u.duration=Zs(u.duration)),u.repeatDelay&&(u.repeatDelay=Zs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(zg(u),u.delay===0&&(m=!0)),(Gr.instantAnimations||Gr.skipAnimations)&&(m=!0,zg(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,m&&!a&&e.get()!==void 0){const p=xV(u.keyframes,o);if(p!==void 0){Gt.update(()=>{u.onUpdate(p),u.onComplete()});return}}return o.isSync?new Q2(u):new UU(u)};function TV({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function MN(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...o}=e;s&&(a=s);const c=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const u in o){const m=t.getValue(u,t.latestValues[u]??null),p=o[u];if(p===void 0||h&&TV(h,u))continue;const b={delay:n,...J2(a||{},u)},E=m.get();if(E!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===E&&!b.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const S=CN(t);if(S){const N=window.MotionHandoffAnimation(S,u,Gt);N!==null&&(b.startTime=N,y=!0)}}$g(t,u),m.start(dy(u,m,p,t.shouldReduceMotion&&ZS.has(u)?{type:!1}:b,t,y));const T=m.animation;T&&c.push(T)}return l&&Promise.all(c).then(()=>{Gt.update(()=>{l&&mV(t,l)})}),c}function zN(t,e,n,s=0,r=1){const a=Array.from(t).sort((h,u)=>h.sortNodePosition(u)).indexOf(e),l=t.size,o=(l-1)*s;return typeof n=="function"?n(a,l):r===1?a*s:o-a*s}function Bg(t,e,n={}){var c;const s=ic(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(MN(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:p}=r;return SV(t,e,h,u,m,p,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[h,u]=o==="beforeChildren"?[a,l]:[l,a];return h().then(()=>u())}else return Promise.all([a(),l(n.delay)])}function SV(t,e,n=0,s=0,r=0,a=1,l){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(Bg(c,e,{...l,delay:n+(typeof s=="function"?0:s)+zN(t.variantChildren,c,s,r,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function NV(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(a=>Bg(t,a,n));s=Promise.all(r)}else if(typeof e=="string")s=Bg(t,e,n);else{const r=typeof e=="function"?ic(t,e,n.custom):e;s=Promise.all(MN(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function DN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const AV=ry.length;function PN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?PN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AV;n++){const s=ry[n],r=t.props[s];(Th(r)||r===!1)&&(e[s]=r)}return e}const kV=[...sy].reverse(),EV=sy.length;function CV(t){return e=>Promise.all(e.map(({animation:n,options:s})=>NV(t,n,s)))}function MV(t){let e=CV(t),n=y6(),s=!0;const r=c=>(h,u)=>{var p;const m=ic(t,u,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:b,transitionEnd:E,...y}=m;h={...h,...y,...E}}return h};function a(c){e=c(t)}function l(c){const{props:h}=t,u=PN(t.parent)||{},m=[],p=new Set;let b={},E=1/0;for(let T=0;T<EV;T++){const S=kV[T],N=n[S],v=h[S]!==void 0?h[S]:u[S],f=Th(v),x=S===c?N.isActive:null;x===!1&&(E=T);let C=v===u[S]&&v!==h[S]&&f;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),N.protectedKeys={...b},!N.isActive&&x===null||!v&&!N.prevProp||Ef(v)||typeof v=="boolean")continue;const j=zV(N.prevProp,v);let g=j||S===c&&N.isActive&&!C&&f||T>E&&f,A=!1;const w=Array.isArray(v)?v:[v];let k=w.reduce(r(S),{});x===!1&&(k={});const{prevResolvedValues:M={}}=N,I={...M,...k},O=V=>{g=!0,p.has(V)&&(A=!0,p.delete(V)),N.needsAnimating[V]=!0;const J=t.getValue(V);J&&(J.liveStyle=!1)};for(const V in I){const J=k[V],ee=M[V];if(b.hasOwnProperty(V))continue;let re=!1;qg(J)&&qg(ee)?re=!DN(J,ee):re=J!==ee,re?J!=null?O(V):p.add(V):J!==void 0&&p.has(V)?O(V):N.protectedKeys[V]=!0}N.prevProp=v,N.prevResolvedValues=k,N.isActive&&(b={...b,...k}),s&&t.blockInitialAnimation&&(g=!1);const $=C&&j;g&&(!$||A)&&m.push(...w.map(V=>{const J={type:S};if(typeof V=="string"&&s&&!$&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,re=ic(ee,V);if(ee.enteringChildren&&re){const{delayChildren:se}=re.transition||{};J.delay=zN(ee.enteringChildren,t,se)}}return{animation:V,options:J}}))}if(p.size){const T={};if(typeof h.initial!="boolean"){const S=ic(t,Array.isArray(h.initial)?h.initial[0]:h.initial);S&&S.transition&&(T.transition=S.transition)}p.forEach(S=>{const N=t.getBaseTarget(S),v=t.getValue(S);v&&(v.liveStyle=!0),T[S]=N??null}),m.push({animation:T})}let y=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?e(m):Promise.resolve()}function o(c,h){var m;if(n[c].isActive===h)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(p=>{var b;return(b=p.animationState)==null?void 0:b.setActive(c,h)}),n[c].isActive=h;const u=l(c);for(const p in n)n[p].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=y6()}}}function zV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DN(e,t):!1}function Tl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y6(){return{animate:Tl(!0),whileInView:Tl(),whileHover:Tl(),whileTap:Tl(),whileDrag:Tl(),whileFocus:Tl(),exit:Tl()}}class cl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DV extends cl{constructor(e){super(e),e.animationState||(e.animationState=MV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PV=0;class IV extends cl{constructor(){super(...arguments),this.id=PV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RV={animation:{Feature:DV},exit:{Feature:IV}};function Sh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Zh(t){return{point:{x:t.pageX,y:t.pageY}}}const _V=t=>e=>ny(e)&&t(e,Zh(e));function X0(t,e,n,s){return Sh(t,e,_V(n),s)}const IN=1e-4,qV=1-IN,$V=1+IN,RN=.01,BV=0-RN,OV=0+RN;function ai(t){return t.max-t.min}function LV(t,e,n){return Math.abs(t-e)<=n}function b6(t,e,n,s=.5){t.origin=s,t.originPoint=nn(e.min,e.max,t.origin),t.scale=ai(n)/ai(e),t.translate=nn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qV&&t.scale<=$V||isNaN(t.scale))&&(t.scale=1),(t.translate>=BV&&t.translate<=OV||isNaN(t.translate))&&(t.translate=0)}function Z0(t,e,n,s){b6(t.x,e.x,n.x,s?s.originX:void 0),b6(t.y,e.y,n.y,s?s.originY:void 0)}function v6(t,e,n){t.min=n.min+e.min,t.max=t.min+ai(e)}function FV(t,e,n){v6(t.x,e.x,n.x),v6(t.y,e.y,n.y)}function j6(t,e,n){t.min=e.min-n.min,t.max=t.min+ai(e)}function Pm(t,e,n){j6(t.x,e.x,n.x),j6(t.y,e.y,n.y)}function Ki(t){return[t("x"),t("y")]}const _N=({current:t})=>t?t.ownerDocument.defaultView:null,w6=(t,e)=>Math.abs(t-e);function UV(t,e){const n=w6(t.x,e.x),s=w6(t.y,e.y);return Math.sqrt(n**2+s**2)}class qN{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=T1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,E=UV(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!E)return;const{point:y}=p,{timestamp:T}=Ln;this.history.push({...y,timestamp:T});const{onStart:S,onMove:N}=this.handlers;b||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,b)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=w1(b,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(p,b)=>{this.end();const{onEnd:E,onSessionEnd:y,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=T1(p.type==="pointercancel"?this.lastMoveEventInfo:w1(b,this.transformPagePoint),this.history);this.startEvent&&E&&E(p,S),y&&y(p,S)},!ny(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=r||window;const o=Zh(e),c=w1(o,this.transformPagePoint),{point:h}=c,{timestamp:u}=Ln;this.history=[{...h,timestamp:u}];const{onSessionStart:m}=n;m&&m(e,T1(c,this.history)),this.removeListeners=Wh(X0(this.contextWindow,"pointermove",this.handlePointerMove),X0(this.contextWindow,"pointerup",this.handlePointerUp),X0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ja(this.updatePoint)}}function w1(t,e){return e?{point:e(t.point)}:t}function T6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function T1({point:t},e){return{point:t,delta:T6(t,$N(e)),offset:T6(t,HV(e)),velocity:VV(e,.1)}}function HV(t){return t[0]}function $N(t){return t[t.length-1]}function VV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=$N(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Zs(e)));)n--;if(!s)return{x:0,y:0};const a=os(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function GV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?nn(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?nn(n,t,s.max):Math.min(t,n)),t}function S6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WV(t,{top:e,left:n,bottom:s,right:r}){return{x:S6(t.x,n,r),y:S6(t.y,e,s)}}function N6(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function YV(t,e){return{x:N6(t.x,e.x),y:N6(t.y,e.y)}}function XV(t,e){let n=.5;const s=ai(t),r=ai(e);return r>s?n=bh(e.min,e.max-s,t.min):s>r&&(n=bh(t.min,t.max-r,e.min)),Vr(0,1,n)}function ZV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Og=.35;function QV(t=Og){return t===!1?t=0:t===!0&&(t=Og),{x:A6(t,"left","right"),y:A6(t,"top","bottom")}}function A6(t,e,n){return{min:k6(t,e),max:k6(t,n)}}function k6(t,e){return typeof t=="number"?t:t[e]||0}const KV=new WeakMap;class JV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zh(m).point)},l=(m,p)=>{const{drag:b,dragPropagation:E,onDragStart:y}=this.getProps();if(b&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rH(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ki(S=>{let N=this.getAxisMotionValue(S).get()||0;if(Qs.test(N)){const{projection:v}=this.visualElement;if(v&&v.layout){const f=v.layout.layoutBox[S];f&&(N=ai(f)*(parseFloat(N)/100))}}this.originPoint[S]=N}),y&&Gt.postRender(()=>y(m,p)),$g(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:b,dragDirectionLock:E,onDirectionLock:y,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:S}=p;if(E&&this.currentDirection===null){this.currentDirection=eG(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),T&&T(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ki(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qN(e,{onSessionStart:a,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:_N(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!s)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&Gt.postRender(()=>o(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Qu(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=GV(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&Lo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=WV(s.layoutBox,e):this.constraints=!1,this.elastic=QV(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ki(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ZV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lo(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=tV(s,r.root,this.visualElement.getTransformPagePoint());let l=YV(r.layout.layoutBox,a);if(n){const o=n(KH(l));this.hasMutatedConstraints=!!o,o&&(l=jN(o))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},h=Ki(u=>{if(!Qu(u,n,this.currentDirection))return;let m=c&&c[u]||{};l&&(m={min:0,max:0});const p=r?200:1e6,b=r?40:1e7,E={type:"inertia",velocity:s?e[u]:0,bounceStiffness:p,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(u,E)});return Promise.all(h).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return $g(this.visualElement,e),s.start(dy(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ki(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ki(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ki(n=>{const{drag:s}=this.getProps();if(!Qu(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:o}=r.layout.layoutBox[n];a.set(e[n]-nn(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Lo(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ki(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();r[l]=XV({min:c,max:c},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ki(l=>{if(!Qu(l,e,null))return;const o=this.getAxisMotionValue(l),{min:c,max:h}=this.constraints[l];o.set(nn(c,h,r[l]))})}addListeners(){if(!this.visualElement.current)return;KV.set(this.visualElement,this);const e=this.visualElement.current,n=X0(e,"pointerdown",c=>{const{drag:h,dragListener:u=!0}=this.getProps();h&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Lo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Gt.read(s);const l=Sh(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ki(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=Og,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:o}}}function Qu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tG extends cl{constructor(e){super(e),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new JV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const E6=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};class nG extends cl{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(e){this.session=new qN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_N(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:E6(e),onStart:E6(n),onMove:s,onEnd:(a,l)=>{delete this.session,r&&Gt.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=X0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let S1=!1;class iG extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),S1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,S1=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Gt.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ty.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;S1=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BN(t){const[e,n]=lN(),s=q.useContext(I2);return i.jsx(iG,{...t,layoutGroup:s,switchLayoutGroup:q.useContext(bN),isPresent:e,safeToRemove:n})}function sG(t,e,n){const s=Zn(t)?t:vc(t);return s.start(dy("",s,e,n)),s.animation}const rG=(t,e)=>t.depth-e.depth;class aG{constructor(){this.children=[],this.isDirty=!1}add(e){q2(this.children,e),this.isDirty=!0}remove(e){$2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rG),this.isDirty=!1,this.children.forEach(e)}}function lG(t,e){const n=Ti.now(),s=({timestamp:r})=>{const a=r-n;a>=e&&(Ja(s),t(a-e))};return Gt.setup(s,!0),()=>Ja(s)}const ON=["TopLeft","TopRight","BottomLeft","BottomRight"],oG=ON.length,C6=t=>typeof t=="string"?parseFloat(t):t,M6=t=>typeof t=="number"||Ke.test(t);function cG(t,e,n,s,r,a){r?(t.opacity=nn(0,n.opacity??1,hG(s)),t.opacityExit=nn(e.opacity??1,0,uG(s))):a&&(t.opacity=nn(e.opacity??1,n.opacity??1,s));for(let l=0;l<oG;l++){const o=`border${ON[l]}Radius`;let c=z6(e,o),h=z6(n,o);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||M6(c)===M6(h)?(t[o]=Math.max(nn(C6(c),C6(h),s),0),(Qs.test(h)||Qs.test(c))&&(t[o]+="%")):t[o]=h}(e.rotate||n.rotate)&&(t.rotate=nn(e.rotate||0,n.rotate||0,s))}function z6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hG=LN(0,.5,AS),uG=LN(.5,.95,ds);function LN(t,e,n){return s=>s<t?0:s>e?1:n(bh(t,e,s))}function D6(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){D6(t.x,e.x),D6(t.y,e.y)}function P6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function I6(t,e,n,s,r){return t-=e,t=Dm(t,1/n,s),r!==void 0&&(t=Dm(t,1/r,s)),t}function dG(t,e=0,n=1,s=.5,r,a=t,l=t){if(Qs.test(e)&&(e=parseFloat(e),e=nn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let o=nn(a.min,a.max,s);t===a&&(o-=e),t.min=I6(t.min,e,n,o,r),t.max=I6(t.max,e,n,o,r)}function R6(t,e,[n,s,r],a,l){dG(t,e[n],e[s],e[r],e.scale,a,l)}const mG=["x","scaleX","originX"],fG=["y","scaleY","originY"];function _6(t,e,n,s){R6(t.x,e,mG,n?n.x:void 0,s?s.x:void 0),R6(t.y,e,fG,n?n.y:void 0,s?s.y:void 0)}function q6(t){return t.translate===0&&t.scale===1}function FN(t){return q6(t.x)&&q6(t.y)}function $6(t,e){return t.min===e.min&&t.max===e.max}function pG(t,e){return $6(t.x,e.x)&&$6(t.y,e.y)}function B6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UN(t,e){return B6(t.x,e.x)&&B6(t.y,e.y)}function O6(t){return ai(t.x)/ai(t.y)}function L6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xG{constructor(){this.members=[]}add(e){q2(this.members,e),e.scheduleRender()}remove(e){if($2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gG(t,e,n){let s="";const r=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((r||a||l)&&(s=`translate3d(${r}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:u,rotateX:m,rotateY:p,skewX:b,skewY:E}=n;h&&(s=`perspective(${h}px) ${s}`),u&&(s+=`rotate(${u}deg) `),m&&(s+=`rotateX(${m}deg) `),p&&(s+=`rotateY(${p}deg) `),b&&(s+=`skewX(${b}deg) `),E&&(s+=`skewY(${E}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(s+=`scale(${o}, ${c})`),s||"none"}const N1=["","X","Y","Z"],yG=1e3;let bG=0;function A1(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function HN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=CN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(r||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&HN(s)}function VN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(l={},o=e==null?void 0:e()){this.id=bG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wG),this.nodes.forEach(AG),this.nodes.forEach(kG),this.nodes.forEach(TG)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new aG)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new L2),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=aN(l)&&!uH(l),this.instance=l;const{layoutId:o,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let u,m=0;const p=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{m=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,u&&u(),u=lG(p,250),Md.hasAnimatedSinceResize&&(Md.hasAnimatedSinceResize=!1,this.nodes.forEach(H6)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&h&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||DG,{onLayoutAnimationStart:y,onLayoutAnimationComplete:T}=h.getProps(),S=!this.targetLayout||!UN(this.targetLayout,b),N=!m&&p;if(this.options.layoutRoot||this.resumeFrom||N||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...J2(E,"layout"),onPlay:y,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,N)}else m||H6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EG),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NG),this.nodes.forEach(vG),this.nodes.forEach(jG)):this.nodes.forEach(U6),this.clearAllSnapshots();const o=Ti.now();Ln.delta=Vr(0,1e3/60,o-Ln.timestamp),Ln.timestamp=o,Ln.isProcessing=!0,f1.update.process(Ln),f1.preRender.process(Ln),f1.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SG),this.sharedNodes.forEach(CG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ai(this.snapshot.measuredBox.x)&&!ai(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!FN(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,u=h!==this.prevTransformTemplateValue;l&&this.instance&&(o||Dl(this.latestValues)||u)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),PG(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return Cn();const o=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(IG))){const{scroll:u}=this.root;u&&(Fo(o.x,u.offset.x),Fo(o.y,u.offset.y))}return o}removeElementScroll(l){var c;const o=Cn();if(Ss(o,l),(c=this.scroll)!=null&&c.wasRoot)return o;for(let h=0;h<this.path.length;h++){const u=this.path[h],{scroll:m,options:p}=u;u!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Ss(o,l),Fo(o.x,m.offset.x),Fo(o.y,m.offset.y))}return o}applyTransform(l,o=!1){const c=Cn();Ss(c,l);for(let h=0;h<this.path.length;h++){const u=this.path[h];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Uo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Dl(u.latestValues)&&Uo(c,u.latestValues)}return Dl(this.latestValues)&&Uo(c,this.latestValues),c}removeTransform(l){const o=Cn();Ss(o,l);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Dl(h.latestValues))continue;Ig(h.latestValues)&&h.updateSnapshot();const u=Cn(),m=h.measurePageBox();Ss(u,m),_6(o,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,u)}return Dl(this.latestValues)&&_6(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var b;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!this.layout||!(u||m))return;this.resolvedRelativeTargetAt=Ln.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cn(),this.targetWithTransforms=Cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),TN(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ig(this.parent.latestValues)||wN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,o,c){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),Pm(this.relativeTargetOrigin,o,c),Ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var E;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(c=!1),c)return;const{layout:h,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||u))return;Ss(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;eV(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Cn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P6(this.prevProjectionDelta.x,this.projectionDelta.x),P6(this.prevProjectionDelta.y,this.projectionDelta.y)),Z0(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!L6(this.projectionDelta.x,this.prevProjectionDelta.x)||!L6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(l,o=!1){const c=this.snapshot,h=c?c.latestValues:{},u={...this.latestValues},m=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Cn(),b=c?c.source:void 0,E=this.layout?this.layout.source:void 0,y=b!==E,T=this.getStack(),S=!T||T.members.length<=1,N=!!(y&&!S&&this.options.crossfade===!0&&!this.path.some(zG));this.animationProgress=0;let v;this.mixTargetDelta=f=>{const x=f/1e3;V6(m.x,l.x,x),V6(m.y,l.y,x),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pm(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MG(this.relativeTarget,this.relativeTargetOrigin,p,x),v&&pG(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Cn()),Ss(v,this.relativeTarget)),y&&(this.animationValues=u,cG(u,h,this.latestValues,x,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var o,c,h;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(h=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Md.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vc(0)),this.currentAnimation=sG(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:h,latestValues:u}=l;if(!(!o||!c||!h)){if(this!==l&&this.layout&&h&&GN(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Cn();const m=ai(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+m;const p=ai(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+p}Ss(o,c),Uo(o,u),Z0(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new xG),this.sharedNodes.get(l).add(o);const h=o.options.initialPromotionConfig;o.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const h={};c.z&&A1("z",l,h,this.animationValues);for(let u=0;u<N1.length;u++)A1(`rotate${N1[u]}`,l,h,this.animationValues),A1(`skew${N1[u]}`,l,h,this.animationValues);l.render();for(const u in h)l.setStaticValue(u,h[u]),this.animationValues&&(this.animationValues[u]=h[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Cd(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Cd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Dl(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=gG(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),l.transform=m;const{x:p,y:b}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=h===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const E in Pg){if(u[E]===void 0)continue;const{correct:y,applyTo:T,isCSSVariable:S}=Pg[E],N=m==="none"?u[E]:y(u[E],h);if(T){const v=T.length;for(let f=0;f<v;f++)l[T[f]]=N}else S?this.options.visualElement.renderState.vars[E]=N:l[E]=N}this.options.layoutId&&(l.pointerEvents=h===this?Cd(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(F6),this.root.sharedNodes.clear()}}}function vG(t){t.updateLayout()}function jG(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Ki(m=>{const p=l?e.measuredBox[m]:e.layoutBox[m],b=ai(p);p.min=s[m].min,p.max=p.min+b}):GN(a,e.layoutBox,s)&&Ki(m=>{const p=l?e.measuredBox[m]:e.layoutBox[m],b=ai(s[m]);p.max=p.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const o=Ho();Z0(o,s,e.layoutBox);const c=Ho();l?Z0(c,t.applyTransform(r,!0),e.measuredBox):Z0(c,s,e.layoutBox);const h=!FN(o);let u=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:b}=m;if(p&&b){const E=Cn();Pm(E,e.layoutBox,p.layoutBox);const y=Cn();Pm(y,s,b.layoutBox),UN(E,y)||(u=!0),m.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=E,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:h,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function wG(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SG(t){t.clearSnapshot()}function F6(t){t.clearMeasurements()}function U6(t){t.isLayoutDirty=!1}function NG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AG(t){t.resolveTargetDelta()}function kG(t){t.calcProjection()}function EG(t){t.resetSkewAndRotation()}function CG(t){t.removeLeadSnapshot()}function V6(t,e,n){t.translate=nn(e.translate,0,n),t.scale=nn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function G6(t,e,n,s){t.min=nn(e.min,n.min,s),t.max=nn(e.max,n.max,s)}function MG(t,e,n,s){G6(t.x,e.x,n.x,s),G6(t.y,e.y,n.y,s)}function zG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DG={duration:.45,ease:[.4,0,.1,1]},W6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Y6=W6("applewebkit/")&&!W6("chrome/")?Math.round:ds;function X6(t){t.min=Y6(t.min),t.max=Y6(t.max)}function PG(t){X6(t.x),X6(t.y)}function GN(t,e,n){return t==="position"||t==="preserve-aspect"&&!LV(O6(e),O6(n),.2)}function IG(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const RG=VN({attachResizeListener:(t,e)=>Sh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),k1={current:void 0},WN=VN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!k1.current){const t=new RG({});t.mount(window),t.setOptions({layoutScroll:!0}),k1.current=t}return k1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_G={pan:{Feature:nG},drag:{Feature:tG,ProjectionNode:WN,MeasureLayout:BN}};function Z6(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&Gt.postRender(()=>a(e,Zh(e)))}class qG extends cl{mount(){const{current:e}=this.node;e&&(this.unmount=aH(e,(n,s)=>(Z6(this.node,s,"Start"),r=>Z6(this.node,r,"End"))))}unmount(){}}class $G extends cl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wh(Sh(this.node.current,"focus",()=>this.onFocus()),Sh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Q6(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&Gt.postRender(()=>a(e,Zh(e)))}class BG extends cl{mount(){const{current:e}=this.node;e&&(this.unmount=hH(e,(n,s)=>(Q6(this.node,s,"Start"),(r,{success:a})=>Q6(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lg=new WeakMap,E1=new WeakMap,OG=t=>{const e=Lg.get(t.target);e&&e(t)},LG=t=>{t.forEach(OG)};function FG({root:t,...e}){const n=t||document;E1.has(n)||E1.set(n,{});const s=E1.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(LG,{root:t,...e})),s[r]}function UG(t,e,n){const s=FG(e);return Lg.set(t,n),s.observe(t),()=>{Lg.delete(t),s.unobserve(t)}}const HG={some:0,all:1};class VG extends cl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:HG[r]},o=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),p=h?u:m;p&&p(c)};return UG(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(GG(e,n))&&this.startObserver()}unmount(){}}function GG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WG={inView:{Feature:VG},tap:{Feature:BG},focus:{Feature:$G},hover:{Feature:qG}},YG={layout:{ProjectionNode:WN,MeasureLayout:BN}},XG={...RV,...WG,..._G,...YG},Ps=QH(XG,hV);function YN({xp:t,level:e,compact:n=!1}){const s=aF(t,e);return n?i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",e]}),i.jsxs("span",{className:"text-dark-400",children:[t," XP"]})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-white",children:e})}),i.jsxs("div",{className:"flex-1 min-w-[80px]",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[i.jsxs("span",{className:"text-dark-400",children:["Level ",e]}),i.jsxs("span",{className:"text-primary-400 font-medium",children:[t," XP"]})]}),i.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:i.jsx(Ps.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5}})})]})]})}function XN({streak:t}){return t===0?null:i.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[i.jsx("span",{className:"text-orange-400",children:""}),i.jsx("span",{className:"text-sm font-medium text-orange-400",children:t})]})}function ZG({level:t,showLabel:e=!1}){const{label:n,color:s,symbol:r}=cF(t);return i.jsxs("div",{className:`flex items-center gap-1.5 ${s}`,children:[i.jsx("span",{className:"text-sm",children:r}),e&&i.jsx("span",{className:"text-xs",children:n})]})}const QG={progress:"",mastery:"",dedication:"",exploration:""};function KG({notification:t,onDismiss:e}){return q.useEffect(()=>{const n=setTimeout(e,5e3);return()=>clearTimeout(n)},[e]),i.jsx(Ps.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:QG[t.category]||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),i.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),i.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),i.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),i.jsx("button",{onClick:e,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function JG(){const{notifications:t,dismissNotification:e}=Ic();return i.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:i.jsx(wh,{mode:"popLayout",children:t.map(n=>i.jsx(KG,{notification:n,onDismiss:()=>e(n.id)},n.id))})})}function Mf({onToggleSidebar:t,sidebarOpen:e}){const s=Ic();return i.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:i.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":e?"Close sidebar":"Open sidebar",children:i.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsxs(ii,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[i.jsx("span",{className:"text-2xl",children:Wj}),i.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:K4})]})]}),i.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[i.jsx("a",{href:bz,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),i.jsx(ii,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),i.jsx(ii,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),i.jsx(ii,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),i.jsx(ii,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),s&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(XN,{streak:s.state.streak.currentStreak}),i.jsx(YN,{xp:s.state.user.totalXP,level:s.state.user.level})]})]})})}const oo=[{id:1,title:"Straightedge and Compass",slug:"straightedge-compass",sections:[{id:0,title:"Euclid's Construction Axioms",slug:"euclids-construction-axioms",description:"The fundamental axioms for straightedge and compass constructions."},{id:1,title:"Euclid's Construction of the Equilateral Triangle",slug:"equilateral-triangle-construction",description:"The first proposition of the Elements: constructing an equilateral triangle."},{id:2,title:"Some Basic Constructions",slug:"basic-constructions",description:"Essential constructions including perpendiculars and angle bisectors."},{id:3,title:"Multiplication and Division",slug:"multiplication-division",description:"Geometric constructions for arithmetic operations."},{id:4,title:"Similar Triangles",slug:"similar-triangles",description:"Properties and constructions involving similar triangles."},{id:5,title:"Discussion",slug:"ch1-discussion",description:"Historical context and the scope of straightedge and compass constructions."}]},{id:2,title:"Euclid's Approach to Geometry",slug:"euclids-approach",sections:[{id:6,title:"The Parallel Axiom",slug:"parallel-axiom",description:"The famous fifth postulate and its significance in geometry."},{id:7,title:"Congruence Axioms",slug:"congruence-axioms",description:"Axioms governing the congruence of geometric figures."},{id:8,title:"Area and Equality",slug:"area-equality",description:"The concept of area and equality of figures."},{id:9,title:"Area of Parallelograms and Triangles",slug:"area-parallelograms-triangles",description:"Computing areas of basic geometric shapes."},{id:10,title:"The Pythagorean Theorem",slug:"pythagorean-theorem",description:"The most famous theorem in geometry and its proof."},{id:11,title:"Proof of the Thales Theorem",slug:"thales-theorem-proof",description:"Proving that an angle inscribed in a semicircle is a right angle."},{id:12,title:"Angles in a Circle",slug:"angles-in-circle",description:"Relationships between angles and arcs in circles."},{id:13,title:"The Pythagorean Theorem Revisited",slug:"pythagorean-theorem-revisited",description:"Alternative proofs and deeper understanding of the theorem."},{id:14,title:"Discussion",slug:"ch2-discussion",description:"The axiomatic method and its role in mathematics."}]},{id:3,title:"Coordinates",slug:"coordinates",sections:[{id:15,title:"The Number Line and the Number Plane",slug:"number-line-plane",description:"Introduction to coordinate systems and the Cartesian plane."},{id:16,title:"Lines and Their Equations",slug:"lines-equations",description:"Algebraic representation of lines in the coordinate plane."},{id:17,title:"Distance",slug:"distance",description:"The distance formula derived from the Pythagorean theorem."},{id:18,title:"Intersections of Lines and Circles",slug:"intersections-lines-circles",description:"Finding intersection points using algebra."},{id:19,title:"Angle and Slope",slug:"angle-slope",description:"The relationship between angle and slope of a line."},{id:20,title:"Isometries",slug:"isometries",description:"Distance-preserving transformations in the plane."},{id:21,title:"The Three Reflections Theorem",slug:"three-reflections-theorem",description:"Every isometry is a composition of at most three reflections."},{id:22,title:"Discussion",slug:"ch3-discussion",description:"The power of coordinates in geometry."}]},{id:4,title:"Vectors and Euclidean Spaces",slug:"vectors-euclidean-spaces",sections:[{id:23,title:"Vectors",slug:"vectors",description:"Introduction to vectors and vector operations."},{id:24,title:"Direction and Linear Independence",slug:"direction-linear-independence",description:"Linear independence and spanning sets."},{id:25,title:"Midpoints and Centroids",slug:"midpoints-centroids",description:"Using vectors to find midpoints and centroids."},{id:26,title:"The Inner Product",slug:"inner-product",description:"The dot product and its geometric meaning."},{id:27,title:"Inner Product and Cosine",slug:"inner-product-cosine",description:"The relationship between inner product and angle."},{id:28,title:"The Triangle Inequality",slug:"triangle-inequality",description:"Proving the triangle inequality using vectors."},{id:29,title:"Rotations, Matrices, and Complex Numbers",slug:"rotations-matrices-complex",description:"Representing rotations with matrices and complex numbers."},{id:30,title:"Discussion",slug:"ch4-discussion",description:"The algebraic approach to geometry."}]},{id:5,title:"Perspective",slug:"perspective",sections:[{id:31,title:"Perspective Drawing",slug:"perspective-drawing",description:"The mathematics behind perspective art."},{id:32,title:"Drawing with Straightedge Alone",slug:"straightedge-alone",description:"What can be constructed without a compass."},{id:33,title:"Projective Plane Axioms and Their Models",slug:"projective-plane-axioms",description:"The axiomatic foundation of projective geometry."},{id:34,title:"Homogeneous Coordinates",slug:"homogeneous-coordinates",description:"A coordinate system for projective geometry."},{id:35,title:"Projection",slug:"projection",description:"The mathematics of projection from 3D to 2D."},{id:36,title:"Linear Fractional Functions",slug:"linear-fractional-functions",description:"Transformations of the projective line."},{id:37,title:"The Cross-Ratio",slug:"cross-ratio",description:"The fundamental invariant of projective geometry."},{id:38,title:"What is Special About the Cross-Ratio?",slug:"cross-ratio-special",description:"Why the cross-ratio is preserved under projection."},{id:39,title:"Discussion",slug:"ch5-discussion",description:"The role of perspective in mathematics and art."}]},{id:6,title:"Projective Planes",slug:"projective-planes",sections:[{id:40,title:"Pappus and Desargues Revisited",slug:"pappus-desargues-revisited",description:"Classic theorems of projective geometry."},{id:41,title:"Coincidences",slug:"coincidences",description:"Incidence relations in projective planes."},{id:42,title:"Variations on the Desargues Theorem",slug:"desargues-variations",description:"Different forms and consequences of Desargues theorem."},{id:43,title:"Projective Arithmetic",slug:"projective-arithmetic",description:"Constructing number systems from projective geometry."},{id:44,title:"The Field Axioms",slug:"field-axioms",description:"How geometry gives rise to algebraic structures."},{id:45,title:"The Associative Laws",slug:"associative-laws",description:"Proving associativity from geometric axioms."},{id:46,title:"The Distributive Law",slug:"distributive-law",description:"Proving distributivity from geometric axioms."},{id:47,title:"Discussion",slug:"ch6-discussion",description:"The deep connection between geometry and algebra."}]},{id:7,title:"Transformations",slug:"transformations",sections:[{id:48,title:"The Group of Isometries of the Plane",slug:"isometry-group",description:"Isometries form a mathematical group."},{id:49,title:"Vector Transformations",slug:"vector-transformations",description:"Linear transformations and their properties."},{id:50,title:"Transformations of the Projective Line",slug:"projective-line-transformations",description:"Mobius transformations and their geometry."},{id:51,title:"Spherical Geometry",slug:"spherical-geometry",description:"Geometry on the surface of a sphere."},{id:52,title:"The Rotation Group of the Sphere",slug:"sphere-rotation-group",description:"The group SO(3) of rotations in three dimensions."},{id:53,title:"Representing Space Rotations by Quaternions",slug:"quaternions",description:"Hamilton's quaternions and 3D rotations."},{id:54,title:"A Finite Group of Space Rotations",slug:"finite-rotation-groups",description:"Symmetry groups of regular polyhedra."},{id:55,title:"The Groups S3 and RP3",slug:"s3-rp3-groups",description:"The 3-sphere and real projective 3-space."},{id:56,title:"Discussion",slug:"ch7-discussion",description:"The Erlangen program: geometry as transformation groups."}]},{id:8,title:"Non-Euclidean Geometry",slug:"non-euclidean-geometry",sections:[{id:57,title:"Extending the Projective Line to a Plane",slug:"extending-projective-line",description:"Building the hyperbolic plane from projective concepts."},{id:58,title:"Complex Conjugation",slug:"complex-conjugation",description:"Complex numbers and their conjugates in geometry."},{id:59,title:"Reflections and Mobius Transformations",slug:"reflections-mobius",description:"Mobius transformations and hyperbolic reflections."},{id:60,title:"Preserving Non-Euclidean Lines",slug:"preserving-non-euclidean-lines",description:"Geodesics in hyperbolic geometry."},{id:61,title:"Preserving Angle",slug:"preserving-angle",description:"Conformal mappings in hyperbolic geometry."},{id:62,title:"Non-Euclidean Distance",slug:"non-euclidean-distance",description:"The hyperbolic metric and distance formula."},{id:63,title:"Non-Euclidean Translations and Rotations",slug:"non-euclidean-translations-rotations",description:"Isometries of the hyperbolic plane."},{id:64,title:"Three Reflections or Two Involutions",slug:"three-reflections-two-involutions",description:"Decomposing hyperbolic isometries."},{id:65,title:"Discussion",slug:"ch8-discussion",description:"The significance of non-Euclidean geometry in mathematics."}]}];function eW(t){for(const e of oo){const n=e.sections.find(s=>s.id===t);if(n)return n}}function tW(t){return oo.find(e=>e.sections.some(n=>n.id===t))}function nW(t){const e=oo.flatMap(s=>s.sections),n=e.findIndex(s=>s.id===t);return{prev:n>0?e[n-1]:null,next:n<e.length-1?e[n+1]:null}}function ZN(){return oo.reduce((t,e)=>t+e.sections.length,0)}function iW(){return oo.flatMap(t=>t.sections)}function sW(t){return iW().findIndex(n=>n.id===t)}function zf({isOpen:t,onClose:e}){const[n,s]=q.useState(new Set([1])),a=Ic(),l=c=>{s(h=>{const u=new Set(h);return u.has(c)?u.delete(c):u.add(c),u})},o=c=>{var u;if(!a)return"none";const h=`${hm}:${c}`;return((u=a.state.sections[h])==null?void 0:u.masteryLevel)??"none"};return i.jsxs(i.Fragment,{children:[i.jsx(wh,{children:t&&i.jsx(Ps.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),i.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:i.jsxs("nav",{className:"p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),i.jsxs("ul",{className:"space-y-0.5",children:[i.jsx("li",{children:i.jsxs(Mp,{to:"/theorems",className:({isActive:c})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${c?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[i.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.jsx("li",{children:i.jsxs(Mp,{to:"/interactive",className:({isActive:c})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${c?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[i.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),i.jsx("div",{className:"space-y-2",children:oo.map(c=>i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>l(c.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-primary-400",children:c.id})}),i.jsx("span",{className:"text-sm font-medium text-dark-200",children:c.title})]}),i.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${n.has(c.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.jsx(wh,{children:n.has(c.id)&&i.jsx(Ps.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:c.sections.map(h=>i.jsx("li",{children:i.jsxs(Mp,{to:`/section/${h.id}`,onClick:()=>{window.innerWidth<1024&&e()},className:({isActive:u})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[i.jsx("span",{className:"truncate",children:h.title}),i.jsx(ZG,{level:o(h.id)})]})},h.id))})})]},c.id))})]})})]})}function Re({sectionId:t,questions:e,title:n="Section Quiz"}){var J,ee,re;const r=Ic(),[a,l]=q.useState(0),[o,c]=q.useState(null),[h,u]=q.useState(null),[m,p]=q.useState(""),[b,E]=q.useState(!1),[y,T]=q.useState(0),[S,N]=q.useState([]),[v,f]=q.useState(!1),[x,C]=q.useState(""),[j,g]=q.useState(0),A=q.useMemo(()=>[...e].sort(()=>globalThis.Math.random()-.5).slice(0,5),[e]),w=A[a],k=A.length,M=(w==null?void 0:w.type)??"multiple-choice";if(!w&&!v)return i.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:i.jsx("p",{className:"text-dark-400 text-center",children:"No quiz questions available for this section."})});const I=se=>{if(o!==null)return;c(se);const he=se===w.correctIndex;he&&T(ae=>ae+1),N(ae=>[...ae,he]),E(!0)},O=()=>{if(h===null||Number.isNaN(h)){C("Please enter a number");return}const{min:se,max:he}=w.numericRange??{};if(se!==void 0&&h<se){C(`Answer must be at least ${se}`);return}if(he!==void 0&&h>he){C(`Answer must be at most ${he}`);return}C("");const ae=h===w.correctAnswer;ae&&T(Ne=>Ne+1),N(Ne=>[...Ne,ae]),E(!0)},$=()=>{const se=m.trim();if(se==="")return;const he=se.toLowerCase()===String(w.correctAnswer??"").toLowerCase();he&&T(ae=>ae+1),N(ae=>[...ae,he]),E(!0)},G=()=>{if(a<k-1)l(se=>se+1),c(null),u(null),p(""),E(!1),C("");else{f(!0);const se=y+(b&&(M==="multiple-choice"&&o===w.correctIndex||M==="numeric"&&h===w.correctAnswer||M==="text"&&m.toLowerCase()===String(w.correctAnswer??"").toLowerCase())?1:0),he=globalThis.Math.round(se/k*100);let ae=dS(w.difficulty,he);he===100&&(ae=globalThis.Math.round(ae*(1+Ni.QUIZ_PERFECT_BONUS))),g(ae),r&&r.recordQuiz(t,w.difficulty,he,se,k)}},V=()=>{l(0),c(null),u(null),p(""),E(!1),T(0),N([]),f(!1),C(""),g(0)};if(v){const se=S.filter(Boolean).length,he=globalThis.Math.round(se/k*100);return i.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:he>=80?"":he>=60?"":""}),i.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),i.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",se," out of ",k," (",he,"%)"]}),j>0&&i.jsxs(Ps.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",j," XP"]}),he===100&&i.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),i.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:S.map((ae,Ne)=>i.jsx("div",{className:`w-3 h-3 rounded-full ${ae?"bg-emerald-500":"bg-red-500"}`},Ne))}),i.jsx("button",{onClick:V,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return i.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:n}),i.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",a+1," of ",k]})]}),i.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:i.jsx(Ps.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(a+1)/k*100}%`}})}),i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${w.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":w.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:w.difficulty.charAt(0).toUpperCase()+w.difficulty.slice(1)})}),i.jsx("p",{className:"text-lg text-dark-200 mb-6",children:i.jsx("span",{dangerouslySetInnerHTML:{__html:d1(w.question)}})}),M==="multiple-choice"&&w.options&&i.jsx("div",{className:"space-y-3 mb-6",children:w.options.map((se,he)=>{const ae=o===he,Ne=he===w.correctIndex,Te=b&&Ne,tt=b&&ae&&!Ne;return i.jsx("button",{onClick:()=>I(he),disabled:b,className:`w-full p-4 rounded-xl text-left transition-all ${Te?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":tt?"bg-red-500/20 border-red-500/50 text-red-300":ae?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+he)}),i.jsx("span",{dangerouslySetInnerHTML:{__html:d1(se)}})]})},he)})}),M==="numeric"&&i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsx("input",{type:"number",step:(J=w.numericRange)!=null&&J.precision?1/globalThis.Math.pow(10,w.numericRange.precision):1,min:(ee=w.numericRange)==null?void 0:ee.min,max:(re=w.numericRange)==null?void 0:re.max,value:h??"",onChange:se=>{const he=se.target.value;u(he===""?null:parseFloat(he))},disabled:b,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),x&&i.jsx("p",{className:"text-red-400 text-sm",children:x}),i.jsx("button",{onClick:O,disabled:b||h===null||Number.isNaN(h),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),M==="text"&&i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsx("input",{type:"text",value:m,onChange:se=>p(se.target.value),disabled:b,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),i.jsx("button",{onClick:$,disabled:b||!m.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),b&&w.explanation&&i.jsx(Ps.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:i.jsxs("p",{className:"text-sm text-dark-300",children:[i.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),i.jsx("span",{dangerouslySetInnerHTML:{__html:d1(w.explanation)}})]})}),b&&i.jsx(Ps.button,{initial:{opacity:0},animate:{opacity:1},onClick:G,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:a<k-1?"Next Question":"See Results"})]})}const QN=[{id:1,type:"multiple-choice",question:"How many construction axioms did Euclid use for straightedge and compass constructions?",options:["$2$","$3$","$4$","$5$"],correctIndex:1,difficulty:"easy",explanation:"Euclid used three construction axioms: (1) draw a line segment between two points, (2) extend a line segment, and (3) draw a circle with given center and radius."},{id:2,type:"multiple-choice",question:"What is the key difference between a straightedge and a ruler?",options:["A straightedge is longer","A straightedge has no markings for measurement","A ruler can only draw curved lines","There is no difference"],correctIndex:1,difficulty:"easy",explanation:"A straightedge has no scale marked on it and can only be used for drawing straight linesnot for measurement. Euclid deliberately separates the function of measurement from drawing straight lines."},{id:3,type:"multiple-choice",question:"In Euclidean geometry, which tool is used for measuring and transferring lengths?",options:["The straightedge","The protractor","The compass","The ruler"],correctIndex:2,difficulty:"easy",explanation:'The compass "stores" the length of a radius and allows this length to be transferred elsewhere. The power of measuring lengths resides in the compass.'},{id:4,type:"multiple-choice",question:"Which of the following is NOT one of Euclid's construction axioms?",options:["Draw a straight line segment between any two points","Extend a straight line segment indefinitely","Measure the angle between two lines","Draw a circle with given center and radius"],correctIndex:2,difficulty:"medium",explanation:"Euclid's three construction axioms are: (1) draw a line segment, (2) extend a line segment, and (3) draw a circle. Measuring angles is not one of the construction axioms."},{id:5,type:"multiple-choice",question:"To add the length $|AB|$ to the length $|CD|$ using a compass, what should you do?",options:["Draw a line from A to D","Set the compass to radius $|AB|$ and draw a circle centered at D","Use a ruler to measure both lengths","Draw perpendicular lines from each segment"],correctIndex:1,difficulty:"medium",explanation:"To add lengths, you pick up the compass with radius set to $|AB|$ and describe a circle with center D. Where this circle intersects the extended line CD gives you the sum $|CD| + |AB|$."},{id:6,type:"multiple-choice",question:'Why did Euclid separate the concepts of "straightness" and "length" into different tools?',options:["He didn't have access to rulers","It simplifies the axioms and clarifies the foundations of geometry","Compasses were easier to manufacture","Ancient Greek law required separate tools"],correctIndex:1,difficulty:"medium",explanation:'Separating "straightness" (straightedge) and "length" (compass) turns out to be important for understanding the foundations of geometry. This same separation reappears in different approaches to geometry.'}],rW={0:QN};function aW(t){return rW[t]??null}function qe({sectionId:t,children:e}){const n=eW(t),s=tW(t),{prev:r,next:a}=nW(t),l=ZN(),o=sW(t),h=Ic();if(q.useEffect(()=>{h&&h.visitSection(t)},[t,h]),!n||!s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),i.jsx(ii,{to:"/",className:"text-primary-400 hover:text-primary-300",children:"Return to Home"})]})});const u=(o+1)/l*100;return i.jsxs("div",{children:[i.jsx("div",{className:"fixed top-16 left-0 right-0 z-30 h-1 bg-dark-800 lg:left-72",children:i.jsx(Ps.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${u}%`},transition:{duration:.5}})}),i.jsx("main",{className:"pt-4 pb-24 px-4 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("nav",{className:"mb-6 flex items-center gap-2 text-sm text-dark-400",children:[i.jsx(ii,{to:"/",className:"hover:text-dark-200 transition-colors",children:"Home"}),i.jsx("span",{children:"/"}),i.jsx("span",{className:"text-dark-500",children:s.title}),i.jsx("span",{children:"/"}),i.jsx("span",{className:"text-dark-200",children:n.title})]}),i.jsxs("header",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("span",{className:"text-sm font-medium text-primary-400",children:["Section ",t]}),i.jsx("span",{className:"text-dark-600",children:""}),i.jsx("span",{className:"text-sm text-dark-500",children:s.title})]}),i.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-3",children:n.title}),i.jsx("p",{className:"text-dark-400 text-lg",children:n.description})]}),i.jsx("article",{className:"prose prose-invert prose-lg max-w-none",children:e}),(()=>{const m=aW(t);return m&&m.length>0?i.jsx(Re,{sectionId:t,questions:m}):null})(),i.jsxs("nav",{className:"mt-16 flex items-center justify-between gap-4 pt-8 border-t border-dark-800",children:[r?i.jsxs(ii,{to:`/section/${r.id}`,className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-dark-800/50 hover:bg-dark-800 transition-colors group",children:[i.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-dark-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-xs text-dark-500",children:"Previous"}),i.jsx("div",{className:"text-sm text-dark-200 group-hover:text-dark-100",children:r.title})]})]}):i.jsx("div",{}),a?i.jsxs(ii,{to:`/section/${a.id}`,className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-dark-800/50 hover:bg-dark-800 transition-colors group",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-dark-500",children:"Next"}),i.jsx("div",{className:"text-sm text-dark-200 group-hover:text-dark-100",children:a.title})]}),i.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-dark-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):i.jsxs(ii,{to:"/",className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-primary-500/10 hover:bg-primary-500/20 transition-colors text-primary-400",children:[i.jsx("span",{children:"Complete Course"}),i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})]})})]})}function K6(){const[t,e]=q.useState(!1),s=Ic(),r=ZN(),a=s?s.state.user.sectionsCompleted.filter(o=>o.startsWith(hm)).length:0,l=Math.round(a/r*100);return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(Mf,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),i.jsx(zf,{isOpen:t,onClose:()=>e(!1)}),i.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("span",{className:"text-6xl mb-4 block",children:Wj}),i.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:K4}),i.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:yz})]}),s&&i.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),i.jsx(XN,{streak:s.state.streak.currentStreak})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{children:i.jsx(YN,{xp:s.state.user.totalXP,level:s.state.user.level})}),i.jsxs("div",{className:"flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-dark-400",children:"Course Progress"}),i.jsxs("span",{className:"text-primary-400 font-medium",children:[l,"%"]})]}),i.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${l}%`}})}),i.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[a," of ",r," sections"]})]}),i.jsxs("div",{className:"flex flex-col justify-center items-end",children:[i.jsx("div",{className:"text-2xl font-bold text-dark-100",children:s.state.user.quizzesTaken}),i.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),i.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),i.jsx("div",{className:"space-y-4",children:oo.map(o=>i.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-primary-400",children:o.id})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:o.title}),i.jsxs("p",{className:"text-sm text-dark-400",children:[o.sections.length," sections"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:o.sections.map(c=>{const h=`${hm}:${c.id}`,u=s==null?void 0:s.state.user.sectionsCompleted.includes(h);return i.jsxs(ii,{to:`/section/${c.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):i.jsx("span",{className:"text-xs",children:c.id})}),i.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:c.title})]},c.id)})})]},o.id))})]})})]})}function lW(){return i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:i.jsx(CB,{})})}class wi{constructor(e,n,s){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=s}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new wi(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Hi{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Hi(n,wi.range(this,e))}}class we{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s="KaTeX parse error: "+e,r,a,l=n&&n.loc;if(l&&l.start<=l.end){var o=l.lexer.input;r=l.start,a=l.end,r===o.length?s+=" at end of input: ":s+=" at position "+(r+1)+": ";var c=o.slice(r,a).replace(/[^]/g,"$&"),h;r>15?h=""+o.slice(r-15,r):h=o.slice(0,r);var u;a+15<o.length?u=o.slice(a,a+15)+"":u=o.slice(a),s+=h+c+u}var m=new Error(s);return m.name="ParseError",m.__proto__=we.prototype,m.position=r,r!=null&&a!=null&&(m.length=a-r),m.rawMessage=e,m}}we.prototype.__proto__=Error.prototype;var oW=function(e,n){return e===void 0?n:e},cW=/([A-Z])/g,hW=function(e){return e.replace(cW,"-$1").toLowerCase()},uW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},dW=/[&><"']/g;function mW(t){return String(t).replace(dW,e=>uW[e])}var KN=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},fW=function(e){var n=KN(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},pW=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},xW=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},gt={deflt:oW,escape:mW,hyphenate:hW,getBaseElem:KN,isCharacterBox:fW,protocolFromUrl:xW},zd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function gW(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class my{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in zd)if(zd.hasOwnProperty(n)){var s=zd[n];this[n]=e[n]!==void 0?s.processor?s.processor(e[n]):e[n]:gW(s)}}reportNonstrict(e,n,s){var r=this.strict;if(typeof r=="function"&&(r=r(e,n,s)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new we("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),s);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,s){var r=this.strict;if(typeof r=="function")try{r=r(e,n,s)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=gt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var s=typeof this.trust=="function"?this.trust(e):this.trust;return!!s}}class da{constructor(e,n,s){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=s}sup(){return Os[yW[this.id]]}sub(){return Os[bW[this.id]]}fracNum(){return Os[vW[this.id]]}fracDen(){return Os[jW[this.id]]}cramp(){return Os[wW[this.id]]}text(){return Os[TW[this.id]]}isTight(){return this.size>=2}}var fy=0,Im=1,sc=2,Ir=3,Nh=4,cs=5,wc=6,li=7,Os=[new da(fy,0,!1),new da(Im,0,!0),new da(sc,1,!1),new da(Ir,1,!0),new da(Nh,2,!1),new da(cs,2,!0),new da(wc,3,!1),new da(li,3,!0)],yW=[Nh,cs,Nh,cs,wc,li,wc,li],bW=[cs,cs,cs,cs,li,li,li,li],vW=[sc,Ir,Nh,cs,wc,li,wc,li],jW=[Ir,Ir,cs,cs,li,li,li,li],wW=[Im,Im,Ir,Ir,cs,cs,li,li],TW=[fy,Im,sc,Ir,sc,Ir,sc,Ir],Xe={DISPLAY:Os[fy],TEXT:Os[sc],SCRIPT:Os[Nh],SCRIPTSCRIPT:Os[wc]},Fg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function SW(t){for(var e=0;e<Fg.length;e++)for(var n=Fg[e],s=0;s<n.blocks.length;s++){var r=n.blocks[s];if(t>=r[0]&&t<=r[1])return n.name}return null}var Dd=[];Fg.forEach(t=>t.blocks.forEach(e=>Dd.push(...e)));function JN(t){for(var e=0;e<Dd.length;e+=2)if(t>=Dd[e]&&t<=Dd[e+1])return!0;return!1}var vo=80,NW=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},AW=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},kW=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},EW=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},CW=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},MW=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},zW=function(e,n,s){var r=s-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},DW=function(e,n,s){n=1e3*n;var r="";switch(e){case"sqrtMain":r=NW(n,vo);break;case"sqrtSize1":r=AW(n,vo);break;case"sqrtSize2":r=kW(n,vo);break;case"sqrtSize3":r=EW(n,vo);break;case"sqrtSize4":r=CW(n,vo);break;case"sqrtTall":r=zW(n,vo,s)}return r},PW=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},J6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},IW=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Qh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Gs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Ku={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},e7={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function RW(t,e){Gs[t]=e}function py(t,e,n){if(!Gs[e])throw new Error("Font metrics not found for font: "+e+".");var s=t.charCodeAt(0),r=Gs[e][s];if(!r&&t[0]in e7&&(s=e7[t[0]].charCodeAt(0),r=Gs[e][s]),!r&&n==="text"&&JN(s)&&(r=Gs[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var C1={};function _W(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!C1[e]){var n=C1[e]={cssEmPerMu:Ku.quad[e]/18};for(var s in Ku)Ku.hasOwnProperty(s)&&(n[s]=Ku[s][e])}return C1[e]}var qW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],t7=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],n7=function(e,n){return n.size<2?e:qW[e-1][n.size-1]};class Sr{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Sr.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=t7[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);return new Sr(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:n7(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:t7[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=n7(Sr.BASESIZE,e);return this.size===n&&this.textSize===Sr.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Sr.BASESIZE?["sizing","reset-size"+this.size,"size"+Sr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=_W(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Sr.BASESIZE=6;var Ug={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},$W={ex:!0,em:!0,mu:!0},eA=function(e){return typeof e!="string"&&(e=e.unit),e in Ug||e in $W||e==="ex"},tn=function(e,n){var s;if(e.unit in Ug)s=Ug[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")s=n.fontMetrics().cssEmPerMu;else{var r;if(n.style.isTight()?r=n.havingStyle(n.style.text()):r=n,e.unit==="ex")s=r.fontMetrics().xHeight;else if(e.unit==="em")s=r.fontMetrics().quad;else throw new we("Invalid unit: '"+e.unit+"'");r!==n&&(s*=r.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*s,n.maxSize)},Ee=function(e){return+e.toFixed(4)+"em"},tl=function(e){return e.filter(n=>n).join(" ")},tA=function(e,n,s){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=s||{},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}},nA=function(e){var n=document.createElement(e);n.className=tl(this.classes);for(var s in this.style)this.style.hasOwnProperty(s)&&(n.style[s]=this.style[s]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},BW=/[\s"'>/=\x00-\x1f]/,iA=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+gt.escape(tl(this.classes))+'"');var s="";for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=gt.hyphenate(r)+":"+this.style[r]+";");s&&(n+=' style="'+gt.escape(s)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(BW.test(a))throw new we("Invalid attribute name '"+a+"'");n+=" "+a+'="'+gt.escape(this.attributes[a])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class Kh{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,tA.call(this,e,s,r),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return nA.call(this,"span")}toMarkup(){return iA.call(this,"span")}}class xy{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,tA.call(this,n,r),this.children=s||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return nA.call(this,"a")}toMarkup(){return iA.call(this,"a")}}class OW{constructor(e,n,s){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=s}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+gt.escape(this.src)+'"'+(' alt="'+gt.escape(this.alt)+'"'),n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=gt.hyphenate(s)+":"+this.style[s]+";");return n&&(e+=' style="'+gt.escape(n)+'"'),e+="'/>",e}}var LW={:"",:"",:"",:""};class gs{constructor(e,n,s,r,a,l,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=s||0,this.italic=r||0,this.skew=a||0,this.width=l||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var h=SW(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=LW[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Ee(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=tl(this.classes));for(var s in this.style)this.style.hasOwnProperty(s)&&(n=n||document.createElement("span"),n.style[s]=this.style[s]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=gt.escape(tl(this.classes)),n+='"');var s="";this.italic>0&&(s+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=gt.hyphenate(r)+":"+this.style[r]+";");s&&(e=!0,n+=' style="'+gt.escape(s)+'"');var a=gt.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}}class Wr{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+gt.escape(this.attributes[n])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</svg>",e}}class nl{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",J6[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+gt.escape(this.alternate)+'"/>':'<path d="'+gt.escape(J6[this.pathName])+'"/>'}}class Hg{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+gt.escape(this.attributes[n])+'"');return e+="/>",e}}function i7(t){if(t instanceof gs)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function FW(t){if(t instanceof Kh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var UW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},HW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},_t={math:{},text:{}};function D(t,e,n,s,r,a){_t[t][r]={font:e,group:n,replace:s},a&&s&&(_t[t][s]=_t[t][r])}var _="math",ye="text",F="main",Z="ams",Xt="accent-token",Ie="bin",di="close",$c="inner",We="mathord",An="op-token",Yi="open",Df="punct",K="rel",Jr="spacing",ie="textord";D(_,F,K,"","\\equiv",!0);D(_,F,K,"","\\prec",!0);D(_,F,K,"","\\succ",!0);D(_,F,K,"","\\sim",!0);D(_,F,K,"","\\perp");D(_,F,K,"","\\preceq",!0);D(_,F,K,"","\\succeq",!0);D(_,F,K,"","\\simeq",!0);D(_,F,K,"","\\mid",!0);D(_,F,K,"","\\ll",!0);D(_,F,K,"","\\gg",!0);D(_,F,K,"","\\asymp",!0);D(_,F,K,"","\\parallel");D(_,F,K,"","\\bowtie",!0);D(_,F,K,"","\\smile",!0);D(_,F,K,"","\\sqsubseteq",!0);D(_,F,K,"","\\sqsupseteq",!0);D(_,F,K,"","\\doteq",!0);D(_,F,K,"","\\frown",!0);D(_,F,K,"","\\ni",!0);D(_,F,K,"","\\propto",!0);D(_,F,K,"","\\vdash",!0);D(_,F,K,"","\\dashv",!0);D(_,F,K,"","\\owns");D(_,F,Df,".","\\ldotp");D(_,F,Df,"","\\cdotp");D(_,F,ie,"#","\\#");D(ye,F,ie,"#","\\#");D(_,F,ie,"&","\\&");D(ye,F,ie,"&","\\&");D(_,F,ie,"","\\aleph",!0);D(_,F,ie,"","\\forall",!0);D(_,F,ie,"","\\hbar",!0);D(_,F,ie,"","\\exists",!0);D(_,F,ie,"","\\nabla",!0);D(_,F,ie,"","\\flat",!0);D(_,F,ie,"","\\ell",!0);D(_,F,ie,"","\\natural",!0);D(_,F,ie,"","\\clubsuit",!0);D(_,F,ie,"","\\wp",!0);D(_,F,ie,"","\\sharp",!0);D(_,F,ie,"","\\diamondsuit",!0);D(_,F,ie,"","\\Re",!0);D(_,F,ie,"","\\heartsuit",!0);D(_,F,ie,"","\\Im",!0);D(_,F,ie,"","\\spadesuit",!0);D(_,F,ie,"","\\S",!0);D(ye,F,ie,"","\\S");D(_,F,ie,"","\\P",!0);D(ye,F,ie,"","\\P");D(_,F,ie,"","\\dag");D(ye,F,ie,"","\\dag");D(ye,F,ie,"","\\textdagger");D(_,F,ie,"","\\ddag");D(ye,F,ie,"","\\ddag");D(ye,F,ie,"","\\textdaggerdbl");D(_,F,di,"","\\rmoustache",!0);D(_,F,Yi,"","\\lmoustache",!0);D(_,F,di,"","\\rgroup",!0);D(_,F,Yi,"","\\lgroup",!0);D(_,F,Ie,"","\\mp",!0);D(_,F,Ie,"","\\ominus",!0);D(_,F,Ie,"","\\uplus",!0);D(_,F,Ie,"","\\sqcap",!0);D(_,F,Ie,"","\\ast");D(_,F,Ie,"","\\sqcup",!0);D(_,F,Ie,"","\\bigcirc",!0);D(_,F,Ie,"","\\bullet",!0);D(_,F,Ie,"","\\ddagger");D(_,F,Ie,"","\\wr",!0);D(_,F,Ie,"","\\amalg");D(_,F,Ie,"&","\\And");D(_,F,K,"","\\longleftarrow",!0);D(_,F,K,"","\\Leftarrow",!0);D(_,F,K,"","\\Longleftarrow",!0);D(_,F,K,"","\\longrightarrow",!0);D(_,F,K,"","\\Rightarrow",!0);D(_,F,K,"","\\Longrightarrow",!0);D(_,F,K,"","\\leftrightarrow",!0);D(_,F,K,"","\\longleftrightarrow",!0);D(_,F,K,"","\\Leftrightarrow",!0);D(_,F,K,"","\\Longleftrightarrow",!0);D(_,F,K,"","\\mapsto",!0);D(_,F,K,"","\\longmapsto",!0);D(_,F,K,"","\\nearrow",!0);D(_,F,K,"","\\hookleftarrow",!0);D(_,F,K,"","\\hookrightarrow",!0);D(_,F,K,"","\\searrow",!0);D(_,F,K,"","\\leftharpoonup",!0);D(_,F,K,"","\\rightharpoonup",!0);D(_,F,K,"","\\swarrow",!0);D(_,F,K,"","\\leftharpoondown",!0);D(_,F,K,"","\\rightharpoondown",!0);D(_,F,K,"","\\nwarrow",!0);D(_,F,K,"","\\rightleftharpoons",!0);D(_,Z,K,"","\\nless",!0);D(_,Z,K,"","\\@nleqslant");D(_,Z,K,"","\\@nleqq");D(_,Z,K,"","\\lneq",!0);D(_,Z,K,"","\\lneqq",!0);D(_,Z,K,"","\\@lvertneqq");D(_,Z,K,"","\\lnsim",!0);D(_,Z,K,"","\\lnapprox",!0);D(_,Z,K,"","\\nprec",!0);D(_,Z,K,"","\\npreceq",!0);D(_,Z,K,"","\\precnsim",!0);D(_,Z,K,"","\\precnapprox",!0);D(_,Z,K,"","\\nsim",!0);D(_,Z,K,"","\\@nshortmid");D(_,Z,K,"","\\nmid",!0);D(_,Z,K,"","\\nvdash",!0);D(_,Z,K,"","\\nvDash",!0);D(_,Z,K,"","\\ntriangleleft");D(_,Z,K,"","\\ntrianglelefteq",!0);D(_,Z,K,"","\\subsetneq",!0);D(_,Z,K,"","\\@varsubsetneq");D(_,Z,K,"","\\subsetneqq",!0);D(_,Z,K,"","\\@varsubsetneqq");D(_,Z,K,"","\\ngtr",!0);D(_,Z,K,"","\\@ngeqslant");D(_,Z,K,"","\\@ngeqq");D(_,Z,K,"","\\gneq",!0);D(_,Z,K,"","\\gneqq",!0);D(_,Z,K,"","\\@gvertneqq");D(_,Z,K,"","\\gnsim",!0);D(_,Z,K,"","\\gnapprox",!0);D(_,Z,K,"","\\nsucc",!0);D(_,Z,K,"","\\nsucceq",!0);D(_,Z,K,"","\\succnsim",!0);D(_,Z,K,"","\\succnapprox",!0);D(_,Z,K,"","\\ncong",!0);D(_,Z,K,"","\\@nshortparallel");D(_,Z,K,"","\\nparallel",!0);D(_,Z,K,"","\\nVDash",!0);D(_,Z,K,"","\\ntriangleright");D(_,Z,K,"","\\ntrianglerighteq",!0);D(_,Z,K,"","\\@nsupseteqq");D(_,Z,K,"","\\supsetneq",!0);D(_,Z,K,"","\\@varsupsetneq");D(_,Z,K,"","\\supsetneqq",!0);D(_,Z,K,"","\\@varsupsetneqq");D(_,Z,K,"","\\nVdash",!0);D(_,Z,K,"","\\precneqq",!0);D(_,Z,K,"","\\succneqq",!0);D(_,Z,K,"","\\@nsubseteqq");D(_,Z,Ie,"","\\unlhd");D(_,Z,Ie,"","\\unrhd");D(_,Z,K,"","\\nleftarrow",!0);D(_,Z,K,"","\\nrightarrow",!0);D(_,Z,K,"","\\nLeftarrow",!0);D(_,Z,K,"","\\nRightarrow",!0);D(_,Z,K,"","\\nleftrightarrow",!0);D(_,Z,K,"","\\nLeftrightarrow",!0);D(_,Z,K,"","\\vartriangle");D(_,Z,ie,"","\\hslash");D(_,Z,ie,"","\\triangledown");D(_,Z,ie,"","\\lozenge");D(_,Z,ie,"","\\circledS");D(_,Z,ie,"","\\circledR");D(ye,Z,ie,"","\\circledR");D(_,Z,ie,"","\\measuredangle",!0);D(_,Z,ie,"","\\nexists");D(_,Z,ie,"","\\mho");D(_,Z,ie,"","\\Finv",!0);D(_,Z,ie,"","\\Game",!0);D(_,Z,ie,"","\\backprime");D(_,Z,ie,"","\\blacktriangle");D(_,Z,ie,"","\\blacktriangledown");D(_,Z,ie,"","\\blacksquare");D(_,Z,ie,"","\\blacklozenge");D(_,Z,ie,"","\\bigstar");D(_,Z,ie,"","\\sphericalangle",!0);D(_,Z,ie,"","\\complement",!0);D(_,Z,ie,"","\\eth",!0);D(ye,F,ie,"","");D(_,Z,ie,"","\\diagup");D(_,Z,ie,"","\\diagdown");D(_,Z,ie,"","\\square");D(_,Z,ie,"","\\Box");D(_,Z,ie,"","\\Diamond");D(_,Z,ie,"","\\yen",!0);D(ye,Z,ie,"","\\yen",!0);D(_,Z,ie,"","\\checkmark",!0);D(ye,Z,ie,"","\\checkmark");D(_,Z,ie,"","\\beth",!0);D(_,Z,ie,"","\\daleth",!0);D(_,Z,ie,"","\\gimel",!0);D(_,Z,ie,"","\\digamma",!0);D(_,Z,ie,"","\\varkappa");D(_,Z,Yi,"","\\@ulcorner",!0);D(_,Z,di,"","\\@urcorner",!0);D(_,Z,Yi,"","\\@llcorner",!0);D(_,Z,di,"","\\@lrcorner",!0);D(_,Z,K,"","\\leqq",!0);D(_,Z,K,"","\\leqslant",!0);D(_,Z,K,"","\\eqslantless",!0);D(_,Z,K,"","\\lesssim",!0);D(_,Z,K,"","\\lessapprox",!0);D(_,Z,K,"","\\approxeq",!0);D(_,Z,Ie,"","\\lessdot");D(_,Z,K,"","\\lll",!0);D(_,Z,K,"","\\lessgtr",!0);D(_,Z,K,"","\\lesseqgtr",!0);D(_,Z,K,"","\\lesseqqgtr",!0);D(_,Z,K,"","\\doteqdot");D(_,Z,K,"","\\risingdotseq",!0);D(_,Z,K,"","\\fallingdotseq",!0);D(_,Z,K,"","\\backsim",!0);D(_,Z,K,"","\\backsimeq",!0);D(_,Z,K,"","\\subseteqq",!0);D(_,Z,K,"","\\Subset",!0);D(_,Z,K,"","\\sqsubset",!0);D(_,Z,K,"","\\preccurlyeq",!0);D(_,Z,K,"","\\curlyeqprec",!0);D(_,Z,K,"","\\precsim",!0);D(_,Z,K,"","\\precapprox",!0);D(_,Z,K,"","\\vartriangleleft");D(_,Z,K,"","\\trianglelefteq");D(_,Z,K,"","\\vDash",!0);D(_,Z,K,"","\\Vvdash",!0);D(_,Z,K,"","\\smallsmile");D(_,Z,K,"","\\smallfrown");D(_,Z,K,"","\\bumpeq",!0);D(_,Z,K,"","\\Bumpeq",!0);D(_,Z,K,"","\\geqq",!0);D(_,Z,K,"","\\geqslant",!0);D(_,Z,K,"","\\eqslantgtr",!0);D(_,Z,K,"","\\gtrsim",!0);D(_,Z,K,"","\\gtrapprox",!0);D(_,Z,Ie,"","\\gtrdot");D(_,Z,K,"","\\ggg",!0);D(_,Z,K,"","\\gtrless",!0);D(_,Z,K,"","\\gtreqless",!0);D(_,Z,K,"","\\gtreqqless",!0);D(_,Z,K,"","\\eqcirc",!0);D(_,Z,K,"","\\circeq",!0);D(_,Z,K,"","\\triangleq",!0);D(_,Z,K,"","\\thicksim");D(_,Z,K,"","\\thickapprox");D(_,Z,K,"","\\supseteqq",!0);D(_,Z,K,"","\\Supset",!0);D(_,Z,K,"","\\sqsupset",!0);D(_,Z,K,"","\\succcurlyeq",!0);D(_,Z,K,"","\\curlyeqsucc",!0);D(_,Z,K,"","\\succsim",!0);D(_,Z,K,"","\\succapprox",!0);D(_,Z,K,"","\\vartriangleright");D(_,Z,K,"","\\trianglerighteq");D(_,Z,K,"","\\Vdash",!0);D(_,Z,K,"","\\shortmid");D(_,Z,K,"","\\shortparallel");D(_,Z,K,"","\\between",!0);D(_,Z,K,"","\\pitchfork",!0);D(_,Z,K,"","\\varpropto");D(_,Z,K,"","\\blacktriangleleft");D(_,Z,K,"","\\therefore",!0);D(_,Z,K,"","\\backepsilon");D(_,Z,K,"","\\blacktriangleright");D(_,Z,K,"","\\because",!0);D(_,Z,K,"","\\llless");D(_,Z,K,"","\\gggtr");D(_,Z,Ie,"","\\lhd");D(_,Z,Ie,"","\\rhd");D(_,Z,K,"","\\eqsim",!0);D(_,F,K,"","\\Join");D(_,Z,K,"","\\Doteq",!0);D(_,Z,Ie,"","\\dotplus",!0);D(_,Z,Ie,"","\\smallsetminus");D(_,Z,Ie,"","\\Cap",!0);D(_,Z,Ie,"","\\Cup",!0);D(_,Z,Ie,"","\\doublebarwedge",!0);D(_,Z,Ie,"","\\boxminus",!0);D(_,Z,Ie,"","\\boxplus",!0);D(_,Z,Ie,"","\\divideontimes",!0);D(_,Z,Ie,"","\\ltimes",!0);D(_,Z,Ie,"","\\rtimes",!0);D(_,Z,Ie,"","\\leftthreetimes",!0);D(_,Z,Ie,"","\\rightthreetimes",!0);D(_,Z,Ie,"","\\curlywedge",!0);D(_,Z,Ie,"","\\curlyvee",!0);D(_,Z,Ie,"","\\circleddash",!0);D(_,Z,Ie,"","\\circledast",!0);D(_,Z,Ie,"","\\centerdot");D(_,Z,Ie,"","\\intercal",!0);D(_,Z,Ie,"","\\doublecap");D(_,Z,Ie,"","\\doublecup");D(_,Z,Ie,"","\\boxtimes",!0);D(_,Z,K,"","\\dashrightarrow",!0);D(_,Z,K,"","\\dashleftarrow",!0);D(_,Z,K,"","\\leftleftarrows",!0);D(_,Z,K,"","\\leftrightarrows",!0);D(_,Z,K,"","\\Lleftarrow",!0);D(_,Z,K,"","\\twoheadleftarrow",!0);D(_,Z,K,"","\\leftarrowtail",!0);D(_,Z,K,"","\\looparrowleft",!0);D(_,Z,K,"","\\leftrightharpoons",!0);D(_,Z,K,"","\\curvearrowleft",!0);D(_,Z,K,"","\\circlearrowleft",!0);D(_,Z,K,"","\\Lsh",!0);D(_,Z,K,"","\\upuparrows",!0);D(_,Z,K,"","\\upharpoonleft",!0);D(_,Z,K,"","\\downharpoonleft",!0);D(_,F,K,"","\\origof",!0);D(_,F,K,"","\\imageof",!0);D(_,Z,K,"","\\multimap",!0);D(_,Z,K,"","\\leftrightsquigarrow",!0);D(_,Z,K,"","\\rightrightarrows",!0);D(_,Z,K,"","\\rightleftarrows",!0);D(_,Z,K,"","\\twoheadrightarrow",!0);D(_,Z,K,"","\\rightarrowtail",!0);D(_,Z,K,"","\\looparrowright",!0);D(_,Z,K,"","\\curvearrowright",!0);D(_,Z,K,"","\\circlearrowright",!0);D(_,Z,K,"","\\Rsh",!0);D(_,Z,K,"","\\downdownarrows",!0);D(_,Z,K,"","\\upharpoonright",!0);D(_,Z,K,"","\\downharpoonright",!0);D(_,Z,K,"","\\rightsquigarrow",!0);D(_,Z,K,"","\\leadsto");D(_,Z,K,"","\\Rrightarrow",!0);D(_,Z,K,"","\\restriction");D(_,F,ie,"","`");D(_,F,ie,"$","\\$");D(ye,F,ie,"$","\\$");D(ye,F,ie,"$","\\textdollar");D(_,F,ie,"%","\\%");D(ye,F,ie,"%","\\%");D(_,F,ie,"_","\\_");D(ye,F,ie,"_","\\_");D(ye,F,ie,"_","\\textunderscore");D(_,F,ie,"","\\angle",!0);D(_,F,ie,"","\\infty",!0);D(_,F,ie,"","\\prime");D(_,F,ie,"","\\triangle");D(_,F,ie,"","\\Gamma",!0);D(_,F,ie,"","\\Delta",!0);D(_,F,ie,"","\\Theta",!0);D(_,F,ie,"","\\Lambda",!0);D(_,F,ie,"","\\Xi",!0);D(_,F,ie,"","\\Pi",!0);D(_,F,ie,"","\\Sigma",!0);D(_,F,ie,"","\\Upsilon",!0);D(_,F,ie,"","\\Phi",!0);D(_,F,ie,"","\\Psi",!0);D(_,F,ie,"","\\Omega",!0);D(_,F,ie,"A","");D(_,F,ie,"B","");D(_,F,ie,"E","");D(_,F,ie,"Z","");D(_,F,ie,"H","");D(_,F,ie,"I","");D(_,F,ie,"K","");D(_,F,ie,"M","");D(_,F,ie,"N","");D(_,F,ie,"O","");D(_,F,ie,"P","");D(_,F,ie,"T","");D(_,F,ie,"X","");D(_,F,ie,"","\\neg",!0);D(_,F,ie,"","\\lnot");D(_,F,ie,"","\\top");D(_,F,ie,"","\\bot");D(_,F,ie,"","\\emptyset");D(_,Z,ie,"","\\varnothing");D(_,F,We,"","\\alpha",!0);D(_,F,We,"","\\beta",!0);D(_,F,We,"","\\gamma",!0);D(_,F,We,"","\\delta",!0);D(_,F,We,"","\\epsilon",!0);D(_,F,We,"","\\zeta",!0);D(_,F,We,"","\\eta",!0);D(_,F,We,"","\\theta",!0);D(_,F,We,"","\\iota",!0);D(_,F,We,"","\\kappa",!0);D(_,F,We,"","\\lambda",!0);D(_,F,We,"","\\mu",!0);D(_,F,We,"","\\nu",!0);D(_,F,We,"","\\xi",!0);D(_,F,We,"","\\omicron",!0);D(_,F,We,"","\\pi",!0);D(_,F,We,"","\\rho",!0);D(_,F,We,"","\\sigma",!0);D(_,F,We,"","\\tau",!0);D(_,F,We,"","\\upsilon",!0);D(_,F,We,"","\\phi",!0);D(_,F,We,"","\\chi",!0);D(_,F,We,"","\\psi",!0);D(_,F,We,"","\\omega",!0);D(_,F,We,"","\\varepsilon",!0);D(_,F,We,"","\\vartheta",!0);D(_,F,We,"","\\varpi",!0);D(_,F,We,"","\\varrho",!0);D(_,F,We,"","\\varsigma",!0);D(_,F,We,"","\\varphi",!0);D(_,F,Ie,"","*",!0);D(_,F,Ie,"+","+");D(_,F,Ie,"","-",!0);D(_,F,Ie,"","\\cdot",!0);D(_,F,Ie,"","\\circ",!0);D(_,F,Ie,"","\\div",!0);D(_,F,Ie,"","\\pm",!0);D(_,F,Ie,"","\\times",!0);D(_,F,Ie,"","\\cap",!0);D(_,F,Ie,"","\\cup",!0);D(_,F,Ie,"","\\setminus",!0);D(_,F,Ie,"","\\land");D(_,F,Ie,"","\\lor");D(_,F,Ie,"","\\wedge",!0);D(_,F,Ie,"","\\vee",!0);D(_,F,ie,"","\\surd");D(_,F,Yi,"","\\langle",!0);D(_,F,Yi,"","\\lvert");D(_,F,Yi,"","\\lVert");D(_,F,di,"?","?");D(_,F,di,"!","!");D(_,F,di,"","\\rangle",!0);D(_,F,di,"","\\rvert");D(_,F,di,"","\\rVert");D(_,F,K,"=","=");D(_,F,K,":",":");D(_,F,K,"","\\approx",!0);D(_,F,K,"","\\cong",!0);D(_,F,K,"","\\ge");D(_,F,K,"","\\geq",!0);D(_,F,K,"","\\gets");D(_,F,K,">","\\gt",!0);D(_,F,K,"","\\in",!0);D(_,F,K,"","\\@not");D(_,F,K,"","\\subset",!0);D(_,F,K,"","\\supset",!0);D(_,F,K,"","\\subseteq",!0);D(_,F,K,"","\\supseteq",!0);D(_,Z,K,"","\\nsubseteq",!0);D(_,Z,K,"","\\nsupseteq",!0);D(_,F,K,"","\\models");D(_,F,K,"","\\leftarrow",!0);D(_,F,K,"","\\le");D(_,F,K,"","\\leq",!0);D(_,F,K,"<","\\lt",!0);D(_,F,K,"","\\rightarrow",!0);D(_,F,K,"","\\to");D(_,Z,K,"","\\ngeq",!0);D(_,Z,K,"","\\nleq",!0);D(_,F,Jr,"","\\ ");D(_,F,Jr,"","\\space");D(_,F,Jr,"","\\nobreakspace");D(ye,F,Jr,"","\\ ");D(ye,F,Jr,""," ");D(ye,F,Jr,"","\\space");D(ye,F,Jr,"","\\nobreakspace");D(_,F,Jr,null,"\\nobreak");D(_,F,Jr,null,"\\allowbreak");D(_,F,Df,",",",");D(_,F,Df,";",";");D(_,Z,Ie,"","\\barwedge",!0);D(_,Z,Ie,"","\\veebar",!0);D(_,F,Ie,"","\\odot",!0);D(_,F,Ie,"","\\oplus",!0);D(_,F,Ie,"","\\otimes",!0);D(_,F,ie,"","\\partial",!0);D(_,F,Ie,"","\\oslash",!0);D(_,Z,Ie,"","\\circledcirc",!0);D(_,Z,Ie,"","\\boxdot",!0);D(_,F,Ie,"","\\bigtriangleup");D(_,F,Ie,"","\\bigtriangledown");D(_,F,Ie,"","\\dagger");D(_,F,Ie,"","\\diamond");D(_,F,Ie,"","\\star");D(_,F,Ie,"","\\triangleleft");D(_,F,Ie,"","\\triangleright");D(_,F,Yi,"{","\\{");D(ye,F,ie,"{","\\{");D(ye,F,ie,"{","\\textbraceleft");D(_,F,di,"}","\\}");D(ye,F,ie,"}","\\}");D(ye,F,ie,"}","\\textbraceright");D(_,F,Yi,"{","\\lbrace");D(_,F,di,"}","\\rbrace");D(_,F,Yi,"[","\\lbrack",!0);D(ye,F,ie,"[","\\lbrack",!0);D(_,F,di,"]","\\rbrack",!0);D(ye,F,ie,"]","\\rbrack",!0);D(_,F,Yi,"(","\\lparen",!0);D(_,F,di,")","\\rparen",!0);D(ye,F,ie,"<","\\textless",!0);D(ye,F,ie,">","\\textgreater",!0);D(_,F,Yi,"","\\lfloor",!0);D(_,F,di,"","\\rfloor",!0);D(_,F,Yi,"","\\lceil",!0);D(_,F,di,"","\\rceil",!0);D(_,F,ie,"\\","\\backslash");D(_,F,ie,"","|");D(_,F,ie,"","\\vert");D(ye,F,ie,"|","\\textbar",!0);D(_,F,ie,"","\\|");D(_,F,ie,"","\\Vert");D(ye,F,ie,"","\\textbardbl");D(ye,F,ie,"~","\\textasciitilde");D(ye,F,ie,"\\","\\textbackslash");D(ye,F,ie,"^","\\textasciicircum");D(_,F,K,"","\\uparrow",!0);D(_,F,K,"","\\Uparrow",!0);D(_,F,K,"","\\downarrow",!0);D(_,F,K,"","\\Downarrow",!0);D(_,F,K,"","\\updownarrow",!0);D(_,F,K,"","\\Updownarrow",!0);D(_,F,An,"","\\coprod");D(_,F,An,"","\\bigvee");D(_,F,An,"","\\bigwedge");D(_,F,An,"","\\biguplus");D(_,F,An,"","\\bigcap");D(_,F,An,"","\\bigcup");D(_,F,An,"","\\int");D(_,F,An,"","\\intop");D(_,F,An,"","\\iint");D(_,F,An,"","\\iiint");D(_,F,An,"","\\prod");D(_,F,An,"","\\sum");D(_,F,An,"","\\bigotimes");D(_,F,An,"","\\bigoplus");D(_,F,An,"","\\bigodot");D(_,F,An,"","\\oint");D(_,F,An,"","\\oiint");D(_,F,An,"","\\oiiint");D(_,F,An,"","\\bigsqcup");D(_,F,An,"","\\smallint");D(ye,F,$c,"","\\textellipsis");D(_,F,$c,"","\\mathellipsis");D(ye,F,$c,"","\\ldots",!0);D(_,F,$c,"","\\ldots",!0);D(_,F,$c,"","\\@cdots",!0);D(_,F,$c,"","\\ddots",!0);D(_,F,ie,"","\\varvdots");D(ye,F,ie,"","\\varvdots");D(_,F,Xt,"","\\acute");D(_,F,Xt,"","\\grave");D(_,F,Xt,"","\\ddot");D(_,F,Xt,"~","\\tilde");D(_,F,Xt,"","\\bar");D(_,F,Xt,"","\\breve");D(_,F,Xt,"","\\check");D(_,F,Xt,"^","\\hat");D(_,F,Xt,"","\\vec");D(_,F,Xt,"","\\dot");D(_,F,Xt,"","\\mathring");D(_,F,We,"","\\@imath");D(_,F,We,"","\\@jmath");D(_,F,ie,"","");D(_,F,ie,"","");D(ye,F,ie,"","\\i",!0);D(ye,F,ie,"","\\j",!0);D(ye,F,ie,"","\\ss",!0);D(ye,F,ie,"","\\ae",!0);D(ye,F,ie,"","\\oe",!0);D(ye,F,ie,"","\\o",!0);D(ye,F,ie,"","\\AE",!0);D(ye,F,ie,"","\\OE",!0);D(ye,F,ie,"","\\O",!0);D(ye,F,Xt,"","\\'");D(ye,F,Xt,"","\\`");D(ye,F,Xt,"","\\^");D(ye,F,Xt,"","\\~");D(ye,F,Xt,"","\\=");D(ye,F,Xt,"","\\u");D(ye,F,Xt,"","\\.");D(ye,F,Xt,"","\\c");D(ye,F,Xt,"","\\r");D(ye,F,Xt,"","\\v");D(ye,F,Xt,"",'\\"');D(ye,F,Xt,"","\\H");D(ye,F,Xt,"","\\textcircled");var sA={"--":!0,"---":!0,"``":!0,"''":!0};D(ye,F,ie,"","--",!0);D(ye,F,ie,"","\\textendash");D(ye,F,ie,"","---",!0);D(ye,F,ie,"","\\textemdash");D(ye,F,ie,"","`",!0);D(ye,F,ie,"","\\textquoteleft");D(ye,F,ie,"","'",!0);D(ye,F,ie,"","\\textquoteright");D(ye,F,ie,"","``",!0);D(ye,F,ie,"","\\textquotedblleft");D(ye,F,ie,"","''",!0);D(ye,F,ie,"","\\textquotedblright");D(_,F,ie,"","\\degree",!0);D(ye,F,ie,"","\\degree");D(ye,F,ie,"","\\textdegree",!0);D(_,F,ie,"","\\pounds");D(_,F,ie,"","\\mathsterling",!0);D(ye,F,ie,"","\\pounds");D(ye,F,ie,"","\\textsterling",!0);D(_,Z,ie,"","\\maltese");D(ye,Z,ie,"","\\maltese");var s7='0123456789/@."';for(var M1=0;M1<s7.length;M1++){var r7=s7.charAt(M1);D(_,F,ie,r7,r7)}var a7='0123456789!@*()-=+";:?/.,';for(var z1=0;z1<a7.length;z1++){var l7=a7.charAt(z1);D(ye,F,ie,l7,l7)}var Rm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var D1=0;D1<Rm.length;D1++){var Ju=Rm.charAt(D1);D(_,F,We,Ju,Ju),D(ye,F,ie,Ju,Ju)}D(_,Z,ie,"C","");D(ye,Z,ie,"C","");D(_,Z,ie,"H","");D(ye,Z,ie,"H","");D(_,Z,ie,"N","");D(ye,Z,ie,"N","");D(_,Z,ie,"P","");D(ye,Z,ie,"P","");D(_,Z,ie,"Q","");D(ye,Z,ie,"Q","");D(_,Z,ie,"R","");D(ye,Z,ie,"R","");D(_,Z,ie,"Z","");D(ye,Z,ie,"Z","");D(_,F,We,"h","");D(ye,F,We,"h","");var Qe="";for(var ei=0;ei<Rm.length;ei++){var an=Rm.charAt(ei);Qe=String.fromCharCode(55349,56320+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56372+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56424+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56580+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56684+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56736+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56788+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56840+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56944+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),ei<26&&(Qe=String.fromCharCode(55349,56632+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56476+ei),D(_,F,We,an,Qe),D(ye,F,ie,an,Qe))}Qe="";D(_,F,We,"k",Qe);D(ye,F,ie,"k",Qe);for(var Sl=0;Sl<10;Sl++){var ma=Sl.toString();Qe=String.fromCharCode(55349,57294+Sl),D(_,F,We,ma,Qe),D(ye,F,ie,ma,Qe),Qe=String.fromCharCode(55349,57314+Sl),D(_,F,We,ma,Qe),D(ye,F,ie,ma,Qe),Qe=String.fromCharCode(55349,57324+Sl),D(_,F,We,ma,Qe),D(ye,F,ie,ma,Qe),Qe=String.fromCharCode(55349,57334+Sl),D(_,F,We,ma,Qe),D(ye,F,ie,ma,Qe)}var Vg="";for(var P1=0;P1<Vg.length;P1++){var ed=Vg.charAt(P1);D(_,F,We,ed,ed),D(ye,F,ie,ed,ed)}var td=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],o7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],VW=function(e,n){var s=e.charCodeAt(0),r=e.charCodeAt(1),a=(s-55296)*1024+(r-56320)+65536,l=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[td[o][2],td[o][l]]}else if(120782<=a&&a<=120831){var c=Math.floor((a-120782)/10);return[o7[c][2],o7[c][l]]}else{if(a===120485||a===120486)return[td[0][2],td[0][l]];if(120486<a&&a<120782)return["",""];throw new we("Unsupported character: "+e)}},Pf=function(e,n,s){return _t[s][e]&&_t[s][e].replace&&(e=_t[s][e].replace),{value:e,metrics:py(e,n,s)}},Cs=function(e,n,s,r,a){var l=Pf(e,n,s),o=l.metrics;e=l.value;var c;if(o){var h=o.italic;(s==="text"||r&&r.font==="mathit")&&(h=0),c=new gs(e,o.height,o.depth,h,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+s+"'")),c=new gs(e,0,0,0,0,0,a);if(r){c.maxFontSize=r.sizeMultiplier,r.style.isTight()&&c.classes.push("mtight");var u=r.getColor();u&&(c.style.color=u)}return c},GW=function(e,n,s,r){return r===void 0&&(r=[]),s.font==="boldsymbol"&&Pf(e,"Main-Bold",n).metrics?Cs(e,"Main-Bold",n,s,r.concat(["mathbf"])):e==="\\"||_t[n][e].font==="main"?Cs(e,"Main-Regular",n,s,r):Cs(e,"AMS-Regular",n,s,r.concat(["amsrm"]))},WW=function(e,n,s,r,a){return a!=="textord"&&Pf(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},YW=function(e,n,s){var r=e.mode,a=e.text,l=["mord"],o=r==="math"||r==="text"&&n.font,c=o?n.font:n.fontFamily,h="",u="";if(a.charCodeAt(0)===55349&&([h,u]=VW(a,r)),h.length>0)return Cs(a,h,r,n,l.concat(u));if(c){var m,p;if(c==="boldsymbol"){var b=WW(a,r,n,l,s);m=b.fontName,p=[b.fontClass]}else o?(m=lA[c].fontName,p=[c]):(m=nd(c,n.fontWeight,n.fontShape),p=[c,n.fontWeight,n.fontShape]);if(Pf(a,m,r).metrics)return Cs(a,m,r,n,l.concat(p));if(sA.hasOwnProperty(a)&&m.slice(0,10)==="Typewriter"){for(var E=[],y=0;y<a.length;y++)E.push(Cs(a[y],m,r,n,l.concat(p)));return aA(E)}}if(s==="mathord")return Cs(a,"Math-Italic",r,n,l.concat(["mathnormal"]));if(s==="textord"){var T=_t[r][a]&&_t[r][a].font;if(T==="ams"){var S=nd("amsrm",n.fontWeight,n.fontShape);return Cs(a,S,r,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(T==="main"||!T){var N=nd("textrm",n.fontWeight,n.fontShape);return Cs(a,N,r,n,l.concat(n.fontWeight,n.fontShape))}else{var v=nd(T,n.fontWeight,n.fontShape);return Cs(a,v,r,n,l.concat(v,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+s+" in makeOrd")},XW=(t,e)=>{if(tl(t.classes)!==tl(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var s in t.style)if(t.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;return!0},ZW=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],s=t[e+1];n instanceof gs&&s instanceof gs&&XW(n,s)&&(n.text+=s.text,n.height=Math.max(n.height,s.height),n.depth=Math.max(n.depth,s.depth),n.italic=s.italic,t.splice(e+1,1),e--)}return t},gy=function(e){for(var n=0,s=0,r=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>n&&(n=l.height),l.depth>s&&(s=l.depth),l.maxFontSize>r&&(r=l.maxFontSize)}e.height=n,e.depth=s,e.maxFontSize=r},vi=function(e,n,s,r){var a=new Kh(e,n,s,r);return gy(a),a},rA=(t,e,n,s)=>new Kh(t,e,n,s),QW=function(e,n,s){var r=vi([e],[],n);return r.height=Math.max(s||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),r.style.borderBottomWidth=Ee(r.height),r.maxFontSize=1,r},KW=function(e,n,s,r){var a=new xy(e,n,s,r);return gy(a),a},aA=function(e){var n=new Qh(e);return gy(n),n},JW=function(e,n){return e instanceof Qh?vi([],[e],n):e},eY=function(e){if(e.positionType==="individualShift"){for(var n=e.children,s=[n[0]],r=-n[0].shift-n[0].elem.depth,a=r,l=1;l<n.length;l++){var o=-n[l].shift-a-n[l].elem.depth,c=o-(n[l-1].elem.height+n[l-1].elem.depth);a=a+o,s.push({type:"kern",size:c}),s.push(n[l])}return{children:s,depth:r}}var h;if(e.positionType==="top"){for(var u=e.positionData,m=0;m<e.children.length;m++){var p=e.children[m];u-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}h=u}else if(e.positionType==="bottom")h=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},tY=function(e,n){for(var{children:s,depth:r}=eY(e),a=0,l=0;l<s.length;l++){var o=s[l];if(o.type==="elem"){var c=o.elem;a=Math.max(a,c.maxFontSize,c.height)}}a+=2;var h=vi(["pstrut"],[]);h.style.height=Ee(a);for(var u=[],m=r,p=r,b=r,E=0;E<s.length;E++){var y=s[E];if(y.type==="kern")b+=y.size;else{var T=y.elem,S=y.wrapperClasses||[],N=y.wrapperStyle||{},v=vi(S,[h,T],void 0,N);v.style.top=Ee(-a-b-T.depth),y.marginLeft&&(v.style.marginLeft=y.marginLeft),y.marginRight&&(v.style.marginRight=y.marginRight),u.push(v),b+=T.height+T.depth}m=Math.min(m,b),p=Math.max(p,b)}var f=vi(["vlist"],u);f.style.height=Ee(p);var x;if(m<0){var C=vi([],[]),j=vi(["vlist"],[C]);j.style.height=Ee(-m);var g=vi(["vlist-s"],[new gs("")]);x=[vi(["vlist-r"],[f,g]),vi(["vlist-r"],[j])]}else x=[vi(["vlist-r"],[f])];var A=vi(["vlist-t"],x);return x.length===2&&A.classes.push("vlist-t2"),A.height=p,A.depth=-m,A},nY=(t,e)=>{var n=vi(["mspace"],[],e),s=tn(t,e);return n.style.marginRight=Ee(s),n},nd=function(e,n,s){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return n==="textbf"&&s==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",r+"-"+a},lA={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},oA={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},iY=function(e,n){var[s,r,a]=oA[e],l=new nl(s),o=new Wr([l],{width:Ee(r),height:Ee(a),style:"width:"+Ee(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),c=rA(["overlay"],[o],n);return c.height=a,c.style.height=Ee(a),c.style.width=Ee(r),c},ce={fontMap:lA,makeSymbol:Cs,mathsym:GW,makeSpan:vi,makeSvgSpan:rA,makeLineSpan:QW,makeAnchor:KW,makeFragment:aA,wrapFragment:JW,makeVList:tY,makeOrd:YW,makeGlue:nY,staticSvg:iY,svgData:oA,tryCombineChars:ZW},Jt={number:3,unit:"mu"},Nl={number:4,unit:"mu"},jr={number:5,unit:"mu"},sY={mord:{mop:Jt,mbin:Nl,mrel:jr,minner:Jt},mop:{mord:Jt,mop:Jt,mrel:jr,minner:Jt},mbin:{mord:Nl,mop:Nl,mopen:Nl,minner:Nl},mrel:{mord:jr,mop:jr,mopen:jr,minner:jr},mopen:{},mclose:{mop:Jt,mbin:Nl,mrel:jr,minner:Jt},mpunct:{mord:Jt,mop:Jt,mrel:jr,mopen:Jt,mclose:Jt,mpunct:Jt,minner:Jt},minner:{mord:Jt,mop:Jt,mbin:Nl,mrel:jr,mopen:Jt,mpunct:Jt,minner:Jt}},rY={mord:{mop:Jt},mop:{mord:Jt,mop:Jt},mbin:{},mrel:{},mopen:{},mclose:{mop:Jt},mpunct:{},minner:{mop:Jt}},cA={},_m={},qm={};function De(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs,argTypes:s.argTypes,allowedInArgument:!!s.allowedInArgument,allowedInText:!!s.allowedInText,allowedInMath:s.allowedInMath===void 0?!0:s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,primitive:!!s.primitive,handler:r},c=0;c<n.length;++c)cA[n[c]]=o;e&&(a&&(_m[e]=a),l&&(qm[e]=l))}function co(t){var{type:e,htmlBuilder:n,mathmlBuilder:s}=t;De({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:s})}var $m=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},gn=function(e){return e.type==="ordgroup"?e.body:[e]},Yr=ce.makeSpan,aY=["leftmost","mbin","mopen","mrel","mop","mpunct"],lY=["rightmost","mrel","mclose","mpunct"],oY={display:Xe.DISPLAY,text:Xe.TEXT,script:Xe.SCRIPT,scriptscript:Xe.SCRIPTSCRIPT},cY={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Rn=function(e,n,s,r){r===void 0&&(r=[null,null]);for(var a=[],l=0;l<e.length;l++){var o=ft(e[l],n);if(o instanceof Qh){var c=o.children;a.push(...c)}else a.push(o)}if(ce.tryCombineChars(a),!s)return a;var h=n;if(e.length===1){var u=e[0];u.type==="sizing"?h=n.havingSize(u.size):u.type==="styling"&&(h=n.havingStyle(oY[u.style]))}var m=Yr([r[0]||"leftmost"],[],n),p=Yr([r[1]||"rightmost"],[],n),b=s==="root";return c7(a,(E,y)=>{var T=y.classes[0],S=E.classes[0];T==="mbin"&&lY.includes(S)?y.classes[0]="mord":S==="mbin"&&aY.includes(T)&&(E.classes[0]="mord")},{node:m},p,b),c7(a,(E,y)=>{var T=Gg(y),S=Gg(E),N=T&&S?E.hasClass("mtight")?rY[T][S]:sY[T][S]:null;if(N)return ce.makeGlue(N,h)},{node:m},p,b),a},c7=function t(e,n,s,r,a){r&&e.push(r);for(var l=0;l<e.length;l++){var o=e[l],c=hA(o);if(c){t(c.children,n,s,null,a);continue}var h=!o.hasClass("mspace");if(h){var u=n(o,s.node);u&&(s.insertAfter?s.insertAfter(u):(e.unshift(u),l++))}h?s.node=o:a&&o.hasClass("newline")&&(s.node=Yr(["leftmost"])),s.insertAfter=(m=>p=>{e.splice(m+1,0,p),l++})(l)}r&&e.pop()},hA=function(e){return e instanceof Qh||e instanceof xy||e instanceof Kh&&e.hasClass("enclosing")?e:null},hY=function t(e,n){var s=hA(e);if(s){var r=s.children;if(r.length){if(n==="right")return t(r[r.length-1],"right");if(n==="left")return t(r[0],"left")}}return e},Gg=function(e,n){return e?(n&&(e=hY(e,n)),cY[e.classes[0]]||null):null},Ah=function(e,n){var s=["nulldelimiter"].concat(e.baseSizingClasses());return Yr(n.concat(s))},ft=function(e,n,s){if(!e)return Yr();if(_m[e.type]){var r=_m[e.type](e,n);if(s&&n.size!==s.size){r=Yr(n.sizingClasses(s),[r],n);var a=n.sizeMultiplier/s.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new we("Got group of unknown type: '"+e.type+"'")};function id(t,e){var n=Yr(["base"],t,e),s=Yr(["strut"]);return s.style.height=Ee(n.height+n.depth),n.depth&&(s.style.verticalAlign=Ee(-n.depth)),n.children.unshift(s),n}function Wg(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var s=Rn(t,e,"root"),r;s.length===2&&s[1].hasClass("tag")&&(r=s.pop());for(var a=[],l=[],o=0;o<s.length;o++)if(l.push(s[o]),s[o].hasClass("mbin")||s[o].hasClass("mrel")||s[o].hasClass("allowbreak")){for(var c=!1;o<s.length-1&&s[o+1].hasClass("mspace")&&!s[o+1].hasClass("newline");)o++,l.push(s[o]),s[o].hasClass("nobreak")&&(c=!0);c||(a.push(id(l,e)),l=[])}else s[o].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(id(l,e)),l=[]),a.push(s[o]));l.length>0&&a.push(id(l,e));var h;n?(h=id(Rn(n,e,!0)),h.classes=["tag"],a.push(h)):r&&a.push(r);var u=Yr(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),h){var m=h.children[0];m.style.height=Ee(u.height+u.depth),u.depth&&(m.style.verticalAlign=Ee(-u.depth))}return u}function uA(t){return new Qh(t)}class $i{constructor(e,n,s){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=s||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=tl(this.classes));for(var s=0;s<this.children.length;s++)if(this.children[s]instanceof Ws&&this.children[s+1]instanceof Ws){for(var r=this.children[s].toText()+this.children[++s].toText();this.children[s+1]instanceof Ws;)r+=this.children[++s].toText();e.appendChild(new Ws(r).toNode())}else e.appendChild(this.children[s].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=gt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+gt.escape(tl(this.classes))+'"'),e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Ws{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return gt.escape(this.toText())}toText(){return this.text}}class uY{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ee(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ee(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ve={MathNode:$i,TextNode:Ws,SpaceNode:uY,newDocumentFragment:uA},ys=function(e,n,s){return _t[n][e]&&_t[n][e].replace&&e.charCodeAt(0)!==55349&&!(sA.hasOwnProperty(e)&&s&&(s.fontFamily&&s.fontFamily.slice(4,6)==="tt"||s.font&&s.font.slice(4,6)==="tt"))&&(e=_t[n][e].replace),new ve.TextNode(e)},yy=function(e){return e.length===1?e[0]:new ve.MathNode("mrow",e)},by=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var s=n.font;if(!s||s==="mathnormal")return null;var r=e.mode;if(s==="mathit")return"italic";if(s==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(s==="mathbf")return"bold";if(s==="mathbb")return"double-struck";if(s==="mathsfit")return"sans-serif-italic";if(s==="mathfrak")return"fraktur";if(s==="mathscr"||s==="mathcal")return"script";if(s==="mathsf")return"sans-serif";if(s==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;_t[r][a]&&_t[r][a].replace&&(a=_t[r][a].replace);var l=ce.fontMap[s].fontName;return py(a,l,r)?ce.fontMap[s].variant:null};function I1(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Ws&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Ws&&n.text===","}else return!1}var Mi=function(e,n,s){if(e.length===1){var r=zt(e[0],n);return s&&r instanceof $i&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],l,o=0;o<e.length;o++){var c=zt(e[o],n);if(c instanceof $i&&l instanceof $i){if(c.type==="mtext"&&l.type==="mtext"&&c.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...c.children);continue}else if(c.type==="mn"&&l.type==="mn"){l.children.push(...c.children);continue}else if(I1(c)&&l.type==="mn"){l.children.push(...c.children);continue}else if(c.type==="mn"&&I1(l))c.children=[...l.children,...c.children],a.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(l.type==="mn"||I1(l))){var h=c.children[0];h instanceof $i&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var u=l.children[0];if(u instanceof Ws&&u.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var m=c.children[0];m instanceof Ws&&m.text.length>0&&(m.text=m.text.slice(0,1)+""+m.text.slice(1),a.pop())}}}a.push(c),l=c}return a},il=function(e,n,s){return yy(Mi(e,n,s))},zt=function(e,n){if(!e)return new ve.MathNode("mrow");if(qm[e.type]){var s=qm[e.type](e,n);return s}else throw new we("Got group of unknown type: '"+e.type+"'")};function h7(t,e,n,s,r){var a=Mi(t,n),l;a.length===1&&a[0]instanceof $i&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new ve.MathNode("mrow",a);var o=new ve.MathNode("annotation",[new ve.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var c=new ve.MathNode("semantics",[l,o]),h=new ve.MathNode("math",[c]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&h.setAttribute("display","block");var u=r?"katex":"katex-mathml";return ce.makeSpan([u],[h])}var dA=function(e){return new Sr({style:e.displayMode?Xe.DISPLAY:Xe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},mA=function(e,n){if(n.displayMode){var s=["katex-display"];n.leqno&&s.push("leqno"),n.fleqn&&s.push("fleqn"),e=ce.makeSpan(s,[e])}return e},dY=function(e,n,s){var r=dA(s),a;if(s.output==="mathml")return h7(e,n,r,s.displayMode,!0);if(s.output==="html"){var l=Wg(e,r);a=ce.makeSpan(["katex"],[l])}else{var o=h7(e,n,r,s.displayMode,!1),c=Wg(e,r);a=ce.makeSpan(["katex"],[o,c])}return mA(a,s)},mY=function(e,n,s){var r=dA(s),a=Wg(e,r),l=ce.makeSpan(["katex"],[a]);return mA(l,s)},fY={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},pY=function(e){var n=new ve.MathNode("mo",[new ve.TextNode(fY[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},xY={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},gY=function(e){return e.type==="ordgroup"?e.body.length:1},yY=function(e,n){function s(){var o=4e5,c=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(c)){var h=e,u=gY(h.base),m,p,b;if(u>5)c==="widehat"||c==="widecheck"?(m=420,o=2364,b=.42,p=c+"4"):(m=312,o=2340,b=.34,p="tilde4");else{var E=[1,1,2,2,3,3][u];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][E],m=[0,239,300,360,420][E],b=[0,.24,.3,.3,.36,.42][E],p=c+E):(o=[0,600,1033,2339,2340][E],m=[0,260,286,306,312][E],b=[0,.26,.286,.3,.306,.34][E],p="tilde"+E)}var y=new nl(p),T=new Wr([y],{width:"100%",height:Ee(b),viewBox:"0 0 "+o+" "+m,preserveAspectRatio:"none"});return{span:ce.makeSvgSpan([],[T],n),minWidth:0,height:b}}else{var S=[],N=xY[c],[v,f,x]=N,C=x/1e3,j=v.length,g,A;if(j===1){var w=N[3];g=["hide-tail"],A=[w]}else if(j===2)g=["halfarrow-left","halfarrow-right"],A=["xMinYMin","xMaxYMin"];else if(j===3)g=["brace-left","brace-center","brace-right"],A=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+j+" children.");for(var k=0;k<j;k++){var M=new nl(v[k]),I=new Wr([M],{width:"400em",height:Ee(C),viewBox:"0 0 "+o+" "+x,preserveAspectRatio:A[k]+" slice"}),O=ce.makeSvgSpan([g[k]],[I],n);if(j===1)return{span:O,minWidth:f,height:C};O.style.height=Ee(C),S.push(O)}return{span:ce.makeSpan(["stretchy"],S,n),minWidth:f,height:C}}}var{span:r,minWidth:a,height:l}=s();return r.height=l,r.style.height=Ee(l),a>0&&(r.style.minWidth=Ee(a)),r},bY=function(e,n,s,r,a){var l,o=e.height+e.depth+s+r;if(/fbox|color|angl/.test(n)){if(l=ce.makeSpan(["stretchy",n],[],a),n==="fbox"){var c=a.color&&a.getColor();c&&(l.style.borderColor=c)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new Hg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new Hg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Wr(h,{width:"100%",height:Ee(o)});l=ce.makeSvgSpan([],[u],a)}return l.height=o,l.style.height=Ee(o),l},Xr={encloseSpan:bY,mathMLnode:pY,svgSpan:yY};function rt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function vy(t){var e=If(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function If(t){return t&&(t.type==="atom"||HW.hasOwnProperty(t.type))?t:null}var jy=(t,e)=>{var n,s,r;t&&t.type==="supsub"?(s=rt(t.base,"accent"),n=s.base,t.base=n,r=FW(ft(t,e)),t.base=s):(s=rt(t,"accent"),n=s.base);var a=ft(n,e.havingCrampedStyle()),l=s.isShifty&&gt.isCharacterBox(n),o=0;if(l){var c=gt.getBaseElem(n),h=ft(c,e.havingCrampedStyle());o=i7(h).skew}var u=s.label==="\\c",m=u?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(s.isStretchy)p=Xr.svgSpan(s,e),p=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Ee(2*o)+")",marginLeft:Ee(2*o)}:void 0}]},e);else{var b,E;s.label==="\\vec"?(b=ce.staticSvg("vec",e),E=ce.svgData.vec[1]):(b=ce.makeOrd({mode:s.mode,text:s.label},e,"textord"),b=i7(b),b.italic=0,E=b.width,u&&(m+=b.depth)),p=ce.makeSpan(["accent-body"],[b]);var y=s.label==="\\textcircled";y&&(p.classes.push("accent-full"),m=a.height);var T=o;y||(T-=E/2),p.style.left=Ee(T),s.label==="\\textcircled"&&(p.style.top=".2em"),p=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-m},{type:"elem",elem:p}]},e)}var S=ce.makeSpan(["mord","accent"],[p],e);return r?(r.children[0]=S,r.height=Math.max(S.height,r.height),r.classes[0]="mord",r):S},fA=(t,e)=>{var n=t.isStretchy?Xr.mathMLnode(t.label):new ve.MathNode("mo",[ys(t.label,t.mode)]),s=new ve.MathNode("mover",[zt(t.base,e),n]);return s.setAttribute("accent","true"),s},vY=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));De({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=$m(e[0]),s=!vY.test(t.funcName),r=!s||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:s,isShifty:r,base:n}},htmlBuilder:jy,mathmlBuilder:fA});De({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],s=t.parser.mode;return s==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),s="text"),{type:"accent",mode:s,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:jy,mathmlBuilder:fA});De({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"accentUnder",mode:n.mode,label:s,base:r}},htmlBuilder:(t,e)=>{var n=ft(t.base,e),s=Xr.svgSpan(t,e),r=t.label==="\\utilde"?.12:0,a=ce.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},e);return ce.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=Xr.mathMLnode(t.label),s=new ve.MathNode("munder",[zt(t.base,e),n]);return s.setAttribute("accentunder","true"),s}});var sd=t=>{var e=new ve.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};De({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s,funcName:r}=t;return{type:"xArrow",mode:s.mode,label:r,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,s=e.havingStyle(n.sup()),r=ce.wrapFragment(ft(t.body,s,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var l;t.below&&(s=e.havingStyle(n.sub()),l=ce.wrapFragment(ft(t.below,s,e),e),l.classes.push(a+"-arrow-pad"));var o=Xr.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*o.height,h=-e.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||t.label==="\\xleftequilibrium")&&(h-=r.depth);var u;if(l){var m=-e.fontMetrics().axisHeight+l.height+.5*o.height+.111;u=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:m}]},e)}else u=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),ce.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=Xr.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var s;if(t.body){var r=sd(zt(t.body,e));if(t.below){var a=sd(zt(t.below,e));s=new ve.MathNode("munderover",[n,a,r])}else s=new ve.MathNode("mover",[n,r])}else if(t.below){var l=sd(zt(t.below,e));s=new ve.MathNode("munder",[n,l])}else s=sd(),s=new ve.MathNode("mover",[n,s]);return s}});var jY=ce.makeSpan;function pA(t,e){var n=Rn(t.body,e,!0);return jY([t.mclass],n,e)}function xA(t,e){var n,s=Mi(t.body,e);return t.mclass==="minner"?n=new ve.MathNode("mpadded",s):t.mclass==="mord"?t.isCharacterBox?(n=s[0],n.type="mi"):n=new ve.MathNode("mi",s):(t.isCharacterBox?(n=s[0],n.type="mo"):n=new ve.MathNode("mo",s),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}De({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+s.slice(5),body:gn(r),isCharacterBox:gt.isCharacterBox(r)}},htmlBuilder:pA,mathmlBuilder:xA});var Rf=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};De({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:Rf(e[0]),body:gn(e[1]),isCharacterBox:gt.isCharacterBox(e[1])}}});De({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:s}=t,r=e[1],a=e[0],l;s!=="\\stackrel"?l=Rf(r):l="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:s!=="\\stackrel",body:gn(r)},c={type:"supsub",mode:a.mode,base:o,sup:s==="\\underset"?null:a,sub:s==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:l,body:[c],isCharacterBox:gt.isCharacterBox(c)}},htmlBuilder:pA,mathmlBuilder:xA});De({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:Rf(e[0]),body:gn(e[0])}},htmlBuilder(t,e){var n=Rn(t.body,e,!0),s=ce.makeSpan([t.mclass],n,e);return s.style.textShadow="0.02em 0.01em 0.04px",s},mathmlBuilder(t,e){var n=Mi(t.body,e),s=new ve.MathNode("mstyle",n);return s.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),s}});var wY={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},u7=()=>({type:"styling",body:[],mode:"math",style:"display"}),d7=t=>t.type==="textord"&&t.text==="@",TY=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function SY(t,e,n){var s=wY[t];switch(s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(s,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:s,mode:"math",family:"rel"},l=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[r,l,o]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function NY(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new we("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var s=[],r=[s],a=0;a<e.length;a++){for(var l=e[a],o=u7(),c=0;c<l.length;c++)if(!d7(l[c]))o.body.push(l[c]);else{s.push(o),c+=1;var h=vy(l[c]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var m=0;m<2;m++){for(var p=!0,b=c+1;b<l.length;b++){if(TY(l[b],h)){p=!1,c=b;break}if(d7(l[b]))throw new we("Missing a "+h+" character to complete a CD arrow.",l[b]);u[m].body.push(l[b])}if(p)throw new we("Missing a "+h+" character to complete a CD arrow.",l[c])}else throw new we('Expected one of "<>AV=|." after @',l[c]);var E=SY(h,u,t),y={type:"styling",body:[E],mode:"math",style:"display"};s.push(y),o=u7()}a%2===0?s.push(o):s.shift(),s=[],r.push(s)}t.gullet.endGroup(),t.gullet.endGroup();var T=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}De({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"cdlabel",mode:n.mode,side:s.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),s=ce.wrapFragment(ft(t.label,n,e),e);return s.classes.push("cd-label-"+t.side),s.style.bottom=Ee(.8-s.depth),s.height=0,s.depth=0,s},mathmlBuilder(t,e){var n=new ve.MathNode("mrow",[zt(t.label,e)]);return n=new ve.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ve.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});De({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ce.wrapFragment(ft(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new ve.MathNode("mrow",[zt(t.fragment,e)])}});De({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,s=rt(e[0],"ordgroup"),r=s.body,a="",l=0;l<r.length;l++){var o=rt(r[l],"textord");a+=o.text}var c=parseInt(a),h;if(isNaN(c))throw new we("\\@char has non-numeric argument "+a);if(c<0||c>=1114111)throw new we("\\@char with invalid code point "+a);return c<=65535?h=String.fromCharCode(c):(c-=65536,h=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var gA=(t,e)=>{var n=Rn(t.body,e.withColor(t.color),!1);return ce.makeFragment(n)},yA=(t,e)=>{var n=Mi(t.body,e.withColor(t.color)),s=new ve.MathNode("mstyle",n);return s.setAttribute("mathcolor",t.color),s};De({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,s=rt(e[0],"color-token").color,r=e[1];return{type:"color",mode:n.mode,color:s,body:gn(r)}},htmlBuilder:gA,mathmlBuilder:yA});De({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:s}=t,r=rt(e[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var a=n.parseExpression(!0,s);return{type:"color",mode:n.mode,color:r,body:a}},htmlBuilder:gA,mathmlBuilder:yA});De({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:s}=t,r=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,a=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:s.mode,newLine:a,size:r&&rt(r,"size").value}},htmlBuilder(t,e){var n=ce.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Ee(tn(t.size,e)))),n},mathmlBuilder(t,e){var n=new ve.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Ee(tn(t.size,e)))),n}});var Yg={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},bA=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new we("Expected a control sequence",t);return e},AY=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},vA=(t,e,n,s)=>{var r=t.gullet.macros.get(n.text);r==null&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,r,s)};De({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var s=e.fetch();if(Yg[s.text])return(n==="\\global"||n==="\\\\globallong")&&(s.text=Yg[s.text]),rt(e.parseFunction(),"internal");throw new we("Invalid token after macro prefix",s)}});De({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=e.gullet.popToken(),r=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new we("Expected a control sequence",s);for(var a=0,l,o=[[]];e.gullet.future().text!=="{";)if(s=e.gullet.popToken(),s.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),o[a].push("{");break}if(s=e.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new we('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==a+1)throw new we('Argument number "'+s.text+'" out of order');a++,o.push([])}else{if(s.text==="EOF")throw new we("Expected a macro definition");o[a].push(s.text)}var{tokens:c}=e.gullet.consumeArg();return l&&c.unshift(l),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(r,{tokens:c,numArgs:a,delimiters:o},n===Yg[n]),{type:"internal",mode:e.mode}}});De({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=bA(e.gullet.popToken());e.gullet.consumeSpaces();var r=AY(e);return vA(e,s,r,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});De({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=bA(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return vA(e,s,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var A0=function(e,n,s){var r=_t.math[e]&&_t.math[e].replace,a=py(r||e,n,s);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},wy=function(e,n,s,r){var a=s.havingBaseStyle(n),l=ce.makeSpan(r.concat(a.sizingClasses(s)),[e],s),o=a.sizeMultiplier/s.sizeMultiplier;return l.height*=o,l.depth*=o,l.maxFontSize=a.sizeMultiplier,l},jA=function(e,n,s){var r=n.havingBaseStyle(s),a=(1-n.sizeMultiplier/r.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ee(a),e.height-=a,e.depth+=a},kY=function(e,n,s,r,a,l){var o=ce.makeSymbol(e,"Main-Regular",a,r),c=wy(o,n,r,l);return s&&jA(c,r,n),c},EY=function(e,n,s,r){return ce.makeSymbol(e,"Size"+n+"-Regular",s,r)},wA=function(e,n,s,r,a,l){var o=EY(e,n,a,r),c=wy(ce.makeSpan(["delimsizing","size"+n],[o],r),Xe.TEXT,r,l);return s&&jA(c,r,Xe.TEXT),c},R1=function(e,n,s){var r;n==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=ce.makeSpan(["delimsizinginner",r],[ce.makeSpan([],[ce.makeSymbol(e,n,s)])]);return{type:"elem",elem:a}},_1=function(e,n,s){var r=Gs["Size4-Regular"][e.charCodeAt(0)]?Gs["Size4-Regular"][e.charCodeAt(0)][4]:Gs["Size1-Regular"][e.charCodeAt(0)][4],a=new nl("inner",PW(e,Math.round(1e3*n))),l=new Wr([a],{width:Ee(r),height:Ee(n),style:"width:"+Ee(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=ce.makeSvgSpan([],[l],s);return o.height=n,o.style.height=Ee(n),o.style.width=Ee(r),{type:"elem",elem:o}},Xg=.008,rd={type:"kern",size:-1*Xg},CY=["|","\\lvert","\\rvert","\\vert"],MY=["\\|","\\lVert","\\rVert","\\Vert"],TA=function(e,n,s,r,a,l){var o,c,h,u,m="",p=0;o=h=u=e,c=null;var b="Size1-Regular";e==="\\uparrow"?h=u="":e==="\\Uparrow"?h=u="":e==="\\downarrow"?o=h="":e==="\\Downarrow"?o=h="":e==="\\updownarrow"?(o="\\uparrow",h="",u="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",h="",u="\\Downarrow"):CY.includes(e)?(h="",m="vert",p=333):MY.includes(e)?(h="",m="doublevert",p=556):e==="["||e==="\\lbrack"?(o="",h="",u="",b="Size4-Regular",m="lbrack",p=667):e==="]"||e==="\\rbrack"?(o="",h="",u="",b="Size4-Regular",m="rbrack",p=667):e==="\\lfloor"||e===""?(h=o="",u="",b="Size4-Regular",m="lfloor",p=667):e==="\\lceil"||e===""?(o="",h=u="",b="Size4-Regular",m="lceil",p=667):e==="\\rfloor"||e===""?(h=o="",u="",b="Size4-Regular",m="rfloor",p=667):e==="\\rceil"||e===""?(o="",h=u="",b="Size4-Regular",m="rceil",p=667):e==="("||e==="\\lparen"?(o="",h="",u="",b="Size4-Regular",m="lparen",p=875):e===")"||e==="\\rparen"?(o="",h="",u="",b="Size4-Regular",m="rparen",p=875):e==="\\{"||e==="\\lbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\lgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\rgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",u="",h="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",u="",h="",b="Size4-Regular");var E=A0(o,b,a),y=E.height+E.depth,T=A0(h,b,a),S=T.height+T.depth,N=A0(u,b,a),v=N.height+N.depth,f=0,x=1;if(c!==null){var C=A0(c,b,a);f=C.height+C.depth,x=2}var j=y+v+f,g=Math.max(0,Math.ceil((n-j)/(x*S))),A=j+g*x*S,w=r.fontMetrics().axisHeight;s&&(w*=r.sizeMultiplier);var k=A/2-w,M=[];if(m.length>0){var I=A-y-v,O=Math.round(A*1e3),$=IW(m,Math.round(I*1e3)),G=new nl(m,$),V=(p/1e3).toFixed(3)+"em",J=(O/1e3).toFixed(3)+"em",ee=new Wr([G],{width:V,height:J,viewBox:"0 0 "+p+" "+O}),re=ce.makeSvgSpan([],[ee],r);re.height=O/1e3,re.style.width=V,re.style.height=J,M.push({type:"elem",elem:re})}else{if(M.push(R1(u,b,a)),M.push(rd),c===null){var se=A-y-v+2*Xg;M.push(_1(h,se,r))}else{var he=(A-y-v-f)/2+2*Xg;M.push(_1(h,he,r)),M.push(rd),M.push(R1(c,b,a)),M.push(rd),M.push(_1(h,he,r))}M.push(rd),M.push(R1(o,b,a))}var ae=r.havingBaseStyle(Xe.TEXT),Ne=ce.makeVList({positionType:"bottom",positionData:k,children:M},ae);return wy(ce.makeSpan(["delimsizing","mult"],[Ne],ae),Xe.TEXT,r,l)},q1=80,$1=.08,B1=function(e,n,s,r,a){var l=DW(e,r,s),o=new nl(e,l),c=new Wr([o],{width:"400em",height:Ee(n),viewBox:"0 0 400000 "+s,preserveAspectRatio:"xMinYMin slice"});return ce.makeSvgSpan(["hide-tail"],[c],a)},zY=function(e,n){var s=n.havingBaseSizing(),r=kA("\\surd",e*s.sizeMultiplier,AA,s),a=s.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,c=0,h=0,u=0,m;return r.type==="small"?(u=1e3+1e3*l+q1,e<1?a=1:e<1.4&&(a=.7),c=(1+l+$1)/a,h=(1+l)/a,o=B1("sqrtMain",c,u,l,n),o.style.minWidth="0.853em",m=.833/a):r.type==="large"?(u=(1e3+q1)*Q0[r.size],h=(Q0[r.size]+l)/a,c=(Q0[r.size]+l+$1)/a,o=B1("sqrtSize"+r.size,c,u,l,n),o.style.minWidth="1.02em",m=1/a):(c=e+l+$1,h=e+l,u=Math.floor(1e3*e+l)+q1,o=B1("sqrtTall",c,u,l,n),o.style.minWidth="0.742em",m=1.056),o.height=h,o.style.height=Ee(c),{span:o,advanceWidth:m,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*a}},SA=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],DY=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],NA=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Q0=[0,1.2,1.8,2.4,3],PY=function(e,n,s,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),SA.includes(e)||NA.includes(e))return wA(e,n,!1,s,r,a);if(DY.includes(e))return TA(e,Q0[n],!1,s,r,a);throw new we("Illegal delimiter: '"+e+"'")},IY=[{type:"small",style:Xe.SCRIPTSCRIPT},{type:"small",style:Xe.SCRIPT},{type:"small",style:Xe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],RY=[{type:"small",style:Xe.SCRIPTSCRIPT},{type:"small",style:Xe.SCRIPT},{type:"small",style:Xe.TEXT},{type:"stack"}],AA=[{type:"small",style:Xe.SCRIPTSCRIPT},{type:"small",style:Xe.SCRIPT},{type:"small",style:Xe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],_Y=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},kA=function(e,n,s,r){for(var a=Math.min(2,3-r.style.size),l=a;l<s.length&&s[l].type!=="stack";l++){var o=A0(e,_Y(s[l]),"math"),c=o.height+o.depth;if(s[l].type==="small"){var h=r.havingBaseStyle(s[l].style);c*=h.sizeMultiplier}if(c>n)return s[l]}return s[s.length-1]},EA=function(e,n,s,r,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;NA.includes(e)?o=IY:SA.includes(e)?o=AA:o=RY;var c=kA(e,n,o,r);return c.type==="small"?kY(e,c.style,s,r,a,l):c.type==="large"?wA(e,c.size,s,r,a,l):TA(e,n,s,r,a,l)},qY=function(e,n,s,r,a,l){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,c=901,h=5/r.fontMetrics().ptPerEm,u=Math.max(n-o,s+o),m=Math.max(u/500*c,2*u-h);return EA(e,m,!0,r,a,l)},Rr={sqrtImage:zY,sizedDelim:PY,sizeToMaxHeight:Q0,customSizedDelim:EA,leftRightDelim:qY},m7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},$Y=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function _f(t,e){var n=If(t);if(n&&$Y.includes(n.text))return n;throw n?new we("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new we("Invalid delimiter type '"+t.type+"'",t)}De({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=_f(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:m7[t.funcName].size,mclass:m7[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ce.makeSpan([t.mclass]):Rr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ys(t.delim,t.mode));var n=new ve.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var s=Ee(Rr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",s),n.setAttribute("maxsize",s),n}});function f7(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}De({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new we("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:_f(e[0],t).text,color:n}}});De({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=_f(e[0],t),s=t.parser;++s.leftrightDepth;var r=s.parseExpression(!1);--s.leftrightDepth,s.expect("\\right",!1);var a=rt(s.parseFunction(),"leftright-right");return{type:"leftright",mode:s.mode,body:r,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{f7(t);for(var n=Rn(t.body,e,!0,["mopen","mclose"]),s=0,r=0,a=!1,l=0;l<n.length;l++)n[l].isMiddle?a=!0:(s=Math.max(n[l].height,s),r=Math.max(n[l].depth,r));s*=e.sizeMultiplier,r*=e.sizeMultiplier;var o;if(t.left==="."?o=Ah(e,["mopen"]):o=Rr.leftRightDelim(t.left,s,r,e,t.mode,["mopen"]),n.unshift(o),a)for(var c=1;c<n.length;c++){var h=n[c],u=h.isMiddle;u&&(n[c]=Rr.leftRightDelim(u.delim,s,r,u.options,t.mode,[]))}var m;if(t.right===".")m=Ah(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;m=Rr.leftRightDelim(t.right,s,r,p,t.mode,["mclose"])}return n.push(m),ce.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{f7(t);var n=Mi(t.body,e);if(t.left!=="."){var s=new ve.MathNode("mo",[ys(t.left,t.mode)]);s.setAttribute("fence","true"),n.unshift(s)}if(t.right!=="."){var r=new ve.MathNode("mo",[ys(t.right,t.mode)]);r.setAttribute("fence","true"),t.rightColor&&r.setAttribute("mathcolor",t.rightColor),n.push(r)}return yy(n)}});De({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=_f(e[0],t);if(!t.parser.leftrightDepth)throw new we("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Ah(e,[]);else{n=Rr.sizedDelim(t.delim,1,e,t.mode,[]);var s={delim:t.delim,options:e};n.isMiddle=s}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?ys("|","text"):ys(t.delim,t.mode),s=new ve.MathNode("mo",[n]);return s.setAttribute("fence","true"),s.setAttribute("lspace","0.05em"),s.setAttribute("rspace","0.05em"),s}});var Ty=(t,e)=>{var n=ce.wrapFragment(ft(t.body,e),e),s=t.label.slice(1),r=e.sizeMultiplier,a,l=0,o=gt.isCharacterBox(t.body);if(s==="sout")a=ce.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,l=-.5*e.fontMetrics().xHeight;else if(s==="phase"){var c=tn({number:.6,unit:"pt"},e),h=tn({number:.35,unit:"ex"},e),u=e.havingBaseSizing();r=r/u.sizeMultiplier;var m=n.height+n.depth+c+h;n.style.paddingLeft=Ee(m/2+c);var p=Math.floor(1e3*m*r),b=MW(p),E=new Wr([new nl("phase",b)],{width:"400em",height:Ee(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=ce.makeSvgSpan(["hide-tail"],[E],e),a.style.height=Ee(m),l=n.depth+c+h}else{/cancel/.test(s)?o||n.classes.push("cancel-pad"):s==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,T=0,S=0;/box/.test(s)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(s==="colorbox"?0:S),T=y):s==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*S,T=Math.max(0,.25-n.depth)):(y=o?.2:0,T=y),a=Xr.encloseSpan(n,s,y,T,e),/fbox|boxed|fcolorbox/.test(s)?(a.style.borderStyle="solid",a.style.borderWidth=Ee(S)):s==="angl"&&S!==.049&&(a.style.borderTopWidth=Ee(S),a.style.borderRightWidth=Ee(S)),l=n.depth+T,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var N;if(t.backgroundColor)N=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var v=/cancel|phase/.test(s)?["svg-align"]:[];N=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:v}]},e)}return/cancel/.test(s)&&(N.height=n.height,N.depth=n.depth),/cancel/.test(s)&&!o?ce.makeSpan(["mord","cancel-lap"],[N],e):ce.makeSpan(["mord"],[N],e)},Sy=(t,e)=>{var n=0,s=new ve.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[zt(t.body,e)]);switch(t.label){case"\\cancel":s.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":s.setAttribute("notation","downdiagonalstrike");break;case"\\phase":s.setAttribute("notation","phasorangle");break;case"\\sout":s.setAttribute("notation","horizontalstrike");break;case"\\fbox":s.setAttribute("notation","box");break;case"\\angl":s.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,s.setAttribute("width","+"+2*n+"pt"),s.setAttribute("height","+"+2*n+"pt"),s.setAttribute("lspace",n+"pt"),s.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);s.setAttribute("style","border: "+r+"em solid "+String(t.borderColor))}break;case"\\xcancel":s.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&s.setAttribute("mathbackground",t.backgroundColor),s};De({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=rt(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:s.mode,label:r,backgroundColor:a,body:l}},htmlBuilder:Ty,mathmlBuilder:Sy});De({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=rt(e[0],"color-token").color,l=rt(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:s.mode,label:r,backgroundColor:l,borderColor:a,body:o}},htmlBuilder:Ty,mathmlBuilder:Sy});De({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});De({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"enclose",mode:n.mode,label:s,body:r}},htmlBuilder:Ty,mathmlBuilder:Sy});De({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var CA={};function rr(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},c=0;c<n.length;++c)CA[n[c]]=o;a&&(_m[e]=a),l&&(qm[e]=l)}var MA={};function H(t,e){MA[t]=e}function p7(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var qf=t=>{var e=t.parser.settings;if(!e.displayMode)throw new we("{"+t.envName+"} can be used only in display mode.")};function Ny(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function hl(t,e,n){var{hskipBeforeAndAfter:s,addJot:r,cols:a,arraystretch:l,colSeparationType:o,autoTag:c,singleRow:h,emptySingleRow:u,maxNumCols:m,leqno:p}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new we("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var E=[],y=[E],T=[],S=[],N=c!=null?[]:void 0;function v(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function f(){N&&(t.gullet.macros.get("\\df@tag")?(N.push(t.subparse([new Hi("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(v(),S.push(p7(t));;){var x=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),x={type:"ordgroup",mode:t.mode,body:x},n&&(x={type:"styling",mode:t.mode,style:n,body:[x]}),E.push(x);var C=t.fetch().text;if(C==="&"){if(m&&E.length===m){if(h||o)throw new we("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(C==="\\end"){f(),E.length===1&&x.type==="styling"&&x.body[0].body.length===0&&(y.length>1||!u)&&y.pop(),S.length<y.length+1&&S.push([]);break}else if(C==="\\\\"){t.consume();var j=void 0;t.gullet.future().text!==" "&&(j=t.parseSizeGroup(!0)),T.push(j?j.value:null),f(),S.push(p7(t)),E=[],y.push(E),v()}else throw new we("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:r,arraystretch:l,body:y,cols:a,rowGaps:T,hskipBeforeAndAfter:s,hLinesBeforeRow:S,colSeparationType:o,tags:N,leqno:p}}function Ay(t){return t.slice(0,1)==="d"?"display":"text"}var ar=function(e,n){var s,r,a=e.body.length,l=e.hLinesBeforeRow,o=0,c=new Array(a),h=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),m=1/n.fontMetrics().ptPerEm,p=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(Xe.SCRIPT).sizeMultiplier;p=.2778*(b/n.sizeMultiplier)}var E=e.colSeparationType==="CD"?tn({number:3,unit:"ex"},n):12*m,y=3*m,T=e.arraystretch*E,S=.7*T,N=.3*T,v=0;function f(kt){for(var dn=0;dn<kt.length;++dn)dn>0&&(v+=.25),h.push({pos:v,isDashed:kt[dn]})}for(f(l[0]),s=0;s<e.body.length;++s){var x=e.body[s],C=S,j=N;o<x.length&&(o=x.length);var g=new Array(x.length);for(r=0;r<x.length;++r){var A=ft(x[r],n);j<A.depth&&(j=A.depth),C<A.height&&(C=A.height),g[r]=A}var w=e.rowGaps[s],k=0;w&&(k=tn(w,n),k>0&&(k+=N,j<k&&(j=k),k=0)),e.addJot&&(j+=y),g.height=C,g.depth=j,v+=C,g.pos=v,v+=j+k,c[s]=g,f(l[s+1])}var M=v/2+n.fontMetrics().axisHeight,I=e.cols||[],O=[],$,G,V=[];if(e.tags&&e.tags.some(kt=>kt))for(s=0;s<a;++s){var J=c[s],ee=J.pos-M,re=e.tags[s],se=void 0;re===!0?se=ce.makeSpan(["eqn-num"],[],n):re===!1?se=ce.makeSpan([],[],n):se=ce.makeSpan([],Rn(re,n,!0),n),se.depth=J.depth,se.height=J.height,V.push({type:"elem",elem:se,shift:ee})}for(r=0,G=0;r<o||G<I.length;++r,++G){for(var he=I[G]||{},ae=!0;he.type==="separator";){if(ae||($=ce.makeSpan(["arraycolsep"],[]),$.style.width=Ee(n.fontMetrics().doubleRuleSep),O.push($)),he.separator==="|"||he.separator===":"){var Ne=he.separator==="|"?"solid":"dashed",Te=ce.makeSpan(["vertical-separator"],[],n);Te.style.height=Ee(v),Te.style.borderRightWidth=Ee(u),Te.style.borderRightStyle=Ne,Te.style.margin="0 "+Ee(-u/2);var tt=v-M;tt&&(Te.style.verticalAlign=Ee(-tt)),O.push(Te)}else throw new we("Invalid separator type: "+he.separator);G++,he=I[G]||{},ae=!1}if(!(r>=o)){var Me=void 0;(r>0||e.hskipBeforeAndAfter)&&(Me=gt.deflt(he.pregap,p),Me!==0&&($=ce.makeSpan(["arraycolsep"],[]),$.style.width=Ee(Me),O.push($)));var Ae=[];for(s=0;s<a;++s){var Ue=c[s],Oe=Ue[r];if(Oe){var at=Ue.pos-M;Oe.depth=Ue.depth,Oe.height=Ue.height,Ae.push({type:"elem",elem:Oe,shift:at})}}Ae=ce.makeVList({positionType:"individualShift",children:Ae},n),Ae=ce.makeSpan(["col-align-"+(he.align||"c")],[Ae]),O.push(Ae),(r<o-1||e.hskipBeforeAndAfter)&&(Me=gt.deflt(he.postgap,p),Me!==0&&($=ce.makeSpan(["arraycolsep"],[]),$.style.width=Ee(Me),O.push($)))}}if(c=ce.makeSpan(["mtable"],O),h.length>0){for(var He=ce.makeLineSpan("hline",n,u),et=ce.makeLineSpan("hdashline",n,u),_e=[{type:"elem",elem:c,shift:0}];h.length>0;){var Le=h.pop(),qt=Le.pos-M;Le.isDashed?_e.push({type:"elem",elem:et,shift:qt}):_e.push({type:"elem",elem:He,shift:qt})}c=ce.makeVList({positionType:"individualShift",children:_e},n)}if(V.length===0)return ce.makeSpan(["mord"],[c],n);var Ht=ce.makeVList({positionType:"individualShift",children:V},n);return Ht=ce.makeSpan(["tag"],[Ht],n),ce.makeFragment([c,Ht])},BY={c:"center ",l:"left ",r:"right "},lr=function(e,n){for(var s=[],r=new ve.MathNode("mtd",[],["mtr-glue"]),a=new ve.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var o=e.body[l],c=[],h=0;h<o.length;h++)c.push(new ve.MathNode("mtd",[zt(o[h],n)]));e.tags&&e.tags[l]&&(c.unshift(r),c.push(r),e.leqno?c.unshift(a):c.push(a)),s.push(new ve.MathNode("mtr",c))}var u=new ve.MathNode("mtable",s),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",Ee(m));var p="",b="";if(e.cols&&e.cols.length>0){var E=e.cols,y="",T=!1,S=0,N=E.length;E[0].type==="separator"&&(p+="top ",S=1),E[E.length-1].type==="separator"&&(p+="bottom ",N-=1);for(var v=S;v<N;v++)E[v].type==="align"?(b+=BY[E[v].align],T&&(y+="none "),T=!0):E[v].type==="separator"&&T&&(y+=E[v].separator==="|"?"solid ":"dashed ",T=!1);u.setAttribute("columnalign",b.trim()),/[sd]/.test(y)&&u.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var f=e.cols||[],x="",C=1;C<f.length;C++)x+=C%2?"0em ":"1em ";u.setAttribute("columnspacing",x.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var j="",g=e.hLinesBeforeRow;p+=g[0].length>0?"left ":"",p+=g[g.length-1].length>0?"right ":"";for(var A=1;A<g.length-1;A++)j+=g[A].length===0?"none ":g[A][0]?"dashed ":"solid ";return/[sd]/.test(j)&&u.setAttribute("rowlines",j.trim()),p!==""&&(u=new ve.MathNode("menclose",[u]),u.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(u=new ve.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},zA=function(e,n){e.envName.indexOf("ed")===-1&&qf(e);var s=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=hl(e.parser,{cols:s,addJot:!0,autoTag:a?void 0:Ny(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,c=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",m=0;m<n[0].body.length;m++){var p=rt(n[0].body[m],"textord");u+=p.text}o=Number(u),c=o*2}var b=!c;l.body.forEach(function(S){for(var N=1;N<S.length;N+=2){var v=rt(S[N],"styling"),f=rt(v.body[0],"ordgroup");f.body.unshift(h)}if(b)c<S.length&&(c=S.length);else{var x=S.length/2;if(o<x)throw new we("Too many math in a row: "+("expected "+o+", but got "+x),S[0])}});for(var E=0;E<c;++E){var y="r",T=0;E%2===1?y="l":E>0&&b&&(T=1),s[E]={type:"align",align:y,pregap:T,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};rr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=If(e[0]),s=n?[e[0]]:rt(e[0],"ordgroup").body,r=s.map(function(l){var o=vy(l),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new we("Unknown column alignment: "+c,l)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return hl(t.parser,a,Ay(t.envName))},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var r=t.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,"lcr".indexOf(n)===-1)throw new we("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),s.cols=[{type:"align",align:n}]}}var a=hl(t.parser,s,Ay(t.envName)),l=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=hl(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=If(e[0]),s=n?[e[0]]:rt(e[0],"ordgroup").body,r=s.map(function(l){var o=vy(l),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new we("Unknown column alignment: "+c,l)});if(r.length>1)throw new we("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=hl(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new we("{subarray} can contain only one column");return a},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=hl(t.parser,e,Ay(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:zA,htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&qf(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ny(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return hl(t.parser,e,"display")},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:zA,htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){qf(t);var e={autoTag:Ny(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return hl(t.parser,e,"display")},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return qf(t),NY(t.parser)},htmlBuilder:ar,mathmlBuilder:lr});H("\\nonumber","\\gdef\\@eqnsw{0}");H("\\notag","\\nonumber");De({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new we(t.funcName+" valid only within array environment")}});var x7=CA;De({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];if(r.type!=="ordgroup")throw new we("Invalid environment name",r);for(var a="",l=0;l<r.body.length;++l)a+=rt(r.body[l],"textord").text;if(s==="\\begin"){if(!x7.hasOwnProperty(a))throw new we("No such environment: "+a,r);var o=x7[a],{args:c,optArgs:h}=n.parseArguments("\\begin{"+a+"}",o),u={mode:n.mode,envName:a,parser:n},m=o.handler(u,c,h);n.expect("\\end",!1);var p=n.nextToken,b=rt(n.parseFunction(),"environment");if(b.name!==a)throw new we("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",p);return m}return{type:"environment",mode:n.mode,name:a,nameGroup:r}}});var DA=(t,e)=>{var n=t.font,s=e.withFont(n);return ft(t.body,s)},PA=(t,e)=>{var n=t.font,s=e.withFont(n);return zt(t.body,s)},g7={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};De({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=$m(e[0]),a=s;return a in g7&&(a=g7[a]),{type:"font",mode:n.mode,font:a.slice(1),body:r}},htmlBuilder:DA,mathmlBuilder:PA});De({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,s=e[0],r=gt.isCharacterBox(s);return{type:"mclass",mode:n.mode,mclass:Rf(s),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:s}],isCharacterBox:r}}});De({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,breakOnTokenText:r}=t,{mode:a}=n,l=n.parseExpression(!0,r),o="math"+s.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:DA,mathmlBuilder:PA});var IA=(t,e)=>{var n=e;return t==="display"?n=n.id>=Xe.SCRIPT.id?n.text():Xe.DISPLAY:t==="text"&&n.size===Xe.DISPLAY.size?n=Xe.TEXT:t==="script"?n=Xe.SCRIPT:t==="scriptscript"&&(n=Xe.SCRIPTSCRIPT),n},ky=(t,e)=>{var n=IA(t.size,e.style),s=n.fracNum(),r=n.fracDen(),a;a=e.havingStyle(s);var l=ft(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;l.height=l.height<o?o:l.height,l.depth=l.depth<c?c:l.depth}a=e.havingStyle(r);var h=ft(t.denom,a,e),u,m,p;t.hasBarLine?(t.barSize?(m=tn(t.barSize,e),u=ce.makeLineSpan("frac-line",e,m)):u=ce.makeLineSpan("frac-line",e),m=u.height,p=u.height):(u=null,m=0,p=e.fontMetrics().defaultRuleThickness);var b,E,y;n.size===Xe.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,m>0?E=3*p:E=7*p,y=e.fontMetrics().denom1):(m>0?(b=e.fontMetrics().num2,E=p):(b=e.fontMetrics().num3,E=3*p),y=e.fontMetrics().denom2);var T;if(u){var N=e.fontMetrics().axisHeight;b-l.depth-(N+.5*m)<E&&(b+=E-(b-l.depth-(N+.5*m))),N-.5*m-(h.height-y)<E&&(y+=E-(N-.5*m-(h.height-y)));var v=-(N-.5*m);T=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:u,shift:v},{type:"elem",elem:l,shift:-b}]},e)}else{var S=b-l.depth-(h.height-y);S<E&&(b+=.5*(E-S),y+=.5*(E-S)),T=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:l,shift:-b}]},e)}a=e.havingStyle(n),T.height*=a.sizeMultiplier/e.sizeMultiplier,T.depth*=a.sizeMultiplier/e.sizeMultiplier;var f;n.size===Xe.DISPLAY.size?f=e.fontMetrics().delim1:n.size===Xe.SCRIPTSCRIPT.size?f=e.havingStyle(Xe.SCRIPT).fontMetrics().delim2:f=e.fontMetrics().delim2;var x,C;return t.leftDelim==null?x=Ah(e,["mopen"]):x=Rr.customSizedDelim(t.leftDelim,f,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?C=ce.makeSpan([]):t.rightDelim==null?C=Ah(e,["mclose"]):C=Rr.customSizedDelim(t.rightDelim,f,!0,e.havingStyle(n),t.mode,["mclose"]),ce.makeSpan(["mord"].concat(a.sizingClasses(e)),[x,ce.makeSpan(["mfrac"],[T]),C],e)},Ey=(t,e)=>{var n=new ve.MathNode("mfrac",[zt(t.numer,e),zt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var s=tn(t.barSize,e);n.setAttribute("linethickness",Ee(s))}var r=IA(t.size,e.style);if(r.size!==e.style.size){n=new ve.MathNode("mstyle",[n]);var a=r.size===Xe.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var o=new ve.MathNode("mo",[new ve.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),l.push(o)}if(l.push(n),t.rightDelim!=null){var c=new ve.MathNode("mo",[new ve.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}return yy(l)}return n};De({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1],l,o=null,c=null,h="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,o="(",c=")";break;case"\\\\bracefrac":l=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":l=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:a,hasBarLine:l,leftDelim:o,rightDelim:c,size:h,barSize:null}},htmlBuilder:ky,mathmlBuilder:Ey});De({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});De({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:s}=t,r;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:s}}});var y7=["display","text","script","scriptscript"],b7=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};De({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,s=e[4],r=e[5],a=$m(e[0]),l=a.type==="atom"&&a.family==="open"?b7(a.text):null,o=$m(e[1]),c=o.type==="atom"&&o.family==="close"?b7(o.text):null,h=rt(e[2],"size"),u,m=null;h.isBlank?u=!0:(m=h.value,u=m.number>0);var p="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var E=rt(b.body[0],"textord");p=y7[Number(E.text)]}}else b=rt(b,"textord"),p=y7[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:s,denom:r,continued:!1,hasBarLine:u,barSize:m,leftDelim:l,rightDelim:c,size:p}},htmlBuilder:ky,mathmlBuilder:Ey});De({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:s,token:r}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:rt(e[0],"size").value,token:r}}});De({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=pW(rt(e[1],"infix").size),l=e[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:l,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ky,mathmlBuilder:Ey});var RA=(t,e)=>{var n=e.style,s,r;t.type==="supsub"?(s=t.sup?ft(t.sup,e.havingStyle(n.sup()),e):ft(t.sub,e.havingStyle(n.sub()),e),r=rt(t.base,"horizBrace")):r=rt(t,"horizBrace");var a=ft(r.base,e.havingBaseStyle(Xe.DISPLAY)),l=Xr.svgSpan(r,e),o;if(r.isOver?(o=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=ce.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),s){var c=ce.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);r.isOver?o=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:s}]},e):o=ce.makeVList({positionType:"bottom",positionData:c.depth+.2+s.height+s.depth,children:[{type:"elem",elem:s},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return ce.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)},OY=(t,e)=>{var n=Xr.mathMLnode(t.label);return new ve.MathNode(t.isOver?"mover":"munder",[zt(t.base,e),n])};De({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"horizBrace",mode:n.mode,label:s,isOver:/^\\over/.test(s),base:e[0]}},htmlBuilder:RA,mathmlBuilder:OY});De({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[1],r=rt(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:gn(s)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Rn(t.body,e,!1);return ce.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=il(t.body,e);return n instanceof $i||(n=new $i("mrow",[n])),n.setAttribute("href",t.href),n}});De({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=rt(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:s}))return n.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<s.length;a++){var l=s[a];l==="~"&&(l="\\textasciitilde"),r.push({type:"textord",mode:"text",text:l})}var o={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:s,body:gn(o)}}});De({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:gn(e[0])}},htmlBuilder(t,e){var n=Rn(t.body,e,!1);return ce.makeFragment(n)},mathmlBuilder(t,e){return new ve.MathNode("mrow",Mi(t.body,e))}});De({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,token:r}=t,a=rt(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(s){case"\\htmlClass":c.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),u=0;u<h.length;u++){var m=h[u],p=m.indexOf("=");if(p<0)throw new we("\\htmlData key/value '"+m+"' missing equals sign");var b=m.slice(0,p),E=m.slice(p+1);c["data-"+b.trim()]=E}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:c,body:gn(l)}:n.formatUnsupportedCmd(s)},htmlBuilder:(t,e)=>{var n=Rn(t.body,e,!1),s=["enclosing"];t.attributes.class&&s.push(...t.attributes.class.trim().split(/\s+/));var r=ce.makeSpan(s,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&r.setAttribute(a,t.attributes[a]);return r},mathmlBuilder:(t,e)=>il(t.body,e)});De({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:gn(e[0]),mathml:gn(e[1])}},htmlBuilder:(t,e)=>{var n=Rn(t.html,e,!1);return ce.makeFragment(n)},mathmlBuilder:(t,e)=>il(t.mathml,e)});var O1=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new we("Invalid size: '"+e+"' in \\includegraphics");var s={number:+(n[1]+n[2]),unit:n[3]};if(!eA(s))throw new we("Invalid unit: '"+s.unit+"' in \\includegraphics.");return s};De({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:s}=t,r={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},o="";if(n[0])for(var c=rt(n[0],"raw").string,h=c.split(","),u=0;u<h.length;u++){var m=h[u].split("=");if(m.length===2){var p=m[1].trim();switch(m[0].trim()){case"alt":o=p;break;case"width":r=O1(p);break;case"height":a=O1(p);break;case"totalheight":l=O1(p);break;default:throw new we("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var b=rt(e[0],"url").url;return o===""&&(o=b,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:s.mode,alt:o,width:r,height:a,totalheight:l,src:b}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=tn(t.height,e),s=0;t.totalheight.number>0&&(s=tn(t.totalheight,e)-n);var r=0;t.width.number>0&&(r=tn(t.width,e));var a={height:Ee(n+s)};r>0&&(a.width=Ee(r)),s>0&&(a.verticalAlign=Ee(-s));var l=new OW(t.src,t.alt,a);return l.height=n,l.depth=s,l},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var s=tn(t.height,e),r=0;if(t.totalheight.number>0&&(r=tn(t.totalheight,e)-s,n.setAttribute("valign",Ee(-r))),n.setAttribute("height",Ee(s+r)),t.width.number>0){var a=tn(t.width,e);n.setAttribute("width",Ee(a))}return n.setAttribute("src",t.src),n}});De({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=rt(e[0],"size");if(n.settings.strict){var a=s[1]==="m",l=r.value.unit==="mu";a?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+r.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder(t,e){return ce.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=tn(t.dimension,e);return new ve.SpaceNode(n)}});De({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"lap",mode:n.mode,alignment:s.slice(5),body:r}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ce.makeSpan([],[ft(t.body,e)]),n=ce.makeSpan(["inner"],[n],e)):n=ce.makeSpan(["inner"],[ft(t.body,e)]);var s=ce.makeSpan(["fix"],[]),r=ce.makeSpan([t.alignment],[n,s],e),a=ce.makeSpan(["strut"]);return a.style.height=Ee(r.height+r.depth),r.depth&&(a.style.verticalAlign=Ee(-r.depth)),r.children.unshift(a),r=ce.makeSpan(["thinbox"],[r],e),ce.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[zt(t.body,e)]);if(t.alignment!=="rlap"){var s=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",s+"width")}return n.setAttribute("width","0px"),n}});De({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:s}=t,r=s.mode;s.switchMode("math");var a=n==="\\("?"\\)":"$",l=s.parseExpression(!1,a);return s.expect(a),s.switchMode(r),{type:"styling",mode:s.mode,style:"text",body:l}}});De({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new we("Mismatched "+t.funcName)}});var v7=(t,e)=>{switch(e.style.size){case Xe.DISPLAY.size:return t.display;case Xe.TEXT.size:return t.text;case Xe.SCRIPT.size:return t.script;case Xe.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};De({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:gn(e[0]),text:gn(e[1]),script:gn(e[2]),scriptscript:gn(e[3])}},htmlBuilder:(t,e)=>{var n=v7(t,e),s=Rn(n,e,!1);return ce.makeFragment(s)},mathmlBuilder:(t,e)=>{var n=v7(t,e);return il(n,e)}});var _A=(t,e,n,s,r,a,l)=>{t=ce.makeSpan([],[t]);var o=n&&gt.isCharacterBox(n),c,h;if(e){var u=ft(e,s.havingStyle(r.sup()),s);h={elem:u,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var m=ft(n,s.havingStyle(r.sub()),s);c={elem:m,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-m.height)}}var p;if(h&&c){var b=s.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+l;p=ce.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ee(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Ee(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else if(c){var E=t.height-l;p=ce.makeVList({positionType:"top",positionData:E,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Ee(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},s)}else if(h){var y=t.depth+l;p=ce.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Ee(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else return t;var T=[p];if(c&&a!==0&&!o){var S=ce.makeSpan(["mspace"],[],s);S.style.marginRight=Ee(a),T.unshift(S)}return ce.makeSpan(["mop","op-limits"],T,s)},qA=["\\smallint"],Bc=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=rt(t.base,"op"),r=!0):a=rt(t,"op");var l=e.style,o=!1;l.size===Xe.DISPLAY.size&&a.symbol&&!qA.includes(a.name)&&(o=!0);var c;if(a.symbol){var h=o?"Size2-Regular":"Size1-Regular",u="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(u=a.name.slice(1),a.name=u==="oiint"?"\\iint":"\\iiint"),c=ce.makeSymbol(a.name,h,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),u.length>0){var m=c.italic,p=ce.staticSvg(u+"Size"+(o?"2":"1"),e);c=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:p,shift:o?.08:0}]},e),a.name="\\"+u,c.classes.unshift("mop"),c.italic=m}}else if(a.body){var b=Rn(a.body,e,!0);b.length===1&&b[0]instanceof gs?(c=b[0],c.classes[0]="mop"):c=ce.makeSpan(["mop"],b,e)}else{for(var E=[],y=1;y<a.name.length;y++)E.push(ce.mathsym(a.name[y],a.mode,e));c=ce.makeSpan(["mop"],E,e)}var T=0,S=0;return(c instanceof gs||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(T=(c.height-c.depth)/2-e.fontMetrics().axisHeight,S=c.italic),r?_A(c,n,s,e,l,S,T):(T&&(c.style.position="relative",c.style.top=Ee(T)),c)},Jh=(t,e)=>{var n;if(t.symbol)n=new $i("mo",[ys(t.name,t.mode)]),qA.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new $i("mo",Mi(t.body,e));else{n=new $i("mi",[new Ws(t.name.slice(1))]);var s=new $i("mo",[ys("","text")]);t.parentIsSupSub?n=new $i("mrow",[n,s]):n=uA([n,s])}return n},LY={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};De({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=s;return r.length===1&&(r=LY[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Bc,mathmlBuilder:Jh});De({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:gn(s)}},htmlBuilder:Bc,mathmlBuilder:Jh});var FY={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};De({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Bc,mathmlBuilder:Jh});De({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Bc,mathmlBuilder:Jh});De({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,s=n;return s.length===1&&(s=FY[s]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:Bc,mathmlBuilder:Jh});var $A=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=rt(t.base,"operatorname"),r=!0):a=rt(t,"operatorname");var l;if(a.body.length>0){for(var o=a.body.map(m=>{var p=m.text;return typeof p=="string"?{type:"textord",mode:m.mode,text:p}:m}),c=Rn(o,e.withFont("mathrm"),!0),h=0;h<c.length;h++){var u=c[h];u instanceof gs&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ce.makeSpan(["mop"],c,e)}else l=ce.makeSpan(["mop"],[],e);return r?_A(l,n,s,e,e.style,0,0):l},UY=(t,e)=>{for(var n=Mi(t.body,e.withFont("mathrm")),s=!0,r=0;r<n.length;r++){var a=n[r];if(!(a instanceof ve.SpaceNode))if(a instanceof ve.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof ve.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):s=!1;break}default:s=!1}else s=!1}if(s){var o=n.map(u=>u.toText()).join("");n=[new ve.TextNode(o)]}var c=new ve.MathNode("mi",n);c.setAttribute("mathvariant","normal");var h=new ve.MathNode("mo",[ys("","text")]);return t.parentIsSupSub?new ve.MathNode("mrow",[c,h]):ve.newDocumentFragment([c,h])};De({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"operatorname",mode:n.mode,body:gn(r),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:$A,mathmlBuilder:UY});H("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");co({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ce.makeFragment(Rn(t.body,e,!1)):ce.makeSpan(["mord"],Rn(t.body,e,!0),e)},mathmlBuilder(t,e){return il(t.body,e,!0)}});De({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,s=e[0];return{type:"overline",mode:n.mode,body:s}},htmlBuilder(t,e){var n=ft(t.body,e.havingCrampedStyle()),s=ce.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:s},{type:"kern",size:r}]},e);return ce.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var s=new ve.MathNode("mover",[zt(t.body,e),n]);return s.setAttribute("accent","true"),s}});De({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"phantom",mode:n.mode,body:gn(s)}},htmlBuilder:(t,e)=>{var n=Rn(t.body,e.withPhantom(),!1);return ce.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Mi(t.body,e);return new ve.MathNode("mphantom",n)}});De({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"hphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=ce.makeSpan([],[ft(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var s=0;s<n.children.length;s++)n.children[s].height=0,n.children[s].depth=0;return n=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ce.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Mi(gn(t.body),e),s=new ve.MathNode("mphantom",n),r=new ve.MathNode("mpadded",[s]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});De({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"vphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=ce.makeSpan(["inner"],[ft(t.body,e.withPhantom())]),s=ce.makeSpan(["fix"],[]);return ce.makeSpan(["mord","rlap"],[n,s],e)},mathmlBuilder:(t,e)=>{var n=Mi(gn(t.body),e),s=new ve.MathNode("mphantom",n),r=new ve.MathNode("mpadded",[s]);return r.setAttribute("width","0px"),r}});De({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,s=rt(e[0],"size").value,r=e[1];return{type:"raisebox",mode:n.mode,dy:s,body:r}},htmlBuilder(t,e){var n=ft(t.body,e),s=tn(t.dy,e);return ce.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new ve.MathNode("mpadded",[zt(t.body,e)]),s=t.dy.number+t.dy.unit;return n.setAttribute("voffset",s),n}});De({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});De({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:s}=t,r=n[0],a=rt(e[0],"size"),l=rt(e[1],"size");return{type:"rule",mode:s.mode,shift:r&&rt(r,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var n=ce.makeSpan(["mord","rule"],[],e),s=tn(t.width,e),r=tn(t.height,e),a=t.shift?tn(t.shift,e):0;return n.style.borderRightWidth=Ee(s),n.style.borderTopWidth=Ee(r),n.style.bottom=Ee(a),n.width=s,n.height=r+a,n.depth=-a,n.maxFontSize=r*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=tn(t.width,e),s=tn(t.height,e),r=t.shift?tn(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new ve.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",Ee(n)),l.setAttribute("height",Ee(s));var o=new ve.MathNode("mpadded",[l]);return r>=0?o.setAttribute("height",Ee(r)):(o.setAttribute("height",Ee(r)),o.setAttribute("depth",Ee(-r))),o.setAttribute("voffset",Ee(r)),o}});function BA(t,e,n){for(var s=Rn(t,e,!1),r=e.sizeMultiplier/n.sizeMultiplier,a=0;a<s.length;a++){var l=s[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(s[a].classes,e.sizingClasses(n)):s[a].classes[l+1]==="reset-size"+e.size&&(s[a].classes[l+1]="reset-size"+n.size),s[a].height*=r,s[a].depth*=r}return ce.makeFragment(s)}var j7=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],HY=(t,e)=>{var n=e.havingSize(t.size);return BA(t.body,n,e)};De({type:"sizing",names:j7,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:j7.indexOf(s)+1,body:a}},htmlBuilder:HY,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),s=Mi(t.body,n),r=new ve.MathNode("mstyle",s);return r.setAttribute("mathsize",Ee(n.sizeMultiplier)),r}});De({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:s}=t,r=!1,a=!1,l=n[0]&&rt(n[0],"ordgroup");if(l)for(var o="",c=0;c<l.body.length;++c){var h=l.body[c];if(o=h.text,o==="t")r=!0;else if(o==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var u=e[0];return{type:"smash",mode:s.mode,body:u,smashHeight:r,smashDepth:a}},htmlBuilder:(t,e)=>{var n=ce.makeSpan([],[ft(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var s=0;s<n.children.length;s++)n.children[s].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var a=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ce.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[zt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});De({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s}=t,r=n[0],a=e[0];return{type:"sqrt",mode:s.mode,body:a,index:r}},htmlBuilder(t,e){var n=ft(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ce.wrapFragment(n,e);var s=e.fontMetrics(),r=s.defaultRuleThickness,a=r;e.style.id<Xe.TEXT.id&&(a=e.fontMetrics().xHeight);var l=r+a/4,o=n.height+n.depth+l+r,{span:c,ruleWidth:h,advanceWidth:u}=Rr.sqrtImage(o,e),m=c.height-h;m>n.height+n.depth+l&&(l=(l+m-n.height-n.depth)/2);var p=c.height-n.height-l-h;n.style.paddingLeft=Ee(u);var b=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+p)},{type:"elem",elem:c},{type:"kern",size:h}]},e);if(t.index){var E=e.havingStyle(Xe.SCRIPTSCRIPT),y=ft(t.index,E,e),T=.6*(b.height-b.depth),S=ce.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:y}]},e),N=ce.makeSpan(["root"],[S]);return ce.makeSpan(["mord","sqrt"],[N,b],e)}else return ce.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:s}=t;return s?new ve.MathNode("mroot",[zt(n,e),zt(s,e)]):new ve.MathNode("msqrt",[zt(n,e)])}});var w7={display:Xe.DISPLAY,text:Xe.TEXT,script:Xe.SCRIPT,scriptscript:Xe.SCRIPTSCRIPT};De({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!0,n),l=s.slice(1,s.length-5);return{type:"styling",mode:r.mode,style:l,body:a}},htmlBuilder(t,e){var n=w7[t.style],s=e.havingStyle(n).withFont("");return BA(t.body,s,e)},mathmlBuilder(t,e){var n=w7[t.style],s=e.havingStyle(n),r=Mi(t.body,s),a=new ve.MathNode("mstyle",r),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=l[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var VY=function(e,n){var s=e.base;if(s)if(s.type==="op"){var r=s.limits&&(n.style.size===Xe.DISPLAY.size||s.alwaysHandleSupSub);return r?Bc:null}else if(s.type==="operatorname"){var a=s.alwaysHandleSupSub&&(n.style.size===Xe.DISPLAY.size||s.limits);return a?$A:null}else{if(s.type==="accent")return gt.isCharacterBox(s.base)?jy:null;if(s.type==="horizBrace"){var l=!e.sub;return l===s.isOver?RA:null}else return null}else return null};co({type:"supsub",htmlBuilder(t,e){var n=VY(t,e);if(n)return n(t,e);var{base:s,sup:r,sub:a}=t,l=ft(s,e),o,c,h=e.fontMetrics(),u=0,m=0,p=s&&gt.isCharacterBox(s);if(r){var b=e.havingStyle(e.style.sup());o=ft(r,b,e),p||(u=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var E=e.havingStyle(e.style.sub());c=ft(a,E,e),p||(m=l.depth+E.fontMetrics().subDrop*E.sizeMultiplier/e.sizeMultiplier)}var y;e.style===Xe.DISPLAY?y=h.sup1:e.style.cramped?y=h.sup3:y=h.sup2;var T=e.sizeMultiplier,S=Ee(.5/h.ptPerEm/T),N=null;if(c){var v=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof gs||v)&&(N=Ee(-l.italic))}var f;if(o&&c){u=Math.max(u,y,o.depth+.25*h.xHeight),m=Math.max(m,h.sub2);var x=h.defaultRuleThickness,C=4*x;if(u-o.depth-(c.height-m)<C){m=C-(u-o.depth)+c.height;var j=.8*h.xHeight-(u-o.depth);j>0&&(u+=j,m-=j)}var g=[{type:"elem",elem:c,shift:m,marginRight:S,marginLeft:N},{type:"elem",elem:o,shift:-u,marginRight:S}];f=ce.makeVList({positionType:"individualShift",children:g},e)}else if(c){m=Math.max(m,h.sub1,c.height-.8*h.xHeight);var A=[{type:"elem",elem:c,marginLeft:N,marginRight:S}];f=ce.makeVList({positionType:"shift",positionData:m,children:A},e)}else if(o)u=Math.max(u,y,o.depth+.25*h.xHeight),f=ce.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var w=Gg(l,"right")||"mord";return ce.makeSpan([w],[l,ce.makeSpan(["msupsub"],[f])],e)},mathmlBuilder(t,e){var n=!1,s,r;t.base&&t.base.type==="horizBrace"&&(r=!!t.sup,r===t.base.isOver&&(n=!0,s=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[zt(t.base,e)];t.sub&&a.push(zt(t.sub,e)),t.sup&&a.push(zt(t.sup,e));var l;if(n)l=s?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===Xe.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===Xe.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Xe.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Xe.DISPLAY)?l="munder":l="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Xe.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Xe.DISPLAY)?l="mover":l="msup"}return new ve.MathNode(l,a)}});co({type:"atom",htmlBuilder(t,e){return ce.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[ys(t.text,t.mode)]);if(t.family==="bin"){var s=by(t,e);s==="bold-italic"&&n.setAttribute("mathvariant",s)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var OA={mi:"italic",mn:"normal",mtext:"normal"};co({type:"mathord",htmlBuilder(t,e){return ce.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new ve.MathNode("mi",[ys(t.text,t.mode,e)]),s=by(t,e)||"italic";return s!==OA[n.type]&&n.setAttribute("mathvariant",s),n}});co({type:"textord",htmlBuilder(t,e){return ce.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=ys(t.text,t.mode,e),s=by(t,e)||"normal",r;return t.mode==="text"?r=new ve.MathNode("mtext",[n]):/[0-9]/.test(t.text)?r=new ve.MathNode("mn",[n]):t.text==="\\prime"?r=new ve.MathNode("mo",[n]):r=new ve.MathNode("mi",[n]),s!==OA[r.type]&&r.setAttribute("mathvariant",s),r}});var L1={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},F1={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};co({type:"spacing",htmlBuilder(t,e){if(F1.hasOwnProperty(t.text)){var n=F1[t.text].className||"";if(t.mode==="text"){var s=ce.makeOrd(t,e,"textord");return s.classes.push(n),s}else return ce.makeSpan(["mspace",n],[ce.mathsym(t.text,t.mode,e)],e)}else{if(L1.hasOwnProperty(t.text))return ce.makeSpan(["mspace",L1[t.text]],[],e);throw new we('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(F1.hasOwnProperty(t.text))n=new ve.MathNode("mtext",[new ve.TextNode("")]);else{if(L1.hasOwnProperty(t.text))return new ve.MathNode("mspace");throw new we('Unknown type of space "'+t.text+'"')}return n}});var T7=()=>{var t=new ve.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};co({type:"tag",mathmlBuilder(t,e){var n=new ve.MathNode("mtable",[new ve.MathNode("mtr",[T7(),new ve.MathNode("mtd",[il(t.body,e)]),T7(),new ve.MathNode("mtd",[il(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var S7={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},N7={"\\textbf":"textbf","\\textmd":"textmd"},GY={"\\textit":"textit","\\textup":"textup"},A7=(t,e)=>{var n=t.font;if(n){if(S7[n])return e.withTextFontFamily(S7[n]);if(N7[n])return e.withTextFontWeight(N7[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(GY[n])};De({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"text",mode:n.mode,body:gn(r),font:s}},htmlBuilder(t,e){var n=A7(t,e),s=Rn(t.body,n,!0);return ce.makeSpan(["mord","text"],s,n)},mathmlBuilder(t,e){var n=A7(t,e);return il(t.body,n)}});De({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ft(t.body,e),s=ce.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=ce.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:s},{type:"kern",size:3*r},{type:"elem",elem:n}]},e);return ce.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var s=new ve.MathNode("munder",[zt(t.body,e),n]);return s.setAttribute("accentunder","true"),s}});De({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ft(t.body,e),s=e.fontMetrics().axisHeight,r=.5*(n.height-s-(n.depth+s));return ce.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new ve.MathNode("mpadded",[zt(t.body,e)],["vcenter"])}});De({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new we("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=k7(t),s=[],r=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),s.push(ce.makeSymbol(l,"Typewriter-Regular",t.mode,r,["mord","texttt"]))}return ce.makeSpan(["mord","text"].concat(r.sizingClasses(e)),ce.tryCombineChars(s),r)},mathmlBuilder(t,e){var n=new ve.TextNode(k7(t)),s=new ve.MathNode("mtext",[n]);return s.setAttribute("mathvariant","monospace"),s}});var k7=t=>t.body.replace(/ /g,t.star?"":""),Ma=cA,LA=`[ \r
	]`,WY="\\\\[a-zA-Z@]+",YY="\\\\[^\uD800-\uDFFF]",XY="("+WY+")"+LA+"*",ZY=`\\\\(
|[ \r	]+
?)[ \r	]*`,Zg="[-]",QY=new RegExp(Zg+"+$"),KY="("+LA+"+)|"+(ZY+"|")+"([!-\\[\\]---]"+(Zg+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Zg+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+XY)+("|"+YY+")");class E7{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(KY,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Hi("EOF",new wi(this,n,n));var s=this.tokenRegex.exec(e);if(s===null||s.index!==n)throw new we("Unexpected character: '"+e[n]+"'",new Hi(e[n],new wi(this,n,n+1)));var r=s[6]||s[3]||(s[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Hi(r,new wi(this,n,this.tokenRegex.lastIndex))}}class JY{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new we("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,s){if(s===void 0&&(s=!1),s){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var eX=MA;H("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});H("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});H("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});H("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});H("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});H("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");H("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var C7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};H("\\char",function(t){var e=t.popToken(),n,s="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")s=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new we("\\char` missing argument");s=e.text.charCodeAt(0)}else n=10;if(n){if(s=C7[e.text],s==null||s>=n)throw new we("Invalid base-"+n+" digit "+e.text);for(var r;(r=C7[t.future().text])!=null&&r<n;)s*=n,s+=r,t.popToken()}return"\\@char{"+s+"}"});var Cy=(t,e,n,s)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new we("\\newcommand's first argument must be a macro name");var a=r[0].text,l=t.isDefined(a);if(l&&!e)throw new we("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!n)throw new we("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var c="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)c+=h.text,h=t.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new we("Invalid number of arguments: "+c);o=parseInt(c),r=t.consumeArg().tokens}return l&&s||t.macros.set(a,{tokens:r,numArgs:o}),""};H("\\newcommand",t=>Cy(t,!1,!0,!1));H("\\renewcommand",t=>Cy(t,!0,!1,!1));H("\\providecommand",t=>Cy(t,!0,!0,!0));H("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});H("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});H("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Ma[n],_t.math[n],_t.text[n]),""});H("\\bgroup","{");H("\\egroup","}");H("~","\\nobreakspace");H("\\lq","`");H("\\rq","'");H("\\aa","\\r a");H("\\AA","\\r A");H("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");H("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");H("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");H("","\\mathscr{B}");H("","\\mathscr{E}");H("","\\mathscr{F}");H("","\\mathscr{H}");H("","\\mathscr{I}");H("","\\mathscr{L}");H("","\\mathscr{M}");H("","\\mathscr{R}");H("","\\mathfrak{C}");H("","\\mathfrak{H}");H("","\\mathfrak{Z}");H("\\Bbbk","\\Bbb{k}");H("","\\cdotp");H("\\llap","\\mathllap{\\textrm{#1}}");H("\\rlap","\\mathrlap{\\textrm{#1}}");H("\\clap","\\mathclap{\\textrm{#1}}");H("\\mathstrut","\\vphantom{(}");H("\\underbar","\\underline{\\text{#1}}");H("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');H("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");H("\\ne","\\neq");H("","\\neq");H("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");H("","\\notin");H("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");H("","\\perp");H("","\\mathclose{!\\mkern-0.8mu!}");H("","\\notni");H("","\\ulcorner");H("","\\urcorner");H("","\\llcorner");H("","\\lrcorner");H("","\\copyright");H("","\\textregistered");H("","\\textregistered");H("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');H("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');H("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');H("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');H("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");H("","\\vdots");H("\\varGamma","\\mathit{\\Gamma}");H("\\varDelta","\\mathit{\\Delta}");H("\\varTheta","\\mathit{\\Theta}");H("\\varLambda","\\mathit{\\Lambda}");H("\\varXi","\\mathit{\\Xi}");H("\\varPi","\\mathit{\\Pi}");H("\\varSigma","\\mathit{\\Sigma}");H("\\varUpsilon","\\mathit{\\Upsilon}");H("\\varPhi","\\mathit{\\Phi}");H("\\varPsi","\\mathit{\\Psi}");H("\\varOmega","\\mathit{\\Omega}");H("\\substack","\\begin{subarray}{c}#1\\end{subarray}");H("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");H("\\boxed","\\fbox{$\\displaystyle{#1}$}");H("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");H("\\implies","\\DOTSB\\;\\Longrightarrow\\;");H("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");H("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");H("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var M7={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};H("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in M7?e=M7[n]:(n.slice(0,4)==="\\not"||n in _t.math&&["bin","rel"].includes(_t.math[n].group))&&(e="\\dotsb"),e});var My={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};H("\\dotso",function(t){var e=t.future().text;return e in My?"\\ldots\\,":"\\ldots"});H("\\dotsc",function(t){var e=t.future().text;return e in My&&e!==","?"\\ldots\\,":"\\ldots"});H("\\cdots",function(t){var e=t.future().text;return e in My?"\\@cdots\\,":"\\@cdots"});H("\\dotsb","\\cdots");H("\\dotsm","\\cdots");H("\\dotsi","\\!\\cdots");H("\\dotsx","\\ldots\\,");H("\\DOTSI","\\relax");H("\\DOTSB","\\relax");H("\\DOTSX","\\relax");H("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");H("\\,","\\tmspace+{3mu}{.1667em}");H("\\thinspace","\\,");H("\\>","\\mskip{4mu}");H("\\:","\\tmspace+{4mu}{.2222em}");H("\\medspace","\\:");H("\\;","\\tmspace+{5mu}{.2777em}");H("\\thickspace","\\;");H("\\!","\\tmspace-{3mu}{.1667em}");H("\\negthinspace","\\!");H("\\negmedspace","\\tmspace-{4mu}{.2222em}");H("\\negthickspace","\\tmspace-{5mu}{.277em}");H("\\enspace","\\kern.5em ");H("\\enskip","\\hskip.5em\\relax");H("\\quad","\\hskip1em\\relax");H("\\qquad","\\hskip2em\\relax");H("\\tag","\\@ifstar\\tag@literal\\tag@paren");H("\\tag@paren","\\tag@literal{({#1})}");H("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new we("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});H("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");H("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");H("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");H("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");H("\\newline","\\\\\\relax");H("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var FA=Ee(Gs["Main-Regular"][84][1]-.7*Gs["Main-Regular"][65][1]);H("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+FA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");H("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+FA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");H("\\hspace","\\@ifstar\\@hspacer\\@hspace");H("\\@hspace","\\hskip #1\\relax");H("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");H("\\ordinarycolon",":");H("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");H("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');H("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');H("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');H("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');H("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');H("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');H("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');H("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');H("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');H("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');H("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');H("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');H("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');H("","\\dblcolon");H("","\\eqcolon");H("","\\coloneqq");H("","\\eqqcolon");H("","\\Coloneqq");H("\\ratio","\\vcentcolon");H("\\coloncolon","\\dblcolon");H("\\colonequals","\\coloneqq");H("\\coloncolonequals","\\Coloneqq");H("\\equalscolon","\\eqqcolon");H("\\equalscoloncolon","\\Eqqcolon");H("\\colonminus","\\coloneq");H("\\coloncolonminus","\\Coloneq");H("\\minuscolon","\\eqcolon");H("\\minuscoloncolon","\\Eqcolon");H("\\coloncolonapprox","\\Colonapprox");H("\\coloncolonsim","\\Colonsim");H("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");H("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");H("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");H("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");H("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");H("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");H("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");H("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");H("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");H("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");H("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");H("\\ngeqq","\\html@mathml{\\@ngeqq}{}");H("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");H("\\nleqq","\\html@mathml{\\@nleqq}{}");H("\\nleqslant","\\html@mathml{\\@nleqslant}{}");H("\\nshortmid","\\html@mathml{\\@nshortmid}{}");H("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");H("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");H("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");H("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");H("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");H("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");H("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");H("\\imath","\\html@mathml{\\@imath}{}");H("\\jmath","\\html@mathml{\\@jmath}{}");H("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");H("","\\llbracket");H("","\\rrbracket");H("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");H("","\\lBrace");H("","\\rBrace");H("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");H("","\\minuso");H("\\darr","\\downarrow");H("\\dArr","\\Downarrow");H("\\Darr","\\Downarrow");H("\\lang","\\langle");H("\\rang","\\rangle");H("\\uarr","\\uparrow");H("\\uArr","\\Uparrow");H("\\Uarr","\\Uparrow");H("\\N","\\mathbb{N}");H("\\R","\\mathbb{R}");H("\\Z","\\mathbb{Z}");H("\\alef","\\aleph");H("\\alefsym","\\aleph");H("\\Alpha","\\mathrm{A}");H("\\Beta","\\mathrm{B}");H("\\bull","\\bullet");H("\\Chi","\\mathrm{X}");H("\\clubs","\\clubsuit");H("\\cnums","\\mathbb{C}");H("\\Complex","\\mathbb{C}");H("\\Dagger","\\ddagger");H("\\diamonds","\\diamondsuit");H("\\empty","\\emptyset");H("\\Epsilon","\\mathrm{E}");H("\\Eta","\\mathrm{H}");H("\\exist","\\exists");H("\\harr","\\leftrightarrow");H("\\hArr","\\Leftrightarrow");H("\\Harr","\\Leftrightarrow");H("\\hearts","\\heartsuit");H("\\image","\\Im");H("\\infin","\\infty");H("\\Iota","\\mathrm{I}");H("\\isin","\\in");H("\\Kappa","\\mathrm{K}");H("\\larr","\\leftarrow");H("\\lArr","\\Leftarrow");H("\\Larr","\\Leftarrow");H("\\lrarr","\\leftrightarrow");H("\\lrArr","\\Leftrightarrow");H("\\Lrarr","\\Leftrightarrow");H("\\Mu","\\mathrm{M}");H("\\natnums","\\mathbb{N}");H("\\Nu","\\mathrm{N}");H("\\Omicron","\\mathrm{O}");H("\\plusmn","\\pm");H("\\rarr","\\rightarrow");H("\\rArr","\\Rightarrow");H("\\Rarr","\\Rightarrow");H("\\real","\\Re");H("\\reals","\\mathbb{R}");H("\\Reals","\\mathbb{R}");H("\\Rho","\\mathrm{P}");H("\\sdot","\\cdot");H("\\sect","\\S");H("\\spades","\\spadesuit");H("\\sub","\\subset");H("\\sube","\\subseteq");H("\\supe","\\supseteq");H("\\Tau","\\mathrm{T}");H("\\thetasym","\\vartheta");H("\\weierp","\\wp");H("\\Zeta","\\mathrm{Z}");H("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");H("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");H("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");H("\\bra","\\mathinner{\\langle{#1}|}");H("\\ket","\\mathinner{|{#1}\\rangle}");H("\\braket","\\mathinner{\\langle{#1}\\rangle}");H("\\Bra","\\left\\langle#1\\right|");H("\\Ket","\\left|#1\\right\\rangle");var UA=t=>e=>{var n=e.consumeArg().tokens,s=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var c=m=>p=>{t&&(p.macros.set("|",l),r.length&&p.macros.set("\\|",o));var b=m;if(!m&&r.length){var E=p.future();E.text==="|"&&(p.popToken(),b=!0)}return{tokens:b?r:s,numArgs:0}};e.macros.set("|",c(!1)),r.length&&e.macros.set("\\|",c(!0));var h=e.consumeArg().tokens,u=e.expandTokens([...a,...h,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};H("\\bra@ket",UA(!1));H("\\bra@set",UA(!0));H("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");H("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");H("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");H("\\angln","{\\angl n}");H("\\blue","\\textcolor{##6495ed}{#1}");H("\\orange","\\textcolor{##ffa500}{#1}");H("\\pink","\\textcolor{##ff00af}{#1}");H("\\red","\\textcolor{##df0030}{#1}");H("\\green","\\textcolor{##28ae7b}{#1}");H("\\gray","\\textcolor{gray}{#1}");H("\\purple","\\textcolor{##9d38bd}{#1}");H("\\blueA","\\textcolor{##ccfaff}{#1}");H("\\blueB","\\textcolor{##80f6ff}{#1}");H("\\blueC","\\textcolor{##63d9ea}{#1}");H("\\blueD","\\textcolor{##11accd}{#1}");H("\\blueE","\\textcolor{##0c7f99}{#1}");H("\\tealA","\\textcolor{##94fff5}{#1}");H("\\tealB","\\textcolor{##26edd5}{#1}");H("\\tealC","\\textcolor{##01d1c1}{#1}");H("\\tealD","\\textcolor{##01a995}{#1}");H("\\tealE","\\textcolor{##208170}{#1}");H("\\greenA","\\textcolor{##b6ffb0}{#1}");H("\\greenB","\\textcolor{##8af281}{#1}");H("\\greenC","\\textcolor{##74cf70}{#1}");H("\\greenD","\\textcolor{##1fab54}{#1}");H("\\greenE","\\textcolor{##0d923f}{#1}");H("\\goldA","\\textcolor{##ffd0a9}{#1}");H("\\goldB","\\textcolor{##ffbb71}{#1}");H("\\goldC","\\textcolor{##ff9c39}{#1}");H("\\goldD","\\textcolor{##e07d10}{#1}");H("\\goldE","\\textcolor{##a75a05}{#1}");H("\\redA","\\textcolor{##fca9a9}{#1}");H("\\redB","\\textcolor{##ff8482}{#1}");H("\\redC","\\textcolor{##f9685d}{#1}");H("\\redD","\\textcolor{##e84d39}{#1}");H("\\redE","\\textcolor{##bc2612}{#1}");H("\\maroonA","\\textcolor{##ffbde0}{#1}");H("\\maroonB","\\textcolor{##ff92c6}{#1}");H("\\maroonC","\\textcolor{##ed5fa6}{#1}");H("\\maroonD","\\textcolor{##ca337c}{#1}");H("\\maroonE","\\textcolor{##9e034e}{#1}");H("\\purpleA","\\textcolor{##ddd7ff}{#1}");H("\\purpleB","\\textcolor{##c6b9fc}{#1}");H("\\purpleC","\\textcolor{##aa87ff}{#1}");H("\\purpleD","\\textcolor{##7854ab}{#1}");H("\\purpleE","\\textcolor{##543b78}{#1}");H("\\mintA","\\textcolor{##f5f9e8}{#1}");H("\\mintB","\\textcolor{##edf2df}{#1}");H("\\mintC","\\textcolor{##e0e5cc}{#1}");H("\\grayA","\\textcolor{##f6f7f7}{#1}");H("\\grayB","\\textcolor{##f0f1f2}{#1}");H("\\grayC","\\textcolor{##e3e5e6}{#1}");H("\\grayD","\\textcolor{##d6d8da}{#1}");H("\\grayE","\\textcolor{##babec2}{#1}");H("\\grayF","\\textcolor{##888d93}{#1}");H("\\grayG","\\textcolor{##626569}{#1}");H("\\grayH","\\textcolor{##3b3e40}{#1}");H("\\grayI","\\textcolor{##21242c}{#1}");H("\\kaBlue","\\textcolor{##314453}{#1}");H("\\kaGreen","\\textcolor{##71B307}{#1}");var HA={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class tX{constructor(e,n,s){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new JY(eX,n.macros),this.mode=s,this.stack=[]}feed(e){this.lexer=new E7(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,s,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:r,end:s}=this.consumeArg(["]"])}else({tokens:r,start:n,end:s}=this.consumeArg());return this.pushToken(new Hi("EOF",s.loc)),this.pushTokens(r),new Hi("",wi.range(n,s))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],s=e&&e.length>0;s||this.consumeSpaces();var r=this.future(),a,l=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new we("Extra }",a)}else if(a.text==="EOF")throw new we("Unexpected end of input in a macro argument, expected '"+(e&&s?e[o]:"}")+"'",a);if(e&&s)if((l===0||l===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(l!==0||s);return r.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:r,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new we("The length of delimiters doesn't match the number of args!");for(var s=n[0],r=0;r<s.length;r++){var a=this.popToken();if(s[r]!==a.text)throw new we("Use of the macro doesn't match its definition",a)}}for(var l=[],o=0;o<e;o++)l.push(this.consumeArg(n&&n[o+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new we("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),s=n.text,r=n.noexpand?null:this._getExpansion(s);if(r==null||e&&r.unexpandable){if(e&&r==null&&s[0]==="\\"&&!this.isDefined(s))throw new we("Undefined control sequence: "+s);return this.pushToken(n),!1}this.countExpansion(1);var a=r.tokens,l=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var c=a[o];if(c.text==="#"){if(o===0)throw new we("Incomplete placeholder at end of macro body",c);if(c=a[--o],c.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(c.text))a.splice(o,2,...l[+c.text-1]);else throw new we("Not a valid argument number",c)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Hi(e)]):void 0}expandTokens(e){var n=[],s=this.stack.length;for(this.pushTokens(e);this.stack.length>s;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),n.push(r)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(s=>s.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var s=this.lexer.catcodes[e];if(s!=null&&s!==13)return}var r=typeof n=="function"?n(this):n;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var l=r.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var o=new E7(r,this.settings),c=[],h=o.lex();h.text!=="EOF";)c.push(h),h=o.lex();c.reverse();var u={tokens:c,numArgs:a};return u}return r}isDefined(e){return this.macros.has(e)||Ma.hasOwnProperty(e)||_t.math.hasOwnProperty(e)||_t.text.hasOwnProperty(e)||HA.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Ma.hasOwnProperty(e)&&!Ma[e].primitive}}var z7=/^[]/,ad=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),U1={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},D7={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class $f{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new tX(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new we("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Hi("}")),this.gullet.pushTokens(e);var s=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,s}parseExpression(e,n){for(var s=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if($f.endOfExpression.indexOf(r.text)!==-1||n&&r.text===n||e&&Ma[r.text]&&Ma[r.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;s.push(a)}return this.mode==="text"&&this.formLigatures(s),this.handleInfixNodes(s)}handleInfixNodes(e){for(var n=-1,s,r=0;r<e.length;r++)if(e[r].type==="infix"){if(n!==-1)throw new we("only one infix operator per group",e[r].token);n=r,s=e[r].replaceWith}if(n!==-1&&s){var a,l,o=e.slice(0,n),c=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?l=c[0]:l={type:"ordgroup",mode:this.mode,body:c};var h;return s==="\\\\abovefrac"?h=this.callFunction(s,[a,e[n],l],[]):h=this.callFunction(s,[a,l],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),s=n.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new we("Expected group after '"+s+"'",n);return r}formatUnsupportedCmd(e){for(var n=[],s=0;s<e.length;s++)n.push({type:"textord",mode:"text",text:e[s]});var r={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var s,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var l=a.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new we("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(s)throw new we("Double superscript",a);s=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new we("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(s)throw new we("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:c}}else if(ad[a.text]){var h=z7.test(a.text),u=[];for(u.push(new Hi(ad[a.text])),this.consume();;){var m=this.fetch().text;if(!ad[m]||z7.test(m)!==h)break;u.unshift(new Hi(ad[m])),this.consume()}var p=this.subparse(u);h?r={type:"ordgroup",mode:"math",body:p}:s={type:"ordgroup",mode:"math",body:p}}else break}return s||r?{type:"supsub",mode:this.mode,base:n,sup:s,sub:r}:n}parseFunction(e,n){var s=this.fetch(),r=s.text,a=Ma[r];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new we("Got function '"+r+"' with no arguments"+(n?" as "+n:""),s);if(this.mode==="text"&&!a.allowedInText)throw new we("Can't use function '"+r+"' in text mode",s);if(this.mode==="math"&&a.allowedInMath===!1)throw new we("Can't use function '"+r+"' in math mode",s);var{args:l,optArgs:o}=this.parseArguments(r,a);return this.callFunction(r,l,o,s,e)}callFunction(e,n,s,r,a){var l={funcName:e,parser:this,token:r,breakOnTokenText:a},o=Ma[e];if(o&&o.handler)return o.handler(l,n,s);throw new we("No function handler for "+e)}parseArguments(e,n){var s=n.numArgs+n.numOptionalArgs;if(s===0)return{args:[],optArgs:[]};for(var r=[],a=[],l=0;l<s;l++){var o=n.argTypes&&n.argTypes[l],c=l<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&l===1&&a[0]==null)&&(o="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",o,c);if(c)a.push(h);else if(h!=null)r.push(h);else throw new we("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,n,s){switch(n){case"color":return this.parseColorGroup(s);case"size":return this.parseSizeGroup(s);case"url":return this.parseUrlGroup(s);case"math":case"text":return this.parseArgumentGroup(s,n);case"hbox":{var r=this.parseArgumentGroup(s,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",s);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(s)throw new we("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new we("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(s);default:throw new we("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var s=this.gullet.scanArgument(n);if(s==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),s.text=r,s}parseRegexGroup(e,n){for(var s=this.fetch(),r=s,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)r=l,a+=r.text,this.consume();if(a==="")throw new we("Invalid "+n+": '"+s.text+"'",s);return s.range(r,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var s=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!s)throw new we("Invalid color: '"+n.text+"'",n);var r=s[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var n,s=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",s=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!r)throw new we("Invalid size: '"+n.text+"'",n);var a={number:+(r[1]+r[2]),unit:r[3]};if(!eA(a))throw new we("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:s}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var s=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:s}}parseArgumentGroup(e,n){var s=this.gullet.scanArgument(e);if(s==null)return null;var r=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:s.loc,body:a};return n&&this.switchMode(r),l}parseGroup(e,n){var s=this.fetch(),r=s.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var l=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,l),c=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:wi.range(s,c),body:o,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!HA.hasOwnProperty(r)){if(this.settings.throwOnError)throw new we("Undefined control sequence: "+r,s);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var n=e.length-1,s=0;s<n;++s){var r=e[s],a=r.text;a==="-"&&e[s+1].text==="-"&&(s+1<n&&e[s+2].text==="-"?(e.splice(s,3,{type:"textord",mode:"text",loc:wi.range(r,e[s+2]),text:"---"}),n-=2):(e.splice(s,2,{type:"textord",mode:"text",loc:wi.range(r,e[s+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[s+1].text===a&&(e.splice(s,2,{type:"textord",mode:"text",loc:wi.range(r,e[s+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var s=n.slice(5),r=s.charAt(0)==="*";if(r&&(s=s.slice(1)),s.length<2||s.charAt(0)!==s.slice(-1))throw new we(`\\verb assertion failed --
                    please report what input caused this bug`);return s=s.slice(1,-1),{type:"verb",mode:"text",body:s,star:r}}D7.hasOwnProperty(n[0])&&!_t[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=D7[n[0]]+n.slice(1));var a=QY.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var l;if(_t[this.mode][n]){this.settings.strict&&this.mode==="math"&&Vg.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=_t[this.mode][n].group,c=wi.range(e),h;if(UW.hasOwnProperty(o)){var u=o;h={type:"atom",mode:this.mode,family:u,loc:c,text:n}}else h={type:o,mode:this.mode,loc:c,text:n};l=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(JN(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:wi.range(e),text:n};else return null;if(this.consume(),a)for(var m=0;m<a[0].length;m++){var p=a[0][m];if(!U1[p])throw new we("Unknown accent ' "+p+"'",e);var b=U1[p][this.mode]||U1[p].text;if(!b)throw new we("Accent "+p+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:wi.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}$f.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var zy=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s=new $f(e,n);delete s.gullet.macros.current["\\df@tag"];var r=s.parse();if(delete s.gullet.macros.current["\\current@color"],delete s.gullet.macros.current["\\color"],s.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new we("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:s.subparse([new Hi("\\df@tag")])}]}return r},VA=function(e,n,s){n.textContent="";var r=Dy(e,s).toNode();n.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),VA=function(){throw new we("KaTeX doesn't work in quirks mode.")});var nX=function(e,n){var s=Dy(e,n).toMarkup();return s},iX=function(e,n){var s=new my(n);return zy(e,s)},GA=function(e,n,s){if(s.throwOnError||!(e instanceof we))throw e;var r=ce.makeSpan(["katex-error"],[new gs(n)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+s.errorColor),r},Dy=function(e,n){var s=new my(n);try{var r=zy(e,s);return dY(r,e,s)}catch(a){return GA(a,e,s)}},sX=function(e,n){var s=new my(n);try{var r=zy(e,s);return mY(r,e,s)}catch(a){return GA(a,e,s)}},rX="0.16.27",aX={Span:Kh,Anchor:xy,SymbolNode:gs,SvgNode:Wr,PathNode:nl,LineNode:Hg},lX={version:rX,render:VA,renderToString:nX,ParseError:we,SETTINGS_SCHEMA:zd,__parse:iX,__renderToDomTree:Dy,__renderToHTMLTree:sX,__setFontMetrics:RW,__defineSymbol:D,__defineFunction:De,__defineMacro:H,__domTree:aX};function Y({children:t,className:e=""}){const n=q.useRef(null);return q.useEffect(()=>{n.current&&lX.render(t,n.current,{throwOnError:!1,displayMode:!0})},[t]),i.jsx("div",{ref:n,className:`my-6 text-center text-lg overflow-x-auto ${e}`})}const Bm=[{id:"def-sample",title:"Sample Definition",statement:"A function $f: A \\to B$ is a mapping from set $A$ to set $B$.",sectionId:1,category:"Fundamentals",type:"definition"},{id:"thm-sample",title:"Sample Theorem",statement:"If $A \\subseteq B$ and $B \\subseteq A$, then $A = B$",sectionId:2,category:"Fundamentals",type:"theorem",hasProof:!0,proof:`
      Let $x \\in A$. Since $A \\subseteq B$, we have $x \\in B$ by definition of subset.
      Therefore, every element of $A$ is in $B$.
      
      Now, let $y \\in B$. Since $B \\subseteq A$, we have $y \\in A$ by definition.
      Therefore, every element of $B$ is in $A$.
      
      Since $A \\subseteq B$ and $B \\subseteq A$, the two sets contain exactly the same elements.
      Thus, $A = B$.
    `}];function oX(){return[...new Set(Bm.map(t=>t.category).filter(t=>!!t))]}function cX(t){const e=t.toLowerCase();return Bm.filter(n=>n.title.toLowerCase().includes(e)||n.statement.toLowerCase().includes(e))}function hX(){const[t,e]=q.useState(!1),[n,s]=q.useState(""),[r,a]=q.useState(null),l=n?cX(n):Bm,o=n?[{category:"Search Results",items:l}]:oX().map(u=>({category:u,items:Bm.filter(m=>m.category===u)})),c=u=>{a(r===u?null:u)},h={theorem:"text-amber-400 bg-amber-500/10",definition:"text-blue-400 bg-blue-500/10",lemma:"text-purple-400 bg-purple-500/10",corollary:"text-green-400 bg-green-500/10",proposition:"text-cyan-400 bg-cyan-500/10"};return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(Mf,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),i.jsx(zf,{isOpen:t,onClose:()=>e(!1)}),i.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Theorems & Definitions"}),i.jsxs("p",{className:"text-dark-400 mb-8",children:["Quick reference for all theorems and definitions in ",K4]}),i.jsx("div",{className:"mb-8",children:i.jsx("input",{type:"text",placeholder:"Search theorems and definitions...",value:n,onChange:u=>s(u.target.value),className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors"})}),i.jsx("div",{className:"bg-gradient-to-br from-amber-500/10 to-dark-800/50 border border-amber-500/20 rounded-2xl p-4 mb-8",children:i.jsxs("p",{className:"text-amber-300 text-sm",children:[i.jsx("span",{className:"font-semibold",children:"Tip:"})," Click any theorem to go to its section. Many include expandable proofs with LaTeX!"]})}),i.jsx("div",{className:"space-y-8",children:o.map(({category:u,items:m})=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h2",{className:"text-xl font-bold text-dark-200 border-b border-dark-700/50 pb-2 flex items-center gap-3",children:[i.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center text-sm font-bold text-amber-400",children:m.length}),u]}),i.jsx("div",{className:"space-y-2",children:m.map(p=>i.jsx(ii,{to:`/section/${p.sectionId}`,className:"block group",children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-dark-800/40 border border-dark-700/50 p-4 transition-all duration-200 hover:border-amber-500/30 hover:bg-dark-800/60",children:[i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500 to-orange-600 opacity-40 group-hover:opacity-100 transition-opacity"}),i.jsxs("div",{className:"pl-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[p.type&&i.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded ${h[p.type]||"text-dark-400 bg-dark-700"}`,children:p.type}),i.jsxs("span",{className:"text-[10px] text-dark-500",children:["Section ",p.sectionId]}),p.sectionTitle&&i.jsx("span",{className:"text-[10px] text-dark-600",children:p.sectionTitle}),p.hasProof&&p.proof&&i.jsx("span",{onClick:b=>{b.preventDefault(),c(p.id)},className:"ml-auto text-[10px] text-amber-500/70 font-medium cursor-pointer hover:text-amber-400 transition-colors",children:r===p.id?"Hide Proof":"View Proof"})]}),i.jsx("h3",{className:"font-semibold text-amber-400 group-hover:text-amber-300 transition-colors",children:p.title}),i.jsx("p",{className:"text-sm text-dark-400 mt-1",children:p.statement}),p.hasProof&&p.proof&&i.jsx("div",{className:"mt-3",children:i.jsx(wh,{children:r===p.id?i.jsx(Ps.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:i.jsxs("div",{className:"pt-4 border-t border-dark-700/50",children:[i.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Proof:"}),i.jsx(Y,{children:p.proof})]})}):null})})]})]})},p.id))})]},u))}),l.length===0&&i.jsx("div",{className:"text-center py-12 text-dark-400",children:"No theorems found matching your search."}),i.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700/50 flex justify-between items-center",children:i.jsxs(ii,{to:"/interactive",className:"text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-5-9-5 5-2-9 0-9 5 5 9 12 19 19 2 12 0 0 0 9 5-2-9-5-9 0-9 5-9-5 5-2 9 0 9-5"})}),"Interactive Modules"]})})]})})]})}const H1=[{id:"demo-1",title:"Example Demo",description:"An interactive demonstration of the concept.",sectionId:0,sectionTitle:"Welcome",category:"Basics",icon:""}];function uX(){const[t,e]=q.useState(!1),[n,s]=q.useState(null),r=[...new Set(H1.map(l=>l.category))],a=n?H1.filter(l=>l.category===n):H1;return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(Mf,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),i.jsx(zf,{isOpen:t,onClose:()=>e(!1)}),i.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Interactive Modules"}),i.jsx("p",{className:"text-dark-400 mb-8",children:"Explore concepts through hands-on interactive visualizations"}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[i.jsx("button",{onClick:()=>s(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===null?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All"}),r.map(l=>i.jsx("button",{onClick:()=>s(l),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===l?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:l},l))]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(l=>i.jsx(ii,{to:`/section/${l.sectionId}`,className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-primary-500/30 transition-colors group",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:l.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-dark-100 group-hover:text-primary-400 transition-colors",children:l.title}),i.jsx("p",{className:"text-sm text-dark-400 mt-1",children:l.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-dark-700 text-dark-300",children:l.category}),i.jsxs("span",{className:"text-xs text-dark-500",children:["Section ",l.sectionId]})]})]})]})},l.id))}),a.length===0&&i.jsx("div",{className:"text-center py-12 text-dark-400",children:"No modules found in this category."})]})})]})}function xe({title:t,children:e,className:n=""}){return i.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 ${n}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-semibold text-blue-400 uppercase tracking-wider",children:"Definition"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),i.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}function ue({title:t,children:e,proof:n,className:s=""}){const[r,a]=q.useState(!1);return i.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 ${s}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-semibold text-amber-400 uppercase tracking-wider",children:"Theorem"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),i.jsx("div",{className:"text-dark-300 pl-11",children:e}),n&&i.jsxs("div",{className:"mt-4 pl-11",children:[i.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 text-sm text-amber-400 hover:text-amber-300 transition-colors",children:[i.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r?"Hide Proof":"Show Proof"]}),i.jsx(wh,{children:r&&i.jsx(Ps.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:i.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 text-dark-300",children:[i.jsx("div",{className:"text-xs font-semibold text-dark-500 uppercase tracking-wider mb-2",children:"Proof"}),n,i.jsx("div",{className:"text-right mt-4 text-dark-500",children:""})]})})})]})]})}function kh({title:t,children:e,className:n=""}){return i.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 ${n}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Example"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),i.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}const dX={info:{bg:"bg-blue-500/5",border:"border-blue-500/30",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-blue-400"},warning:{bg:"bg-yellow-500/5",border:"border-yellow-500/30",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",iconColor:"text-yellow-400"},danger:{bg:"bg-red-500/5",border:"border-red-500/30",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-red-400"},success:{bg:"bg-emerald-500/5",border:"border-emerald-500/30",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-emerald-400"},important:{bg:"bg-purple-500/5",border:"border-purple-500/30",icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z",iconColor:"text-purple-400"}};function me({type:t="info",title:e,children:n,className:s=""}){const r=dX[t];return i.jsx("div",{className:`my-6 p-4 rounded-xl ${r.bg} border ${r.border} ${s}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("svg",{className:`w-5 h-5 ${r.iconColor} flex-shrink-0 mt-0.5`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.icon})}),i.jsxs("div",{className:"flex-1",children:[e&&i.jsx("h4",{className:`font-semibold ${r.iconColor} mb-1`,children:e}),i.jsx("div",{className:"text-dark-300 text-sm",children:n})]})]})})}const mX=[{id:1,type:"multiple-choice",question:"In Euclid's construction of an equilateral triangle on segment AB, the third vertex C is found by:",options:["Drawing a perpendicular bisector of AB","Drawing circles centered at A and B, both with radius AB, and finding their intersection","Measuring 60 angles at A and B","Finding the midpoint of AB and drawing a perpendicular"],correctIndex:1,difficulty:"easy",explanation:"Euclid draws two circles of radius AB centered at A and B. Their intersection point C forms the third vertex of the equilateral triangle."},{id:2,type:"multiple-choice",question:"Why are all three sides of the constructed triangle equal?",options:["Because Euclid assumed they are equal","Because AB and CA are radii of the first circle, AB and BC are radii of the second circle","Because the angles are all 60","Because the triangle is inscribed in a circle"],correctIndex:1,difficulty:"medium",explanation:"AB = CA (radii of circle centered at A) and AB = BC (radii of circle centered at B), so all three sides equal AB."},{id:3,type:"multiple-choice",question:"What gap exists in Euclid's first proposition?",options:["He doesn't prove the angles are 60","He has no axiom guaranteeing that the two circles intersect","He assumes the compass radius remains fixed","He doesn't define what a circle is"],correctIndex:1,difficulty:"medium",explanation:"Euclid never states an axiom about circle intersection, so he hasn't justified that point C exists. This gap was only filled by modern mathematicians."},{id:4,type:"multiple-choice",question:"A regular hexagon can be constructed by:",options:["Drawing six equilateral triangles sharing a common vertex","Starting with a circle and marking points at compass-radius intervals around it","Bisecting the angles of a regular 12-gon","Both A and B are correct"],correctIndex:3,difficulty:"medium",explanation:"A regular hexagon can be constructed either by arranging six equilateral triangles around a center, or by stepping around a circle with compass set to the radius."},{id:5,type:"multiple-choice",question:"According to the Gauss-Wantzel theorem, a regular polygon with a prime number p of sides is constructible if and only if:",options:["p is odd","p is of the form $2^{2^m} + 1$ (a Fermat prime)","p is less than 100","p divides 360"],correctIndex:1,difficulty:"hard",explanation:"Gauss showed that a regular p-gon (p prime) is constructible iff p is a Fermat prime of the form $2^{2^m} + 1$. Known Fermat primes are 3, 5, 17, 257, and 65537."},{id:6,type:"multiple-choice",question:"Which of the following regular polygons was NOT known to be constructible by the ancient Greeks?",options:["Regular triangle (3-gon)","Regular pentagon (5-gon)","Regular hexagon (6-gon)","Regular 17-gon"],correctIndex:3,difficulty:"easy",explanation:"The regular 17-gon was first constructed by Gauss in 1796, over 2000 years after Euclid."}],fX=[{id:1,type:"multiple-choice",question:"To bisect a line segment AB using straightedge and compass:",options:["Draw perpendicular lines at A and B","Draw circles of radius AB centered at A and B, then connect their two intersection points","Find a point equidistant from A and B by trial and error","Measure the segment and mark the halfway point"],correctIndex:1,difficulty:"easy",explanation:"Drawing circles of radius AB at both endpoints creates two intersection points. The line through these points is the perpendicular bisector of AB."},{id:2,type:"multiple-choice",question:"The line constructed when bisecting segment AB is:",options:["Parallel to AB","Perpendicular to AB and passes through its midpoint","At a 45 angle to AB","Tangent to the circles used in construction"],correctIndex:1,difficulty:"easy",explanation:"The perpendicular bisector is perpendicular to AB and passes through its midpoint."},{id:3,type:"multiple-choice",question:"Why is angle trisection fundamentally different from line segment trisection?",options:["Angles cannot be measured","There is no tool like parallel lines for dividing angles into equal parts","Angles are always less than 180","Trisecting angles requires a protractor"],correctIndex:1,difficulty:"medium",explanation:"Line segments can be divided using parallel lines (via Thales' theorem), but there is no corresponding tool for angles, making angle trisection impossible with straightedge and compass alone."},{id:4,type:"multiple-choice",question:"To divide a line segment into n equal parts, we use:",options:["n circles of equal radius","An auxiliary line with n equally spaced points and parallel lines","n perpendicular bisector constructions","A series of angle bisections"],correctIndex:1,difficulty:"medium",explanation:"Mark n points on an auxiliary line, connect the last to the endpoint, then draw parallels through the other points. By Thales' theorem, these divide the segment equally."},{id:5,type:"multiple-choice",question:"The Thales theorem states that:",options:["The sum of angles in a triangle is 180","Parallel lines cut any lines they cross in proportional segments","An angle inscribed in a semicircle is 90","The base angles of an isosceles triangle are equal"],correctIndex:1,difficulty:"medium",explanation:"The Thales theorem (basic proportionality) states that parallels cut transversals in proportional segments. This is key for dividing segments and for similar triangles."},{id:6,type:"multiple-choice",question:"To construct a line parallel to L through point P (not on L):",options:["Draw any line through P","Construct two perpendiculars: first to L through P, then to that perpendicular through P","Bisect the angle between P and L","Draw a circle centered at P tangent to L"],correctIndex:1,difficulty:"medium",explanation:"First construct the perpendicular from P to L, then construct a perpendicular to that line through P. This second perpendicular is parallel to L."}],pX=[{id:1,type:"multiple-choice",question:"To multiply line segments geometrically, we first need to choose:",options:["A coordinate system","A unit length segment","A right angle","A circle of reference"],correctIndex:1,difficulty:"easy",explanation:"Unlike addition, multiplication requires a reference unit length. The choice is arbitrary but must be fixed for all calculations."},{id:2,type:"multiple-choice",question:"In the geometric construction for the product ab, if we have unit length 1 and segments a and b:",options:["We draw a right triangle with legs a and b","We use similar triangles with sides 1, a and b, ab","We bisect the segment a + b","We construct the perpendicular bisector of ab"],correctIndex:1,difficulty:"medium",explanation:"Using the Thales theorem with a triangle having sides 1 and a, we extend by b and draw a parallel to get ab by similar triangles."},{id:3,type:"multiple-choice",question:"The diagonal of a unit square has length:",options:["2","$\\sqrt{2}$","1.5","$\\sqrt{3}$"],correctIndex:1,difficulty:"easy",explanation:"By the Pythagorean theorem, $d^2 = 1^2 + 1^2 = 2$, so $d = \\sqrt{2}$."},{id:4,type:"multiple-choice",question:"The Pythagoreans proved that $\\sqrt{2}$ is irrational by:",options:["Calculating its decimal expansion","Showing that assuming $\\sqrt{2} = m/n$ leads to both m and n being even, contradicting that they have no common factor","Constructing a line segment that doesn't fit any ruler","Showing it cannot be expressed as a fraction"],correctIndex:1,difficulty:"medium",explanation:"If $\\sqrt{2} = m/n$ with no common factors, then $m^2 = 2n^2$ implies m is even, say m = 2l, so $4l^2 = 2n^2$, meaning n is also evena contradiction."},{id:5,type:"multiple-choice",question:"The Greeks interpreted the product of line segments a and b as:",options:["Another line segment","The rectangle with sides a and b (an area)","The diagonal of a rectangle with sides a and b","The circle with diameter a + b"],correctIndex:1,difficulty:"medium",explanation:"The Greeks viewed ab as the area of a rectangle with perpendicular sides a and b. Descartes later reinterpreted the product as a line segment."},{id:6,type:"multiple-choice",question:"Why did the Greek interpretation of products as areas cause difficulties?",options:["Areas are hard to measure","The product of three lengths is a volume, but four lengths has no geometric meaning","Rectangles are not constructible","They couldn't compute square roots"],correctIndex:1,difficulty:"hard",explanation:"If ab is an area and abc is a volume, what is abcd? This dimensional problem hindered the development of algebra until Descartes' reinterpretation."}],xX=[{id:1,type:"multiple-choice",question:"Two triangles are similar if:",options:["They have the same area","Their corresponding angles are equal","Their corresponding sides are equal","They share a common vertex"],correctIndex:1,difficulty:"easy",explanation:"Similar triangles have equal corresponding angles. This implies proportional sidesone is a scaled version of the other."},{id:2,type:"multiple-choice",question:"If triangles ABC and DEF are similar with corresponding sides in ratio k, then:",options:["Their areas are in ratio k","Their perimeters are in ratio $k^2$","All corresponding sides are in ratio k","Their angles are in ratio k"],correctIndex:2,difficulty:"easy",explanation:"Similar triangles have all corresponding sides in the same ratio k. (Areas would be in ratio $k^2$, perimeters in ratio k.)"},{id:3,type:"multiple-choice",question:"The proof that similar triangles have proportional sides uses:",options:["The Pythagorean theorem","The Thales theorem (parallel lines cut proportional segments)","The angle sum theorem","Congruence axioms"],correctIndex:1,difficulty:"medium",explanation:"By placing one triangle inside the other (matching one angle), the parallel sides are cut proportionally by the Thales theorem."},{id:4,type:"multiple-choice",question:"In Pappus's theorem (parallel case), if points A, B, C and D, E, F lie alternately on two lines through O, and AB  ED and FE  BC, then:",options:["AC = DF","AF  CD","Triangles ABC and DEF are congruent","O is the midpoint of AD"],correctIndex:1,difficulty:"hard",explanation:"Pappus's theorem states that under these conditions, AF is parallel to CD."},{id:5,type:"multiple-choice",question:"The half-square and quarter-square (formed by diagonals of the unit square) are similar because:",options:["They have the same area","They both have one right angle and two 45 angles","They share a common vertex","Their sides are equal"],correctIndex:1,difficulty:"medium",explanation:"Both triangles have angles 90, 45, 45, making them similar. Comparing their sides gives $d = \\sqrt{2}$."},{id:6,type:"multiple-choice",question:"Desargues's theorem (parallel case) concerns two triangles that are:",options:["Congruent","In perspective from a point O (corresponding vertices lie on lines through O)","Inscribed in the same circle","Reflections of each other"],correctIndex:1,difficulty:"medium",explanation:`Desargues's theorem applies to triangles "in perspective from O"where lines through corresponding vertices all pass through O.`}],gX=[{id:1,type:"multiple-choice",question:"How many regular polyhedra exist?",options:["3","4","5","6"],correctIndex:2,difficulty:"easy",explanation:"There are exactly 5 regular polyhedra: tetrahedron, cube, octahedron, dodecahedron, and icosahedron."},{id:2,type:"multiple-choice",question:"Which regular polygons appear as faces of the five regular polyhedra?",options:["Triangles, squares, and hexagons","Triangles, squares, and pentagons","Only triangles and squares","All regular polygons up to the hexagon"],correctIndex:1,difficulty:"medium",explanation:"The five polyhedra use equilateral triangles (tetrahedron, octahedron, icosahedron), squares (cube), and regular pentagons (dodecahedron)."},{id:3,type:"multiple-choice",question:"Who first constructed the regular 17-gon?",options:["Euclid (c. 300 BCE)","Archimedes (c. 250 BCE)","Gauss (1796)","Descartes (1637)"],correctIndex:2,difficulty:"easy",explanation:"Carl Friedrich Gauss constructed the regular 17-gon in 1796 at age 19, the first new constructible prime-gon since antiquity."},{id:4,type:"multiple-choice",question:"A Fermat prime is a prime of the form:",options:["$2^n + 1$","$2^{2^m} + 1$","$2^n - 1$","$n^2 + 1$"],correctIndex:1,difficulty:"medium",explanation:"Fermat primes have the form $2^{2^m} + 1$. The known Fermat primes are 3, 5, 17, 257, and 65537."},{id:5,type:"multiple-choice",question:"Why is $F_5 = 2^{32} + 1 = 4,294,967,297$ NOT a Fermat prime?",options:["It is even","It is divisible by 641","It is too large to be prime","Fermat proved it was composite"],correctIndex:1,difficulty:"hard",explanation:"Euler showed in 1732 that $F_5$ is divisible by 641. This disproved Fermat's conjecture that all numbers of this form are prime."},{id:6,type:"multiple-choice",question:"A regular n-gon is constructible by straightedge and compass if and only if n has the form:",options:["$2^k$ where k  0","$2^k \\cdot p_1 \\cdot p_2 \\cdots p_r$ where the $p_i$ are distinct Fermat primes","Any power of 2 or any prime","Any integer greater than 2"],correctIndex:1,difficulty:"hard",explanation:"n must be a power of 2 times a product of distinct Fermat primes (3, 5, 17, 257, 65537, or possibly others not yet discovered)."}],yX=[{id:1,type:"multiple-choice",question:"Euclid's parallel axiom (fifth postulate) states that if a transversal crosses two lines making interior angles on one side summing to less than two right angles, then:",options:["The lines are parallel","The lines meet on that side","The lines are perpendicular","The lines never meet"],correctIndex:1,difficulty:"medium",explanation:"When interior angles sum to less than 180, the lines will eventually meet on that side. If equal to 180, they are parallel."},{id:2,type:"multiple-choice",question:"Playfair's axiom states:",options:["Through any point, infinitely many parallels to a line exist","Given a line L and point P not on L, exactly one parallel to L passes through P","All lines eventually meet","Parallel lines have equal length"],correctIndex:1,difficulty:"easy",explanation:"Playfair's axiom is a simpler, equivalent form of Euclid's fifth postulate: exactly one parallel exists through any external point."},{id:3,type:"multiple-choice",question:"The sum of angles in a triangle equals:",options:["Less than 180 in all geometries","Exactly 180 ( radians) in Euclidean geometry","More than 180 in Euclidean geometry","360"],correctIndex:1,difficulty:"easy",explanation:"In Euclidean geometry, the angle sum is exactly 180. This depends on the parallel axiom; in non-Euclidean geometries it differs."},{id:4,type:"multiple-choice",question:"When a transversal crosses two parallel lines, alternate interior angles are:",options:["Supplementary (sum to 180)","Equal","Complementary (sum to 90)","Always acute"],correctIndex:1,difficulty:"easy",explanation:"Alternate interior angles formed by a transversal crossing parallel lines are equal."},{id:5,type:"multiple-choice",question:"An exterior angle of a triangle equals:",options:["The adjacent interior angle","The sum of the two non-adjacent interior angles","180 minus the adjacent angle","Both B and C are correct"],correctIndex:3,difficulty:"medium",explanation:"An exterior angle equals both the sum of the remote interior angles (by the angle sum theorem) and 180 minus its adjacent interior angle (supplementary angles)."},{id:6,type:"multiple-choice",question:"In non-Euclidean geometry, the angle sum of a triangle can be:",options:["Only exactly 180","Greater than 180 (spherical) or less than 180 (hyperbolic)","Any value from 0 to 360","Always 270"],correctIndex:1,difficulty:"medium",explanation:"On a sphere, angle sum exceeds 180; in hyperbolic geometry, it is less than 180. The parallel axiom determines which."}],bX=[{id:1,type:"multiple-choice",question:"SAS congruence means two triangles are congruent if they have equal:",options:["Three sides","Two sides and the included angle","Two angles and one side","All three angles"],correctIndex:1,difficulty:"easy",explanation:"Side-Angle-Side: if two sides and the angle between them are equal, the triangles are congruent."},{id:2,type:"multiple-choice",question:"In modern treatments, SAS is taken as:",options:["A theorem proved from simpler axioms","An axiom (accepted without proof)","A definition of congruence","A corollary of ASA"],correctIndex:1,difficulty:"medium",explanation:'Euclid "proved" SAS by superposition, but this is logically problematic. Modern geometry takes SAS as an axiom.'},{id:3,type:"multiple-choice",question:"ASA congruence can be proved from:",options:["The parallel axiom","SAS congruence","The Pythagorean theorem","The definition of angle"],correctIndex:1,difficulty:"medium",explanation:"ASA is a theorem that follows from SAS and the exterior angle theorem."},{id:4,type:"multiple-choice",question:"Pappus's elegant proof of the isosceles triangle theorem compares:",options:["The triangle with a congruent copy","The triangle with itself read in reverse order (ABC vs ACB)","Two smaller triangles formed by the altitude","The triangle with its reflection"],correctIndex:1,difficulty:"hard",explanation:'Pappus compared triangle ABC with "triangle ACB" (the same triangle with vertices relabeled). By SAS, they are congruent, proving the base angles equal.'},{id:5,type:"multiple-choice",question:"The isosceles triangle theorem states:",options:["All triangles are isosceles","If two sides are equal, the opposite angles are equal","If two angles are equal, the triangle is equilateral","The base of an isosceles triangle is longest"],correctIndex:1,difficulty:"easy",explanation:"If AB = AC in triangle ABC, then angle ABC = angle ACB (the base angles are equal)."},{id:6,type:"multiple-choice",question:"To prove that opposite sides of a parallelogram are equal, we use:",options:["SAS with the two triangles formed by a diagonal","ASA with the two triangles formed by a diagonal","The Pythagorean theorem","The definition of parallel lines"],correctIndex:1,difficulty:"medium",explanation:"Drawing a diagonal creates two triangles. Alternate interior angles give two pairs of equal angles, and the diagonal is shared. By ASA, the triangles are congruent."}],vX=[{id:1,type:"multiple-choice",question:`Euclid's concept of "equal" figures means:`,options:["Congruent (same shape and size)","Having equal area","Similar (same shape)","Having equal perimeter"],correctIndex:1,difficulty:"easy",explanation:'For Euclid, figures are "equal" if they have the same area, even if they have different shapes.'},{id:2,type:"multiple-choice",question:"Two parallelograms with the same base and height have:",options:["Equal perimeter","Equal area","Equal diagonals","The same shape"],correctIndex:1,difficulty:"easy",explanation:"Euclid I.35 establishes that parallelograms on the same base between the same parallels have equal areas."},{id:3,type:"multiple-choice",question:"The area of a triangle with base b and height h is:",options:["$bh$","$\\frac{1}{2}bh$","$2bh$","$b + h$"],correctIndex:1,difficulty:"easy",explanation:"A triangle is half of a parallelogram with the same base and height."},{id:4,type:"multiple-choice",question:'"Shearing" a parallelogram means:',options:["Cutting it in half","Sliding the top edge parallel to the base, keeping base and height constant","Rotating it 90","Reflecting it across a diagonal"],correctIndex:1,difficulty:"medium",explanation:"Shearing slides one edge parallel to the opposite edge. This preserves base and height, hence area."},{id:5,type:"multiple-choice",question:'A square with side s can be "sheared" into:',options:["Only other squares","Any parallelogram with base s and height s","Any rectangle","Only rhombuses"],correctIndex:1,difficulty:"medium",explanation:"Shearing transforms a square into a parallelogram with the same base and height, preserving area."},{id:6,type:"multiple-choice",question:"The principle that equal figures can be added to equal figures to give equal figures is used by Euclid to:",options:["Prove the Pythagorean theorem","Define congruence","Construct regular polygons","Bisect angles"],correctIndex:0,difficulty:"medium",explanation:"Euclid's proof of the Pythagorean theorem relies on adding and comparing equal areas."}],jX=[{id:1,type:"multiple-choice",question:"Euclid I.35 proves that parallelograms on the same base between the same parallels:",options:["Are congruent","Have equal area","Have equal perimeter","Are similar"],correctIndex:1,difficulty:"easy",explanation:"Same base and same height (distance between parallels) means equal area."},{id:2,type:"multiple-choice",question:"If two triangles share the same base and lie between the same parallel lines, then:",options:["They are congruent","They have equal area","They are similar","They have the same angles"],correctIndex:1,difficulty:"easy",explanation:"Triangles with the same base and height have equal area (each is half of a parallelogram with that base and height)."},{id:3,type:"multiple-choice",question:"To compare the areas of triangles ABC and DBC (sharing base BC), we compare:",options:["Their perimeters","Their heights from A and D to BC","The angles at A and D","The lengths of AC and DC"],correctIndex:1,difficulty:"medium",explanation:"Same base means areas are proportional to heights. Equal heights mean equal areas."},{id:4,type:"multiple-choice",question:"A parallelogram has twice the area of:",options:["A square with the same side","A triangle with the same base and height","A rectangle with the same perimeter","A rhombus with the same diagonals"],correctIndex:1,difficulty:"easy",explanation:"A triangle is half of the parallelogram with the same base and height."},{id:5,type:"multiple-choice",question:"Two triangles with equal areas and the same base have:",options:["Equal perimeters","Equal heights","Equal angles","All of the above"],correctIndex:1,difficulty:"medium",explanation:"Since Area =   base  height, same base and area implies same height."},{id:6,type:"multiple-choice",question:"The medians of a triangle divide it into:",options:["Three congruent triangles","Six triangles of equal area","Two congruent triangles","Four similar triangles"],correctIndex:1,difficulty:"hard",explanation:"The three medians divide a triangle into six smaller triangles, all with equal area."}],wX=[{id:1,type:"multiple-choice",question:"The Pythagorean theorem states that in a right triangle:",options:["$a + b = c$ where c is the hypotenuse","$a^2 + b^2 = c^2$ where c is the hypotenuse","$a^2 - b^2 = c^2$","The angles satisfy $\\alpha + \\beta + \\gamma = 180$"],correctIndex:1,difficulty:"easy",explanation:"The sum of squares of the legs equals the square of the hypotenuse."},{id:2,type:"multiple-choice",question:"Euclid's proof of the Pythagorean theorem uses:",options:["Algebra and coordinates","Shearing (area-preserving transformations)","Trigonometry","Similar triangles only"],correctIndex:1,difficulty:"medium",explanation:"Euclid shears the squares on the legs to match rectangles that together form the square on the hypotenuse."},{id:3,type:"multiple-choice",question:"The converse of the Pythagorean theorem states:",options:["All right triangles satisfy $a^2 + b^2 = c^2$","If $a^2 + b^2 = c^2$, then the triangle has a right angle opposite side c","If a triangle has a right angle, then $a^2 = b^2 + c^2$","Only isosceles right triangles satisfy the theorem"],correctIndex:1,difficulty:"medium",explanation:"The converse (Euclid I.48): if the sides satisfy the Pythagorean relation, the angle opposite the longest side is 90."},{id:4,type:"multiple-choice",question:"Which is a Pythagorean triple?",options:["(2, 3, 4)","(3, 4, 5)","(4, 5, 6)","(1, 2, 3)"],correctIndex:1,difficulty:"easy",explanation:"$3^2 + 4^2 = 9 + 16 = 25 = 5^2$, so (3, 4, 5) is a Pythagorean triple."},{id:5,type:"multiple-choice",question:"The Pythagorean theorem was known to:",options:["Only the Greeks","Babylonians before Pythagoras","Only medieval mathematicians","Only Euclid"],correctIndex:1,difficulty:"easy",explanation:"Babylonian tablets from c. 1800 BCE show knowledge of Pythagorean triples. The Greeks provided rigorous proofs."},{id:6,type:"multiple-choice",question:"If m > n are positive integers, then $(m^2 - n^2, 2mn, m^2 + n^2)$ is:",options:["An arithmetic sequence","A Pythagorean triple","A geometric sequence","Three prime numbers"],correctIndex:1,difficulty:"hard",explanation:"$(m^2 - n^2)^2 + (2mn)^2 = m^4 - 2m^2n^2 + n^4 + 4m^2n^2 = m^4 + 2m^2n^2 + n^4 = (m^2 + n^2)^2$."}],TX=[{id:1,type:"multiple-choice",question:"The Thales theorem (basic proportionality) states that a line parallel to one side of a triangle:",options:["Bisects the other two sides","Divides the other two sides proportionally","Creates a right angle","Passes through the centroid"],correctIndex:1,difficulty:"easy",explanation:"If DE  BC in triangle ABC, then AD/DB = AE/EC."},{id:2,type:"multiple-choice",question:"The proof of the Thales theorem relies on:",options:["Congruent triangles","Triangles with equal areas having the same base share the same height","The Pythagorean theorem","Angle bisector properties"],correctIndex:1,difficulty:"medium",explanation:"The proof compares areas of triangles sharing a vertex. Triangles between parallels with the same base have equal areas."},{id:3,type:"multiple-choice",question:"The converse of Thales' theorem states:",options:["If a line bisects two sides, it's parallel to the third","If a line divides two sides proportionally, it's parallel to the third","Parallel lines always divide segments proportionally","Only midpoint segments are parallel to the base"],correctIndex:1,difficulty:"medium",explanation:"If AD/DB = AE/EC, then DE is parallel to BC."},{id:4,type:"multiple-choice",question:"The midpoint theorem states that the segment joining midpoints of two sides of a triangle:",options:["Equals the third side","Is parallel to the third side and half its length","Bisects the third side","Is perpendicular to the third side"],correctIndex:1,difficulty:"easy",explanation:"If D and E are midpoints of AB and AC, then DE  BC and DE = BC."},{id:5,type:"multiple-choice",question:"If D divides AB in ratio 2:1 (AD = 2DB), and DE  BC, then E divides AC in ratio:",options:["1:2","2:1","1:1","3:1"],correctIndex:1,difficulty:"medium",explanation:"By Thales' theorem, DE  BC implies AD/DB = AE/EC = 2/1."},{id:6,type:"multiple-choice",question:"Thales of Miletus lived around:",options:["300 BCE (same time as Euclid)","624-546 BCE (before Pythagoras)","100 CE (Roman era)","1600 CE (Renaissance)"],correctIndex:1,difficulty:"easy",explanation:"Thales (c. 624-546 BCE) is considered the first mathematician in the Greek tradition."}],SX=[{id:1,type:"multiple-choice",question:"An inscribed angle in a circle is:",options:["An angle at the center","An angle whose vertex is on the circle and whose sides are chords","An angle between two radii","A 90 angle"],correctIndex:1,difficulty:"easy",explanation:"An inscribed angle has its vertex on the circle and is formed by two chords."},{id:2,type:"multiple-choice",question:"The inscribed angle theorem states that an inscribed angle is:",options:["Equal to the central angle on the same arc","Half the central angle subtending the same arc","Twice the central angle","Always 90"],correctIndex:1,difficulty:"medium",explanation:"An inscribed angle is half the central angle that subtends the same arc."},{id:3,type:"multiple-choice",question:"All inscribed angles subtending the same arc are:",options:["Supplementary","Equal","Complementary","Right angles"],correctIndex:1,difficulty:"easy",explanation:"Since each equals half the central angle on that arc, all inscribed angles on the same arc are equal."},{id:4,type:"multiple-choice",question:"An angle inscribed in a semicircle (subtending a diameter) is:",options:["45","90","60","180"],correctIndex:1,difficulty:"easy",explanation:"The central angle is 180 (a straight line), so the inscribed angle is 90. This is Thales' theorem on circles."},{id:5,type:"multiple-choice",question:"If inscribed angle APB = 50, then the central angle AOB equals:",options:["25","50","100","75"],correctIndex:2,difficulty:"medium",explanation:"The central angle is twice the inscribed angle: 2  50 = 100."},{id:6,type:"multiple-choice",question:"Two inscribed angles on opposite sides of a chord:",options:["Are equal","Are supplementary (sum to 180)","Are complementary (sum to 90)","Have no special relationship"],correctIndex:1,difficulty:"hard",explanation:"Inscribed angles in the two arcs sum to 180 because the two central angles sum to 360."}],NX=[{id:1,type:"multiple-choice",question:"An alternative proof of the Pythagorean theorem uses:",options:["Only algebra","Similar triangles formed by the altitude to the hypotenuse","Coordinate geometry","Trigonometric functions"],correctIndex:1,difficulty:"medium",explanation:"Dropping an altitude from the right angle to the hypotenuse creates two triangles similar to the original."},{id:2,type:"multiple-choice",question:"If the altitude from C meets hypotenuse AB at H, then triangles ACH and ABC are:",options:["Congruent","Similar","Equal in area","Isosceles"],correctIndex:1,difficulty:"medium",explanation:"Both share angle A, and both have a right angle, so by AA similarity they are similar."},{id:3,type:"multiple-choice",question:"In the altitude proof, if h is the altitude to hypotenuse c, then:",options:["$h = a + b$","$h^2 = (c-x)x$ where x = AH","$h = c/2$","$h = \\sqrt{ab}$"],correctIndex:1,difficulty:"hard",explanation:"By similar triangles, h/x = (c-x)/h, giving $h^2 = x(c-x)$."},{id:4,type:"multiple-choice",question:'The "similar triangles proof" of the Pythagorean theorem avoids:',options:["Using the concept of area","All use of congruence","Using shearing and area arguments","Any reference to right angles"],correctIndex:2,difficulty:"medium",explanation:"The similar triangles proof uses proportions from similarity rather than Euclid's shearing argument."},{id:5,type:"multiple-choice",question:"How many distinct proofs of the Pythagorean theorem are known?",options:["Only Euclid's original proof","About 10","Hundreds","It cannot be proven in more than one way"],correctIndex:2,difficulty:"easy",explanation:"There are hundreds of known proofs, including ones by President James Garfield and Leonardo da Vinci."},{id:6,type:"multiple-choice",question:"The geometric mean of segments a and b is the length x satisfying:",options:["$x = (a + b)/2$","$x^2 = ab$","$x = \\sqrt{a^2 + b^2}$","$x = a - b$"],correctIndex:1,difficulty:"medium",explanation:"The geometric mean x satisfies a/x = x/b, so $x^2 = ab$, or $x = \\sqrt{ab}$."}],AX=[{id:1,type:"multiple-choice",question:"Euclid's axiomatic method consists of:",options:["Proving every statement","Starting with accepted axioms and deriving all other results by logical deduction","Using only constructions","Avoiding any assumptions"],correctIndex:1,difficulty:"easy",explanation:"The axiomatic method begins with axioms (unproven assumptions) and derives theorems through logical proof."},{id:2,type:"multiple-choice",question:"Which of Euclid's axioms was most controversial historically?",options:["The first axiom (two points determine a line)","The third axiom (a circle can be drawn with any center and radius)","The fifth axiom (the parallel postulate)","The second axiom (a line segment can be extended)"],correctIndex:2,difficulty:"easy",explanation:'The parallel postulate was controversial because it seemed less "obvious" than the others, leading to attempts to prove it.'},{id:3,type:"multiple-choice",question:"Attempts to prove the parallel postulate from the other axioms led to:",options:["A successful proof by Gauss","The discovery of non-Euclidean geometries","Proof that the postulate is false","Abandonment of the axiomatic method"],correctIndex:1,difficulty:"medium",explanation:"Attempts to prove the parallel postulate by contradiction instead revealed consistent non-Euclidean geometries."},{id:4,type:"multiple-choice",question:"Hilbert's 1899 work on geometry:",options:["Proved Euclid was wrong","Provided a rigorous modern axiom system filling gaps in Euclid","Abandoned the Euclidean approach entirely","Focused only on non-Euclidean geometry"],correctIndex:1,difficulty:"medium",explanation:"Hilbert provided a complete, rigorous axiom system for Euclidean geometry, addressing gaps and implicit assumptions in Euclid."},{id:5,type:"multiple-choice",question:"The importance of the axiomatic method extends beyond geometry to:",options:["Only physics","All areas of modern mathematics","Only number theory","Only applied mathematics"],correctIndex:1,difficulty:"easy",explanation:"The axiomatic method, pioneered in geometry, is now fundamental to all modern mathematics."},{id:6,type:"multiple-choice",question:"Euclid's Elements contains how many books?",options:["5","9","13","20"],correctIndex:2,difficulty:"easy",explanation:"The Elements consists of 13 books covering plane geometry, number theory, and solid geometry."}],kX=[{id:1,type:"multiple-choice",question:"Who are the two mathematicians credited with independently discovering the coordinate approach to geometry around 1630?",options:["Euclid and Pythagoras","Fermat and Descartes","Newton and Leibniz","Gauss and Riemann"],correctIndex:1,difficulty:"easy",explanation:"Pierre de Fermat and Ren Descartes independently discovered the advantages of using coordinates in geometry around 1630. Descartes published first in 1637."},{id:2,type:"multiple-choice",question:'Why is the coordinate approach called "Cartesian" geometry?',options:["It was developed in Carthage","It uses carts to measure distances","From the old way of writing Descartes' name: Des Cartes","It was named after a Greek mathematician"],correctIndex:2,difficulty:"easy",explanation:`The coordinate approach became known as "Cartesian" from the old way of writing Descartes' name: Des Cartes.`},{id:3,type:"multiple-choice",question:"What notation represents the Cartesian plane (number plane)?",options:["$\\mathbb{Z}$","$\\mathbb{Q}$","$\\mathbb{R}^2$","$\\mathbb{C}$"],correctIndex:2,difficulty:"easy",explanation:"The Cartesian plane is denoted $\\mathbb{R}^2$, which is the set of all ordered pairs of real numbers."},{id:4,type:"multiple-choice",question:"Why is the order in an ordered pair $(a, b)$ important?",options:["It's not important - $(a, b) = (b, a)$","The first number is always larger","$(3, 4)$ and $(4, 3)$ represent different points","Order only matters for negative numbers"],correctIndex:2,difficulty:"medium",explanation:"The order matters because (3, 4) is the point with x-coordinate 3 and y-coordinate 4, which is different from (4, 3). Just as 3rd Street and 4th Avenue differs from 4th Street and 3rd Avenue!"}],EX=[{id:1,type:"multiple-choice",question:"What is the slope of a line?",options:["The y-intercept","The ratio of rise to run","The length of the line","The x-intercept"],correctIndex:1,difficulty:"easy",explanation:"The slope is the ratio of the vertical change (rise) to the horizontal change (run) between any two points on the line: $\\frac{y_2 - y_1}{x_2 - x_1}$."},{id:2,type:"multiple-choice",question:"In the equation $y = ax + c$, what does $c$ represent?",options:["The slope","The x-intercept","The y-intercept","The length of the line"],correctIndex:2,difficulty:"easy",explanation:"In the slope-intercept form $y = ax + c$, $a$ is the slope and $c$ is the y-intercept (where the line crosses the y-axis)."},{id:3,type:"multiple-choice",question:"What type of line does NOT have a finite slope?",options:["Horizontal line","Diagonal line","Vertical line","All lines have finite slopes"],correctIndex:2,difficulty:"medium",explanation:"Vertical lines do not have a finite slope (they have infinite slope) because they don't cross the y-axis and have the form $x = c$."},{id:4,type:"multiple-choice",question:"What is true about parallel lines?",options:["They have perpendicular slopes","They have the same slope","They always intersect","They have different y-intercepts only"],correctIndex:1,difficulty:"medium",explanation:"Parallel lines have the same slope. Distinct lines $y = ax + c$ and $y = a'x + c'$ have a common point unless they have the same slope ($a = a'$)."}],CX=[{id:1,type:"multiple-choice",question:"What is the distance formula for points $(x_1, y_1)$ and $(x_2, y_2)$?",options:["$|x_2 - x_1| + |y_2 - y_1|$","$\\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}$","$(x_2 - x_1)(y_2 - y_1)$","$\\frac{x_2 + y_2}{x_1 + y_1}$"],correctIndex:1,difficulty:"easy",explanation:"The distance formula comes from the Pythagorean theorem: $d = \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}$."},{id:2,type:"multiple-choice",question:"What is the equation of a circle with center $(a, b)$ and radius $r$?",options:["$(x + a)^2 + (y + b)^2 = r$","$(x - a)^2 + (y - b)^2 = r^2$","$x^2 + y^2 = a^2 + b^2$","$(x - a) + (y - b) = r$"],correctIndex:1,difficulty:"easy",explanation:"A circle is all points at distance $r$ from center $(a, b)$, giving the equation $(x - a)^2 + (y - b)^2 = r^2$."},{id:3,type:"multiple-choice",question:"The set of all points equidistant from two points A and B forms what?",options:["A circle","A parabola","A line (the perpendicular bisector)","An ellipse"],correctIndex:2,difficulty:"medium",explanation:"The set of all points equidistant from two distinct points forms the perpendicular bisector of the segment connecting them."},{id:4,type:"multiple-choice",question:"What does the triangle inequality state?",options:["All triangles have equal sides","Any two sides together are greater than the third side","The angles of a triangle sum to 180","Triangles have three vertices"],correctIndex:1,difficulty:"medium",explanation:"The triangle inequality states that for any triangle, the sum of any two sides is greater than the third side: $|OP| + |PQ| > |OQ|$."}],MX=[{id:1,type:"multiple-choice",question:"What operations are needed to find all intersection points in straightedge and compass constructions?",options:["Only $+$ and $-$","Only $\\times$ and $\\div$","$+$, $-$, $\\times$, $\\div$, and $\\sqrt{}$","Trigonometric functions"],correctIndex:2,difficulty:"medium",explanation:"All intersection points can be found using $+$, $-$, $\\times$, $\\div$, and $\\sqrt{}$. This is the algebraic criterion for constructibility."},{id:2,type:"multiple-choice",question:"When finding the intersection of two circles, what happens when you subtract one equation from the other?",options:["You get another circle equation","The $x^2$ and $y^2$ terms cancel, leaving a linear equation","You get a cubic equation","The equations have no solution"],correctIndex:1,difficulty:"medium",explanation:"Subtracting one circle equation from another eliminates the $x^2$ and $y^2$ terms, leaving a linear equation (the radical axis)."},{id:3,type:"multiple-choice",question:"Why can't we trisect an arbitrary angle with straightedge and compass?",options:["It requires too many steps","$\\cos(\\pi/9)$ cannot be expressed with finite square roots","Ancient Greeks forbade it","The compass isn't accurate enough"],correctIndex:1,difficulty:"hard",explanation:"Trisecting $\\pi/3$ requires constructing $\\cos(\\pi/9)$, which cannot be expressed by a finite number of square roots, making it impossible with straightedge and compass."}],zX=[{id:1,type:"multiple-choice",question:"Why do we use slope instead of angle in algebraic geometry?",options:["Slope is easier to measure","Angles don't exist in geometry","Slope is an algebraic function, but $\\tan^{-1}$ is not","Ancient Greeks didn't know about angles"],correctIndex:2,difficulty:"medium",explanation:"The angle $\\theta = \\tan^{-1}(t)$ is not an algebraic function. To stay within the world of algebra, we work with slope $t$ rather than angle."},{id:2,type:"multiple-choice",question:"Two lines with slopes $t_1$ and $t_2$ are perpendicular if and only if:",options:["$t_1 = t_2$","$t_1 + t_2 = 0$","$t_1 \\cdot t_2 = -1$","$t_1 \\cdot t_2 = 1$"],correctIndex:2,difficulty:"easy",explanation:"The condition for perpendicularity is $t_1 \\cdot t_2 = -1$. The product of slopes of perpendicular lines is $-1$."},{id:3,type:"multiple-choice",question:"A rotation $r_{c,s}$ about the origin sends $(x, y)$ to:",options:["$(x + c, y + s)$","$(cx, sy)$","$(cx - sy, sx + cy)$","$(x - c, y - s)$"],correctIndex:2,difficulty:"medium",explanation:"The rotation $r_{c,s}$ sends $(x, y)$ to $(cx - sy, sx + cy)$, where $c = \\cos\\theta$ and $s = \\sin\\theta$."}],DX=[{id:1,type:"multiple-choice",question:"What is an isometry?",options:["A transformation that changes all distances","A transformation that preserves distances","A type of triangle","A measurement tool"],correctIndex:1,difficulty:"easy",explanation:'An isometry (from Greek for "same length") is a transformation that preserves the distance between any two points: $|f(P_1)f(P_2)| = |P_1P_2|$.'},{id:2,type:"multiple-choice",question:"Which of the following is NOT a type of isometry?",options:["Translation","Rotation","Dilation (scaling)","Reflection"],correctIndex:2,difficulty:"easy",explanation:"Dilation (scaling) changes distances and is not an isometry. The four types of plane isometries are translation, rotation, reflection, and glide reflection."},{id:3,type:"multiple-choice",question:"A translation $t_{a,b}$ sends the point $(x, y)$ to:",options:["$(ax, by)$","$(x + a, y + b)$","$(x - a, y - b)$","$(xa, yb)$"],correctIndex:1,difficulty:"easy",explanation:"A translation moves every point by the same amount: $t_{a,b}(x, y) = (x + a, y + b)$."},{id:4,type:"multiple-choice",question:"Reflection in the x-axis sends $(x, y)$ to:",options:["$(-x, y)$","$(x, -y)$","$(-x, -y)$","$(y, x)$"],correctIndex:1,difficulty:"easy",explanation:"Reflection in the x-axis flips the y-coordinate: $(x, y) \\mapsto (x, -y)$."}],PX=[{id:1,type:"multiple-choice",question:"An isometry of $\\mathbb{R}^2$ is determined by the images of how many points (not in a line)?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"medium",explanation:"An isometry is completely determined by the images of three points not in a line, because any point P is uniquely determined by its distances from three non-collinear points."},{id:2,type:"multiple-choice",question:"According to the Three Reflections Theorem, any isometry is a combination of at most how many reflections?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"easy",explanation:"The Three Reflections Theorem states that any isometry of $\\mathbb{R}^2$ is a combination of one, two, or three reflections."},{id:3,type:"multiple-choice",question:"A combination of two reflections in parallel lines produces:",options:["A rotation","A translation","A glide reflection","Another reflection"],correctIndex:1,difficulty:"medium",explanation:"Two reflections in parallel lines combine to form a translation perpendicular to the lines, through twice the distance between them."},{id:4,type:"multiple-choice",question:"A combination of two reflections in intersecting lines produces:",options:["A translation","A rotation","A glide reflection","The identity"],correctIndex:1,difficulty:"medium",explanation:"Two reflections in lines meeting at angle $\\theta/2$ combine to form a rotation through angle $\\theta$ about the point of intersection."}],IX=[{id:1,type:"multiple-choice",question:"What is the name of Felix Klein's 1872 address that characterized geometry as the study of transformation groups?",options:["The Principia","The Elements","The Erlanger Programm","The Foundations"],correctIndex:2,difficulty:"medium",explanation:"Klein's Erlanger Programm (1872) characterized geometry as the study of transformation groups and their invariants."},{id:2,type:"multiple-choice",question:"What are the invariants preserved by the isometry group of $\\mathbb{R}^2$?",options:["Only length","Length, angle, and straightness","Only area","Only orientation"],correctIndex:1,difficulty:"medium",explanation:"Isometries preserve length, angle, and straightness. These are the geometric properties unchanged by translations, rotations, reflections, and glide reflections."},{id:3,type:"multiple-choice",question:'What is the "arithmetization of geometry"?',options:["Counting geometric shapes","Building geometry from numbers using coordinates","Measuring angles numerically","Using calculators in geometry"],correctIndex:1,difficulty:"easy",explanation:"The arithmetization of geometry means building geometry from numbers, using coordinates to define points, lines, circles, and other geometric objects."}],RX=[{id:1,type:"multiple-choice",question:"What is the parallelogram rule for vector addition?",options:["Vectors are multiplied component by component","$\\mathbf{u} + \\mathbf{v}$ is the fourth vertex of a parallelogram formed by $\\mathbf{0}$, $\\mathbf{u}$, and $\\mathbf{v}$","Vectors are added by concatenating them end to end","The sum is always perpendicular to both vectors"],correctIndex:1,difficulty:"easy",explanation:"The vector sum $\\mathbf{u} + \\mathbf{v}$ is the fourth vertex of the parallelogram formed by the points $\\mathbf{0}$, $\\mathbf{u}$, and $\\mathbf{v}$."},{id:2,type:"multiple-choice",question:"What does scalar multiplication by $a$ represent geometrically?",options:["Rotation by angle $a$","Translation by $a$ units","Magnification (dilation) by factor $a$","Reflection across the origin"],correctIndex:2,difficulty:"easy",explanation:"Scalar multiplication by $a$ magnifies or dilates the whole plane by the factor $a$, transforming each figure into a similar copy of itself."},{id:3,type:"multiple-choice",question:"How many properties must vector addition and scalar multiplication satisfy to form a real vector space?",options:["Four","Six","Eight","Ten"],correctIndex:2,difficulty:"medium",explanation:"A real vector space requires eight properties: commutativity, associativity, zero element, additive inverse for addition, plus identity, and three distributive/associative properties for scalar multiplication."},{id:4,type:"multiple-choice",question:"What is the geometric meaning when every vector in $\\mathbb{R}^2$ is multiplied by $-1$?",options:["Rotation by 90","Rotation by 180 (point reflection through origin)","Reflection across the x-axis","No change"],correctIndex:1,difficulty:"medium",explanation:"Multiplying every vector by $-1$ is equivalent to rotation by 180 about the origin, also called point reflection through the origin."}],_X=[{id:1,type:"multiple-choice",question:"When are two nonzero vectors $\\mathbf{u}$ and $\\mathbf{v}$ linearly independent?",options:["When $\\mathbf{u} = \\mathbf{v}$","When neither is a multiple of the other","When $\\mathbf{u} \\cdot \\mathbf{v} = 0$","When they have the same length"],correctIndex:1,difficulty:"easy",explanation:"Vectors $\\mathbf{u}$ and $\\mathbf{v}$ are linearly independent if neither is a multiple of the other, meaning there are no real numbers $a$ and $b$ (not both zero) with $a\\mathbf{u} + b\\mathbf{v} = \\mathbf{0}$."},{id:2,type:"multiple-choice",question:"Line segments from $\\mathbf{v}$ to $\\mathbf{w}$ and from $\\mathbf{s}$ to $\\mathbf{t}$ are parallel if:",options:["$\\mathbf{w} + \\mathbf{v} = \\mathbf{t} + \\mathbf{s}$","$\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s})$ for some $a \\neq 0$","$|\\mathbf{w} - \\mathbf{v}| = |\\mathbf{t} - \\mathbf{s}|$","$\\mathbf{v} = \\mathbf{s}$ and $\\mathbf{w} = \\mathbf{t}$"],correctIndex:1,difficulty:"medium",explanation:"Line segments are parallel if they have the same direction, which means $\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s})$ for some nonzero real number $a$."},{id:3,type:"multiple-choice",question:"In the Vector Thales theorem, if $\\mathbf{w} - \\mathbf{v}$ is parallel to $\\mathbf{t} - \\mathbf{s}$, what can we conclude?",options:["$\\mathbf{v} = \\mathbf{s}$ and $\\mathbf{w} = \\mathbf{t}$","$\\mathbf{v} = a\\mathbf{s}$ and $\\mathbf{w} = a\\mathbf{t}$ for some number $a$","The vectors are perpendicular","The sum $\\mathbf{v} + \\mathbf{w} = \\mathbf{s} + \\mathbf{t}$"],correctIndex:1,difficulty:"hard",explanation:"The Vector Thales theorem states that if $\\mathbf{s}$, $\\mathbf{v}$ are on one line through $\\mathbf{0}$, $\\mathbf{t}$, $\\mathbf{w}$ are on another, and $\\mathbf{w} - \\mathbf{v}$ is parallel to $\\mathbf{t} - \\mathbf{s}$, then $\\mathbf{v} = a\\mathbf{s}$ and $\\mathbf{w} = a\\mathbf{t}$ for some $a$."}],qX=[{id:1,type:"multiple-choice",question:"What is the formula for the midpoint of the segment between $\\mathbf{u}$ and $\\mathbf{v}$?",options:["$\\mathbf{u} - \\mathbf{v}$","$\\mathbf{u} \\cdot \\mathbf{v}$","$\\frac{1}{2}(\\mathbf{u} + \\mathbf{v})$","$2(\\mathbf{u} + \\mathbf{v})$"],correctIndex:2,difficulty:"easy",explanation:"The midpoint is the vector average: $\\frac{1}{2}(\\mathbf{u} + \\mathbf{v})$."},{id:2,type:"multiple-choice",question:"What is the centroid of a triangle with vertices $\\mathbf{u}$, $\\mathbf{v}$, and $\\mathbf{w}$?",options:["$\\mathbf{u} + \\mathbf{v} + \\mathbf{w}$","$\\frac{1}{2}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$","$\\frac{1}{3}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$","$\\frac{1}{4}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$"],correctIndex:2,difficulty:"easy",explanation:"The centroid of a triangle is the vector average of its vertices: $\\frac{1}{3}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$."},{id:3,type:"multiple-choice",question:"What fraction of the way along a median does the centroid lie from a vertex?",options:["$\\frac{1}{2}$","$\\frac{1}{3}$","$\\frac{2}{3}$","$\\frac{3}{4}$"],correctIndex:2,difficulty:"medium",explanation:"The centroid lies $\\frac{2}{3}$ of the way from each vertex to the midpoint of the opposite side."},{id:4,type:"multiple-choice",question:"The medians of any triangle:",options:["Are all equal in length","Are all perpendicular","All pass through the same point (the centroid)","Never intersect"],correctIndex:2,difficulty:"easy",explanation:"The three medians of any triangle are concurrentthey all pass through the centroid."}],$X=[{id:1,type:"multiple-choice",question:"For $\\mathbf{u} = (u_1, u_2)$ and $\\mathbf{v} = (v_1, v_2)$, what is $\\mathbf{u} \\cdot \\mathbf{v}$?",options:["$(u_1v_1, u_2v_2)$","$u_1v_2 + u_2v_1$","$u_1v_1 + u_2v_2$","$u_1v_2 - u_2v_1$"],correctIndex:2,difficulty:"easy",explanation:"The inner product (or scalar product) is defined as $\\mathbf{u} \\cdot \\mathbf{v} = u_1v_1 + u_2v_2$."},{id:2,type:"multiple-choice",question:"Two vectors $\\mathbf{u}$ and $\\mathbf{v}$ are perpendicular if and only if:",options:["$\\mathbf{u} \\cdot \\mathbf{v} = 1$","$\\mathbf{u} \\cdot \\mathbf{v} = -1$","$\\mathbf{u} \\cdot \\mathbf{v} = 0$","$|\\mathbf{u}| = |\\mathbf{v}|$"],correctIndex:2,difficulty:"easy",explanation:"Vectors are perpendicular if and only if their inner product is zero: $\\mathbf{u} \\cdot \\mathbf{v} = 0$."},{id:3,type:"multiple-choice",question:"What is $|\\mathbf{u}|^2$ in terms of the inner product?",options:["$\\mathbf{u} \\cdot \\mathbf{0}$","$\\mathbf{u} \\cdot \\mathbf{u}$","$2\\mathbf{u} \\cdot \\mathbf{u}$","$\\sqrt{\\mathbf{u} \\cdot \\mathbf{u}}$"],correctIndex:1,difficulty:"easy",explanation:"The square of the length is the inner product of a vector with itself: $|\\mathbf{u}|^2 = \\mathbf{u} \\cdot \\mathbf{u}$."},{id:4,type:"multiple-choice",question:"The altitudes of any triangle:",options:["Are always equal in length","Pass through the centroid","Meet at a common point (the orthocenter)","Are parallel to the sides"],correctIndex:2,difficulty:"medium",explanation:"The three altitudes of any triangle are concurrentthey all meet at the orthocenter."}],BX=[{id:1,type:"multiple-choice",question:"The inner product formula states that $\\mathbf{u} \\cdot \\mathbf{v}$ equals:",options:["$|\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u}||\\mathbf{v}|$","$|\\mathbf{u}||\\mathbf{v}|\\cos\\theta$","$|\\mathbf{u}||\\mathbf{v}|\\sin\\theta$"],correctIndex:2,difficulty:"easy",explanation:"The inner product formula is $\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta$, where $\\theta$ is the angle between the vectors."},{id:2,type:"multiple-choice",question:"The cosine rule (law of cosines) states that for a triangle with angle $\\theta$ opposite side $\\mathbf{u} - \\mathbf{v}$:",options:["$|\\mathbf{u} - \\mathbf{v}| = |\\mathbf{u}| - |\\mathbf{v}|$","$|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2$","$|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta$","$|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 - |\\mathbf{v}|^2$"],correctIndex:2,difficulty:"medium",explanation:"The cosine rule is $|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta$."},{id:3,type:"multiple-choice",question:"When $\\mathbf{u}$ and $\\mathbf{v}$ are perpendicular, the cosine rule becomes:",options:["The triangle inequality","The Pythagorean theorem","The midpoint formula","The Cauchy-Schwarz inequality"],correctIndex:1,difficulty:"medium",explanation:"When $\\mathbf{u} \\perp \\mathbf{v}$, $\\cos\\theta = 0$, and the cosine rule reduces to $|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2$the Pythagorean theorem."},{id:4,type:"multiple-choice",question:"The formula $(\\mathbf{v} + \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u})$ equals:",options:["$|\\mathbf{v}|^2 + |\\mathbf{u}|^2$","$|\\mathbf{v}|^2 - |\\mathbf{u}|^2$","$2\\mathbf{u} \\cdot \\mathbf{v}$","$0$"],correctIndex:1,difficulty:"medium",explanation:"This is a difference of squares: $(\\mathbf{v} + \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u}) = |\\mathbf{v}|^2 - |\\mathbf{u}|^2$."}],OX=[{id:1,type:"multiple-choice",question:"The Cauchy-Schwarz inequality states:",options:["$|\\mathbf{u} \\cdot \\mathbf{v}| \\geq |\\mathbf{u}||\\mathbf{v}|$","$|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| = |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u}| = |\\mathbf{v}|$"],correctIndex:1,difficulty:"easy",explanation:"The Cauchy-Schwarz inequality states $|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|$."},{id:2,type:"multiple-choice",question:"The triangle inequality states:",options:["$|\\mathbf{u} + \\mathbf{v}| = |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| \\geq |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| \\leq |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| = |\\mathbf{u}| - |\\mathbf{v}|$"],correctIndex:2,difficulty:"easy",explanation:"The triangle inequality states $|\\mathbf{u} + \\mathbf{v}| \\leq |\\mathbf{u}| + |\\mathbf{v}|$."},{id:3,type:"multiple-choice",question:"The Cauchy-Schwarz inequality follows from the inner product formula because:",options:["$\\cos\\theta$ can be any real number","$|\\cos\\theta| \\leq 1$ for any angle $\\theta$","$\\sin\\theta$ is always positive","The inner product is always positive"],correctIndex:1,difficulty:"medium",explanation:"Since $\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta$ and $|\\cos\\theta| \\leq 1$, we get $|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|$."},{id:4,type:"multiple-choice",question:"In $\\mathbb{R}^n$, the inner product is defined as:",options:["$u_1v_1 \\cdot u_2v_2 \\cdots u_nv_n$","$u_1v_1 + u_2v_2 + \\cdots + u_nv_n$","$(u_1 + v_1, u_2 + v_2, \\ldots, u_n + v_n)$","$\\max(u_1v_1, u_2v_2, \\ldots, u_nv_n)$"],correctIndex:1,difficulty:"easy",explanation:"The inner product in $\\mathbb{R}^n$ is the sum of products: $\\mathbf{u} \\cdot \\mathbf{v} = u_1v_1 + u_2v_2 + \\cdots + u_nv_n$."}],LX=[{id:1,type:"multiple-choice",question:"A rotation through angle $\\theta$ is represented by the matrix:",options:["$\\begin{pmatrix} \\cos\\theta & \\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}$","$\\begin{pmatrix} \\cos\\theta & -\\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}$","$\\begin{pmatrix} \\sin\\theta & \\cos\\theta \\\\ \\cos\\theta & \\sin\\theta \\end{pmatrix}$","$\\begin{pmatrix} 1 & \\theta \\\\ \\theta & 1 \\end{pmatrix}$"],correctIndex:1,difficulty:"medium",explanation:"The rotation matrix is $\\begin{pmatrix} \\cos\\theta & -\\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}$."},{id:2,type:"multiple-choice",question:"In complex number notation, rotation through angle $\\theta$ is achieved by multiplying by:",options:["$\\theta$","$e^{\\theta}$","$\\cos\\theta + i\\sin\\theta$","$\\cos\\theta - i\\sin\\theta$"],correctIndex:2,difficulty:"easy",explanation:"Rotation through angle $\\theta$ is multiplication by $\\cos\\theta + i\\sin\\theta$."},{id:3,type:"multiple-choice",question:"Why does $i^2 = -1$ in complex numbers?",options:["It is defined arbitrarily","Multiplication by $i$ rotates through $\\pi/2$, so $i^2$ rotates through $\\pi$, which equals multiplication by $-1$","Because $i = \\sqrt{-1}$ by definition only","It follows from the triangle inequality"],correctIndex:1,difficulty:"hard",explanation:"Multiplication by $i$ rotates the plane through $\\pi/2$, so $i^2$ rotates through $\\pi$, which is the same as multiplication by $-1$."},{id:4,type:"multiple-choice",question:"The angle addition formulas can be derived from:",options:["The Pythagorean theorem only","Multiplication of rotation matrices or complex numbers","The triangle inequality","The midpoint formula"],correctIndex:1,difficulty:"medium",explanation:"The angle addition formulas for sine and cosine follow from multiplying rotation matrices or complex numbers representing consecutive rotations."}],FX=[{id:1,type:"multiple-choice",question:"How many Hilbert axioms are needed to describe the Euclidean plane?",options:["8","12","17 (or 16 without completeness)","20"],correctIndex:2,difficulty:"medium",explanation:"It takes 17 Hilbert axioms to describe the Euclidean plane, or 16 if we drop completeness of the line."},{id:2,type:"multiple-choice",question:"The field axioms are needed in vector space geometry because:",options:["They define what a vector is","They describe the rules for the scalars (real numbers)","They prove the Pythagorean theorem","They are equivalent to the Hilbert axioms"],correctIndex:1,difficulty:"medium",explanation:"The field axioms describe the ordinary rules of calculation for the scalars (real numbers) used in scalar multiplication."},{id:3,type:"multiple-choice",question:"What geometry is used in Einstein's special theory of relativity?",options:["Euclidean geometry","Spherical geometry","Minkowski space","Projective geometry"],correctIndex:2,difficulty:"easy",explanation:"Minkowski space, obtained by varying the inner product, is used in Einstein's special theory of relativity."},{id:4,type:"multiple-choice",question:"After this chapter, what type of geometry promises a simpler axiom system?",options:["Spherical geometry","Hyperbolic geometry","Projective geometry","Riemannian geometry"],correctIndex:2,difficulty:"easy",explanation:"Projective geometry, studied in Chapters 5 and 6, can be built on a much simpler set of axioms."}],UX=[{id:1,type:"multiple-choice",question:"What is the key technique introduced by Brunelleschi around 1420 for drawing in perspective?",options:["Using only circles and arcs","The costruzione legittima (legitimate construction)","Drawing without any vanishing points","Using parallel projection only"],correctIndex:1,difficulty:"easy",explanation:"Brunelleschi introduced the costruzione legittima (legitimate construction), a method for creating correct perspective drawings using vanishing points."},{id:2,type:"multiple-choice",question:"Where do parallel lines appear to meet in a perspective drawing?",options:["At the center of the picture","At random points","At a vanishing point on the horizon","They never meet"],correctIndex:2,difficulty:"easy",explanation:"In perspective drawing, parallel lines (except those parallel to the picture plane) appear to meet at a vanishing point on the horizon."},{id:3,type:"multiple-choice",question:"What is the horizon line in perspective drawing?",options:["The bottom edge of the picture","The line at eye level where all vanishing points for ground-level parallel lines lie","A vertical line through the center","The top edge of the canvas"],correctIndex:1,difficulty:"medium",explanation:"The horizon is the line at eye level that contains the vanishing points for all sets of parallel lines on the ground plane."},{id:4,type:"multiple-choice",question:"In a one-point perspective drawing of a tiled floor, the diagonals help determine:",options:["The color of the tiles","The correct spacing of rows receding into the distance","The height of the viewer","The number of tiles"],correctIndex:1,difficulty:"medium",explanation:"The diagonals of square tiles have their own vanishing point, which helps determine where to place the horizontal lines for each row of tiles."}],HX=[{id:1,type:"multiple-choice",question:"In projective geometry, what replaces compass constructions?",options:["Protractor constructions","Ruler measurements","Points at infinity (vanishing points)","Curved line segments"],correctIndex:2,difficulty:"easy",explanation:"Points at infinity (vanishing points) allow straightedge-only constructions to accomplish tasks that would otherwise require a compass."},{id:2,type:"multiple-choice",question:"How can you draw a line through point $P$ parallel to line $\\mathcal{L}$ using only a straightedge?",options:["It is impossible with straightedge alone","Draw a line from $P$ through the vanishing point of $\\mathcal{L}$","Draw a perpendicular first","Measure equal distances with the straightedge"],correctIndex:1,difficulty:"medium",explanation:"A line through $P$ parallel to $\\mathcal{L}$ is drawn by connecting $P$ to the vanishing point of $\\mathcal{L}$, since parallel lines share the same vanishing point."},{id:3,type:"multiple-choice",question:"Given two parallel lines and their vanishing point $V$, how do you find the midpoint of a segment $AB$ on one line?",options:["Measure with a ruler","Draw parallel lines from $A$ and $B$ to the other line, then use diagonals and $V$","Use a compass to bisect","It cannot be done with straightedge alone"],correctIndex:1,difficulty:"hard",explanation:"Using the vanishing point and a second parallel line, you can construct a parallelogram and use its diagonals to find the midpoint."},{id:4,type:"multiple-choice",question:"What is the key advantage of using points at infinity in straightedge constructions?",options:["Drawings become more colorful","Lines can be made perfectly straight","Parallelism becomes a matter of incidence (passing through a point)","The drawings become three-dimensional"],correctIndex:2,difficulty:"medium",explanation:"Points at infinity convert the property of parallelism into incidenceparallel lines all pass through their vanishing point."}],VX=[{id:1,type:"multiple-choice",question:"How many axioms define a projective plane?",options:["One","Two","Three","Five"],correctIndex:2,difficulty:"easy",explanation:"A projective plane is defined by exactly three axioms about incidence of points and lines."},{id:2,type:"multiple-choice",question:"Which of the following is one of the projective plane axioms?",options:["Any two points lie on exactly one line","Parallel lines never meet","All lines have the same length","Every line passes through the origin"],correctIndex:0,difficulty:"easy",explanation:'One axiom states: Any two "points" lie on exactly one "line."'},{id:3,type:"multiple-choice",question:'In the model $\\mathbb{R}P^2$, what are the "points"?',options:["Points in $\\mathbb{R}^2$","Lines through the origin $O$ in $\\mathbb{R}^3$","Circles in the plane","Triangles in space"],correctIndex:1,difficulty:"medium",explanation:'In $\\mathbb{R}P^2$, each "point" is a line through the origin $O$ in $\\mathbb{R}^3$.'},{id:4,type:"multiple-choice",question:'In $\\mathbb{R}P^2$, what are the "lines"?',options:["Lines in $\\mathbb{R}^2$","Planes through the origin $O$ in $\\mathbb{R}^3$","Spheres centered at the origin","Cylinders around the z-axis"],correctIndex:1,difficulty:"medium",explanation:'In $\\mathbb{R}P^2$, each "line" is a plane through the origin $O$ in $\\mathbb{R}^3$.'},{id:5,type:"multiple-choice",question:"What distinguishes projective geometry from Euclidean geometry regarding parallel lines?",options:["Projective geometry has more parallel lines","In projective geometry, any two lines meet","Euclidean geometry has no parallel lines","They are identical in this regard"],correctIndex:1,difficulty:"easy",explanation:"In projective geometry, there are no parallel linesany two distinct lines meet at exactly one point."}],GX=[{id:1,type:"multiple-choice",question:"Homogeneous coordinates for a point in $\\mathbb{R}P^2$ consist of:",options:["A pair $(x, y)$","A triple $(x, y, z)$ not all zero, where $(kx, ky, kz)$ represents the same point","A single number $x$","Four coordinates $(w, x, y, z)$"],correctIndex:1,difficulty:"easy",explanation:"A point in $\\mathbb{R}P^2$ is represented by a triple $(x, y, z)$ where not all are zero, and $(kx, ky, kz)$ represents the same point for any nonzero $k$."},{id:2,type:"multiple-choice",question:'A "line" in $\\mathbb{R}P^2$ is defined by what type of equation?',options:["$x^2 + y^2 + z^2 = 1$","$ax + by + cz = 0$ (linear, homogeneous)","$ax + by + cz = 1$ (linear, non-homogeneous)","$xyz = 0$"],correctIndex:1,difficulty:"medium",explanation:"Lines in $\\mathbb{R}P^2$ are defined by homogeneous linear equations $ax + by + cz = 0$."},{id:3,type:"multiple-choice",question:'The "ordinary" points of $\\mathbb{R}P^2$ are those with:',options:["$x = 0$","$y = 0$","$z \\neq 0$","$z = 0$"],correctIndex:2,difficulty:"medium",explanation:"Ordinary points have $z \\neq 0$ and can be normalized to $(x, y, 1)$, corresponding to $(x, y)$ in $\\mathbb{R}^2$."},{id:4,type:"multiple-choice",question:"Points with $z = 0$ in homogeneous coordinates correspond to:",options:["The origin",'Points at infinity (the "line at infinity")',"The y-axis","Invalid coordinates"],correctIndex:1,difficulty:"medium",explanation:'Points with $z = 0$ are the "points at infinity" which together form the line at infinity in $\\mathbb{R}P^2$.'},{id:5,type:"multiple-choice",question:'To find the "line" through two "points" $(x_1, y_1, z_1)$ and $(x_2, y_2, z_2)$ in $\\mathbb{R}P^2$, you solve:',options:["A quadratic equation in $a, b, c$","Two linear equations $ax_1 + by_1 + cz_1 = 0$ and $ax_2 + by_2 + cz_2 = 0$","The equation $x_1 x_2 + y_1 y_2 + z_1 z_2 = 0$","No solution is needed; just connect the points"],correctIndex:1,difficulty:"medium",explanation:"The coefficients $(a, b, c)$ of the line must satisfy both $ax_1 + by_1 + cz_1 = 0$ and $ax_2 + by_2 + cz_2 = 0$, giving a family of solutions $(ta, tb, tc)$."},{id:6,type:"multiple-choice",question:"What makes the complex projective plane $\\mathbb{C}P^2$ different from $\\mathbb{R}P^2$?",options:["It has different axioms","The coordinates $x, y, z$ and scalar $t$ are complex numbers instead of real","Lines are defined by non-homogeneous equations","It has no points at infinity"],correctIndex:1,difficulty:"medium",explanation:"In $\\mathbb{C}P^2$, the coordinates are complex numbers and $t$ ranges over nonzero complex numbers. The algebraic structure and axioms remain the same."},{id:7,type:"multiple-choice",question:'In $\\mathbb{R}P^3$ (projective 3-space), a "point" is represented by:',options:["A triple $(x, y, z)$","A quadruple $(w, x, y, z)$ with multiples $(tw, tx, ty, tz)$ representing the same point","A pair $(x, y)$","A single coordinate $x$"],correctIndex:1,difficulty:"easy",explanation:"In $\\mathbb{R}P^3$, points are represented by quadruples $(w, x, y, z)$ not all zero, with $(tw, tx, ty, tz)$ representing the same point for any $t \\neq 0$."},{id:8,type:"multiple-choice",question:'In $\\mathbb{R}P^3$, what is a "line"?',options:["A 1-dimensional subspace (line through O) in $\\mathbb{R}^4$","A 2-dimensional subspace (plane through O) in $\\mathbb{R}^4$","A 3-dimensional subspace in $\\mathbb{R}^4$","A circle in $\\mathbb{R}^4$"],correctIndex:1,difficulty:"hard",explanation:'In $\\mathbb{R}P^3$, a "line" is a plane through the origin in $\\mathbb{R}^4$, spanned by two linearly independent vectors.'},{id:9,type:"multiple-choice",question:"Which property holds in $\\mathbb{R}P^3$?",options:['Two "points" determine a unique "plane"','Two "planes" have a unique "point" in common','Two "planes" have a unique "line" in common','Three "planes" always have a common "line"'],correctIndex:2,difficulty:"medium",explanation:'In $\\mathbb{R}P^3$, any two distinct "planes" intersect in exactly one "line." This follows from linear algebra: two 3-dimensional subspaces of $\\mathbb{R}^4$ through O intersect in a 2-dimensional subspace.'},{id:10,type:"multiple-choice",question:'Why is the equation $ax + by + cz = 0$ called "homogeneous"?',options:["Because all terms have the same degree (degree 1)","Because the coefficients $a, b, c$ are equal","Because it has a unique solution","Because it describes a sphere"],correctIndex:0,difficulty:"easy",explanation:"A homogeneous equation has all terms of the same degree. In $ax + by + cz = 0$, each term has degree 1. This ensures that if $(x, y, z)$ is a solution, so is $(tx, ty, tz)$ for any $t$."}],WX=[{id:1,type:"multiple-choice",question:"When projecting parallel lines $\\mathcal{L}_1$ and $\\mathcal{L}_2$, what transformation does the map represent?",options:["Rotation","Reflection","$x \\mapsto x + l$ (translation)","$x \\mapsto 1/x$ (reciprocation)"],correctIndex:2,difficulty:"easy",explanation:"Projection from a point at infinity onto parallel lines produces a translation: $x \\mapsto x + l$."},{id:2,type:"multiple-choice",question:"Projection from a finite point onto parallel lines produces:",options:["$x \\mapsto x + l$","$x \\mapsto kx$ (scaling)","$x \\mapsto 1/x$","$x \\mapsto x^2$"],correctIndex:1,difficulty:"easy",explanation:"Projection from a finite point onto parallel lines scales distances by a constant factor: $x \\mapsto kx$."},{id:3,type:"multiple-choice",question:"Projection onto perpendicular lines (from an equidistant point) produces:",options:["$x \\mapsto x + l$","$x \\mapsto kx$","$x \\mapsto 1/x$ (reciprocation)","$x \\mapsto -x$"],correctIndex:2,difficulty:"medium",explanation:"When projecting onto perpendicular lines from an equidistant point, the transformation is $x \\mapsto 1/x$."},{id:4,type:"multiple-choice",question:"Any combination of projections can be expressed as:",options:["A rotation","A linear fractional function $f(x) = (ax + b)/(cx + d)$","A polynomial","An exponential function"],correctIndex:1,difficulty:"medium",explanation:"Any sequence of projections is equivalent to a linear fractional function $f(x) = (ax + b)/(cx + d)$ where $ad - bc \\neq 0$."}],YX=[{id:1,type:"multiple-choice",question:"A linear fractional function has the form $f(x) = (ax + b)/(cx + d)$. What condition must the coefficients satisfy?",options:["$a + b + c + d = 1$","$ad - bc \\neq 0$","$a = d$ and $b = c$","$abcd = 1$"],correctIndex:1,difficulty:"easy",explanation:"The condition $ad - bc \\neq 0$ ensures the function is not constant."},{id:2,type:"multiple-choice",question:"What is the real projective line $\\mathbb{R}P^1$?",options:["Just the real numbers $\\mathbb{R}$","$\\mathbb{R} \\cup \\{\\infty\\}$, the real numbers plus a point at infinity","The complex numbers","The integers"],correctIndex:1,difficulty:"easy",explanation:"$\\mathbb{R}P^1 = \\mathbb{R} \\cup \\{\\infty\\}$ extends the real line by adding a single point at infinity."},{id:3,type:"multiple-choice",question:"On $\\mathbb{R}P^1$, what is $1/0$?",options:["Undefined","$0$","$1$","$\\infty$"],correctIndex:3,difficulty:"easy",explanation:"On the projective line, we define $1/0 = \\infty$ and $1/\\infty = 0$, making reciprocation well-defined everywhere."},{id:4,type:"multiple-choice",question:"How many points on $\\mathbb{R}P^1$ determine a unique linear fractional transformation?",options:["One point","Two points","Three points (and their images)","Four points"],correctIndex:2,difficulty:"medium",explanation:"Three points and their images determine a unique linear fractional transformation. Once three points are fixed, every other point is determined."},{id:5,type:"multiple-choice",question:"The composition of two linear fractional functions is:",options:["Not a linear fractional function","Always the identity","Another linear fractional function","A quadratic function"],correctIndex:2,difficulty:"medium",explanation:"The composition of linear fractional functions is again linear fractional, and corresponds to matrix multiplication of the coefficient matrices."}],XX=[{id:1,type:"multiple-choice",question:"The cross-ratio of four points $p, q, r, s$ on a line is defined as:",options:["$(r - p) + (s - q)$","$\\frac{(r - p)(s - q)}{(r - q)(s - p)}$","$(r - p)(s - q)(r - q)(s - p)$","$\\frac{r + s}{p + q}$"],correctIndex:1,difficulty:"easy",explanation:"The cross-ratio is $\\frac{(r - p)(s - q)}{(r - q)(s - p)}$, a ratio of ratios."},{id:2,type:"multiple-choice",question:'The cross-ratio is called a "ratio of ratios" because:',options:["It involves four additions","It is the ratio $\\frac{(r-p)/(s-p)}{(r-q)/(s-q)}$","It always equals a ratio of integers","It is computed by taking ratios repeatedly"],correctIndex:1,difficulty:"medium",explanation:"The cross-ratio can be written as $\\frac{(r-p)/(s-p)}{(r-q)/(s-q)}$, making it a ratio of two ratios."},{id:3,type:"multiple-choice",question:"The cross-ratio is preserved by:",options:["Only translations","Only rotations","All linear fractional transformations (projections)","No transformations"],correctIndex:2,difficulty:"easy",explanation:"The cross-ratio is invariant under all linear fractional transformations, which represent projections."},{id:4,type:"multiple-choice",question:"For four equally spaced points $p = 0, q = 1, r = 2, s = 3$, what is the cross-ratio?",options:["$1$","$2$","$4/3$","$3/2$"],correctIndex:2,difficulty:"medium",explanation:"The cross-ratio is $\\frac{(2-0)(3-1)}{(2-1)(3-0)} = \\frac{2 \\cdot 2}{1 \\cdot 3} = \\frac{4}{3}$."}],ZX=[{id:1,type:"multiple-choice",question:"Why is there no nontrivial projective invariant for three points?",options:["Three points do not determine a line","Any three points can be sent to any other three points by a linear fractional transformation","Three is not enough points for a ratio","The formula requires four variables"],correctIndex:1,difficulty:"medium",explanation:"Since any three points can be mapped to any three points by a linear fractional transformation, any invariant of triples would have the same value for all triplesthus trivial."},{id:2,type:"multiple-choice",question:'The theorem of "fourth point determination" states:',options:["Any fourth point is arbitrary","Given three points and a cross-ratio value, the fourth point is uniquely determined","Four points always have cross-ratio 1","The fourth point can be anywhere"],correctIndex:1,difficulty:"medium",explanation:"Given three points $p, q, r$ and a cross-ratio value $y$, there is exactly one fourth point $x$ such that $[p, q; r, x] = y$."},{id:3,type:"multiple-choice",question:"Linear fractional transformations are characterized as precisely those maps that:",options:["Preserve distances","Preserve angles","Preserve the cross-ratio","Preserve areas"],correctIndex:2,difficulty:"easy",explanation:"Linear fractional transformations are exactly the transformations of $\\mathbb{R}P^1$ that preserve the cross-ratio."},{id:4,type:"multiple-choice",question:"How many distinct values can the cross-ratio take when we permute four points?",options:["$24$ (all permutations give different values)","$6$ (generated by $1/y$ and $1-y$)","$4$","$2$"],correctIndex:1,difficulty:"hard",explanation:"Although there are 24 permutations of four points, only 6 distinct cross-ratio values arise, generated by the transformations $y \\mapsto 1/y$ and $y \\mapsto 1-y$."},{id:5,type:"multiple-choice",question:"If $[p, q; r, s] = y$, then $[p, q; s, r] = $",options:["$y$","$-y$","$1/y$","$1 - y$"],correctIndex:2,difficulty:"medium",explanation:"Swapping the last two points inverts the cross-ratio: $[p, q; s, r] = 1/y$."}],QX=[{id:1,type:"multiple-choice",question:"The projective plane $FP^2$ can be constructed over any:",options:["Ring","Group","Field","Vector space"],correctIndex:2,difficulty:"easy",explanation:"The projective plane construction works over any field $F$, using triples from $F^3$."},{id:2,type:"multiple-choice",question:"The smallest projective plane, the Fano plane $F_2P^2$, has how many points?",options:["$3$","$5$","$7$","$9$"],correctIndex:2,difficulty:"easy",explanation:"The Fano plane has 7 points, corresponding to the 7 nonzero points in $F_2^3$."},{id:3,type:"multiple-choice",question:"In the field $F_2 = \\{0, 1\\}$, what is $1 + 1$?",options:["$0$","$1$","$2$","Undefined"],correctIndex:0,difficulty:"medium",explanation:"In $F_2$ (the field with two elements), $1 + 1 = 0$. This is addition modulo 2."},{id:4,type:"multiple-choice",question:"The invariance of the cross-ratio was discovered by:",options:["Euclid around 300 BCE","Pappus around 300 CE","Newton in the 17th century","Gauss in the 19th century"],correctIndex:1,difficulty:"medium",explanation:"The invariance of the cross-ratio was discovered by Pappus around 300 CE and rediscovered by Desargues around 1640."},{id:5,type:"multiple-choice",question:"What additional axiom ensures that a projective plane has coordinates from a field?",options:["The parallel axiom","The theorem of Pappus","The completeness axiom","The Archimedean axiom"],correctIndex:1,difficulty:"hard",explanation:"The theorem of Pappus is the fourth axiom needed to ensure that the projective plane has coordinates satisfying the field axioms."}],KX=[{id:1,type:"multiple-choice",question:"The theorems of Pappus and Desargues are examples of what type of theorem?",options:["Measurement theorems","Incidence theorems","Angle theorems","Area theorems"],correctIndex:1,difficulty:"easy",explanation:"The Pappus and Desargues theorems are incidence theoremsthey involve only points, lines, and their meetings (incidences)."},{id:2,type:"multiple-choice",question:"What is a Pappian plane?",options:["Any projective plane","A plane that satisfies the three projective axioms plus Pappus and Desargues","A plane with no parallel lines","A Euclidean plane with coordinates"],correctIndex:1,difficulty:"medium",explanation:"A Pappian plane satisfies the three projective plane axioms together with the Pappus and Desargues theorems."},{id:3,type:"multiple-choice",question:"What is the Moulton plane an example of?",options:["A Pappian plane","A projective plane where Desargues fails","A Euclidean plane","A plane satisfying all field axioms"],correctIndex:1,difficulty:"medium",explanation:"The Moulton plane is a projective plane where even the little Desargues theorem fails, showing that Desargues cannot be proved from the basic axioms."},{id:4,type:"multiple-choice",question:"What is the little Desargues theorem?",options:["A weaker version where the center P lies on the line L","The converse of Desargues","Desargues applied to small triangles","A theorem about parallel lines only"],correctIndex:0,difficulty:"medium",explanation:"The little Desargues theorem is the special case where the center of projection P lies on the line L where corresponding sides meet."}],JX=[{id:1,type:"multiple-choice",question:'In projective geometry, what is a "coincidence"?',options:["Two lines being parallel","Two incidences occurring together (co-incidence)","A measurement error","Two points being equal"],correctIndex:1,difficulty:"easy",explanation:'A coincidence is literally a "co-incidence"two incidences occurring together, such as three points lying on the same line.'},{id:2,type:"multiple-choice",question:"The tiled floor construction involves coincidences that can be traced to which theorem?",options:["The Pythagorean theorem","The little Desargues theorem","The Pappus theorem only","No theoremit is purely computational"],correctIndex:1,difficulty:"medium",explanation:"The coincidence in the tiled floor construction can be traced to a special case of the little Desargues theorem."},{id:3,type:"multiple-choice",question:"When lines that meet on the horizon are drawn as actual parallels, what formulation of little Desargues applies?",options:["The affine formulation","The parallel formulation","The Euclidean formulation","The metric formulation"],correctIndex:1,difficulty:"medium",explanation:"The parallel formulation of little Desargues is easier to visualize because lines meeting at infinity become actual parallel lines."},{id:4,type:"multiple-choice",question:"Does the tiled floor coincidence hold in the Moulton plane?",options:["Yes, it always holds","No, it fails when the x-axis is suitably positioned","It depends on the size of the tiles","The Moulton plane cannot have tiled floors"],correctIndex:1,difficulty:"hard",explanation:"The tiled floor coincidence fails in the Moulton plane when the x-axis is placed in a suitable position."}],eZ=[{id:1,type:"multiple-choice",question:"What does the converse Desargues theorem state?",options:["If triangles are in perspective from a point, corresponding sides meet on a line","If corresponding sides meet on a line, triangles are in perspective from a point","Parallel lines meet at infinity","The sum construction is independent of auxiliary choices"],correctIndex:1,difficulty:"easy",explanation:"The converse Desargues theorem states: If corresponding sides of two triangles meet on a line, then the triangles are in perspective from a point."},{id:2,type:"multiple-choice",question:"What is the scissors theorem?",options:["A theorem about cutting paper","If three pairs of corresponding sides of quadrilaterals are parallel, the fourth pair is parallel","Two triangles always have parallel sides","Scissors-shaped figures have equal areas"],correctIndex:1,difficulty:"medium",explanation:"The scissors theorem states: If ABCD and A'B'C'D' are quadrilaterals with vertices alternately on two lines, and if three pairs of corresponding sides are parallel, then the fourth pair is also parallel."},{id:3,type:"multiple-choice",question:"How is the scissors theorem proved?",options:["Using only the projective plane axioms","Using the converse Desargues theorem and the Desargues theorem","By direct computation","Using compass and straightedge"],correctIndex:1,difficulty:"medium",explanation:"The scissors theorem is proved by applying the converse Desargues theorem to find a center of perspective, then applying Desargues to conclude the fourth pair of sides is parallel."},{id:4,type:"multiple-choice",question:"Who introduced the Moulton plane and when?",options:["Hilbert in 1899","Moulton in 1902","Pappus around 300 CE","Desargues in 1640"],correctIndex:1,difficulty:"easy",explanation:"Moulton introduced the Moulton plane in 1902 to show that the Desargues theorem cannot be proved from the basic projective plane axioms."}],tZ=[{id:1,type:"multiple-choice",question:"In projective arithmetic, how is the sum $a + b$ constructed?",options:["By measuring lengths with a ruler",'By "copying" the length $Oa$ to the point $b$ using parallel lines',"By computing coordinates numerically","By using a compass"],correctIndex:1,difficulty:"medium",explanation:'The sum $a + b$ is constructed by using parallel lines to "copy" the segment $Oa$ to the point $b$, analogous to compass constructions in Euclidean geometry.'},{id:2,type:"multiple-choice",question:"The sum $a + b$ in projective arithmetic is independent of:",options:["The choice of origin $O$","The choice of auxiliary line $L$ parallel to the x-axis","The positions of $a$ and $b$","The choice of unit 1"],correctIndex:1,difficulty:"medium",explanation:"The sum $a + b$ is independent of the choice of the auxiliary line $L$ parallel to the x-axis, as shown by the little Desargues theorem."},{id:3,type:"multiple-choice",question:"What does the product construction in projective arithmetic require that addition does not?",options:["A compass","A choice of unit point 1","Measurement of angles","Calculation of areas"],correctIndex:1,difficulty:"easy",explanation:"The product construction requires choosing a point to be 1 (the unit), which determines the scale for multiplication."},{id:4,type:"multiple-choice",question:"Why do sums and products correspond on the x- and y-axes?",options:["By definition only","The Pappus theorem (for sums) and scissors theorem (for products)","They do not correspond","By the Euclidean parallel postulate"],correctIndex:1,difficulty:"hard",explanation:"Sums correspond by a Pappus configuration, and products correspond by the scissors theorem."}],nZ=[{id:1,type:"multiple-choice",question:"How many field axioms are there?",options:["Five","Seven","Nine","Twelve"],correctIndex:2,difficulty:"easy",explanation:"There are nine field axioms: two commutative laws, two associative laws, two identity laws, two inverse laws, and one distributive law."},{id:2,type:"multiple-choice",question:"Which theorem implies the commutative law of multiplication $ab = ba$?",options:["The Desargues theorem","The Pappus theorem","The scissors theorem","The Pythagorean theorem"],correctIndex:1,difficulty:"easy",explanation:"The Pappus theorem implies that $ab = ba$. This is demonstrated by showing both constructions on the same diagram."},{id:3,type:"multiple-choice",question:"What does the Desargues theorem imply about the field axioms?",options:["All nine field axioms","Eight field axiomsall but $ab = ba$","Only the commutative laws","Only the identity laws"],correctIndex:1,difficulty:"medium",explanation:"The Desargues theorem implies eight of the nine field axiomsall except the commutative law of multiplication $ab = ba$."},{id:4,type:"multiple-choice",question:'What is the "little Pappus theorem"?',options:["The Pappus theorem for small hexagons","A special case with hexagon vertices on parallel lines","A converse of the Pappus theorem","The Pappus theorem in finite planes"],correctIndex:1,difficulty:"medium",explanation:"The little Pappus theorem is the special case where the vertices of the hexagon lie on two lines that meet at a point $P$, with two pairs of opposite sides meeting on a line through $P$."}],iZ=[{id:1,type:"multiple-choice",question:"Which theorem is used to prove $a + (b + c) = (a + b) + c$?",options:["The Pappus theorem","The scissors theorem (from Desargues)","The Pythagorean theorem","The parallel postulate"],correctIndex:1,difficulty:"medium",explanation:"The associative law of addition is proved using the scissors theorem, which follows from the Desargues theorem."},{id:2,type:"multiple-choice",question:"For the associative law of addition, which form of Desargues is sufficient?",options:["The full Desargues theorem","The little Desargues theorem (little scissors theorem)","The converse Desargues theorem","No form of Desargues is needed"],correctIndex:1,difficulty:"medium",explanation:"Because the scissors in the addition proof lie between parallel lines, only the little scissors theorem (and hence little Desargues) is needed."},{id:3,type:"multiple-choice",question:"What are quaternions?",options:["Four-dimensional real numbers with noncommutative multiplication","Complex numbers with four components","Pairs of real numbers","Numbers that commute under multiplication"],correctIndex:0,difficulty:"easy",explanation:"Quaternions are a four-dimensional number system (H = R^4) with noncommutative but associative multiplication."},{id:4,type:"multiple-choice",question:"Who discovered the quaternions?",options:["Euclid","Sir William Rowan Hamilton in 1843","David Hilbert in 1899","Ruth Moufang in 1930"],correctIndex:1,difficulty:"easy",explanation:"Hamilton discovered the quaternions in 1843 and famously carved the key formula on Brougham Bridge in Dublin."},{id:5,type:"multiple-choice",question:"Why does the quaternion projective plane HP satisfy Desargues but not Pappus?",options:["Quaternions are not real numbers","Quaternion multiplication is associative but not commutative","HP is not a projective plane","Desargues implies Pappus"],correctIndex:1,difficulty:"hard",explanation:"HP satisfies Desargues because quaternion multiplication is associative, but fails Pappus because multiplication is not commutative."}],sZ=[{id:1,type:"multiple-choice",question:"Which theorem is used to prove the distributive law $a(b + c) = ab + ac$?",options:["The Desargues theorem","The Pappus theorem","The scissors theorem","The little Desargues theorem"],correctIndex:1,difficulty:"medium",explanation:"The distributive law is proved using the Pappus theorem, by combining addition on the x-axis with multiplication via parallels."},{id:2,type:"multiple-choice",question:"Why is the other distributive law $(b + c)a = ba + ca$ not proved separately?",options:["It is false","It follows from Pappus implying commutative multiplication","It requires different techniques","It is an axiom, not a theorem"],correctIndex:1,difficulty:"medium",explanation:"Since Pappus implies $ab = ba$, we have $(b+c)a = a(b+c) = ab + ac = ba + ca$."},{id:3,type:"multiple-choice",question:"In systems with noncommutative multiplication like quaternions, how many distributive laws hold?",options:["None","One (left distribution)","Both left and right distribution","Distribution depends on the elements"],correctIndex:2,difficulty:"medium",explanation:"Both distributive laws hold for quaternions because they are defined as matrices, and matrix multiplication distributes over addition from both sides."},{id:4,type:"multiple-choice",question:"The proof of the distributive law has the same structure as which earlier proof?",options:["The proof of $ab = ba$","The proof that sums correspond on both axes","The proof of the scissors theorem","The proof of the associative laws"],correctIndex:1,difficulty:"hard",explanation:"The distributive law proof has the same structure as the proof that sums correspond on both axesonly the labels change."}],rZ=[{id:1,type:"multiple-choice",question:"Who first developed projective geometry without using numbers?",options:["Euclid","Christian von Staudt in 1847","Felix Klein in 1872","Desargues in 1640"],correctIndex:1,difficulty:"medium",explanation:"Christian von Staudt developed projective geometry without numbers in 1847, an approach later refined by Hilbert."},{id:2,type:"multiple-choice",question:"Who first proved that Pappus implies Desargues?",options:["Hilbert in 1899","Gerhard Hessenberg in 1904","Ruth Moufang in 1930","Hamilton in 1843"],correctIndex:1,difficulty:"medium",explanation:"Hessenberg first proved this implication in 1904, though his original proof had an error corrected later."},{id:3,type:"multiple-choice",question:"What algebraic property does the little Desargues theorem correspond to?",options:["Commutativity","Associativity","Alternativity (partial associativity)","Distributivity"],correctIndex:2,difficulty:"hard",explanation:"The little Desargues theorem corresponds to alternativity: $a^{-1}(ab) = b = (ba)a^{-1}$, as discovered by Ruth Moufang."},{id:4,type:"multiple-choice",question:"What are the octonions?",options:["Eight-dimensional numbers with alternative but nonassociative multiplication","Complex numbers in eight dimensions","Quaternions with eight components","Numbers that satisfy all field axioms"],correctIndex:0,difficulty:"medium",explanation:"The octonions (O) are an eight-dimensional number system with alternative but nonassociative multiplication, discovered by Graves in 1843."},{id:5,type:"multiple-choice",question:"Why does the octonion projective space OP not exist?",options:["Octonions are too complicated","The Desargues theorem holds in 3D projective spaces, but octonions are not associative","There are not enough octonions","OP would require 24 dimensions"],correctIndex:1,difficulty:"hard",explanation:"In any 3D projective space, Desargues holds (by spatial reasoning). This would imply octonions are associativewhich they are not."},{id:6,type:"multiple-choice",question:'In which dimensions can "reasonable" multiplication be defined on R^n?',options:["Any dimension","Only dimensions 1, 2, 3, and 4","Only dimensions 1, 2, 4, and 8","Only even dimensions"],correctIndex:2,difficulty:"hard",explanation:"Reasonable multiplication (respecting dimension) exists only on R^1 (reals), R^2 (complex), R^4 (quaternions), and R^8 (octonions)."}],aZ=[{id:1,type:"multiple-choice",question:"What is an isometry of the plane?",options:["A function that changes distances proportionally","A function that preserves distance","A function that preserves angles only","A function that maps lines to lines"],correctIndex:1,difficulty:"easy",explanation:"An isometry is a distance-preserving map. For any two points P and Q, an isometry f satisfies |f(P) - f(Q)| = |P - Q|."},{id:2,type:"multiple-choice",question:"Which of the following is NOT an isometry of the plane?",options:["Rotation","Reflection","Scaling by factor 2","Translation"],correctIndex:2,difficulty:"easy",explanation:"Scaling by factor 2 doubles all distances, so it is not an isometry. Rotations, reflections, and translations all preserve distances."},{id:3,type:"multiple-choice",question:"Every isometry of the plane can be expressed as a product of at most how many reflections?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"medium",explanation:"The Three Reflections Theorem states that every isometry of the plane is a product of at most three reflections."},{id:4,type:"multiple-choice",question:"What is the product of two reflections in lines that meet at angle ?",options:["A reflection","A translation","A rotation through angle ","A rotation through angle 2"],correctIndex:3,difficulty:"medium",explanation:"The product of reflections in two lines meeting at angle  is a rotation about their intersection through angle 2."}],lZ=[{id:1,type:"multiple-choice",question:"What is a linear transformation of ?",options:["Any function from  to ","A function that preserves vector addition and scalar multiplication","A function that preserves distances","A function defined by a polynomial"],correctIndex:1,difficulty:"easy",explanation:"A linear transformation T satisfies T(u + v) = T(u) + T(v) and T(cu) = cT(u) for all vectors u, v and scalars c."},{id:2,type:"multiple-choice",question:"What is the key property of an orthogonal matrix?",options:["All entries are positive","The determinant is 1","A^T A = I (transpose times itself equals identity)","All entries are integers"],correctIndex:2,difficulty:"medium",explanation:"A matrix A is orthogonal if A^T A = I, meaning its transpose equals its inverse. This is equivalent to having orthonormal columns."},{id:3,type:"multiple-choice",question:"What does the determinant of an orthogonal matrix tell us?",options:["The area of the transformation","Whether it is a rotation (det = 1) or reflection (det = -1)","The angle of rotation","The number of fixed points"],correctIndex:1,difficulty:"medium",explanation:"For orthogonal matrices, det = 1 indicates a rotation (orientation-preserving) and det = -1 indicates a reflection (orientation-reversing)."},{id:4,type:"multiple-choice",question:"Why are homogeneous coordinates useful for representing affine transformations?",options:["They make matrices smaller","They allow translations to be represented as matrix multiplications","They preserve angles","They eliminate the need for inverses"],correctIndex:1,difficulty:"hard",explanation:"Homogeneous coordinates allow translations (which are not linear) to be combined with linear transformations into a single matrix multiplication."}],oZ=[{id:1,type:"multiple-choice",question:"What is a linear fractional function?",options:["A polynomial of degree 1","A function of the form f(x) = (ax + b)/(cx + d)","A function that preserves ratios","Any function with a fraction"],correctIndex:1,difficulty:"easy",explanation:"A linear fractional function (Mbius transformation) has the form f(x) = (ax + b)/(cx + d) where ad - bc  0."},{id:2,type:"multiple-choice",question:"What quantity is preserved by all linear fractional transformations?",options:["Distance","Angle","Cross-ratio","Area"],correctIndex:2,difficulty:"medium",explanation:"The cross-ratio of four points is preserved by linear fractional transformations. This is the fundamental invariant of projective geometry on the line."},{id:3,type:"multiple-choice",question:"How many points are needed to uniquely determine a linear fractional transformation?",options:["One point","Two points","Three points","Four points"],correctIndex:2,difficulty:"medium",explanation:"A linear fractional transformation is uniquely determined by its action on three pointsgiven three points and their images, there is exactly one such transformation."},{id:4,type:"multiple-choice",question:"What is the group of all linear fractional transformations of P called?",options:["GL(2, )","SL(2, )","PGL(2, )","O(2)"],correctIndex:2,difficulty:"hard",explanation:"The projective general linear group PGL(2, ) consists of linear fractional transformations, represented by 22 matrices up to scalar multiplication."}],cZ=[{id:1,type:"multiple-choice",question:'What are the "lines" in spherical geometry?',options:["Lines of latitude","Great circles","Any circle on the sphere","Meridians only"],correctIndex:1,difficulty:"easy",explanation:'Great circlesintersections of the sphere with planes through its centerare the "lines" of spherical geometry because they are geodesics (shortest paths).'},{id:2,type:"multiple-choice",question:"How do any two great circles relate to each other?",options:["They never meet","They meet at exactly one point","They meet at exactly two antipodal points","They may or may not meet"],correctIndex:2,difficulty:"medium",explanation:"Any two great circles on S intersect at exactly two antipodal points. There are no parallel lines in spherical geometry."},{id:3,type:"multiple-choice",question:"What is true about the angles of a spherical triangle?",options:["They sum to less than 180","They sum to exactly 180","They sum to more than 180","The sum depends on the triangle size"],correctIndex:2,difficulty:"medium",explanation:"The angles of a spherical triangle always sum to more than 180. The excess over 180 is proportional to the triangle's area."},{id:4,type:"multiple-choice",question:"The isometry group of S is isomorphic to which group?",options:["O(2)","SO(2)","O(3)","SO(3)"],correctIndex:2,difficulty:"hard",explanation:"Isom(S)  O(3), the group of 33 orthogonal matrices. Every isometry of S extends to an orthogonal transformation of ."}],hZ=[{id:1,type:"multiple-choice",question:"What is SO(3)?",options:["All 33 matrices","All orthogonal 33 matrices","33 orthogonal matrices with determinant 1","33 matrices with determinant 1"],correctIndex:2,difficulty:"easy",explanation:"SO(3) is the special orthogonal group33 orthogonal matrices with determinant 1. These represent rotations of ."},{id:2,type:"multiple-choice",question:"What is special about rotations in 3D compared to 2D?",options:["3D rotations preserve area","3D rotations do not commute in general","3D rotations require matrices","3D rotations have no fixed points"],correctIndex:1,difficulty:"medium",explanation:"Unlike in 2D, rotations in 3D generally do not commute. The order of rotations matters: RR  RR in general."},{id:3,type:"multiple-choice",question:"Every rotation of S is a product of exactly how many reflections?",options:["One","Two","Three","Any number"],correctIndex:1,difficulty:"medium",explanation:"Every rotation of S is a product of exactly two reflections in great circles. The angle between the great circles determines the rotation angle."},{id:4,type:"multiple-choice",question:"The rotation group SO(3) is topologically equivalent to which space?",options:["S","S","P",""],correctIndex:2,difficulty:"hard",explanation:"SO(3) is homeomorphic to P, the real projective 3-space. This can be seen by parameterizing rotations as a ball with antipodal boundary points identified."}],uZ=[{id:1,type:"multiple-choice",question:"What is a quaternion?",options:["A 44 matrix","A number of the form a + bi + cj + dk","A 4-dimensional vector","A type of polynomial"],correctIndex:1,difficulty:"easy",explanation:"A quaternion is a number q = a + bi + cj + dk where i = j = k = ijk = -1, extending complex numbers to four dimensions."},{id:2,type:"multiple-choice",question:"How does a unit quaternion q represent a rotation?",options:["By p  qp","By p  pq","By p  qpq","By p  q + p"],correctIndex:2,difficulty:"medium",explanation:"A unit quaternion q represents a rotation via the map p  qpq, where p is a pure quaternion representing a point in ."},{id:3,type:"multiple-choice",question:"What is special about the quaternion representation of rotations?",options:["It is one-to-one","Both q and -q represent the same rotation","Only positive quaternions give rotations","Each rotation has infinitely many quaternions"],correctIndex:1,difficulty:"medium",explanation:"The quaternion representation is 2-to-1: both q and -q give the same rotation p  qpq, since (-q)p(-q) = qpq."},{id:4,type:"multiple-choice",question:"For rotation about axis n through angle , the quaternion uses which angle?",options:["","/2","2",""],correctIndex:1,difficulty:"hard",explanation:"The unit quaternion for rotation about n through angle  is q = cos(/2) + sin(/2)(ni + nj + nk). The half-angle appears because of the 2-to-1 correspondence."}],dZ=[{id:1,type:"multiple-choice",question:"How many rotational symmetries does a regular tetrahedron have?",options:["4","8","12","24"],correctIndex:2,difficulty:"easy",explanation:"The tetrahedron has 12 rotational symmetries: 1 identity, 8 face rotations (120 and 240 about each vertex-face axis), and 3 edge rotations (180 about edge midpoint axes)."},{id:2,type:"multiple-choice",question:"The rotation group of the tetrahedron is isomorphic to which group?",options:["S","A","S","A"],correctIndex:1,difficulty:"medium",explanation:"The rotation group of the tetrahedron is isomorphic to A, the alternating group of even permutations of 4 objects (the vertices)."},{id:3,type:"multiple-choice",question:"The 24 quaternions representing tetrahedron rotations form the vertices of which 4D polytope?",options:["The 4-simplex","The hypercube","The 24-cell","The 600-cell"],correctIndex:2,difficulty:"medium",explanation:"The 24 unit quaternions (1, i, j, k and the 16 of form (1  i  j  k)) form the vertices of the 24-cell, an exceptional regular 4D polytope."},{id:4,type:"multiple-choice",question:"Why do the cube and octahedron have the same rotation group?",options:["They have the same number of faces","They are dual polyhedra","They have the same volume","They have the same surface area"],correctIndex:1,difficulty:"hard",explanation:"The cube and octahedron are dualvertices of one correspond to face centers of the other. Duality preserves the symmetry group, so both have 24 rotations (S)."}],mZ=[{id:1,type:"multiple-choice",question:"What is the 3-sphere S?",options:["The surface of a ball in ","Points at unit distance from O in ","A 3-dimensional sphere","The set of unit quaternions in "],correctIndex:1,difficulty:"easy",explanation:'S = {(a,b,c,d)   : a + b + c + d = 1}. It lives in 4-dimensional space and is the "surface" of a 4-ball.'},{id:2,type:"multiple-choice",question:"Unit quaternions are in one-to-one correspondence with points of which space?",options:["","S","S","P"],correctIndex:2,difficulty:"medium",explanation:"Unit quaternions q = a + bi + cj + dk with |q| = 1 correspond exactly to points (a,b,c,d) on S, since |q| = a + b + c + d = 1."},{id:3,type:"multiple-choice",question:"Which spheres have continuous group structures?",options:["All spheres S","Only S","Only S and S","S, S, and S"],correctIndex:2,difficulty:"hard",explanation:"Only S and S have continuous group structures. S gets its structure from complex multiplication, S from quaternion multiplication. S cannot have a continuous group structure."},{id:4,type:"multiple-choice",question:"What is an isomorphism between groups?",options:["Any function between groups","A one-to-one correspondence that preserves products","A function that preserves the identity","A bijection between sets"],correctIndex:1,difficulty:"medium",explanation:`An isomorphism : G  G' is a bijection satisfying (gg) = (g)(g). Isomorphic groups are "the same" as abstract groups.`}],fZ=[{id:1,type:"multiple-choice",question:"Which branch of geometry is described as being concerned with how objects look rather than what they are?",options:["Euclidean geometry","Affine geometry","Projective geometry","Differential geometry"],correctIndex:2,difficulty:"easy",explanation:"Projective geometry is the most visual branch, concerned with how objects look (perspective) rather than their actual measurements."},{id:2,type:"multiple-choice",question:"Classical Chinese and Japanese art typically uses which type of geometric projection?",options:["Perspective projection","Affine (parallel) projection","Orthogonal projection","Spherical projection"],correctIndex:1,difficulty:"medium",explanation:'Classical East Asian art often uses affine (parallel) projection, preserving parallel lines and giving a "view from infinity" that differs from Renaissance perspective.'},{id:3,type:"multiple-choice",question:'Why is there no "number system" with multiplicative absolute value on ?',options:["Three is an odd number","There is no multiplication rule that makes |uv| = |u||v| while satisfying field axioms"," is too small","Complex numbers already exist in "],correctIndex:1,difficulty:"hard",explanation:"It is impossible to define a multiplication on  that satisfies the field axioms (or even weaker conditions) while having a multiplicative absolute value. The next dimension where this works is  (quaternions)."},{id:4,type:"multiple-choice",question:"According to Klein's Erlangen program, what defines a geometry?",options:["Its axioms","Its transformation group","Its dimension","Its coordinate system"],correctIndex:1,difficulty:"medium",explanation:"Klein's Erlangen program (1872) proposed that each geometry is characterized by its group of transformations. The properties of the geometry are exactly the invariants of its transformation group."}],pZ=[{id:1,type:"multiple-choice",question:"What is the upper half plane in the context of hyperbolic geometry?",options:["The set of real numbers greater than zero","The set of complex numbers z = x + iy with y > 0","The upper hemisphere of a sphere","The top half of the Euclidean plane"],correctIndex:1,difficulty:"easy",explanation:"The upper half plane  = {z = x + iy   : y > 0} consists of all complex numbers with positive imaginary part."},{id:2,type:"multiple-choice",question:"What are the two types of non-Euclidean lines in the upper half plane model?",options:["Horizontal lines and circles","Diagonal lines and ellipses","Vertical rays and semicircles with centers on the x-axis","Parabolas and hyperbolas"],correctIndex:2,difficulty:"easy",explanation:"Non-Euclidean lines are either vertical rays (x = constant, y > 0) or semicircles with centers on the x-axis."},{id:3,type:"multiple-choice",question:"In hyperbolic geometry, how many lines through a point P are parallel to a given line L?",options:["Zero","Exactly one","Exactly two","Infinitely many"],correctIndex:3,difficulty:"medium",explanation:"Unlike Euclidean geometry where there is exactly one parallel, hyperbolic geometry has infinitely many lines through P that do not intersect L."},{id:4,type:"multiple-choice",question:"What condition ensures a linear fractional transformation f(z) = (az+b)/(cz+d) maps the upper half plane to itself?",options:["a, b, c, d are complex and ad - bc = 1","a, b, c, d are real and ad - bc > 0","a, b, c, d are integers","c = 0"],correctIndex:1,difficulty:"hard",explanation:"When a, b, c, d are real and ad - bc > 0, the transformation preserves the upper half plane. If ad - bc < 0, it maps to the lower half plane."}],xZ=[{id:1,type:"multiple-choice",question:"What is the complex conjugate of z = 3 + 4i?",options:["3 + 4i","3 - 4i","-3 + 4i","-3 - 4i"],correctIndex:1,difficulty:"easy",explanation:"The complex conjugate of z = x + iy is z = x - iy. So the conjugate of 3 + 4i is 3 - 4i."},{id:2,type:"multiple-choice",question:"What is z  z for any complex number z = x + iy?",options:["x - y","x + y","2xy","x - y"],correctIndex:1,difficulty:"easy",explanation:"z  z = (x + iy)(x - iy) = x + y = |z|, the square of the absolute value."},{id:3,type:"multiple-choice",question:"Which transformation maps the upper half plane to itself?",options:["z  z","z  -z","z  -z","z  iz"],correctIndex:2,difficulty:"medium",explanation:"z  -z reflects across the imaginary axis while preserving the upper half plane. z  z sends y > 0 to y < 0."},{id:4,type:"multiple-choice",question:"What property makes complex conjugation an automorphism of ?",options:["It is continuous","It preserves addition and multiplication","It is bijective","It fixes real numbers"],correctIndex:1,difficulty:"medium",explanation:"Conjugation satisfies (z + w) = z + w and (zw) = zw, meaning it preserves the algebraic structure of ."}],gZ=[{id:1,type:"multiple-choice",question:"Which transformations generate all Mbius transformations of the upper half plane?",options:["Only translations","Only rotations and reflections","z  z + l, z  kz, z  -z, z  1/z","Only inversions"],correctIndex:2,difficulty:"medium",explanation:"All Mbius transformations can be built from translations (z  z + l), scalings (z  kz), reflection in the imaginary axis (z  -z), and inversion-reflection (z  1/z)."},{id:2,type:"multiple-choice",question:"What is the formula for reflection in the vertical line x = a?",options:["z  z + 2a","z  2a - z","z  z - 2a","z  a/z"],correctIndex:1,difficulty:"medium",explanation:"Reflection in the vertical line x = a is given by z  2a - z. This fixes points on x = a and reverses orientation."},{id:3,type:"multiple-choice",question:"What type of transformation is z  kz for k > 0?",options:["Rotation","Reflection","Scaling (dilation)","Translation"],correctIndex:2,difficulty:"easy",explanation:"z  kz is a scaling or dilation centered at the origin. It multiplies all distances from the origin by k."},{id:4,type:"multiple-choice",question:"The composition of two reflections in non-Euclidean lines produces what type of transformation?",options:["A reflection","An orientation-preserving Mbius transformation","A translation only","A rotation only"],correctIndex:1,difficulty:"hard",explanation:"The composition of two reflections is always orientation-preserving. Depending on how the lines meet, it could be a translation, rotation, or limit rotation."}],yZ=[{id:1,type:"multiple-choice",question:'What is a "generalized circle" in complex analysis?',options:["An ellipse","A circle or a straight line","Any closed curve","A spiral"],correctIndex:1,difficulty:"easy",explanation:'A generalized circle is either an ordinary circle or a straight line (viewed as a "circle through ").'},{id:2,type:"multiple-choice",question:"What do Mbius transformations preserve?",options:["Euclidean distances","Areas","Generalized circles","Curvature"],correctIndex:2,difficulty:"medium",explanation:"Mbius transformations map generalized circles to generalized circles. A line might map to a circle and vice versa, but circles/lines map to circles/lines."},{id:3,type:"multiple-choice",question:"Why do Mbius transformations preserve non-Euclidean lines?",options:["They preserve distances","They preserve angles, and non-Euclidean lines meet the boundary orthogonally","They are linear","They fix the origin"],correctIndex:1,difficulty:"hard",explanation:"Non-Euclidean lines are characterized by meeting the x-axis at right angles. Since Mbius transformations preserve both the boundary and angles, they preserve non-Euclidean lines."},{id:4,type:"multiple-choice",question:"What happens to the vertical line x = 1 under the map z  1/z?",options:["It remains a vertical line","It becomes a semicircle through the origin","It becomes a horizontal line","It becomes the unit circle"],correctIndex:1,difficulty:"medium",explanation:"Under z  1/z, lines not through the origin map to circles through the origin. The vertical line x = 1 maps to a circle passing through 0."}],bZ=[{id:1,type:"multiple-choice",question:"What does it mean for a map to be conformal?",options:["It preserves distances","It preserves angles","It preserves areas","It preserves straight lines"],correctIndex:1,difficulty:"easy",explanation:"A conformal map preserves angles between curves at their intersection points."},{id:2,type:"multiple-choice",question:"Are all Mbius transformations conformal?",options:["No, only rotations are conformal","Yes, all Mbius transformations preserve angles","Only orientation-preserving ones","Only at certain points"],correctIndex:1,difficulty:"medium",explanation:"All Mbius transformations are conformal. Orientation-preserving ones preserve the sense of angles; orientation-reversing ones (involving conjugation) reverse the sense but preserve magnitude."},{id:3,type:"multiple-choice",question:"For f(z) = (az + b)/(cz + d), where is f conformal?",options:["Only at z = 0","Everywhere except where cz + d = 0","Only on the real line","Everywhere including at poles"],correctIndex:1,difficulty:"medium",explanation:"A Mbius transformation is conformal everywhere in its domain. It is undefined only where cz + d = 0 (the pole)."},{id:4,type:"multiple-choice",question:"In hyperbolic geometry, how are angles measured?",options:["Using a special hyperbolic protractor","Using the Euclidean angle between curves","Using the cross-ratio","They cannot be measured"],correctIndex:1,difficulty:"hard",explanation:"Hyperbolic angles equal Euclidean angles. We measure angles using the standard Euclidean metric on tangent vectors."}],vZ=[{id:1,type:"multiple-choice",question:"What is the hyperbolic distance from i to 2i on the imaginary axis?",options:["1","log 2","2",""],correctIndex:1,difficulty:"easy",explanation:"For points pi and qi on the imaginary axis, ndist(pi, qi) = |log(q/p)|. So ndist(i, 2i) = log(2/1) = log 2."},{id:2,type:"multiple-choice",question:"Why does z  kz (k > 0) preserve hyperbolic distance on the imaginary axis?",options:["It preserves the ratio q/p","It fixes the origin","It is a rotation","It preserves Euclidean distance"],correctIndex:0,difficulty:"medium",explanation:"ndist(kpi, kqi) = log(kq/kp) = log(q/p) = ndist(pi, qi). The k cancels in the ratio."},{id:3,type:"multiple-choice",question:"What is the hyperbolic distance from any point in  to the boundary (x-axis)?",options:["Zero","One","Finite but depends on the point","Infinite"],correctIndex:3,difficulty:"medium",explanation:'The boundary is at infinite hyperbolic distance from every interior point. This is why the boundary is "unreachable" in finite hyperbolic time.'},{id:4,type:"multiple-choice",question:"The hyperbolic metric ds = |dz|/y means that at height y, the hyperbolic length of a Euclidean segment is:",options:["Multiplied by y","Divided by y","Independent of y","Squared by y"],correctIndex:1,difficulty:"hard",explanation:"The metric ds = |dz|/y means hyperbolic length = Euclidean length / y. Near the x-axis (small y), even small Euclidean distances are large hyperbolic distances."}],jZ=[{id:1,type:"multiple-choice",question:"How are orientation-preserving Mbius transformations classified?",options:["By their determinant","By the number of fixed points on   {}","By their trace only","By whether they preserve area"],correctIndex:1,difficulty:"easy",explanation:"They are classified as hyperbolic (2 fixed points on boundary), elliptic (1 fixed point in interior), or parabolic (1 fixed point on boundary)."},{id:2,type:"multiple-choice",question:"What is a hyperbolic translation?",options:["Movement along a horocycle","Movement along a non-Euclidean line (geodesic)","Rotation about a point","Reflection in a line"],correctIndex:1,difficulty:"medium",explanation:"A hyperbolic translation moves points along a geodesic (non-Euclidean line). It has two fixed points on the boundary, the endpoints of its axis."},{id:3,type:"multiple-choice",question:"What is a horocycle?",options:["A hyperbolic circle","A curve tangent to the boundary at one point","A geodesic","An ellipse"],correctIndex:1,difficulty:"medium",explanation:"A horocycle is tangent to the boundary at exactly one point. In the upper half plane, horocycles are horizontal lines (tangent to ) or circles tangent to the x-axis."},{id:4,type:"multiple-choice",question:"The transformation z  z + 1 is which type?",options:["Hyperbolic (translation along a geodesic)","Elliptic (rotation)","Parabolic (limit rotation)","Reflection"],correctIndex:2,difficulty:"hard",explanation:"z  z + 1 has only  as a fixed point (one fixed point on boundary), making it parabolic. Points move along horizontal horocycles."}],wZ=[{id:1,type:"multiple-choice",question:"Every Mbius transformation of the upper half plane can be expressed as a product of at most how many reflections?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"easy",explanation:"The Three Reflections Theorem states that every Mbius transformation is a composition of at most three reflections in non-Euclidean lines."},{id:2,type:"multiple-choice",question:"What is an involution?",options:["A transformation with no fixed points","A transformation that is its own inverse (f  f = id)","A transformation with exactly one fixed point","A continuous transformation"],correctIndex:1,difficulty:"easy",explanation:"An involution satisfies f(f(z)) = z for all z. Applying it twice returns to the original. Every reflection is an involution."},{id:3,type:"multiple-choice",question:"What is a half-turn in hyperbolic geometry?",options:["A reflection","A rotation by 180 about a point in ","A translation by half the distance","A parabolic transformation"],correctIndex:1,difficulty:"medium",explanation:"A half-turn is a rotation by  (180) about a point. It is an orientation-preserving involution: applying it twice gives the identity."},{id:4,type:"multiple-choice",question:"Every orientation-preserving Mbius transformation can be written as a product of how many involutions?",options:["One","Two","Three","It varies"],correctIndex:1,difficulty:"hard",explanation:"The Two Involutions Theorem states that every orientation-preserving Mbius transformation is a product of exactly two involutions (such as half-turns)."}],TZ=[{id:1,type:"multiple-choice",question:"Who were the independent discoverers of hyperbolic geometry?",options:["Newton and Leibniz","Bolyai and Lobachevsky","Euclid and Pythagoras","Gauss and Riemann"],correctIndex:1,difficulty:"easy",explanation:"Jnos Bolyai (Hungary) and Nikolai Lobachevsky (Russia) independently discovered hyperbolic geometry around 1830. Gauss also knew of it but never published."},{id:2,type:"multiple-choice",question:"What did Saccheri attempt to prove in 1733?",options:["The existence of non-Euclidean geometry","The parallel postulate by contradiction","The consistency of Euclidean geometry","The Pythagorean theorem"],correctIndex:1,difficulty:"medium",explanation:"Saccheri tried to prove the parallel postulate by assuming its negation and deriving a contradiction. He derived many hyperbolic theorems but rejected the valid geometry he had discovered."},{id:3,type:"multiple-choice",question:"What does the existence of a model prove about hyperbolic geometry?",options:["That it is true in the real world","That it is consistent (if Euclidean geometry is)","That the parallel postulate is false","That Euclid was wrong"],correctIndex:1,difficulty:"medium",explanation:"A model shows that hyperbolic geometry is consistent relative to Euclidean geometry: if Euclidean geometry has no contradictions, neither does hyperbolic geometry."},{id:4,type:"multiple-choice",question:"In the three constant-curvature geometries, which has angle sums greater than 180 for triangles?",options:["Euclidean","Hyperbolic","Spherical","Projective"],correctIndex:2,difficulty:"hard",explanation:"Spherical geometry (positive curvature) has triangles with angle sum > 180. Euclidean has exactly 180. Hyperbolic (negative curvature) has < 180."}],$e={0:QN,1:mX,2:fX,3:pX,4:xX,5:gX,6:yX,7:bX,8:vX,9:jX,10:wX,11:TX,12:SX,13:NX,14:AX,15:kX,16:EX,17:CX,18:MX,19:zX,20:DX,21:PX,22:IX,23:RX,24:_X,25:qX,26:$X,27:BX,28:OX,29:LX,30:FX,31:UX,32:HX,33:VX,34:GX,35:WX,36:YX,37:XX,38:ZX,39:QX,40:KX,41:JX,42:eZ,43:tZ,44:nZ,45:iZ,46:sZ,47:rZ,48:aZ,49:lZ,50:oZ,51:cZ,52:hZ,53:uZ,54:dZ,55:mZ,56:fZ,57:pZ,58:xZ,59:gZ,60:yZ,61:bZ,62:vZ,63:jZ,64:wZ,65:TZ};function SZ(){return i.jsxs(qe,{sectionId:0,children:[i.jsx("h2",{children:"Euclid's Construction Axioms"}),i.jsxs("p",{children:["For over 2000 years, mathematics was almost synonymous with the geometry of Euclid's ",i.jsx("em",{children:"Elements"}),", a book written around 300 BCE and used in school mathematics instruction until the 20th century. Euclidean geometry, as it is now called, was thought to be the foundation of all exact science."]}),i.jsxs("p",{children:["A naive way to describe Euclidean geometry is to say it concerns the geometric figures that can be drawn (or ",i.jsx("em",{children:"constructed"})," as we say) by straightedge and compass. Euclid assumes that it is possible to draw a straight line between any two given points, and to draw a circle with given center and radius. All of the propositions he proves are about figures built from straight lines and circles."]}),i.jsx("h3",{children:"The Three Construction Axioms"}),i.jsxs("p",{children:["Euclid assumes that certain constructions can be done and he states these assumptions in a list called his ",i.jsx("em",{children:"axioms"})," (traditionally called ",i.jsx("em",{children:"postulates"}),"). He assumes that it is possible to:"]}),i.jsx(xe,{title:"Euclid's Construction Axioms",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Draw a straight line segment"})," between any two points."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Extend a straight line segment"})," indefinitely."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Draw a circle"})," with given center and radius."]})]})}),i.jsx("h3",{children:"The Straightedge"}),i.jsxs("p",{children:["Axioms 1 and 2 say we have a ",i.jsx("em",{children:"straightedge"}),', an instrument for drawing arbitrarily long line segments. Euclid and his contemporaries tried to avoid infinity, so they worked with line segments rather than with whole lines. This is no real restriction, but it involves the annoyance of having to extend line segments (or "produce" them, as they say in old geometry books).']}),i.jsxs("p",{children:["Today we replace Axioms 1 and 2 by the single axiom that ",i.jsx("em",{children:"a line can be drawn through any two points"}),"."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Distinction:"})," The straightedge (unlike a ruler) has no scale marked on it and hence can be used ",i.jsx("em",{children:"only"})," for drawing linesnot for measurement. Euclid separates the function of measurement from the function of drawing straight lines."]}),i.jsx("h3",{children:"The Compass"}),i.jsx("p",{children:"The compass is used to draw the circle through a given point B, with a given point A as center. To do this job, the compass must rotate rigidly about A after being initially set on the two points A and B."}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 200",className:"w-full max-w-md",children:[i.jsx("circle",{cx:"100",cy:"100",r:"70",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("circle",{cx:"100",cy:"100",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"115",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"170",cy:"100",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"175",y:"115",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"B"}),i.jsx("line",{x1:"100",y1:"100",x2:"170",y2:"100",stroke:"#60a5fa",strokeWidth:"1.5",strokeDasharray:"5,5"}),i.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"30",stroke:"#94a3b8",strokeWidth:"2"}),i.jsx("line",{x1:"100",y1:"30",x2:"170",y2:"100",stroke:"#94a3b8",strokeWidth:"2"}),i.jsx("circle",{cx:"100",cy:"30",r:"5",fill:"#475569",stroke:"#94a3b8",strokeWidth:"2"})]})}),i.jsx("p",{children:'Thus, the compass "stores" the length of the radius AB and allows this length to be transferred elsewhere. The power of measuring lengths resides in the compass.'}),i.jsx("h3",{children:"Adding and Subtracting Lengths"}),i.jsxs("p",{children:["The compass enables us to ",i.jsx("strong",{children:"add"})," and ",i.jsx("strong",{children:"subtract"})," lengths. To add the length |AB| to the length |CD|, or subtract |AB| from |CD|, we pick up the compass with radius set to |AB| and describe a circle with center D."]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 120",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"30",y1:"60",x2:"370",y2:"60",stroke:"#475569",strokeWidth:"1"}),i.jsx("circle",{cx:"50",cy:"60",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"45",y:"85",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"C"}),i.jsx("circle",{cx:"200",cy:"60",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"195",y:"85",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"D"}),i.jsx("path",{d:"M 130 60 A 70 70 0 0 1 270 60",fill:"none",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"50",x2:"130",y2:"50",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("text",{x:"70",y:"40",fill:"#f472b6",fontSize:"12",children:"|CD| - |AB|"}),i.jsx("line",{x1:"50",y1:"70",x2:"200",y2:"70",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("text",{x:"110",y:"95",fill:"#60a5fa",fontSize:"12",children:"|CD|"}),i.jsx("text",{x:"220",y:"40",fill:"#34d399",fontSize:"12",children:"|AB|"}),i.jsx("line",{x1:"200",y1:"50",x2:"350",y2:"50",stroke:"#34d399",strokeWidth:"2"}),i.jsx("text",{x:"250",y:"40",fill:"#34d399",fontSize:"12",children:"|CD| + |AB|"})]})}),i.jsx("p",{children:'By adding a fixed length repeatedly, one can construct a "scale" on a given line, effectively creating a ruler. This process illustrates how the power of measuring lengths resides in the compass.'}),i.jsxs(ue,{title:"The Scope of Straightedge and Compass",children:[i.jsx("p",{children:"Exactly which lengths can be measured by straightedge and compass is a deep question, which belongs to algebra and analysis. The question for general constructions turns out to depend on a problem about prime numbers that has not yet been solved:"}),i.jsx(Y,{children:"\\text{For which } m \\text{ is } 2^{2^m} + 1 \\text{ a prime number?}"})]}),i.jsx("h3",{children:"Separation of Concepts"}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Fundamental Insight:"}),' Separating the concepts of "straightness" and "length," as the straightedge and the compass do, turns out to be important for understanding the foundations of geometry. The same separation of concepts reappears in different approaches to geometry developed later in this course.']}),i.jsxs("p",{children:["This chapter reviews some basic constructions, to give a quick impression of the extent of Euclidean geometry, and to suggest why ",i.jsx("em",{children:"right angles"})," and",i.jsx("em",{children:"parallel lines"})," play a special role in it. Constructions also help to expose the role of length, area, and angle in geometry. The deeper meaning of these concepts, and the related role of numbers in geometry, is a thread we will pursue throughout the course."]}),i.jsx(Re,{sectionId:0,questions:$e[0]||[],title:"Euclid's Construction Axioms Quiz"})]})}function NZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("equilateral"),[r,a]=q.useState(0),[l,o]=q.useState(!1),c=500,h=400,u={equilateral:{name:"Equilateral Triangle",steps:["Draw base segment AB","Draw circle centered at A with radius AB","Draw circle centered at B with radius BA","Mark intersection point C","Connect A-C and B-C to complete triangle"],maxStep:4},perpendicular:{name:"Perpendicular Bisector",steps:["Start with segment AB","Draw circle centered at A with radius > AB/2","Draw circle centered at B with same radius","Mark intersection points P and Q","Draw line through P and Q"],maxStep:4},bisector:{name:"Angle Bisector",steps:["Start with angle BAC","Draw arc from A intersecting both rays at D and E","Draw equal arcs from D and E","Mark intersection point F","Draw ray AF (the bisector)"],maxStep:4},parallel:{name:"Parallel Line",steps:["Start with line L and point P not on L","Draw perpendicular from P to L at point Q","At P, construct perpendicular to PQ","This line is parallel to L"],maxStep:3}};q.useEffect(()=>{const E=e.current;if(!E)return;const y=E.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,c,h),y.strokeStyle="#1e293b",y.lineWidth=1;for(let f=0;f<=c;f+=40)y.beginPath(),y.moveTo(f,0),y.lineTo(f,h),y.stroke();for(let f=0;f<=h;f+=40)y.beginPath(),y.moveTo(0,f),y.lineTo(c,f),y.stroke();const T=(f,x,C="#22d3ee")=>{y.fillStyle=C,y.beginPath(),y.arc(f.x,f.y,5,0,Math.PI*2),y.fill(),y.fillStyle="#e2e8f0",y.font="bold 14px sans-serif",y.fillText(x,f.x+8,f.y-8)},S=(f,x,C="#f472b6")=>{y.strokeStyle=C,y.lineWidth=2,y.beginPath(),y.moveTo(f.x,f.y),y.lineTo(x.x,x.y),y.stroke()},N=(f,x,C="#a78bfa",j=!1)=>{y.strokeStyle=C,y.lineWidth=1.5,j&&y.setLineDash([5,5]),y.beginPath(),y.arc(f.x,f.y,x,0,Math.PI*2),y.stroke(),y.setLineDash([])},v=(f,x,C,j,g="#a78bfa")=>{y.strokeStyle=g,y.lineWidth=1.5,y.beginPath(),y.arc(f.x,f.y,x,C,j),y.stroke()};switch(n){case"equilateral":{const f={x:150,y:280},x={x:350,y:280},C=Math.sqrt((x.x-f.x)**2+(x.y-f.y)**2),j={x:250,y:280-C*Math.sin(Math.PI/3)};r>=0&&(S(f,x),T(f,"A"),T(x,"B")),r>=1&&N(f,C,"#a78bfa",!0),r>=2&&N(x,C,"#22d3ee",!0),r>=3&&T(j,"C","#fbbf24"),r>=4&&(S(f,j,"#34d399"),S(x,j,"#34d399"));break}case"perpendicular":{const f={x:150,y:250},x={x:350,y:250},C=130,j=(f.x+x.x)/2,g=Math.sqrt(C**2-((x.x-f.x)/2)**2),A={x:j,y:250-g},w={x:j,y:250+g};if(r>=0&&(S(f,x),T(f,"A"),T(x,"B")),r>=1&&N(f,C,"#a78bfa",!0),r>=2&&N(x,C,"#22d3ee",!0),r>=3&&(T(A,"P","#fbbf24"),T(w,"Q","#fbbf24")),r>=4){S(A,w,"#34d399");const k={x:j,y:250};y.strokeStyle="#34d399",y.lineWidth=1,y.beginPath(),y.moveTo(k.x+10,k.y),y.lineTo(k.x+10,k.y-10),y.lineTo(k.x,k.y-10),y.stroke()}break}case"bisector":{const f={x:150,y:300},x=Math.PI/3,C=200,j={x:f.x+C,y:f.y},g={x:f.x+C*Math.cos(x),y:f.y-C*Math.sin(x)},A=80,w={x:f.x+A,y:f.y},k={x:f.x+A*Math.cos(x),y:f.y-A*Math.sin(x)},M=x/2,I={x:f.x+120*Math.cos(M),y:f.y-120*Math.sin(M)};if(r>=0&&(S(f,j),S(f,g),T(f,"A"),T(j,"B","#94a3b8"),T(g,"C","#94a3b8")),r>=1&&(v(f,A,-x,0,"#a78bfa"),T(w,"D","#fbbf24"),T(k,"E","#fbbf24")),r>=2&&(v(w,60,-Math.PI,Math.PI,"#22d3ee"),v(k,60,-Math.PI,Math.PI,"#22d3ee")),r>=3&&T(I,"F","#34d399"),r>=4){const O={x:f.x+C*Math.cos(M),y:f.y-C*Math.sin(M)};S(f,O,"#34d399")}break}case"parallel":{const f={x:50,y:300},x={x:450,y:300},C={x:250,y:150},j={x:250,y:300};r>=0&&(S(f,x,"#f472b6"),T(C,"P","#22d3ee"),y.fillStyle="#94a3b8",y.font="12px sans-serif",y.fillText("Line L",x.x-40,x.y+20)),r>=1&&(S(C,j,"#a78bfa"),T(j,"Q","#fbbf24"),y.strokeStyle="#a78bfa",y.lineWidth=1,y.beginPath(),y.moveTo(j.x+10,j.y),y.lineTo(j.x+10,j.y-10),y.lineTo(j.x,j.y-10),y.stroke()),r>=2&&(y.strokeStyle="#34d399",y.lineWidth=1,y.beginPath(),y.moveTo(C.x+10,C.y),y.lineTo(C.x+10,C.y+10),y.lineTo(C.x,C.y+10),y.stroke()),r>=3&&(S({x:50,y:C.y},{x:450,y:C.y},"#34d399"),y.fillStyle="#34d399",y.font="12px sans-serif",y.fillText("Parallel to L",360,C.y-10));break}}y.fillStyle="#94a3b8",y.font="11px sans-serif",y.fillText(`Step ${r+1} of ${u[n].maxStep+1}`,10,h-10)},[n,r]);const m=()=>{r<u[n].maxStep&&a(r+1)},p=()=>{r>0&&a(r-1)},b=()=>{o(!0),a(0);let E=0;const y=setInterval(()=>{E<u[n].maxStep?(E++,a(E)):(clearInterval(y),o(!1))},1e3)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Compass & Straightedge Construction"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Construction Type"}),i.jsxs("select",{value:n,onChange:E=>{s(E.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"equilateral",children:"Equilateral Triangle"}),i.jsx("option",{value:"perpendicular",children:"Perpendicular Bisector"}),i.jsx("option",{value:"bisector",children:"Angle Bisector"}),i.jsx("option",{value:"parallel",children:"Parallel Line"})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Current Step:"}),i.jsx("div",{className:"text-sm text-slate-200",children:u[n].steps[r]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:p,disabled:r===0||l,className:"flex-1 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 text-slate-200 rounded text-sm",children:"Previous"}),i.jsx("button",{onClick:m,disabled:r===u[n].maxStep||l,className:"flex-1 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 text-slate-200 rounded text-sm",children:"Next"})]}),i.jsx("button",{onClick:b,disabled:l,className:"w-full px-3 py-1.5 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded text-sm",children:l?"Animating...":"Animate All Steps"}),i.jsx("button",{onClick:()=>a(0),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Given segments"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Circle from A"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Circle from B"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Result"]})]})]})]})]})}function AZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(150),[r,a]=q.useState(!1),l=500,o=380,c={x:100,y:320},h={x:400,y:320},u={x:300,y:80},m=y=>{if(y>=c.y||y<=u.y)return null;const T=(c.y-y)/(c.y-u.y),S={x:c.x+T*(u.x-c.x),y},N=(h.y-y)/(h.y-u.y),v={x:h.x+N*(u.x-h.x),y};return{C:S,D:v}};q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,l,o),T.strokeStyle="#1e293b",T.lineWidth=1;for(let v=0;v<=l;v+=40)T.beginPath(),T.moveTo(v,0),T.lineTo(v,o),T.stroke();for(let v=0;v<=o;v+=40)T.beginPath(),T.moveTo(0,v),T.lineTo(l,v),T.stroke();T.strokeStyle="#f472b6",T.lineWidth=2,T.beginPath(),T.moveTo(c.x,c.y),T.lineTo(h.x,h.y),T.lineTo(u.x,u.y),T.closePath(),T.stroke(),T.strokeStyle="#475569",T.lineWidth=1,T.setLineDash([5,5]),T.beginPath(),T.moveTo(50,c.y),T.lineTo(450,c.y),T.stroke(),T.setLineDash([]);const S=(v,f,x)=>{T.fillStyle=x,T.beginPath(),T.arc(v.x,v.y,6,0,Math.PI*2),T.fill(),T.fillStyle="#e2e8f0",T.font="bold 14px sans-serif",T.fillText(f,v.x+10,v.y-8)};S(c,"O","#f472b6"),S(h,"A","#f472b6"),S(u,"B","#f472b6");const N=m(n);if(N){const{C:v,D:f}=N;T.strokeStyle="#22d3ee",T.lineWidth=2,T.beginPath(),T.moveTo(50,n),T.lineTo(450,n),T.stroke(),S(v,"C","#22d3ee"),S(f,"D","#22d3ee");const x=Math.sqrt((v.x-c.x)**2+(v.y-c.y)**2),C=Math.sqrt((u.x-c.x)**2+(u.y-c.y)**2),j=Math.sqrt((f.x-h.x)**2+(f.y-h.y)**2),g=Math.sqrt((u.x-h.x)**2+(u.y-h.y)**2),A=Math.sqrt((f.x-v.x)**2+(f.y-v.y)**2),w=Math.sqrt((h.x-c.x)**2+(h.y-c.y)**2),k=x/C,M=j/g,I=A/w;T.fillStyle="#0f172a",T.fillRect(10,10,200,100),T.strokeStyle="#334155",T.strokeRect(10,10,200,100),T.fillStyle="#e2e8f0",T.font="12px sans-serif",T.fillText("Thales Theorem:",20,30),T.fillText(`OC/OB = ${k.toFixed(3)}`,20,50),T.fillText(`AD/AB = ${M.toFixed(3)}`,20,70),T.fillText(`CD/OA = ${I.toFixed(3)}`,20,90),T.fillStyle="#34d399",T.fillText("All ratios equal!",120,50),T.fillStyle="#22d3ee",T.font="11px sans-serif",T.fillText("CD  OA",380,n-10)}T.fillStyle="#94a3b8",T.font="11px sans-serif",T.fillText("Drag the cyan line up/down",10,o-10)},[n]);const p=y=>{var N;const T=(N=e.current)==null?void 0:N.getBoundingClientRect();if(!T)return;const S=y.clientY-T.top;Math.abs(S-n)<20&&a(!0)},b=y=>{var N;if(!r)return;const T=(N=e.current)==null?void 0:N.getBoundingClientRect();if(!T)return;let S=y.clientY-T.top;S=Math.max(u.y+20,Math.min(c.y-20,S)),s(S)},E=()=>{a(!1)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Thales' Theorem (Intercept Theorem)"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:l,height:o,className:"border border-slate-700 rounded cursor-ns-resize",onMouseDown:p,onMouseMove:b,onMouseUp:E,onMouseLeave:E})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-blue-400 mb-2",children:"Thales' Theorem"}),i.jsx("p",{className:"text-xs text-slate-300",children:"If a line CD is drawn parallel to the base OA of a triangle OAB, then it divides the other two sides proportionally:"}),i.jsx("p",{className:"text-sm text-cyan-400 mt-2 font-mono",children:"OC/OB = AD/AB = CD/OA"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Insight"}),i.jsx("p",{className:"text-xs text-slate-300",children:"This theorem is fundamental for similar triangles. The parallel line creates a smaller triangle similar to the original."})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Original triangle OAB"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Parallel line CD"]}),i.jsx("p",{children:"Drag the line to see ratios change"})]})]})]})]})}function kZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(0),[l,o]=q.useState(!1),c=q.useRef(),h=500,u=400,m=h/2,p=u/2+40,b=120,E={x:m-b/2,y:p},y={x:m+b/2,y:p},T={x:m,y:p-b*Math.sqrt(3)/2},S=["Draw points A and B (the base)","Draw circle with center A, radius AB","Draw circle with center B, radius AB","Mark intersection point C","Draw triangle ABC"];q.useEffect(()=>{const x=e.current;if(!x)return;const C=x.getContext("2d");if(!C)return;C.fillStyle="#0f172a",C.fillRect(0,0,h,u),C.strokeStyle="#1e293b",C.lineWidth=1;for(let w=0;w<=h;w+=40)C.beginPath(),C.moveTo(w,0),C.lineTo(w,u),C.stroke();for(let w=0;w<=u;w+=40)C.beginPath(),C.moveTo(0,w),C.lineTo(h,w),C.stroke();const j=(w,k,M,I,O,$,G)=>{C.strokeStyle=G,C.lineWidth=2,C.setLineDash([5,5]),C.beginPath();const V=(O-I)*$;C.arc(w,k,M,I,I+V),C.stroke(),C.setLineDash([])},g=(w,k,M,I,O,$)=>{C.strokeStyle=$,C.lineWidth=2,C.beginPath(),C.moveTo(w,k),C.lineTo(w+(M-w)*O,k+(I-k)*O),C.stroke()},A=(w,k,M,I,O={x:0,y:20})=>{C.fillStyle=M,C.beginPath(),C.arc(w,k,5,0,Math.PI*2),C.fill(),C.font="italic 16px serif",C.fillStyle=M,C.fillText(I,w+O.x,k+O.y)};if(n>=0&&(g(E.x,E.y,y.x,y.y,n===0?r:1,"#f472b6"),A(E.x,E.y,"#60a5fa","A",{x:-20,y:20}),A(y.x,y.y,"#34d399","B",{x:10,y:20})),n>=1){const w=n===1?r:1;j(E.x,E.y,b,-Math.PI/3,Math.PI/3,w,"#60a5fa")}if(n>=2){const w=n===2?r:1;j(y.x,y.y,b,2*Math.PI/3,4*Math.PI/3,w,"#34d399")}if(n>=3){const w=n===3?r:1;w>.5&&(C.fillStyle="#fbbf24",C.beginPath(),C.arc(T.x,T.y,6*(w-.5)*2,0,Math.PI*2),C.fill(),C.font="italic 16px serif",C.fillStyle="#fbbf24",C.fillText("C",T.x+10,T.y-10))}if(n>=4){const w=n===4?r:1;w<.5?g(E.x,E.y,T.x,T.y,w*2,"#f472b6"):(g(E.x,E.y,T.x,T.y,1,"#f472b6"),g(y.x,y.y,T.x,T.y,(w-.5)*2,"#f472b6"))}if(n>=4&&r>=1){C.font="12px sans-serif",C.fillStyle="#94a3b8",C.fillText("= r",(E.x+y.x)/2,(E.y+y.y)/2+20);const w=(E.x+T.x)/2,k=(E.y+T.y)/2;C.fillText("= r",w-25,k);const M=(y.x+T.x)/2,I=(y.y+T.y)/2;C.fillText("= r",M+10,I)}},[n,r]),q.useEffect(()=>{if(l){const x=Date.now(),C=1e3,j=()=>{const g=Date.now()-x,A=Math.min(g/C,1);a(A),A<1?c.current=requestAnimationFrame(j):o(!1)};return c.current=requestAnimationFrame(j),()=>{c.current&&cancelAnimationFrame(c.current)}}},[l,n]);const N=()=>{n<S.length-1&&!l&&(s(n+1),a(0),o(!0))},v=()=>{n>0&&!l&&(s(n-1),a(1))},f=()=>{s(0),a(1),o(!1)};return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Interactive Equilateral Triangle Construction"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:h,height:u,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"bg-slate-900/50 p-3 rounded mb-4",children:i.jsxs("p",{className:"text-slate-300",children:[i.jsxs("strong",{children:["Step ",n+1,":"]})," ",S[n]]})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:v,disabled:n===0||l,className:`px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600
                     disabled:opacity-50 disabled:cursor-not-allowed transition`,children:"Previous"}),i.jsx("button",{onClick:N,disabled:n===S.length-1||l,className:`px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500
                     disabled:opacity-50 disabled:cursor-not-allowed transition`,children:"Next Step"}),i.jsx("button",{onClick:f,className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsx("div",{className:"flex justify-center gap-2",children:S.map((x,C)=>i.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${C<=n?"bg-blue-500":"bg-slate-600"}`},C))}),i.jsxs("div",{className:"mt-4 text-sm text-slate-400",children:[i.jsx("p",{children:i.jsx("strong",{children:"Why it works:"})}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-blue-400",children:"CA"})," = radius of circle A = AB"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"CB"})," = radius of circle B = AB"]}),i.jsx("li",{children:"Therefore all three sides are equal!"})]})]})]})}function EZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("multiply"),[r,a]=q.useState(2),[l,o]=q.useState(1.5),c=550,h=400,u={x:60,y:h-60},m=80;return q.useEffect(()=>{const p=e.current;if(!p)return;const b=p.getContext("2d");if(!b)return;b.fillStyle="#0f172a",b.fillRect(0,0,c,h),b.strokeStyle="#1e293b",b.lineWidth=1;for(let x=u.x;x<=c;x+=m)b.beginPath(),b.moveTo(x,0),b.lineTo(x,h),b.stroke();for(let x=0;x<=h;x+=m)b.beginPath(),b.moveTo(0,x),b.lineTo(c,x),b.stroke();b.strokeStyle="#475569",b.lineWidth=2,b.beginPath(),b.moveTo(u.x-20,u.y),b.lineTo(c-20,u.y),b.stroke();const E=350,y=Math.PI/3;b.beginPath(),b.moveTo(u.x,u.y),b.lineTo(u.x+E*Math.cos(y),u.y-E*Math.sin(y)),b.stroke();const T=(x,C)=>({x:u.x+x*m,y:u.y-C*m}),S=x=>({x:u.x+x*m*Math.cos(y),y:u.y-x*m*Math.sin(y)}),N=T(0,0),v=S(1),f=T(r,0);if(b.fillStyle="#60a5fa",b.beginPath(),b.arc(v.x,v.y,5,0,Math.PI*2),b.fill(),b.font="italic 14px serif",b.fillText("U (1)",v.x-10,v.y-12),b.fillStyle="#f472b6",b.beginPath(),b.arc(N.x,N.y,5,0,Math.PI*2),b.fill(),b.fillText("O",N.x-15,N.y+5),b.fillStyle="#34d399",b.beginPath(),b.arc(f.x,f.y,5,0,Math.PI*2),b.fill(),b.fillText("A",f.x-5,f.y+20),b.strokeStyle="#94a3b8",b.lineWidth=1.5,b.beginPath(),b.moveTo(v.x,v.y),b.lineTo(f.x,f.y),b.stroke(),n==="multiply"){const x=S(1+l);b.fillStyle="#fbbf24",b.beginPath(),b.arc(x.x,x.y,5,0,Math.PI*2),b.fill(),b.font="italic 14px serif",b.fillText("B",x.x-25,x.y-5),b.strokeStyle="#60a5fa",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(x.x,x.y),b.stroke();const C=1+l,j=T(r*C,0);b.fillStyle="#c084fc",b.beginPath(),b.arc(j.x,j.y,6,0,Math.PI*2),b.fill(),b.fillText("C",j.x-5,j.y+20),b.strokeStyle="#fbbf24",b.setLineDash([6,4]),b.beginPath(),b.moveTo(x.x,x.y),b.lineTo(j.x,j.y),b.stroke(),b.setLineDash([]),b.strokeStyle="#34d399",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(j.x,j.y),b.stroke(),b.font="12px sans-serif",b.fillStyle="#60a5fa";const g={x:(N.x+v.x)/2,y:(N.y+v.y)/2};b.fillText("1",g.x-15,g.y+5),b.fillStyle="#fbbf24";const A={x:(v.x+x.x)/2,y:(v.y+x.y)/2};b.fillText(`b=${l.toFixed(1)}`,A.x-30,A.y),b.fillStyle="#34d399";const w={x:(N.x+f.x)/2,y:(N.y+f.y)/2};b.fillText(`a=${r.toFixed(1)}`,w.x,w.y+20),b.fillStyle="#c084fc",b.font="bold 14px sans-serif";const k=r*l;b.fillText(`AC = ab = ${k.toFixed(2)}`,j.x-60,j.y+40)}else{const x=T(r+l,0);b.fillStyle="#fbbf24",b.beginPath(),b.arc(x.x,x.y,5,0,Math.PI*2),b.fill(),b.font="italic 14px serif",b.fillText("B",x.x-5,x.y+20);const C=(r+l)/r,j=S(C);b.fillStyle="#c084fc",b.beginPath(),b.arc(j.x,j.y,6,0,Math.PI*2),b.fill(),b.fillText("D",j.x-25,j.y-5),b.strokeStyle="#60a5fa",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(j.x,j.y),b.stroke(),b.strokeStyle="#fbbf24",b.setLineDash([6,4]),b.beginPath(),b.moveTo(x.x,x.y),b.lineTo(j.x,j.y),b.stroke(),b.setLineDash([]),b.strokeStyle="#34d399",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(x.x,x.y),b.stroke(),b.font="12px sans-serif",b.fillStyle="#60a5fa";const g={x:(N.x+v.x)/2,y:(N.y+v.y)/2};b.fillText("1",g.x-15,g.y+5),b.fillStyle="#34d399";const A={x:(N.x+f.x)/2,y:(N.y+f.y)/2};b.fillText(`a=${r.toFixed(1)}`,A.x,A.y+20),b.fillStyle="#fbbf24";const w={x:(f.x+x.x)/2,y:(f.y+x.y)/2};b.fillText(`b=${l.toFixed(1)}`,w.x,w.y+20),b.fillStyle="#c084fc",b.font="bold 14px sans-serif";const k=l/r;b.fillText(`UD = b/a = ${k.toFixed(2)}`,j.x+10,j.y+5)}b.fillStyle="#94a3b8",b.font="11px sans-serif",b.fillText(" (parallel to UA)",c-150,30)},[n,r,l]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Geometric Multiplication and Division"}),i.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>s("multiply"),className:`px-4 py-2 rounded transition ${n==="multiply"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Multiplication (a  b)"}),i.jsx("button",{onClick:()=>s("divide"),className:`px-4 py-2 rounded transition ${n==="divide"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Division (b  a)"})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",r.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:r,onChange:p=>a(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.5",max:"2.5",step:"0.1",value:l,onChange:p=>o(parseFloat(p.target.value)),className:"w-full"})]})]}),i.jsx("div",{className:"bg-slate-900/50 p-3 rounded text-sm",children:n==="multiply"?i.jsxs("p",{className:"text-slate-300",children:[i.jsx("strong",{children:"Multiplication:"})," The parallel through B to line UA meets the extension of OA at C. By similar triangles (Thales theorem), the length AC equals the product ",i.jsxs("span",{className:"text-purple-400",children:["a  b = ",(r*l).toFixed(2)]}),"."]}):i.jsxs("p",{className:"text-slate-300",children:[i.jsx("strong",{children:"Division:"})," The parallel through B to line UA meets the extension of OU at D. By similar triangles (Thales theorem), the length UD equals the quotient ",i.jsxs("span",{className:"text-purple-400",children:["b  a = ",(l/r).toFixed(2)]}),"."]})})]})}function CZ(){return i.jsxs(qe,{sectionId:1,children:[i.jsx("h2",{children:"Euclid's Construction of the Equilateral Triangle"}),i.jsxs("p",{children:["Constructing an equilateral triangle on a given side is the ",i.jsx("strong",{children:"first proposition"})," of Euclid's ",i.jsx("em",{children:"Elements"}),". This construction elegantly demonstrates the interplay between construction axioms, geometric axioms, and logical reasoning."]}),i.jsx("h3",{children:"The Construction"}),i.jsx("p",{children:"Given a line segment AB, we construct an equilateral triangle in three steps:"}),i.jsx(xe,{title:"Construction of the Equilateral Triangle",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw the circle with center A and radius AB."}),i.jsx("li",{children:"Draw the circle with center B and radius AB."}),i.jsx("li",{children:"Draw the line segments from A and B to the intersection C of the two circles."})]})}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 280",className:"w-full max-w-md",children:[i.jsx("circle",{cx:"80",cy:"200",r:"100",fill:"none",stroke:"#60a5fa",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("circle",{cx:"180",cy:"200",r:"100",fill:"none",stroke:"#34d399",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("line",{x1:"80",y1:"200",x2:"180",y2:"200",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"80",y1:"200",x2:"130",y2:"113",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"180",y1:"200",x2:"130",y2:"113",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("circle",{cx:"80",cy:"200",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"65",y:"225",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"180",cy:"200",r:"4",fill:"#34d399"}),i.jsx("text",{x:"185",y:"225",fill:"#34d399",fontSize:"16",fontStyle:"italic",children:"B"}),i.jsx("circle",{cx:"130",cy:"113",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"135",y:"105",fill:"#f472b6",fontSize:"16",fontStyle:"italic",children:"C"})]})}),i.jsx("h3",{children:"Why It Works"}),i.jsx("p",{children:"The result is the triangle ABC with sides AB, BC, and CA. Let's verify that all three sides are equal:"}),i.jsx(ue,{title:"Equality of Sides",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[i.jsxs("li",{children:["Sides ",i.jsx("strong",{children:"AB"})," and ",i.jsx("strong",{children:"CA"})," have equal length because they are both radii of the first circle (centered at A)."]}),i.jsxs("li",{children:["Sides ",i.jsx("strong",{children:"AB"})," and ",i.jsx("strong",{children:"BC"})," have equal length because they are both radii of the second circle (centered at B)."]}),i.jsx("li",{children:"Hence, all three sides of triangle ABC are equal: |AB| = |BC| = |CA|."})]})}),i.jsx("h3",{children:"The Interplay of Axioms and Logic"}),i.jsx("p",{children:"This example nicely shows the interplay among three essential components of geometry:"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Construction Axioms"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Guarantee the existence of the construction lines and circles (initially the two circles on radius AB, and later the line segments BC and CA)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Geometric Axioms"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Guarantee the existence of points required for later steps in the construction (the intersection C of the two circles)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-pink-500",children:[i.jsx("h4",{className:"font-semibold text-pink-400",children:"Logic"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Guarantees that certain conclusions follow. Here we use the principle that things equal to the same thing (both |BC| and |CA| equal |AB|) are equal to each other (so |BC| = |CA|)."})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"A Gap in Euclid:"})," Euclid states no axiom about the intersection of circles, so he has not justified the existence of the point C used in his very first proposition! This is one of several gaps in Euclid that were only filled by modern mathematicians."]}),i.jsx("h3",{children:"Regular Polygons"}),i.jsxs("p",{children:["The equilateral triangle is an example of a ",i.jsx("em",{children:"regular polygon"}),": a geometric figure bounded by equal line segments that meet at equal angles. If the polygon has n sides, we call it an ",i.jsx("em",{children:"n-gon"}),"."]}),i.jsxs(kh,{title:"Constructing a Regular Hexagon",children:[i.jsx("p",{children:"By extending Euclid's construction of the equilateral triangle, we can construct a regular hexagon:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4",children:[i.jsx("li",{children:"Start with a circle of radius r."}),i.jsx("li",{children:"Mark any point on the circle."}),i.jsx("li",{children:"Using the compass set to radius r, mark successive points around the circle."}),i.jsx("li",{children:"Connect adjacent points to form the hexagon."})]})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 300",className:"w-full max-w-sm",children:[i.jsx("circle",{cx:"150",cy:"150",r:"80",fill:"none",stroke:"#475569",strokeWidth:"1"}),i.jsx("polygon",{points:"230,150 190,219 110,219 70,150 110,81 190,81",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("circle",{cx:"230",cy:"150",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"190",cy:"219",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"110",cy:"219",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"70",cy:"150",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"110",cy:"81",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"190",cy:"81",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"150",cy:"150",r:"3",fill:"#f472b6"}),i.jsx("line",{x1:"150",y1:"150",x2:"230",y2:"150",stroke:"#f472b6",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("text",{x:"185",y:"140",fill:"#f472b6",fontSize:"12",children:"r"})]})}),i.jsx("h3",{children:"The Question of Constructibility"}),i.jsx("p",{children:"So the regular 3-gon and the regular 6-gon are constructible. This raises a natural question:"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Open Question:"})," For which n is the regular n-gon constructible by straightedge and compass?"]}),i.jsx("p",{children:"This question turns out to belong to algebra and number theory. A complete answer depends on a problem about prime numbers that has not yet been solved:"}),i.jsx(Y,{children:"\\text{For which } m \\text{ is } 2^{2^m} + 1 \\text{ a prime number?}"}),i.jsxs(ue,{title:"Gauss-Wantzel Theorem (Preview)",children:[i.jsxs("p",{children:["A regular polygon with a prime number p of sides is constructible by straightedge and compass if and only if p is of the form 2",i.jsxs("sup",{children:["2",i.jsx("sup",{children:"m"})]})," + 1."]}),i.jsx("p",{className:"mt-4",children:"This gives three constructible p-gons not known to the Greeks:"}),i.jsx(Y,{children:"2^4 + 1 = 17, \\quad 2^8 + 1 = 257, \\quad 2^{16} + 1 = 65537"}),i.jsx("p",{className:"mt-4",children:"These are all prime numbers. But no larger prime numbers of this form are known!"})]}),i.jsx(kZ,{className:"my-6"}),i.jsx(Re,{sectionId:1,questions:$e[1]||[],title:"Equilateral Triangle Construction Quiz"})]})}function MZ(){return i.jsxs(qe,{sectionId:2,children:[i.jsx("h2",{children:"Some Basic Constructions"}),i.jsxs("p",{children:["The equilateral triangle construction comes first in the ",i.jsx("em",{children:"Elements"}),' because several other constructions follow from it. Among them are constructions for bisecting a line segment and bisecting an angle. ("Bisect" is from the Latin for "cut in two.")']}),i.jsx("h3",{children:"Bisecting a Line Segment"}),i.jsx("p",{children:"To bisect a given line segment AB, we use a variation of the equilateral triangle construction:"}),i.jsxs(xe,{title:"Line Segment Bisection",children:[i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw the circle with center A and radius AB."}),i.jsx("li",{children:"Draw the circle with center B and radius AB."}),i.jsxs("li",{children:["Find ",i.jsx("em",{children:"both"})," intersection points C and D of the two circles."]}),i.jsx("li",{children:"Draw the line CD connecting these points."})]}),i.jsx("p",{className:"mt-4",children:"The line CD bisects the line segment AB at its midpoint."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 300",className:"w-full max-w-md",children:[i.jsx("circle",{cx:"100",cy:"150",r:"80",fill:"none",stroke:"#60a5fa",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("circle",{cx:"200",cy:"150",r:"80",fill:"none",stroke:"#34d399",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("line",{x1:"100",y1:"150",x2:"200",y2:"150",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"150",y1:"80",x2:"150",y2:"220",stroke:"#fbbf24",strokeWidth:"2"}),i.jsx("circle",{cx:"100",cy:"150",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"175",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"200",cy:"150",r:"4",fill:"#34d399"}),i.jsx("text",{x:"205",y:"175",fill:"#34d399",fontSize:"16",fontStyle:"italic",children:"B"}),i.jsx("circle",{cx:"150",cy:"80",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"155",y:"75",fill:"#fbbf24",fontSize:"16",fontStyle:"italic",children:"C"}),i.jsx("circle",{cx:"150",cy:"220",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"155",y:"240",fill:"#fbbf24",fontSize:"16",fontStyle:"italic",children:"D"}),i.jsx("circle",{cx:"150",cy:"150",r:"4",fill:"#f472b6"})]})}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Important Observation:"})," Notice that CD is ",i.jsx("em",{children:"perpendicular"})," to AB. This construction can be adapted to construct perpendiculars in general."]}),i.jsx("h3",{children:"Constructing Perpendiculars"}),i.jsx("p",{children:"The bisection construction gives us a method to construct perpendicular lines:"}),i.jsxs(kh,{title:"Perpendicular at a Point on a Line",children:[i.jsx("p",{children:"To construct the perpendicular to a line L at a point E on the line:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4",children:[i.jsx("li",{children:"Draw a circle with center E, cutting L at points A and B."}),i.jsx("li",{children:"Construct the bisector CD of segment AB (as above)."}),i.jsx("li",{children:"The line CD is the perpendicular through E."})]})]}),i.jsxs(kh,{title:"Perpendicular Through a Point Not on a Line",children:[i.jsx("p",{children:"To construct the perpendicular to a line L through a point E not on L:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4",children:[i.jsx("li",{children:"Draw a circle with center E large enough to cut L at two points A and B."}),i.jsx("li",{children:"Construct the bisector CD of segment AB."}),i.jsx("li",{children:"The line CD passes through E and is perpendicular to L."})]})]}),i.jsx("h3",{children:"Bisecting an Angle"}),i.jsx("p",{children:"To bisect an angle POQ, we use a similar technique:"}),i.jsx(xe,{title:"Angle Bisection",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw a circle with center O, cutting OP at A and OQ at B."}),i.jsx("li",{children:"Construct the perpendicular bisector CD of line segment AB."}),i.jsx("li",{children:"The line CD (passing through O) bisects the angle POQ."})]})}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 350 250",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"50",y1:"200",x2:"300",y2:"200",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"200",x2:"200",y2:"50",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("path",{d:"M 100 200 A 50 50 0 0 1 85 165",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("circle",{cx:"130",cy:"200",r:"4",fill:"#34d399"}),i.jsx("text",{x:"130",y:"220",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"B"}),i.jsx("circle",{cx:"105",cy:"140",r:"4",fill:"#34d399"}),i.jsx("text",{x:"85",y:"140",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("line",{x1:"50",y1:"200",x2:"250",y2:"100",stroke:"#fbbf24",strokeWidth:"2",strokeDasharray:"6,4"}),i.jsx("circle",{cx:"50",cy:"200",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"35",y:"215",fill:"#f472b6",fontSize:"16",fontStyle:"italic",children:"O"}),i.jsx("text",{x:"280",y:"195",fill:"#475569",fontSize:"14",fontStyle:"italic",children:"Q"}),i.jsx("text",{x:"195",y:"45",fill:"#475569",fontSize:"14",fontStyle:"italic",children:"P"})]})}),i.jsx("h3",{children:"A Crucial Distinction"}),i.jsxs("p",{children:["It seems from these two constructions that bisecting a line segment and bisecting an angle are virtually the same problem. However, a crucial distinction emerges when we attempt ",i.jsx("em",{children:"division into three or more parts"}),"."]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Key Difference:"}),' There is a simple tool for dividing a line segment into any number of equal partsparallel linesbut no corresponding tool for dividing angles. This is why angle trisection became one of the famous "impossible problems" of ancient geometry.']}),i.jsx("h3",{children:"Constructing Parallel Lines"}),i.jsx("p",{children:"We use two perpendicular constructions to construct a parallel:"}),i.jsxs(xe,{title:"Parallel Line Construction",children:[i.jsx("p",{children:"Given a line L and a point P outside L:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Construct the perpendicular line M to L through P."}),i.jsx("li",{children:"Construct the perpendicular to M through P."}),i.jsx("li",{children:"This second perpendicular is the parallel to L through P."})]})]}),i.jsx("h3",{children:"Dividing a Line Segment into n Equal Parts"}),i.jsx("p",{children:"Given a line segment AB, we can divide it into any number n of equal parts:"}),i.jsxs(xe,{title:"Division into Equal Parts",children:[i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw any other line L through A."}),i.jsxs("li",{children:["Mark n successive, equally spaced points A",i.jsx("sub",{children:"1"}),", A",i.jsx("sub",{children:"2"}),", ..., A",i.jsx("sub",{children:"n"})," along L using a fixed compass radius."]}),i.jsxs("li",{children:["Connect A",i.jsx("sub",{children:"n"})," to B."]}),i.jsxs("li",{children:["Draw parallels to BA",i.jsx("sub",{children:"n"})," through each of A",i.jsx("sub",{children:"1"}),", A",i.jsx("sub",{children:"2"}),", ..., A",i.jsx("sub",{children:"n-1"}),"."]})]}),i.jsx("p",{className:"mt-4",children:"These parallels divide AB into n equal parts."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 200",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"50",y1:"150",x2:"350",y2:"150",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"50",y1:"150",x2:"200",y2:"30",stroke:"#60a5fa",strokeWidth:"1.5"}),i.jsx("circle",{cx:"80",cy:"126",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"65",y:"120",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"110",cy:"102",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"95",y:"96",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"140",cy:"78",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"125",y:"72",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"170",cy:"54",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"155",y:"48",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"200",cy:"30",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"185",y:"24",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("line",{x1:"200",y1:"30",x2:"350",y2:"150",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"80",y1:"126",x2:"110",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"110",y1:"102",x2:"170",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"140",y1:"78",x2:"230",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"170",y1:"54",x2:"290",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("circle",{cx:"110",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"170",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"230",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"290",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"50",cy:"150",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"40",y:"170",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"350",cy:"150",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"345",y:"170",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"B"}),i.jsx("text",{x:"205",y:"25",fill:"#60a5fa",fontSize:"12",fontStyle:"italic",children:"L"})]})}),i.jsxs(ue,{title:"The Thales Theorem",children:[i.jsx("p",{children:"This construction depends on a property of parallel lines attributed to Thales (Greek mathematician, c. 600 BCE):"}),i.jsx("p",{className:"mt-4 font-semibold text-blue-400",children:"Parallels cut any lines they cross in proportional segments."}),i.jsx("p",{className:"mt-4",children:"More precisely: If a line L parallel to side BC of a triangle cuts sides AB and AC at points P and Q respectively, then:"}),i.jsx(Y,{children:"\\frac{|AP|}{|PB|} = \\frac{|AQ|}{|QC|}"})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Fundamental Importance:"})," The Thales theorem is the key to using algebra in geometry. It enables us to multiply and divide line segments, as we will see in the next section."]}),i.jsx(NZ,{className:"my-6"}),i.jsx(Re,{sectionId:2,questions:$e[2]||[],title:"Basic Constructions Quiz"})]})}function zZ(){return i.jsxs(qe,{sectionId:3,children:[i.jsx("h2",{children:"Multiplication and Division"}),i.jsxs("p",{children:["Not only can one add and subtract line segments (as we saw in Section 1.1); one can also ",i.jsx("strong",{children:"multiply"})," and ",i.jsx("strong",{children:"divide"})," them. The product ab and quotient a/b of line segments a and b are obtained by straightedge and compass constructions. The key ingredients are parallel lines, and the key geometric property involved is the Thales theorem."]}),i.jsx("h3",{children:"The Unit Length"}),i.jsxs("p",{children:["To get started, it is necessary to choose a line segment as the ",i.jsx("em",{children:"unit of length"}),", denoted 1. This unit has the property that 1  a = a for any length a."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Why We Need a Unit:"})," Unlike addition, which combines two lengths directly, multiplication requires a reference length. The choice of unit is arbitrary, but once chosen, it determines all products and quotients."]}),i.jsx("h3",{children:"Product of Line Segments"}),i.jsxs(xe,{title:"Geometric Multiplication",children:[i.jsx("p",{children:"To multiply line segment b by line segment a:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Construct any triangle UOA with |OU| = 1 and |OA| = a."}),i.jsxs("li",{children:["Extend OU by length b to point B",i.jsx("sub",{children:"1"}),"."]}),i.jsxs("li",{children:["Construct the parallel to UA through B",i.jsx("sub",{children:"1"}),"."]}),i.jsx("li",{children:"This parallel meets the extension of OA at point C."})]}),i.jsxs("p",{className:"mt-4",children:["By the Thales theorem, ",i.jsx("strong",{children:"|AC| = ab"}),"."]})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 280",className:"w-full max-w-lg",children:[i.jsx("circle",{cx:"50",cy:"230",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"35",y:"245",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"O"}),i.jsx("circle",{cx:"100",cy:"180",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"170",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"U"}),i.jsx("circle",{cx:"150",cy:"230",r:"4",fill:"#34d399"}),i.jsx("text",{x:"145",y:"250",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"180",cy:"100",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"165",y:"90",fill:"#fbbf24",fontSize:"14",children:"B"}),i.jsx("circle",{cx:"330",cy:"230",r:"4",fill:"#c084fc"}),i.jsx("text",{x:"325",y:"250",fill:"#c084fc",fontSize:"14",fontStyle:"italic",children:"C"}),i.jsx("line",{x1:"50",y1:"230",x2:"180",y2:"100",stroke:"#60a5fa",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"230",x2:"330",y2:"230",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"100",y1:"180",x2:"150",y2:"230",stroke:"#94a3b8",strokeWidth:"1.5"}),i.jsx("line",{x1:"180",y1:"100",x2:"330",y2:"230",stroke:"#fbbf24",strokeWidth:"1.5",strokeDasharray:"6,4"}),i.jsx("text",{x:"65",y:"215",fill:"#60a5fa",fontSize:"12",children:"1"}),i.jsx("text",{x:"90",y:"245",fill:"#34d399",fontSize:"12",children:"a"}),i.jsx("text",{x:"130",y:"130",fill:"#fbbf24",fontSize:"12",children:"b"}),i.jsx("text",{x:"230",y:"245",fill:"#c084fc",fontSize:"12",children:"ab"}),i.jsx("text",{x:"280",y:"165",fill:"#94a3b8",fontSize:"11",children:"Multiply by a"}),i.jsx("path",{d:"M 330 175 L 320 185 M 330 175 L 340 185",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})]})}),i.jsx("h3",{children:"Quotient of Line Segments"}),i.jsxs(xe,{title:"Geometric Division",children:[i.jsx("p",{children:"To divide line segment b by line segment a:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Begin with the same triangle UOA with |OU| = 1 and |OA| = a."}),i.jsxs("li",{children:["Extend OA by distance b to point B",i.jsx("sub",{children:"2"}),"."]}),i.jsxs("li",{children:["Construct the parallel to UA through B",i.jsx("sub",{children:"2"}),"."]}),i.jsx("li",{children:"This parallel meets the extension of OU at point D."})]}),i.jsxs("p",{className:"mt-4",children:["By the Thales theorem, ",i.jsx("strong",{children:"|UD| = b/a"}),"."]})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 280",className:"w-full max-w-lg",children:[i.jsx("circle",{cx:"50",cy:"230",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"35",y:"245",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"O"}),i.jsx("circle",{cx:"100",cy:"180",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"170",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"U"}),i.jsx("circle",{cx:"150",cy:"230",r:"4",fill:"#34d399"}),i.jsx("text",{x:"145",y:"250",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"300",cy:"230",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"295",y:"250",fill:"#fbbf24",fontSize:"14",children:"B"}),i.jsx("circle",{cx:"200",cy:"80",r:"4",fill:"#c084fc"}),i.jsx("text",{x:"205",y:"75",fill:"#c084fc",fontSize:"14",fontStyle:"italic",children:"D"}),i.jsx("line",{x1:"50",y1:"230",x2:"200",y2:"80",stroke:"#60a5fa",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"230",x2:"300",y2:"230",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"100",y1:"180",x2:"150",y2:"230",stroke:"#94a3b8",strokeWidth:"1.5"}),i.jsx("line",{x1:"300",y1:"230",x2:"200",y2:"80",stroke:"#fbbf24",strokeWidth:"1.5",strokeDasharray:"6,4"}),i.jsx("text",{x:"65",y:"215",fill:"#60a5fa",fontSize:"12",children:"1"}),i.jsx("text",{x:"90",y:"245",fill:"#34d399",fontSize:"12",children:"a"}),i.jsx("text",{x:"210",y:"245",fill:"#fbbf24",fontSize:"12",children:"b"}),i.jsx("text",{x:"145",y:"115",fill:"#c084fc",fontSize:"12",children:"b/a"}),i.jsx("text",{x:"250",y:"140",fill:"#94a3b8",fontSize:"11",children:"Divide by a"}),i.jsx("path",{d:"M 230 155 L 220 145 M 230 155 L 240 145",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})]})}),i.jsx("h3",{children:"Constructing Rational Lengths"}),i.jsxs(ue,{title:"Rational Lengths are Constructible",children:[i.jsx("p",{children:"The sum operation allows us to construct a segment n units in length, for any natural number n, simply by adding the segment 1 to itself n times."}),i.jsx("p",{className:"mt-4",children:"The quotient operation then allows us to construct a segment of length m/n, for any natural numbers m and n  0."}),i.jsxs("p",{className:"mt-4",children:["These are what we call the ",i.jsx("strong",{children:"rational lengths"}),"."]})]}),i.jsx("h3",{children:"The Discovery of Irrational Lengths"}),i.jsxs("p",{children:["A great discovery of the Pythagoreans was that ",i.jsx("em",{children:"some lengths are not rational"}),', and that some of these "irrational" lengths can be constructed by straightedge and compass.']}),i.jsxs(kh,{title:"The Diagonal of the Unit Square",children:[i.jsx("p",{children:"Consider a square with side length 1. What is the length of its diagonal?"}),i.jsx("p",{className:"mt-4",children:"By the Pythagorean theorem (which we'll prove later):"}),i.jsx(Y,{children:"d^2 = 1^2 + 1^2 = 2"}),i.jsx("p",{className:"mt-4",children:"Therefore d = 2."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full max-w-xs",children:[i.jsx("rect",{x:"30",y:"30",width:"140",height:"140",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("line",{x1:"30",y1:"170",x2:"170",y2:"30",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("text",{x:"95",y:"185",fill:"#60a5fa",fontSize:"14",children:"1"}),i.jsx("text",{x:"175",y:"105",fill:"#60a5fa",fontSize:"14",children:"1"}),i.jsx("text",{x:"110",y:"95",fill:"#f472b6",fontSize:"14",children:"2"})]})}),i.jsxs(ue,{title:"Irrationality of 2",children:[i.jsxs("p",{children:["The Pythagoreans discovered that 2 is ",i.jsx("em",{children:"irrational"}),"there are no natural numbers m and n such that 2 = m/n."]}),i.jsx("p",{className:"mt-4",children:i.jsx("strong",{children:"Proof by contradiction:"})}),i.jsx("p",{className:"mt-2",children:"Suppose 2 = m/n where m and n have no common divisor. Then:"}),i.jsxs("div",{className:"mt-4 space-y-2 pl-4 border-l-2 border-slate-600",children:[i.jsx("p",{children:"2 = m/n (squaring both sides)"}),i.jsx("p",{children:"m = 2n (multiplying by n)"}),i.jsx("p",{children:" m is even  m is even (since odd is odd)"}),i.jsx("p",{children:" m = 2l for some integer l"}),i.jsx("p",{children:" 4l = 2n  n = 2l"}),i.jsx("p",{children:" n is even  n is even"})]}),i.jsx("p",{className:"mt-4",children:"But this means m and n share the common divisor 2, contradicting our assumption. Therefore 2 is irrational."})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Profound Implication:"})," Geometry obviously includes the diagonal of the unit square, hence geometry includes the study of irrational lengths. This discovery troubled the ancient Greeks, who believed all lengths should be expressible as ratios of whole numbers."]}),i.jsx("h3",{children:"Product as Area vs. Product as Length"}),i.jsxs("p",{children:["The Greeks viewed the product of line segments a and b as the ",i.jsx("em",{children:"rectangle"}),"with perpendicular sides a and b. This interpretation has its merits:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["The product of two lengths is an ",i.jsx("em",{children:"area"})]}),i.jsxs("li",{children:["The product of three lengths is a ",i.jsx("em",{children:"volume"})]}),i.jsx("li",{children:"But then the product of four lengths seems to have no meaning!"})]}),i.jsxs("p",{children:["The idea of interpreting the product of line segments as another ",i.jsx("em",{children:"line segment"}),"(as we did above) first appears in Descartes' ",i.jsx("em",{children:"Gomtrie"})," of 1637, where algebra is used systematically in geometry for the first time."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"})," This conceptual difficulty perhaps explains why algebra appeared comparatively late in the development of geometry. On the other hand, interpreting the product of lengths as an area gives some remarkable insights, as we will see in Chapter 2."]}),i.jsx(EZ,{className:"my-6"}),i.jsx(Re,{sectionId:3,questions:$e[3]||[],title:"Multiplication and Division Quiz"})]})}function DZ(){return i.jsxs(qe,{sectionId:4,children:[i.jsx("h2",{children:"Similar Triangles"}),i.jsxs("p",{children:["Two triangles are called ",i.jsx("strong",{children:"similar"}),' if their corresponding angles are equal. It turns out that equal angles imply that all sides are proportional, so we may say that one triangle is a magnification of the other, or that they have the same "shape."']}),i.jsxs(xe,{title:"Similar Triangles",children:[i.jsxs("p",{children:["Triangles ABC and ABC are called ",i.jsx("strong",{children:"similar"})," if their corresponding angles are equal:"]}),i.jsxs("div",{className:"mt-4 space-y-2 pl-4",children:[i.jsx("p",{children:"angle at A = angle at A (=  say)"}),i.jsx("p",{children:"angle at B = angle at B (=  say)"}),i.jsx("p",{children:"angle at C = angle at C (=  say)"})]})]}),i.jsx("h3",{children:"Why Similar Triangles Have Proportional Sides"}),i.jsx("p",{children:"This important result extends the Thales theorem and follows from it."}),i.jsxs(ue,{title:"Proportional Sides of Similar Triangles",children:[i.jsx("p",{children:"If triangles ABC and ABC are similar, then all corresponding sides are proportional:"}),i.jsx(Y,{children:"\\frac{b}{c} = \\frac{b'}{c'}"}),i.jsx("p",{className:"mt-4",children:"where b, c are sides of ABC opposite to angles  and , and b, c are the corresponding sides of ABC."})]}),i.jsx("h4",{children:"Proof"}),i.jsx("p",{children:"Imagine moving triangle ABC so that vertex A coincides with A and sides AB and AC lie on sides AB and AC respectively. We obtain the following situation:"}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full max-w-lg",children:[i.jsx("polygon",{points:"50,250 350,250 200,50",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("polygon",{points:"50,250 200,250 125,150",fill:"none",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"125",y1:"150",x2:"200",y2:"250",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("text",{x:"35",y:"265",fill:"#60a5fa",fontSize:"14",children:"A = A"}),i.jsx("text",{x:"340",y:"265",fill:"#60a5fa",fontSize:"14",children:"C"}),i.jsx("text",{x:"195",y:"40",fill:"#60a5fa",fontSize:"14",children:"B"}),i.jsx("text",{x:"190",y:"265",fill:"#f472b6",fontSize:"14",children:"C"}),i.jsx("text",{x:"110",y:"145",fill:"#f472b6",fontSize:"14",children:"B"}),i.jsx("path",{d:"M 70 250 A 20 20 0 0 1 60 235",fill:"none",stroke:"#fbbf24",strokeWidth:"1.5"}),i.jsx("text",{x:"75",y:"238",fill:"#fbbf24",fontSize:"12",children:""}),i.jsx("text",{x:"80",y:"210",fill:"#f472b6",fontSize:"12",children:"c"}),i.jsx("text",{x:"160",y:"210",fill:"#f472b6",fontSize:"12",children:"b"}),i.jsx("text",{x:"60",y:"160",fill:"#60a5fa",fontSize:"12",children:"c"}),i.jsx("text",{x:"200",y:"160",fill:"#60a5fa",fontSize:"12",children:"b"}),i.jsx("path",{d:"M 125 150 L 140 165 L 155 150",fill:"none",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("text",{x:"145",y:"140",fill:"#34d399",fontSize:"12",children:""}),i.jsx("path",{d:"M 200 50 L 185 75 L 210 85",fill:"none",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("text",{x:"175",y:"70",fill:"#34d399",fontSize:"12",children:""})]})}),i.jsxs("p",{children:["Because BC and BC both meet AB at angle , they are ",i.jsx("em",{children:"parallel"}),". By the Thales theorem:"]}),i.jsx(Y,{children:"\\frac{b}{c} = \\frac{b' - b}{c' - c}"}),i.jsx("p",{children:"Multiplying both sides by c(c - c):"}),i.jsx(Y,{children:"b(c' - c) = c(b' - b)"}),i.jsx("p",{children:"Expanding: bc - bc = cb - cb, hence bc = cb."}),i.jsx("p",{children:"Dividing both sides by cc:"}),i.jsx(Y,{children:"\\frac{b}{c} = \\frac{b'}{c'}"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Note:"})," By making different angles coincide, we can show that",i.jsx("em",{children:"all"})," corresponding sides are proportional."]}),i.jsx("h3",{children:"Applications of Similar Triangles"}),i.jsx("p",{children:"The theorem on similar triangles has many implications:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"In everyday life: scale maps, house plans, engineering drawings"}),i.jsx("li",{children:"In pure geometry: countless theorems and constructions"})]}),i.jsx(kh,{title:"The Diagonal of the Unit Square is 2",children:i.jsx("p",{children:"The diagonals of the unit square cut it into four quarters, each of which is a triangle similar to the half square cut off by a diagonal."})}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full max-w-xs",children:[i.jsx("rect",{x:"30",y:"30",width:"140",height:"140",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("line",{x1:"30",y1:"30",x2:"170",y2:"170",stroke:"#f472b6",strokeWidth:"1.5"}),i.jsx("line",{x1:"170",y1:"30",x2:"30",y2:"170",stroke:"#f472b6",strokeWidth:"1.5"}),i.jsx("text",{x:"175",y:"105",fill:"#60a5fa",fontSize:"12",children:"1"}),i.jsx("text",{x:"130",y:"90",fill:"#34d399",fontSize:"10",children:"d/2"}),i.jsx("text",{x:"90",y:"90",fill:"#34d399",fontSize:"10",children:"d/2"}),i.jsx("text",{x:"90",y:"125",fill:"#34d399",fontSize:"10",children:"d/2"}),i.jsx("text",{x:"130",y:"125",fill:"#34d399",fontSize:"10",children:"d/2"})]})}),i.jsx("p",{children:"Each of these triangles has one right angle and two half right angles (45 each). If we compare the half square (short side 1, long side d) with the quarter square (short side d/2, long side 1):"}),i.jsx(Y,{children:"\\frac{\\text{short}}{\\text{long}} = \\frac{1}{d} = \\frac{d/2}{1}"}),i.jsxs("p",{children:["Multiplying both sides by 2d: 2 = d, so ",i.jsx("strong",{children:"d = 2"}),"."]}),i.jsx("h3",{children:"The Famous Theorems of Pappus and Desargues"}),i.jsx("p",{children:"The Thales theorem leads to two famous theorems that play an important role in the foundations of geometry."}),i.jsxs(ue,{title:"Pappus's Theorem (Parallel Case)",children:[i.jsx("p",{children:"Suppose that points A, B, C, D, E, F lie alternately on two lines L and M meeting at O."}),i.jsx("p",{className:"mt-4",children:"If AB is parallel to ED and FE is parallel to BC, then AF is parallel to CD."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 250",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"30",y1:"200",x2:"370",y2:"200",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("text",{x:"375",y:"205",fill:"#475569",fontSize:"12",children:"L"}),i.jsx("line",{x1:"30",y1:"200",x2:"300",y2:"50",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("text",{x:"305",y:"45",fill:"#475569",fontSize:"12",children:"M"}),i.jsx("circle",{cx:"30",cy:"200",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"15",y:"215",fill:"#f472b6",fontSize:"14",children:"O"}),i.jsx("circle",{cx:"100",cy:"200",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"95",y:"220",fill:"#60a5fa",fontSize:"12",children:"F"}),i.jsx("circle",{cx:"180",cy:"200",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"175",y:"220",fill:"#60a5fa",fontSize:"12",children:"B"}),i.jsx("circle",{cx:"280",cy:"200",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"275",y:"220",fill:"#60a5fa",fontSize:"12",children:"D"}),i.jsx("circle",{cx:"100",cy:"145",r:"3",fill:"#34d399"}),i.jsx("text",{x:"85",y:"140",fill:"#34d399",fontSize:"12",children:"A"}),i.jsx("circle",{cx:"170",cy:"100",r:"3",fill:"#34d399"}),i.jsx("text",{x:"155",y:"95",fill:"#34d399",fontSize:"12",children:"E"}),i.jsx("circle",{cx:"240",cy:"55",r:"3",fill:"#34d399"}),i.jsx("text",{x:"245",y:"50",fill:"#34d399",fontSize:"12",children:"C"}),i.jsx("line",{x1:"100",y1:"145",x2:"180",y2:"200",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"170",y1:"100",x2:"280",y2:"200",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"100",y1:"145",x2:"170",y2:"100",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"180",y1:"200",x2:"240",y2:"55",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"100",y1:"200",x2:"240",y2:"55",stroke:"#c084fc",strokeWidth:"2"}),i.jsx("line",{x1:"280",y1:"200",x2:"170",y2:"100",stroke:"#c084fc",strokeWidth:"2"})]})}),i.jsxs(ue,{title:"Desargues's Theorem (Parallel Case)",children:[i.jsx("p",{children:'Suppose that triangles ABC and ABC are "in perspective from O"meaning points A, B, C, A, B, C lie on concurrent lines through O.'}),i.jsx("p",{className:"mt-4",children:"If AB is parallel to AB and BC is parallel to BC, then AC is parallel to AC."})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Looking Ahead:"})," We will meet the Pappus and Desargues theorems again in more general form when we study projective geometry in Chapter 5. They play a fundamental role in understanding the relationship between geometry and algebra."]}),i.jsx(AZ,{className:"my-6"}),i.jsx(Re,{sectionId:4,questions:$e[4]||[],title:"Similar Triangles Quiz"})]})}function PZ(){return i.jsxs(qe,{sectionId:5,children:[i.jsx("h2",{children:"Discussion"}),i.jsxs("p",{children:["Euclid's ",i.jsx("em",{children:"Elements"})," is the most influential book in the history of mathematics. Written around 300 BCE, it was used in school mathematics instruction until the 20th century. Anyone interested in geometry should be familiar with this foundational work."]}),i.jsx("h3",{children:"The Legacy of Euclid"}),i.jsxs("p",{children:["The ",i.jsx("em",{children:"Elements"})," is not easy reading, but you will find yourself returning to it year after year and noticing something new. The standard edition in English is Heath's translation, first published in 1925 and still available today."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Recommended Resources:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:["Heath's translation of Euclid's ",i.jsx("em",{children:"Elements"})," (Dover reprint)"]}),i.jsxs("li",{children:["David Joyce's online interactive ",i.jsx("em",{children:"Elements"})]}),i.jsxs("li",{children:["Benno Artmann's ",i.jsx("em",{children:"Euclid: The Creation of Mathematics"})]}),i.jsxs("li",{children:["Robin Hartshorne's ",i.jsx("em",{children:"Geometry: Euclid and Beyond"})]})]})]}),i.jsx("h3",{children:"The Regular Polyhedra"}),i.jsxs("p",{children:["The climax of the ",i.jsx("em",{children:"Elements"})," is the theory of regular polyhedra in Book XIII. Only ",i.jsx("strong",{children:"five regular polyhedra"})," exist, and they are:"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-blue-400",children:"Tetrahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"4 triangular faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-green-400",children:"Cube"}),i.jsx("p",{className:"text-sm text-slate-400",children:"6 square faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Octahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"8 triangular faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-pink-400",children:"Dodecahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"12 pentagonal faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-purple-400",children:"Icosahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"20 triangular faces"})]})]}),i.jsxs("p",{children:["Notice that three of them are built from ",i.jsx("strong",{children:"equilateral triangles"}),", one from ",i.jsx("strong",{children:"squares"}),", and one from ",i.jsx("strong",{children:"regular pentagons"}),". This remarkable phenomenon underlines the importance of equilateral triangles and squares, and draws attention to the regular pentagon."]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Historical Significance:"})," Some geometers believe that the material in the ",i.jsx("em",{children:"Elements"})," was chosen very much with the theory of regular polyhedra in mind. Euclid needs to construct the equilateral triangle, square, and pentagon in order to construct the regular polyhedra."]}),i.jsx("h3",{children:"Constructible Regular Polygons"}),i.jsx("p",{children:"It is fortunate that Euclid did not need regular polygons more complex than the pentagon, because none were constructed until modern times."}),i.jsx(ue,{title:"Gauss's Discovery (1796)",children:i.jsxs("p",{children:["The regular 17-gon was constructed by the 19-year-old Carl Friedrich Gauss in 1796. This discovery was the key to answering: ",i.jsx("em",{children:"For which n is the regular n-gon constructible?"})]})}),i.jsxs("p",{children:["Gauss showed (with some steps filled in by Pierre Wantzel in 1837) that a regular polygon with a ",i.jsx("strong",{children:"prime number p of sides"})," is constructible by straightedge and compass if and only if p is a ",i.jsx("em",{children:"Fermat prime"}),":"]}),i.jsxs(xe,{title:"Fermat Primes",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"Fermat prime"})," is a prime number of the form:"]}),i.jsx(Y,{children:"F_m = 2^{2^m} + 1"}),i.jsx("p",{className:"mt-4",children:"The known Fermat primes are:"}),i.jsx(Y,{children:"F_0 = 3, \\quad F_1 = 5, \\quad F_2 = 17, \\quad F_3 = 257, \\quad F_4 = 65537"})]}),i.jsx("p",{children:"This result gives three constructible p-gons not known to the Greeks:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["The regular ",i.jsx("strong",{children:"17-gon"})," (F",i.jsx("sub",{children:"2"})," = 17)"]}),i.jsxs("li",{children:["The regular ",i.jsx("strong",{children:"257-gon"})," (F",i.jsx("sub",{children:"3"})," = 257)"]}),i.jsxs("li",{children:["The regular ",i.jsx("strong",{children:"65537-gon"})," (F",i.jsx("sub",{children:"4"})," = 65537)"]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Open Problem:"})," No larger prime numbers of the form 2",i.jsxs("sup",{children:["2",i.jsx("sup",{children:"m"})]})," + 1 are known! Fermat himself conjectured that all numbers of this form are prime, but Euler showed in 1732 that F",i.jsx("sub",{children:"5"})," = 4,294,967,297 is composite (divisible by 641). Thus we do not know whether a larger constructible p-gon exists."]}),i.jsx("h3",{children:"The Scope of Straightedge and Compass"}),i.jsxs("p",{children:["These results show that the ",i.jsx("em",{children:"Elements"})," is not all of geometry, even if one accepts the same subject matter as Euclid. Many questions about straightedge and compass constructions require tools from algebra and number theory."]}),i.jsxs(ue,{title:"Complete Characterization",children:[i.jsx("p",{children:"A regular n-gon is constructible by straightedge and compass if and only if n is of the form:"}),i.jsx(Y,{children:"n = 2^k \\cdot p_1 \\cdot p_2 \\cdots p_r"}),i.jsxs("p",{className:"mt-4",children:["where k  0 and p",i.jsx("sub",{children:"1"}),", p",i.jsx("sub",{children:"2"}),", ..., p",i.jsx("sub",{children:"r"})," are",i.jsx("em",{children:"distinct"})," Fermat primes (or r = 0, meaning no Fermat primes)."]})]}),i.jsx("h3",{children:"Looking Ahead: The Four Pillars"}),i.jsxs("p",{children:["In this chapter, we have explored the first pillar of geometry: ",i.jsx("strong",{children:"Euclid-style constructions"}),". The constructions with straightedge and compass reveal the interplay between geometric intuition and logical reasoning."]}),i.jsx("p",{children:"In the chapters ahead, we will explore three more approaches to geometry:"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Coordinates (Chapter 3)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Using algebra to describe geometric objects with numbers and equations."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Projective Geometry (Chapters 5-6)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Understanding perspective, vanishing points, and the geometry of projection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-pink-500",children:[i.jsx("h4",{className:"font-semibold text-pink-400",children:"Transformations (Chapters 7-8)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Studying geometry through the lens of symmetry and transformation groups."})]})]}),i.jsxs("p",{children:["But first, in Chapter 2, we will examine ",i.jsx("strong",{children:"Euclid's axiomatic approach"}),"more carefully, exploring how he builds his theory on a foundation of axioms and logical deduction."]}),i.jsx(Re,{sectionId:5,questions:$e[5]||[],title:"Chapter 1 Discussion Quiz"})]})}function IZ(){return i.jsxs(qe,{sectionId:6,children:[i.jsx("h2",{children:"The Parallel Axiom"}),i.jsxs("p",{children:["Euclid begins the ",i.jsx("em",{children:"Elements"})," with five axioms. Four of them are straightforward and uncontroversial, but the fifththe ",i.jsx("strong",{children:"parallel axiom"}),"stands out as more complex and has been the subject of much debate throughout history."]}),i.jsx(xe,{title:"Euclid's Parallel Axiom (Postulate 5)",children:i.jsx("p",{children:"If a straight line falling on two straight lines makes the interior angles on the same side less than two right angles, the two straight lines, if produced indefinitely, meet on that side on which are the angles less than two right angles."})}),i.jsxs("p",{children:["This axiom describes when two lines are ",i.jsx("em",{children:"not"})," parallel. Notice that it says nothing about what happens when the angles ",i.jsx("em",{children:"equal"})," two right anglesin that case, the lines are parallel and never meet."]}),i.jsx("h3",{children:"Understanding the Parallel Axiom"}),i.jsxs("p",{children:["Consider a line ",i.jsx("em",{children:"L"})," crossing two other lines, creating interior angles  and  on one side. Euclid's axiom states:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"If  +  <  (two right angles), the lines meet on that side"}),i.jsxs("li",{children:["If  +  > , the lines meet on the ",i.jsx("em",{children:"other"})," side"]}),i.jsx("li",{children:"If  +  = , the lines are parallel (never meet)"})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Note:"})," The parallel axiom is equivalent to saying that parallel lines exist and are uniquegiven a line and a point not on it, there is exactly one parallel through that point."]}),i.jsx("h3",{children:"The Modern Form: Playfair's Axiom"}),i.jsx("p",{children:"In 1795, John Playfair gave an equivalent but simpler statement that is now commonly used in modern geometry courses:"}),i.jsx(xe,{title:"Playfair's Axiom",children:i.jsxs("p",{children:["Given a line ",i.jsx("em",{children:"L"})," and a point ",i.jsx("em",{children:"P"})," not on ",i.jsx("em",{children:"L"}),", there is exactly one line through ",i.jsx("em",{children:"P"})," parallel to ",i.jsx("em",{children:"L"}),"."]})}),i.jsx("p",{children:"This statement is logically equivalent to Euclid's fifth postulate but is easier to understand and work with."}),i.jsx("h3",{children:"Alternate Interior Angles"}),i.jsxs("p",{children:["Using the parallel axiom, we can prove a fundamental property of parallel lines. When a transversal crosses two parallel lines, it creates pairs of",i.jsx("strong",{children:"alternate interior angles"}),"."]}),i.jsx(ue,{title:"Alternate Interior Angles",children:i.jsxs("p",{children:["If a line ",i.jsx("em",{children:"L"})," crosses two parallel lines, then the alternate interior angles are equal."]})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Suppose lines ",i.jsx("em",{children:"M"})," and ",i.jsx("em",{children:"N"})," are parallel, and line ",i.jsx("em",{children:"L"})," crosses them, making angles  and  as alternate interior angles. If   , then the sum of angles on one side would be either less than or greater than , meaning the lines would meetcontradicting that they are parallel. Therefore  = . "]}),i.jsx("h3",{children:"The Angle Sum of a Triangle"}),i.jsx("p",{children:"One of the most important consequences of the parallel axiom is the classical theorem about the sum of angles in a triangle."}),i.jsxs(ue,{title:"Triangle Angle Sum",children:[i.jsx("p",{children:"The sum of the angles in any triangle equals  (180):"}),i.jsx(Y,{children:"\\alpha + \\beta + \\gamma = \\pi"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Consider a triangle ABC with angles  at A,  at B, and  at C. Draw a line through A parallel to BC."]}),i.jsx("p",{children:"By the alternate interior angles theorem:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"The angle between the parallel line and AB equals "}),i.jsx("li",{children:"The angle between the parallel line and AC equals "})]}),i.jsx("p",{children:"Since these three angles (, , ) form a straight line at A, their sum is . Therefore  +  +  = . "}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"})," The angle sum theorem depends essentially on the parallel axiom. In non-Euclidean geometries (discovered in the 19th century), the angle sum of a triangle can be greater than  (spherical geometry) or less than  (hyperbolic geometry)."]}),i.jsx("h3",{children:"Exterior Angles"}),i.jsxs("p",{children:["An ",i.jsx("strong",{children:"exterior angle"})," of a triangle is formed by extending one side. The angle sum theorem immediately gives us:"]}),i.jsx(ue,{title:"Exterior Angle Theorem",children:i.jsx("p",{children:"An exterior angle of a triangle equals the sum of the two non-adjacent interior angles."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," If the interior angles are , ,  and we extend the side opposite to , the exterior angle  satisfies  +  =  (they form a straight line). Since  +  +  = , we have  =  + . "]}),i.jsx(Re,{sectionId:6,questions:$e[6]||[],title:"The Parallel Axiom Quiz"})]})}function RZ(){return i.jsxs(qe,{sectionId:7,children:[i.jsx("h2",{children:"Congruence Axioms"}),i.jsxs("p",{children:["Two geometric figures are ",i.jsx("strong",{children:"congruent"}),' if one can be moved to coincide exactly with the other. Euclid uses this concept implicitly when he speaks of placing one figure on top of another, though he never formally defines what "moving" means.']}),i.jsxs("p",{children:["For triangles, congruence is completely determined by their sides and angles. The key results are the ",i.jsx("strong",{children:"SAS"})," and ",i.jsx("strong",{children:"ASA"}),"congruence conditions."]}),i.jsx("h3",{children:"Side-Angle-Side (SAS) Congruence"}),i.jsx(xe,{title:"SAS Congruence Axiom",children:i.jsx("p",{children:"Two triangles are congruent if two sides and the included angle of one triangle are equal to two sides and the included angle of the other."})}),i.jsx("p",{children:"In symbols, if triangle ABC has:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"AB = DE"}),i.jsx("li",{children:"ABC = DEF"}),i.jsx("li",{children:"BC = EF"})]}),i.jsx("p",{children:"then triangle ABC  triangle DEF."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Why is SAS an axiom?"}),' Euclid proves SAS by "superposition" imagining one triangle placed on top of the other. This is geometrically intuitive but logically problematic. Modern treatments take SAS as an axiom rather than trying to prove it from more basic principles.']}),i.jsx("h3",{children:"Angle-Side-Angle (ASA) Congruence"}),i.jsxs("p",{children:["The ASA condition can be ",i.jsx("em",{children:"proved"})," from SAS, so it's a theorem rather than an axiom."]}),i.jsx(ue,{title:"ASA Congruence Theorem",children:i.jsx("p",{children:"Two triangles are congruent if two angles and the included side of one triangle are equal to two angles and the included side of the other."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof sketch:"})," Given triangles ABC and DEF with A = D, AB = DE, and B = E, we need to show BC = EF. If BC  EF, say BC > EF, we can find a point B' on BC with BB' = EF. Then triangles AB'B and DEF would be congruent by SAS, giving AB'B = E = B. But this is impossible since the exterior angle AB'B of triangle AB'C must be greater than the interior angle B. "]}),i.jsx("h3",{children:"The Isosceles Triangle Theorem"}),i.jsx("p",{children:"One of the most elegant applications of congruence is the classical theorem about isosceles triangles."}),i.jsx(ue,{title:"Isosceles Triangle Theorem (Euclid I.5)",children:i.jsx("p",{children:"In a triangle with two equal sides, the angles opposite those sides are equal."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Consider triangle ABC with AB = AC. We show that ABC = ACB."]}),i.jsx("p",{children:"The key insight is to compare the triangle with itself! Consider:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Triangle ABC (reading vertices as A, B, C)"}),i.jsx("li",{children:"Triangle ACB (reading vertices as A, C, B)"})]}),i.jsx("p",{children:"These triangles have:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"AB = AC (given)"}),i.jsx("li",{children:"BAC = CAB (the same angle)"}),i.jsx("li",{children:"AC = AB (given)"})]}),i.jsx("p",{children:"By SAS, triangle ABC  triangle ACB. Therefore ABC = ACB. "}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Pappus's Proof:"})," This elegant proof, where a triangle is compared with its mirror image, was discovered by Pappus of Alexandria (circa 320 CE). Euclid's original proof was more complicated, involving the construction of additional points."]}),i.jsx("h3",{children:"The Converse"}),i.jsx("p",{children:"The converse of the isosceles triangle theorem is also true and can be proved using ASA."}),i.jsx(ue,{title:"Converse of Isosceles Triangle Theorem",children:i.jsx("p",{children:"If two angles of a triangle are equal, then the sides opposite those angles are equal."})}),i.jsx("h3",{children:"Properties of Parallelograms"}),i.jsx("p",{children:"The congruence axioms allow us to prove fundamental properties of parallelogramsquadrilaterals whose opposite sides are parallel."}),i.jsx(ue,{title:"Opposite Sides of a Parallelogram",children:i.jsx("p",{children:"In a parallelogram, opposite sides are equal."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Let ABCD be a parallelogram with AB  CD and AD  BC. Draw the diagonal AC."]}),i.jsx("p",{children:"Since AB  CD, the alternate interior angles satisfy BAC = DCA. Since AD  BC, we have DAC = BCA."}),i.jsx("p",{children:"Now triangles ABC and CDA have:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"BAC = DCA"}),i.jsx("li",{children:"AC = CA (common side)"}),i.jsx("li",{children:"BCA = DAC"})]}),i.jsx("p",{children:"By ASA, triangle ABC  triangle CDA. Therefore AB = CD and BC = DA. "}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the diagonals of a parallelogram bisect each other. (Hint: Use the fact that opposite sides are equal and apply ASA to appropriate triangles.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove that if a quadrilateral has both pairs of opposite sides equal, then it is a parallelogram."})]}),i.jsx(Re,{sectionId:7,questions:$e[7]||[],title:"Congruence Axioms Quiz"})]})}function _Z(){return i.jsxs(qe,{sectionId:8,children:[i.jsx("h2",{children:"Area and Equality"}),i.jsxs("p",{children:["Euclid's treatment of area is remarkably sophisticated. Rather than assigning numerical values to areas (as we do today), he works with the concept of ",i.jsx("strong",{children:"equality of areas"}),"two figures are equal if they have the same area, even if they have different shapes."]}),i.jsx("h3",{children:"Euclid's Common Notions"}),i.jsxs("p",{children:["The ",i.jsx("em",{children:"Elements"}),' begins with five "common notions" that govern how equal quantities can be combined and compared:']}),i.jsx(xe,{title:"Common Notions",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"Things equal to the same thing are equal to each other."}),i.jsx("li",{children:"If equals are added to equals, the wholes are equal."}),i.jsx("li",{children:"If equals are subtracted from equals, the remainders are equal."}),i.jsx("li",{children:"Things that coincide with one another are equal to one another."}),i.jsx("li",{children:"The whole is greater than the part."})]})}),i.jsx("p",{children:"These common notions allow Euclid to reason about areas algebraically, even without numbers."}),i.jsx("h3",{children:"A Modern Perspective on Area"}),i.jsx("p",{children:"Today we think of area as a function assigning a positive real number to each figure, satisfying:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Additivity:"})," If a figure is divided into non-overlapping parts, its area equals the sum of the parts' areas."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Congruence:"})," Congruent figures have equal areas."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Unit square:"})," A square with side 1 has area 1."]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"}),` Euclid never defines area numerically. Instead, he proves that certain figures are "equal"meaning they can be cut up and rearranged to form the same shape. This approach avoids the conceptual difficulties of real numbers that weren't fully resolved until the 19th century.`]}),i.jsx("h3",{children:"The Square of a Sum"}),i.jsxs("p",{children:["One of the fundamental area relationships is the geometric version of the algebraic identity (a + b) = a + 2ab + b. Euclid proves this in",i.jsx("em",{children:"Elements"})," II.4."]}),i.jsxs(ue,{title:"Square of a Sum (Euclid II.4)",children:[i.jsx("p",{children:"If a line segment is divided into two parts, then the square on the whole equals the sum of the squares on the two parts plus twice the rectangle formed by the parts."}),i.jsx(Y,{children:"(a + b)^2 = a^2 + 2ab + b^2"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Geometric Proof:"})," Consider a square with side a + b. Divide it into regions by drawing lines parallel to the sides at distance a from one corner."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("p",{className:"text-slate-300",children:"The square decomposes into:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2 text-slate-300",children:[i.jsx("li",{children:"A square of side a (area a) in one corner"}),i.jsx("li",{children:"A square of side b (area b) in the opposite corner"}),i.jsx("li",{children:"Two rectangles, each with sides a and b (each with area ab)"})]})]}),i.jsx("p",{children:"Since these four pieces tile the large square without overlapping:"}),i.jsx(Y,{children:"(a + b)^2 = a^2 + ab + ab + b^2 = a^2 + 2ab + b^2"}),i.jsx("h3",{children:"The Difference of Squares"}),i.jsx("p",{children:"Similarly, the identity a  b = (a+b)(ab) has a beautiful geometric interpretation (Euclid II.5)."}),i.jsxs(ue,{title:"Difference of Squares",children:[i.jsx("p",{children:"The difference of two squares equals a rectangle whose sides are the sum and difference of the original sides:"}),i.jsx(Y,{children:"a^2 - b^2 = (a + b)(a - b)"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Geometric Proof:"})," Start with a square of side a and remove a smaller square of side b from one corner. The remaining L-shaped region (called a ",i.jsx("em",{children:"gnomon"}),") can be cut and rearranged into a rectangle with dimensions (a + b)  (a  b). "]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Geometric Algebra:"})," Book II of the ",i.jsx("em",{children:"Elements"}),'is sometimes called "geometric algebra" because it proves algebraic identities using geometric constructions. This approach was the foundation of algebra for nearly two millennia, until symbolic algebra was developed in the Renaissance.']}),i.jsx("h3",{children:"Why Area Matters"}),i.jsx("p",{children:"Euclid's area theory is crucial for proving major results like:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"The Pythagorean theorem (next section)"}),i.jsx("li",{children:"The theory of similar figures"}),i.jsx("li",{children:"The construction of square roots"}),i.jsx("li",{children:"The quadrature (area calculation) of polygons"})]}),i.jsx("p",{children:"By working with areas geometrically rather than numerically, Euclid achieved a level of rigor that wouldn't be matched until the development of modern analysis in the 19th century."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Draw a geometric proof of the identity (a  b) = a  2ab + b."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Show geometrically that a gnomon (L-shaped region) formed by removing a small square from the corner of a large square can always be rearranged into a rectangle."})]}),i.jsx(Re,{sectionId:8,questions:$e[8]||[],title:"Area and Equality Quiz"})]})}function qZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("squares"),[r,a]=q.useState(3),[l,o]=q.useState(4),[c,h]=q.useState(0),u=520,m=400,p=30,b=Math.sqrt(r*r+l*l);return q.useEffect(()=>{const E=e.current;if(!E)return;const y=E.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,u,m);const T=50,S=m-80,N=(v,f,x,C,j)=>{y.fillStyle=j,y.beginPath(),y.moveTo(v,f),y.lineTo(v+x*p,f),y.lineTo(v,f-C*p),y.closePath(),y.fill(),y.strokeStyle="#e2e8f0",y.lineWidth=1,y.stroke()};switch(n){case"squares":{const v=T+100,f=S-50;N(v,f,r,l,"rgba(244, 114, 182, 0.5)"),y.fillStyle="rgba(167, 139, 250, 0.4)",y.fillRect(v,f,r*p,r*p),y.strokeStyle="#a78bfa",y.lineWidth=2,y.strokeRect(v,f,r*p,r*p),y.fillStyle="rgba(34, 211, 238, 0.4)",y.save(),y.translate(v,f-l*p),y.fillRect(-l*p,0,l*p,l*p),y.strokeStyle="#22d3ee",y.strokeRect(-l*p,0,l*p,l*p),y.restore();const x=Math.atan2(l,r);y.save(),y.translate(v+r*p,f),y.rotate(-x),y.fillStyle="rgba(52, 211, 153, 0.4)",y.fillRect(0,0,b*p,b*p),y.strokeStyle="#34d399",y.lineWidth=2,y.strokeRect(0,0,b*p,b*p),y.restore(),y.fillStyle="#a78bfa",y.font="bold 14px sans-serif",y.fillText(`a = ${(r*r).toFixed(0)}`,v+r*p/2-15,f+r*p/2+5),y.fillStyle="#22d3ee",y.fillText(`b = ${(l*l).toFixed(0)}`,v-l*p+10,f-l*p/2),y.fillStyle="#34d399";const C=v+r*p+30,j=f-30;y.fillText(`c = ${(b*b).toFixed(1)}`,C,j),y.fillStyle="#e2e8f0",y.font="16px sans-serif",y.fillText(`a + b = ${r*r} + ${l*l} = ${r*r+l*l}`,20,30),y.fillText(`c = ${(b*b).toFixed(1)}`,20,55),y.fillStyle="#34d399",y.fillText(" Equal!",150,55);break}case"rearrangement":{const v=r+l,f=v*p*.6,x=30,C=40,j=60;y.strokeStyle="#475569",y.lineWidth=2,y.strokeRect(C,j,f,f);const g=f/v;y.fillStyle="rgba(244, 114, 182, 0.5)",y.beginPath(),y.moveTo(C,j),y.lineTo(C+r*g,j),y.lineTo(C,j+l*g),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(C+f,j),y.lineTo(C+f,j+r*g),y.lineTo(C+r*g,j),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(C+f,j+f),y.lineTo(C+l*g,j+f),y.lineTo(C+f,j+r*g),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(C,j+f),y.lineTo(C,j+l*g),y.lineTo(C+l*g,j+f),y.closePath(),y.fill(),y.stroke(),y.fillStyle="rgba(52, 211, 153, 0.4)",y.beginPath(),y.moveTo(C+r*g,j),y.lineTo(C+f,j+r*g),y.lineTo(C+l*g,j+f),y.lineTo(C,j+l*g),y.closePath(),y.fill(),y.strokeStyle="#34d399",y.stroke(),y.fillStyle="#34d399",y.font="bold 14px sans-serif",y.fillText("c",C+f/2-10,j+f/2+5);const A=C+f+x+50,w=j;y.strokeStyle="#475569",y.lineWidth=2,y.strokeRect(A,w,f,f),y.fillStyle="rgba(244, 114, 182, 0.5)",y.strokeStyle="#f472b6",y.beginPath(),y.moveTo(A,w),y.lineTo(A+r*g,w),y.lineTo(A+r*g,w+l*g),y.lineTo(A,w+l*g),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(A+r*g,w+l*g),y.lineTo(A+f,w+l*g),y.lineTo(A+f,w+f),y.lineTo(A+r*g,w+f),y.closePath(),y.fill(),y.stroke(),y.fillStyle="rgba(167, 139, 250, 0.4)",y.fillRect(A+r*g,w,r*g,r*g),y.strokeStyle="#a78bfa",y.strokeRect(A+r*g,w,r*g,r*g),y.fillStyle="rgba(34, 211, 238, 0.4)",y.fillRect(A,w+l*g,l*g,l*g),y.strokeStyle="#22d3ee",y.strokeRect(A,w+l*g,l*g,l*g),y.fillStyle="#a78bfa",y.font="bold 14px sans-serif",y.fillText("a",A+r*g+r*g/2-10,w+r*g/2+5),y.fillStyle="#22d3ee",y.fillText("b",A+l*g/2-10,w+l*g+l*g/2+5),y.fillStyle="#e2e8f0",y.font="12px sans-serif",y.fillText("4 triangles + c",C+f/2-40,j+f+25),y.fillText("4 triangles + a + b",A+f/2-55,w+f+25),y.fillStyle="#fbbf24",y.font="14px sans-serif",y.fillText("Same total area  c = a + b",u/2-100,m-20);break}case"similar":{const f=m-100;y.fillStyle="rgba(244, 114, 182, 0.3)",y.beginPath(),y.moveTo(100,f),y.lineTo(100+b*p,f),y.lineTo(100,f-l*p),y.closePath(),y.fill(),y.strokeStyle="#f472b6",y.lineWidth=2,y.stroke(),y.strokeStyle="#fbbf24",y.lineWidth=2,y.setLineDash([5,5]),y.beginPath(),y.moveTo(100,f-l*p);const x=100+r*r/b*p,C=f-r*l/b*p;y.lineTo(x,C),y.stroke(),y.setLineDash([]),y.fillStyle="#e2e8f0",y.font="bold 14px sans-serif",y.fillText("c",100+b*p/2,f+20),y.fillText("b",80,f-l*p/2),y.fillText("a",100+b*p/2+20,f-l*p/2-20),y.fillStyle="#fbbf24",y.fillText("h",x+10,C-10),y.fillStyle="#e2e8f0",y.font="13px sans-serif";const j=280;let g=40;y.fillText("Similar Triangles Proof:",j,g),g+=25,y.font="12px sans-serif",y.fillText("The altitude creates 3 similar triangles.",j,g),g+=25,y.fillStyle="#a78bfa",y.fillText("From small triangle: a/c = (a/c)/a",j,g),g+=20,y.fillStyle="#22d3ee",y.fillText("From other small: b/c = (b/c)/b",j,g),g+=25,y.fillStyle="#34d399",y.fillText("Adding: a/c + b/c = c",j,g),g+=20,y.fillText("Therefore: a + b = c",j,g);break}}y.fillStyle="#94a3b8",y.font="11px sans-serif",y.fillText(`a = ${r}, b = ${l}, c = ${b.toFixed(2)}`,10,m-10)},[n,r,l,b,c]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Pythagorean Theorem Visualizer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:m,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Proof Type"}),i.jsxs("select",{value:n,onChange:E=>s(E.target.value),className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"squares",children:"Squares on Sides"}),i.jsx("option",{value:"rearrangement",children:"Area Rearrangement"}),i.jsx("option",{value:"similar",children:"Similar Triangles"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Side a: ",r]}),i.jsx("input",{type:"range",min:"1",max:"5",step:"0.5",value:r,onChange:E=>a(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Side b: ",l]}),i.jsx("input",{type:"range",min:"1",max:"5",step:"0.5",value:l,onChange:E=>o(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsxs("div",{className:"text-sm font-mono text-slate-200",children:["a + b = ",(r*r).toFixed(1)," + ",(l*l).toFixed(1)," = ",(r*r+l*l).toFixed(1)]}),i.jsxs("div",{className:"text-sm font-mono text-slate-200 mt-1",children:["c = ",(b*b).toFixed(1)]}),i.jsx("div",{className:"text-green-400 text-sm mt-1",children:" Equal!"})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," a"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," b"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," c"]})]})]})]})]})}function WA({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(Math.PI*.7),[r,a]=q.useState(Math.PI*1.2),[l,o]=q.useState(Math.PI*1.8),[c,h]=q.useState(null),u=480,m=400,p=240,b=200,E=150,y=v=>({x:p+E*Math.cos(v),y:b-E*Math.sin(v)});q.useEffect(()=>{const v=e.current;if(!v)return;const f=v.getContext("2d");if(!f)return;f.fillStyle="#0f172a",f.fillRect(0,0,u,m),f.strokeStyle="#475569",f.lineWidth=2,f.beginPath(),f.arc(p,b,E,0,Math.PI*2),f.stroke(),f.fillStyle="#64748b",f.beginPath(),f.arc(p,b,4,0,Math.PI*2),f.fill(),f.fillStyle="#94a3b8",f.font="12px sans-serif",f.fillText("O",p+8,b+4);const x=y(r),C=y(l),j=y(n);f.strokeStyle="#f472b6",f.lineWidth=4,f.beginPath();const g=-l,A=-r;f.arc(p,b,E,g,A),f.stroke(),f.strokeStyle="#fbbf24",f.lineWidth=2,f.beginPath(),f.moveTo(p,b),f.lineTo(x.x,x.y),f.stroke(),f.beginPath(),f.moveTo(p,b),f.lineTo(C.x,C.y),f.stroke(),f.strokeStyle="#fbbf24",f.lineWidth=2,f.beginPath(),f.arc(p,b,30,-l,-r),f.stroke(),f.strokeStyle="#22d3ee",f.lineWidth=2,f.beginPath(),f.moveTo(j.x,j.y),f.lineTo(x.x,x.y),f.stroke(),f.beginPath(),f.moveTo(j.x,j.y),f.lineTo(C.x,C.y),f.stroke();const w=Math.atan2(-(x.y-j.y),x.x-j.x),k=Math.atan2(-(C.y-j.y),C.x-j.x);f.strokeStyle="#22d3ee",f.lineWidth=2,f.beginPath();let M=Math.min(w,k),I=Math.max(w,k);I-M>Math.PI&&([M,I]=[I,M-Math.PI*2]),f.arc(j.x,j.y,25,-I,-M),f.stroke();const O=(V,J,ee)=>{f.fillStyle=ee,f.beginPath(),f.arc(V.x,V.y,8,0,Math.PI*2),f.fill(),f.fillStyle="#e2e8f0",f.font="bold 14px sans-serif";const re=V.x>p?12:-20,se=V.y>b?20:-10;f.fillText(J,V.x+re,V.y+se)};O(x,"A","#f472b6"),O(C,"B","#f472b6"),O(j,"P","#22d3ee");let $=r-l;$<0&&($+=Math.PI*2),$>Math.PI*2&&($-=Math.PI*2);const G=$/2;f.fillStyle="#0f172a",f.fillRect(10,10,180,90),f.strokeStyle="#334155",f.strokeRect(10,10,180,90),f.fillStyle="#fbbf24",f.font="13px sans-serif",f.fillText(`Central angle: ${($*180/Math.PI).toFixed(1)}`,20,35),f.fillStyle="#22d3ee",f.fillText(`Inscribed angle: ${(G*180/Math.PI).toFixed(1)}`,20,60),f.fillStyle="#34d399",f.fillText("Ratio: 2:1 ",20,85),f.fillStyle="#94a3b8",f.font="11px sans-serif",f.fillText("Drag P, A, or B to explore",10,m-10)},[n,r,l]);const T=v=>{var w;const f=(w=e.current)==null?void 0:w.getBoundingClientRect();if(!f)return;const x=v.clientX-f.left,C=v.clientY-f.top,j=y(n),g=y(r),A=y(l);Math.hypot(x-j.x,C-j.y)<15?h("point"):Math.hypot(x-g.x,C-g.y)<15?h("start"):Math.hypot(x-A.x,C-A.y)<15&&h("end")},S=v=>{var g;if(!c)return;const f=(g=e.current)==null?void 0:g.getBoundingClientRect();if(!f)return;const x=v.clientX-f.left,C=v.clientY-f.top,j=Math.atan2(-(C-b),x-p);c==="point"?s(j):c==="start"?a(j):c==="end"&&o(j)},N=()=>{h(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Inscribed Angle Theorem"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:m,className:"border border-slate-700 rounded cursor-grab",onMouseDown:T,onMouseMove:S,onMouseUp:N,onMouseLeave:N})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-blue-400 mb-2",children:"The Theorem"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["An inscribed angle is ",i.jsx("span",{className:"text-cyan-400",children:"half"})," the central angle that subtends the same arc."]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Thales' Corollary"}),i.jsx("p",{className:"text-xs text-slate-300",children:"When the arc is a semicircle (central angle = 180), the inscribed angle is always 90."})]}),i.jsx("button",{onClick:()=>{a(Math.PI),o(0),s(Math.PI*.6)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Show Thales' Case (90)"}),i.jsx("button",{onClick:()=>{a(Math.PI*1.2),o(Math.PI*1.8),s(Math.PI*.7)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink arc:"})," Subtended arc AB"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Central angle"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Inscribed angle"]})]})]})]})]})}function $Z({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(!1),[l,o]=q.useState(!1),c=q.useRef(),h=550,u=400,m=180,p=120,b=100,E=u-80;q.useEffect(()=>{const T=e.current;if(!T)return;const S=T.getContext("2d");if(!S)return;S.fillStyle="#0f172a",S.fillRect(0,0,h,u),S.strokeStyle="#334155",S.lineWidth=1,S.setLineDash([5,5]),S.beginPath(),S.moveTo(0,E-p),S.lineTo(h,E-p),S.stroke(),S.beginPath(),S.moveTo(0,E),S.lineTo(h,E),S.stroke(),S.setLineDash([]),S.fillStyle="#94a3b8",S.font="12px sans-serif",S.save(),S.translate(30,E-p/2),S.rotate(-Math.PI/2),S.fillText("height = h",-20,0),S.restore(),S.strokeStyle="#94a3b8",S.beginPath(),S.moveTo(50,E),S.lineTo(50,E-p),S.stroke(),S.beginPath(),S.moveTo(45,E-5),S.lineTo(50,E),S.lineTo(55,E-5),S.stroke(),S.beginPath(),S.moveTo(45,E-p+5),S.lineTo(50,E-p),S.lineTo(55,E-p+5),S.stroke();const N=n*100,v={x:b,y:E},f={x:b+m,y:E},x={x:b+m+N,y:E-p},C={x:b+N,y:E-p};n!==0&&(S.strokeStyle="#475569",S.lineWidth=1,S.setLineDash([3,3]),S.beginPath(),S.moveTo(b,E),S.lineTo(b+m,E),S.lineTo(b+m,E-p),S.lineTo(b,E-p),S.closePath(),S.stroke(),S.setLineDash([]));const j=S.createLinearGradient(v.x,v.y,x.x,x.y);if(j.addColorStop(0,"rgba(96, 165, 250, 0.3)"),j.addColorStop(1,"rgba(96, 165, 250, 0.1)"),S.fillStyle=j,S.beginPath(),S.moveTo(v.x,v.y),S.lineTo(f.x,f.y),S.lineTo(x.x,x.y),S.lineTo(C.x,C.y),S.closePath(),S.fill(),S.strokeStyle="#60a5fa",S.lineWidth=2,S.stroke(),r){S.strokeStyle="#fbbf24",S.lineWidth=2,S.setLineDash([4,4]),S.beginPath(),S.moveTo(v.x,v.y),S.lineTo(x.x,x.y),S.stroke(),S.setLineDash([]);const I=S.createLinearGradient(v.x,v.y,x.x,x.y);I.addColorStop(0,"rgba(251, 191, 36, 0.3)"),I.addColorStop(1,"rgba(251, 191, 36, 0.1)"),S.fillStyle=I,S.beginPath(),S.moveTo(v.x,v.y),S.lineTo(f.x,f.y),S.lineTo(x.x,x.y),S.closePath(),S.fill(),S.strokeStyle="#fbbf24",S.lineWidth=2,S.stroke()}const g=[v,f,x,C],A=["A","B","C","D"],w=["#60a5fa","#60a5fa","#60a5fa","#60a5fa"],k=[{x:-15,y:20},{x:5,y:20},{x:5,y:-10},{x:-15,y:-10}];g.forEach((I,O)=>{S.fillStyle=w[O],S.beginPath(),S.arc(I.x,I.y,4,0,Math.PI*2),S.fill(),S.font="italic 14px serif",S.fillText(A[O],I.x+k[O].x,I.y+k[O].y)}),S.fillStyle="#60a5fa",S.font="12px sans-serif",S.fillText("base = b",(v.x+f.x)/2-25,v.y+25);const M=m*p;if(S.fillStyle="#34d399",S.font="bold 16px sans-serif",r?S.fillText(`Triangle Area =   b  h = ${(M/2).toFixed(0)} sq units`,h/2-130,40):S.fillText(`Parallelogram Area = b  h = ${M.toFixed(0)} sq units`,h/2-130,40),l||n!==0){S.strokeStyle="#f472b6",S.lineWidth=2;const I=E-p-30;S.beginPath(),S.moveTo(b,I),S.lineTo(b+80,I),S.lineTo(b+70,I-8),S.moveTo(b+80,I),S.lineTo(b+70,I+8),S.stroke(),S.fillStyle="#f472b6",S.font="12px sans-serif",S.fillText("shear",b+30,I-12)}},[n,r,l]);const y=()=>{if(l)return;o(!0);let T=null;const S=2e3,N=n,v=N===0?1:0,f=x=>{T||(T=x);const C=x-T,j=Math.min(C/S,1),g=j<.5?2*j*j:1-Math.pow(-2*j+2,2)/2;s(N+(v-N)*g),j<1?c.current=requestAnimationFrame(f):o(!1)};c.current=requestAnimationFrame(f)};return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Shearing Preserves Area"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:h,height:u,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Shear Amount: ",n.toFixed(2)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.01",value:n,onChange:T=>s(parseFloat(T.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:y,disabled:l,className:`px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500
                     disabled:opacity-50 disabled:cursor-not-allowed transition`,children:n===0?"Animate Shear":"Animate Back"}),i.jsx("button",{onClick:()=>a(!r),className:`px-4 py-2 rounded transition ${r?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:r?"Show Parallelogram":"Show Triangle"}),i.jsx("button",{onClick:()=>s(0),className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Key Insight:"})," Sliding the top edge parallel to the base (shearing) does not change the area because both the ",i.jsx("em",{children:"base"})," and"," ",i.jsx("em",{children:"height"})," remain constant."]}),r&&i.jsx("p",{className:"mt-2 text-yellow-400",children:"The diagonal divides the parallelogram into two congruent triangles, each with half the area."})]})]})}function BZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(.4),[r,a]=q.useState(0),[l,o]=q.useState(!1),c=550,h=420,u={x:80,y:h-60},m={x:280,y:h-60},p={x:180,y:80},b={x:u.x+n*(m.x-u.x),y:u.y+n*(m.y-u.y)},E={x:u.x+n*(p.x-u.x),y:u.y+n*(p.y-u.y)},y=q.useCallback(f=>{const x=e.current;if(!x)return{x:0,y:0};const C=x.getBoundingClientRect();return{x:f.clientX-C.left,y:f.clientY-C.top}},[]),T=q.useCallback(f=>{const x=y(f);Math.sqrt((x.x-b.x)**2+(x.y-b.y)**2)<15&&o(!0)},[y,b]),S=q.useCallback(f=>{if(!l)return;const x=y(f),C=m.x-u.x,j=m.y-u.y,g=x.x-u.x,A=x.y-u.y;let w=(g*C+A*j)/(C*C+j*j);w=Math.max(.1,Math.min(.9,w)),s(w)},[l,y]),N=q.useCallback(()=>{o(!1)},[]);q.useEffect(()=>{const f=e.current;if(!f)return;const x=f.getContext("2d");if(!x)return;x.fillStyle="#0f172a",x.fillRect(0,0,c,h);const C=(I,O,$)=>Math.abs((O.x-I.x)*($.y-I.y)-($.x-I.x)*(O.y-I.y))/2;if(x.strokeStyle="#475569",x.lineWidth=1,x.beginPath(),x.moveTo(u.x,u.y),x.lineTo(m.x,m.y),x.lineTo(p.x,p.y),x.closePath(),x.stroke(),x.strokeStyle="#f472b6",x.lineWidth=2,x.beginPath(),x.moveTo(b.x,b.y),x.lineTo(E.x,E.y),x.stroke(),x.strokeStyle="#94a3b8",x.lineWidth=2,x.beginPath(),x.moveTo(m.x,m.y),x.lineTo(p.x,p.y),x.stroke(),r>=1){const I=x.createLinearGradient(u.x,u.y,E.x,E.y);I.addColorStop(0,"rgba(96, 165, 250, 0.4)"),I.addColorStop(1,"rgba(96, 165, 250, 0.1)"),x.fillStyle=I,x.beginPath(),x.moveTo(u.x,u.y),x.lineTo(b.x,b.y),x.lineTo(E.x,E.y),x.closePath(),x.fill(),x.strokeStyle="#60a5fa",x.lineWidth=2,x.stroke()}if(r>=2){const I=x.createLinearGradient(b.x,b.y,m.x,m.y);I.addColorStop(0,"rgba(251, 191, 36, 0.4)"),I.addColorStop(1,"rgba(251, 191, 36, 0.1)"),x.fillStyle=I,x.beginPath(),x.moveTo(b.x,b.y),x.lineTo(m.x,m.y),x.lineTo(E.x,E.y),x.closePath(),x.fill(),x.strokeStyle="#fbbf24",x.lineWidth=2,x.stroke()}if(r>=3){const I=x.createLinearGradient(b.x,b.y,p.x,p.y);I.addColorStop(0,"rgba(52, 211, 153, 0.4)"),I.addColorStop(1,"rgba(52, 211, 153, 0.1)"),x.fillStyle=I,x.beginPath(),x.moveTo(b.x,b.y),x.lineTo(E.x,E.y),x.lineTo(p.x,p.y),x.closePath(),x.fill(),x.strokeStyle="#34d399",x.lineWidth=2,x.stroke()}[{p:u,label:"A",color:"#f472b6",offset:{x:-20,y:20}},{p:m,label:"B",color:"#f472b6",offset:{x:5,y:20}},{p,label:"C",color:"#f472b6",offset:{x:5,y:-15}},{p:b,label:"D",color:"#60a5fa",offset:{x:-5,y:20}},{p:E,label:"E",color:"#34d399",offset:{x:-20,y:-5}}].forEach(({p:I,label:O,color:$,offset:G})=>{x.fillStyle=$,x.beginPath(),x.arc(I.x,I.y,O==="D"?8:5,0,Math.PI*2),x.fill(),x.font="italic 16px serif",x.fillText(O,I.x+G.x,I.y+G.y)}),l||(x.font="10px sans-serif",x.fillStyle="#94a3b8",x.fillText("drag",b.x-12,b.y+30)),x.fillStyle="#f472b6",x.font="12px sans-serif",x.fillText("DE  BC",(b.x+E.x)/2-20,(b.y+E.y)/2-15);const g=n,A=1-n,w=n,k=1-n,M=340;if(x.fillStyle="#1e293b",x.fillRect(M,50,190,320),x.strokeStyle="#334155",x.strokeRect(M,50,190,320),x.font="bold 14px sans-serif",x.fillStyle="#e2e8f0",x.fillText("Thales Theorem Proof",M+20,75),x.font="12px sans-serif",x.fillStyle=r>=1?"#60a5fa":"#64748b",x.fillText("Step 1: Consider ADE",M+10,105),x.fillStyle=r>=2?"#fbbf24":"#64748b",x.fillText("Step 2: DBE has same",M+10,145),x.fillText("height from E to AB",M+10,160),x.fillStyle=r>=3?"#34d399":"#64748b",x.fillText("Step 3: DEC has same",M+10,200),x.fillText("height from D to AC",M+10,215),x.fillStyle=r>=4?"#c084fc":"#64748b",x.fillText("Key: Since DE  BC,",M+10,255),x.fillText("DBE = DEC (same",M+10,270),x.fillText("base DE, same height)",M+10,285),x.fillStyle="#e2e8f0",x.font="bold 13px sans-serif",x.fillText("Therefore:",M+10,315),x.fillStyle="#f472b6",x.fillText(`AD/DB = ${g.toFixed(2)}/${A.toFixed(2)}`,M+10,335),x.fillText(`AE/EC = ${w.toFixed(2)}/${k.toFixed(2)}`,M+10,352),Math.abs(g/A-w/k)<.01&&(x.fillStyle="#34d399",x.fillText("= "+(g/A).toFixed(2)+" ",M+120,343)),r>=2){const I=C(u,b,E),O=C(b,m,E),$=C(b,E,p);x.font="11px sans-serif",x.fillStyle="#60a5fa",x.fillText(`Area(ADE) = ${I.toFixed(0)}`,80,h-20),r>=2&&(x.fillStyle="#fbbf24",x.fillText(`Area(DBE) = ${O.toFixed(0)}`,180,h-20)),r>=3&&(x.fillStyle="#34d399",x.fillText(`Area(DEC) = ${$.toFixed(0)}`,280,h-20))}},[n,r,l,b,E]);const v=["View the triangle","Triangle ADE","Add triangle DBE","Add triangle DEC","Complete proof"];return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Thales Theorem: Area-Based Proof"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:T,onMouseMove:S,onMouseUp:N,onMouseLeave:N})}),i.jsx("div",{className:"flex justify-center gap-2 mb-4",children:v.map((f,x)=>i.jsx("button",{onClick:()=>a(x),className:`px-3 py-1 text-sm rounded transition ${r===x?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:x===0?"Start":`Step ${x}`},x))}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Thales' Theorem:"})," If DE is parallel to BC, then"," ",i.jsx("span",{className:"text-pink-400",children:"AD/DB = AE/EC"}),"."]}),i.jsxs("p",{className:"mt-2",children:["The proof uses the fact that triangles with the same base and height have equal areas. Drag point ",i.jsx("span",{className:"text-blue-400",children:"D"})," to see how the ratio stays constant!"]})]})]})}function OZ(){return i.jsxs(qe,{sectionId:9,children:[i.jsx("h2",{children:"Area of Parallelograms and Triangles"}),i.jsx("p",{children:"Having established the basic principles of area, Euclid develops formulas for the areas of fundamental shapes. These results form the foundation for the Pythagorean theorem and the theory of similar triangles."}),i.jsx("h3",{children:"Area of a Parallelogram"}),i.jsx("p",{children:"The key insight for parallelograms is that they can be transformed into rectangles without changing their area."}),i.jsx(ue,{title:"Parallelograms with Equal Base and Height (Euclid I.35)",children:i.jsx("p",{children:"Parallelograms with the same base and the same height have equal areas."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Consider two parallelograms ABCD and ABEF that share the same base AB and lie between the same parallel lines (so they have the same height)."]}),i.jsx("p",{children:"The key observation is that both parallelograms differ from a common triangle by another triangle of equal area:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"ABCD = triangle ABX + (common region) for some point X"}),i.jsx("li",{children:"ABEF = triangle ABY + (same common region) for some point Y"})]}),i.jsx("p",{children:"Since the triangles ABX and ABY are congruent (by SAS), the parallelograms have equal areas. "}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Modern Formula:"})," From this theorem, we derive the familiar formula:",i.jsx(Y,{children:"\\text{Area of parallelogram} = \\text{base} \\times \\text{height}"})]}),i.jsx("h3",{children:"Area of a Triangle"}),i.jsx("p",{children:"The relationship between parallelograms and triangles is fundamental."}),i.jsx(ue,{title:"Triangle Area (Euclid I.37)",children:i.jsx("p",{children:"Triangles with the same base and the same height have equal areas."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," A triangle is exactly half of a parallelogram with the same base and height. If two triangles share the same base and height, they are each half of equal parallelograms, so they have equal areas. "]}),i.jsxs(xe,{title:"Triangle Area Formula",children:[i.jsx("p",{children:"The area of a triangle is half the product of its base and height:"}),i.jsx(Y,{children:"\\text{Area} = \\frac{1}{2} \\times \\text{base} \\times \\text{height}"})]}),i.jsx("h3",{children:"The Parallelogram-Triangle Relationship"}),i.jsx("p",{children:"A crucial relationship connects parallelograms and triangles:"}),i.jsx(ue,{title:"Parallelogram is Double the Triangle (Euclid I.41)",children:i.jsx("p",{children:"If a parallelogram and a triangle share the same base and lie between the same parallels, then the parallelogram has twice the area of the triangle."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Draw a diagonal of the parallelogram. This creates two congruent triangles, each equal in area to the given triangle (by I.37). Therefore the parallelogram has twice the area of the triangle. "]}),i.jsx("h3",{children:"Proportionality of Triangle Areas"}),i.jsx("p",{children:"These area relationships lead to important proportionality results."}),i.jsxs(ue,{title:"Area Ratio for Equal Heights",children:[i.jsx("p",{children:"Triangles with the same height have areas proportional to their bases."}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ABC)}{\\text{Area}(\\triangle DEF)} = \\frac{BC}{EF}"}),i.jsx("p",{className:"mt-2",children:"(when both triangles have the same height)"})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Key Application:"})," This proportionality is essential for proving the Thales theorem (which we'll see in Section 11). If a line parallel to one side of a triangle divides the other two sides, it divides them proportionally."]}),i.jsx("h3",{children:"Shearing Transformations"}),i.jsxs("p",{children:["The theorems above demonstrate an important principle: ",i.jsx("strong",{children:"shearing"}),"a parallelogram or triangle (sliding one side parallel to itself) does not change its area."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Shearing Principle"}),i.jsx("p",{className:"text-slate-300",children:'If you take a parallelogram and "slide" the top edge left or right (keeping it parallel to the base and at the same height), the area remains unchanged. This is the geometric content of Euclid I.35.'})]}),i.jsx("p",{children:"This shearing principle is the key to many area proofs, including Euclid's proof of the Pythagorean theorem."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the diagonal of a parallelogram divides it into two congruent triangles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that if a triangle ABC has a point P on side BC, then:"}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ABP)}{\\text{Area}(\\triangle APC)} = \\frac{BP}{PC}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the medians of a triangle divide it into six smaller triangles of equal area."})]}),i.jsx($Z,{className:"my-6"}),i.jsx(Re,{sectionId:9,questions:$e[9]||[],title:"Area of Parallelograms and Triangles Quiz"})]})}function LZ(){return i.jsxs(qe,{sectionId:10,children:[i.jsx("h2",{children:"The Pythagorean Theorem"}),i.jsxs("p",{children:["The Pythagorean theorem is perhaps the most famous result in all of mathematics. It appears as Proposition I.47 in Euclid's ",i.jsx("em",{children:"Elements"}),", and Euclid's proof is a masterpiece of geometric reasoning that uses the area concepts developed in the previous sections."]}),i.jsxs(ue,{title:"Pythagorean Theorem (Euclid I.47)",children:[i.jsx("p",{children:"In a right triangle, the square on the hypotenuse equals the sum of the squares on the other two sides."}),i.jsx(Y,{children:"a^2 + b^2 = c^2"}),i.jsx("p",{className:"mt-2",children:"where c is the hypotenuse and a, b are the legs."})]}),i.jsx("h3",{children:"Euclid's Proof"}),i.jsx("p",{children:"Euclid's proof is constructive and elegant. Given a right triangle ABC with the right angle at C, construct squares on all three sides."}),i.jsx("p",{children:i.jsx("strong",{children:"Step 1: Set up the construction"})}),i.jsx("p",{children:"Draw the altitude from C to the hypotenuse AB, meeting it at H. Extend this line to meet the opposite side of the square on AB."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," The altitude CH divides the large square into two rectangles. Euclid shows that each rectangle equals one of the smaller squares."]}),i.jsx("p",{children:i.jsx("strong",{children:"Step 2: Connect key points"})}),i.jsx("p",{children:"Draw lines AC and BC extended through the construction. These create triangles that we can compare using congruence."}),i.jsx("p",{children:i.jsx("strong",{children:"Step 3: Apply shearing"})}),i.jsx("p",{children:'The square on side AC can be "sheared" (using the principle from I.35) into a parallelogram with the same base and height, which is then sheared again to align with the rectangle portion of the square on AB.'}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The Shearing Argument"}),i.jsx("p",{className:"text-slate-300",children:"Consider the square on AC. By Euclid I.35, this square has the same area as any parallelogram with the same base and height. We can shear this square into a rectangle that exactly matches one piece of the square on the hypotenuse."})]}),i.jsx("p",{children:i.jsx("strong",{children:"Step 4: Complete the proof"})}),i.jsx("p",{children:"The same argument applied to the square on BC shows it equals the other rectangle. Since the two rectangles together form the square on AB:"}),i.jsx(Y,{children:"\\text{square on } AC + \\text{square on } BC = \\text{square on } AB"}),i.jsx("h3",{children:"Why This Proof Matters"}),i.jsx("p",{children:"Euclid's proof is significant because it:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Uses only the theorems developed earlier in Book I"}),i.jsx("li",{children:"Relies on the shearing principle (area-preserving transformations)"}),i.jsx("li",{children:"Works with areas directly, without needing numerical values"}),i.jsx("li",{children:"Demonstrates the power of axiomatic reasoning"})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"The Windmill Proof:"}),` Euclid's proof is sometimes called the "windmill proof" because the construction with its extended lines resembles a windmill. It's considerably more complex than some modern proofs but uses only the basic tools available to Euclid.`]}),i.jsx("h3",{children:"The Converse"}),i.jsx("p",{children:"Euclid also proves the converse (I.48):"}),i.jsx(ue,{title:"Converse of Pythagorean Theorem (Euclid I.48)",children:i.jsx("p",{children:"If the square on one side of a triangle equals the sum of the squares on the other two sides, then the angle opposite that side is a right angle."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Suppose triangle ABC has a + b = c where c = AB. Construct a right triangle DEF with legs DE = a and EF = b. By the Pythagorean theorem, DF = a + b = c, so DF = c = AB."]}),i.jsx("p",{children:"Now triangles ABC and DEF have all three sides equal (a, b, c), so they are congruent by SSS. Therefore ACB = DEF = 90. "}),i.jsx("h3",{children:"Historical Context"}),i.jsx("p",{children:"The Pythagorean theorem was known before Euclid and even before Pythagoras. Babylonian clay tablets from around 1800 BCE show knowledge of Pythagorean triples like (3, 4, 5) and (5, 12, 13)."}),i.jsxs("p",{children:["What makes Euclid's contribution significant is the ",i.jsx("em",{children:"proof"})," demonstrating that the theorem follows logically from basic axioms rather than being an empirical observation."]}),i.jsx("h3",{children:"Pythagorean Triples"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"Pythagorean triple"})," is a set of three positive integers (a, b, c) satisfying a + b = c."]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-400",children:"(3, 4, 5)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"9 + 16 = 25"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-400",children:"(5, 12, 13)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"25 + 144 = 169"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:"(8, 15, 17)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"64 + 225 = 289"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-pink-400",children:"(7, 24, 25)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"49 + 576 = 625"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-400",children:"(20, 21, 29)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"400 + 441 = 841"})]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that if m > n are positive integers, then (m  n, 2mn, m + n) is a Pythagorean triple."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.5.2"}),i.jsx("p",{className:"text-slate-300",children:"In Euclid's proof, explain why the altitude from C to the hypotenuse creates two triangles that are each similar to the original triangle."})]}),i.jsx(qZ,{className:"my-6"}),i.jsx(Re,{sectionId:10,questions:$e[10]||[],title:"The Pythagorean Theorem Quiz"})]})}function FZ(){return i.jsxs(qe,{sectionId:11,children:[i.jsx("h2",{children:"Proof of the Thales Theorem"}),i.jsx("p",{children:"In Chapter 1, we stated the Thales theorem without proof. Now, with Euclid's theory of areas at our disposal, we can prove it rigorously. This theorem is fundamental to the theory of similar triangles."}),i.jsxs(ue,{title:"Thales Theorem (Basic Proportionality)",children:[i.jsx("p",{children:"A line parallel to one side of a triangle divides the other two sides proportionally."}),i.jsx("p",{className:"mt-2",children:"More precisely: If line DE is parallel to BC in triangle ABC, with D on AB and E on AC, then:"}),i.jsx(Y,{children:"\\frac{AD}{DB} = \\frac{AE}{EC}"})]}),i.jsx("h3",{children:"The Proof Using Areas"}),i.jsx("p",{children:"The key insight is that triangles with the same height have areas proportional to their bases."}),i.jsx("p",{children:i.jsx("strong",{children:"Step 1: Set up the triangles"})}),i.jsx("p",{children:"Consider triangles ADE and DBE. They share the same height (the perpendicular distance from E to line AB)."}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DBE)} = \\frac{AD}{DB}"}),i.jsx("p",{children:i.jsx("strong",{children:"Step 2: Consider another pair"})}),i.jsx("p",{children:"Similarly, triangles ADE and DEC share the same height (the perpendicular distance from D to line AC)."}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DEC)} = \\frac{AE}{EC}"}),i.jsx("p",{children:i.jsx("strong",{children:"Step 3: Key observation"})}),i.jsx("p",{children:"Triangles DBE and DEC have the same base DE. Since DE  BC, these triangles also have the same height (the perpendicular distance between the parallel lines DE and BC)."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Critical Point:"})," Because DE is parallel to BC, the triangles DBE and DEC have equal areas. They share base DE and lie between the same parallel lines."]}),i.jsx("p",{children:i.jsx("strong",{children:"Step 4: Conclude the proof"})}),i.jsx("p",{children:"Since Area(DBE) = Area(DEC), we have:"}),i.jsx(Y,{children:"\\frac{AD}{DB} = \\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DBE)} = \\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DEC)} = \\frac{AE}{EC}"}),i.jsx("p",{children:"This completes the proof. "}),i.jsx("h3",{children:"The Converse of Thales' Theorem"}),i.jsx(ue,{title:"Converse of Thales Theorem",children:i.jsx("p",{children:"If a line divides two sides of a triangle proportionally, then it is parallel to the third side."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Suppose D is on AB and E is on AC with AD/DB = AE/EC. We want to show DE  BC."]}),i.jsx("p",{children:"Assume, for contradiction, that DE is not parallel to BC. Then draw the line through D parallel to BC, meeting AC at some point E'. By the Thales theorem:"}),i.jsx(Y,{children:"\\frac{AD}{DB} = \\frac{AE'}{E'C}"}),i.jsx("p",{children:"But we also have AD/DB = AE/EC. Therefore AE'/E'C = AE/EC, which means E' = E. So DE is indeed parallel to BC. "}),i.jsx("h3",{children:"Applications of Thales' Theorem"}),i.jsx("p",{children:"The Thales theorem has many important applications:"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Similar Triangles"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If a line parallel to one side creates a smaller triangle, that triangle is similar to the original with proportional sides."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Dividing Segments"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"To divide a segment in a given ratio, construct parallel lines using the Thales theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"The Midpoint Theorem"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"The line joining the midpoints of two sides is parallel to the third side and half its length."})]})]}),i.jsx("h3",{children:"The Midpoint Theorem"}),i.jsx("p",{children:"A special case of the Thales theorem is particularly useful:"}),i.jsx(ue,{title:"Midpoint Theorem",children:i.jsx("p",{children:"The segment joining the midpoints of two sides of a triangle is parallel to the third side and equal to half of it."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," If D and E are midpoints of AB and AC respectively, then AD/DB = AE/EC = 1. By the converse of Thales' theorem, DE  BC."]}),i.jsx("p",{children:"For the length, note that triangles ADE and ABC are similar with ratio 1:2 (since AD = AB and AE = AC). Therefore DE = BC. "}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"})," Thales of Miletus (c. 624-546 BCE) is often considered the first mathematician in the Greek tradition. While the theorem bears his name, the rigorous proof we've seen here was formalized by Euclid."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.6.1"}),i.jsx("p",{className:"text-slate-300",children:"In triangle ABC, D is on AB such that AD = 2DB, and E is on AC such that DE  BC. Find the ratio AE:EC."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the medians of a triangle are concurrent (meet at a single point) using the Thales theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Use Thales' theorem to construct a line segment that is  the length of a given segment."})]}),i.jsx(BZ,{className:"my-6"}),i.jsx(Re,{sectionId:11,questions:$e[11]||[],title:"Proof of the Thales Theorem Quiz"})]})}function UZ(){return i.jsxs(qe,{sectionId:12,children:[i.jsx("h2",{children:"Angles in a Circle"}),i.jsxs("p",{children:["One of the most beautiful results in Euclidean geometry concerns the angles formed by points on a circle. The ",i.jsx("strong",{children:"inscribed angle theorem"})," shows that these angles have a remarkable invariance property."]}),i.jsx("h3",{children:"Central and Inscribed Angles"}),i.jsx(xe,{title:"Central Angle",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"central angle"}),' is an angle whose vertex is at the center of the circle. It "subtends" an arc of the circle.']})}),i.jsx(xe,{title:"Inscribed Angle",children:i.jsxs("p",{children:["An ",i.jsx("strong",{children:"inscribed angle"})," is an angle whose vertex lies on the circle and whose sides are chords of the circle."]})}),i.jsx("h3",{children:"The Inscribed Angle Theorem"}),i.jsxs(ue,{title:"Inscribed Angle Theorem (Euclid III.20)",children:[i.jsx("p",{children:"An inscribed angle is half the central angle that subtends the same arc."}),i.jsx("p",{className:"mt-2",children:"Equivalently: All inscribed angles subtending the same arc are equal."})]}),i.jsx("p",{children:i.jsx("strong",{children:"Proof (Case 1: Center lies on one side)"})}),i.jsx("p",{children:"Consider an inscribed angle BAC where the center O lies on one of the sides, say AC. Draw the radius OB."}),i.jsx("p",{children:"Since OA = OB (both radii), triangle OAB is isosceles. Therefore OAB = OBA =  (say)."}),i.jsx("p",{children:"The central angle BOC is an exterior angle of triangle OAB, so:"}),i.jsx(Y,{children:"\\angle BOC = \\angle OAB + \\angle OBA = \\alpha + \\alpha = 2\\alpha"}),i.jsx("p",{children:"Thus the inscribed angle  is half the central angle. "}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"General Case:"})," When the center doesn't lie on either side of the inscribed angle, we draw a diameter through the vertex and apply the result to each half separately."]}),i.jsx("h3",{children:"Corollary: Angles on the Same Arc"}),i.jsx(ue,{title:"Equal Inscribed Angles",children:i.jsx("p",{children:"All inscribed angles subtending the same arc are equal."})}),i.jsx("p",{children:"This follows immediately because each inscribed angle is half of the same central angle."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Visualization"}),i.jsx("p",{className:"text-slate-300",children:"Imagine fixing two points A and B on a circle. As a third point C moves along the arc on one side of AB, the angle ACB remains constant! This invariance is the key geometric insight."})]}),i.jsx("h3",{children:"Thales' Circle Theorem"}),i.jsx("p",{children:"A special case of enormous importance occurs when the inscribed angle subtends a diameter:"}),i.jsxs(ue,{title:"Thales' Circle Theorem (Euclid III.31)",children:[i.jsx("p",{children:"An angle inscribed in a semicircle is a right angle."}),i.jsx(Y,{children:"\\text{If } AB \\text{ is a diameter and } C \\text{ is on the circle, then } \\angle ACB = 90"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," The central angle subtending a diameter is 180 (a straight line through the center). By the inscribed angle theorem, the inscribed angle is half of 180, which is 90. "]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"}),` This theorem is attributed to Thales of Miletus and is sometimes called "Thales' theorem" (distinct from the proportionality theorem we proved earlier). Legend says Thales sacrificed an ox to the gods in gratitude for this discovery!`]}),i.jsx("h3",{children:"The Converse"}),i.jsx("p",{children:"The converse of Thales' circle theorem is equally important:"}),i.jsx(ue,{title:"Converse of Thales' Circle Theorem",children:i.jsx("p",{children:"If ACB = 90, then C lies on the circle with diameter AB."})}),i.jsx("p",{children:"This means the locus of points from which a segment AB subtends a right angle is exactly the circle with AB as diameter."}),i.jsx("h3",{children:"Applications"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Constructing Right Angles"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Given a point P and a line L, we can construct a perpendicular from P to L by using a semicircle."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Finding Circle Centers"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If we have three points on a circle, we can find the center by constructing perpendicular bisectors."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Square Root Construction"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Thales' theorem provides a method to construct the geometric mean (and hence square roots), which we'll see in the next section."})]})]}),i.jsx("h3",{children:"Cyclic Quadrilaterals"}),i.jsxs("p",{children:["A quadrilateral whose vertices all lie on a circle is called",i.jsx("strong",{children:"cyclic"}),". The inscribed angle theorem gives us:"]}),i.jsxs(ue,{title:"Cyclic Quadrilateral Theorem",children:[i.jsx("p",{children:"In a cyclic quadrilateral, opposite angles sum to 180."}),i.jsx(Y,{children:"\\alpha + \\gamma = 180 \\quad \\text{and} \\quad \\beta + \\delta = 180"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," The opposite angles subtend arcs that together form the entire circle. Since the full circle corresponds to a central angle of 360, the sum of the two inscribed angles is 180. "]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that a parallelogram inscribed in a circle must be a rectangle."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Given a circle and a point P outside it, construct the tangent lines from P to the circle using only the properties proved in this section."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that if a quadrilateral has opposite angles summing to 180, then it is cyclic."})]}),i.jsx(WA,{className:"my-6"}),i.jsx(Re,{sectionId:12,questions:$e[12]||[],title:"Angles in a Circle Quiz"})]})}function HZ(){return i.jsxs(qe,{sectionId:13,children:[i.jsx("h2",{children:"The Pythagorean Theorem Revisited"}),i.jsx("p",{children:"Having developed the theory of similar triangles, we can now give a different proof of the Pythagorean theoremone that many consider more elegant than Euclid's original proof. This approach also leads directly to a fundamental construction: the square root."}),i.jsx("h3",{children:"Similar Triangles in a Right Triangle"}),i.jsx("p",{children:"Consider a right triangle ABC with the right angle at C. Drop the altitude from C to the hypotenuse AB, meeting it at point H."}),i.jsxs(ue,{title:"Altitude Creates Similar Triangles",children:[i.jsx("p",{children:"The altitude from the right angle to the hypotenuse divides the right triangle into two smaller triangles, each similar to the original and to each other."}),i.jsx(Y,{children:"\\triangle ACH \\sim \\triangle ABC \\sim \\triangle CBH"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," In triangle ACH:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"AHC = 90 (by construction)"}),i.jsx("li",{children:"A is shared with triangle ABC"}),i.jsx("li",{children:"Therefore ACH = B (angle sum)"})]}),i.jsx("p",{children:"So triangle ACH has the same angles as triangle ABC, making them similar. The same argument applies to triangle CBH. "}),i.jsx("h3",{children:"Proof of Pythagorean Theorem via Similar Triangles"}),i.jsx("p",{children:"From the similarity ACH  ABC, we get the proportion:"}),i.jsx(Y,{children:"\\frac{AC}{AB} = \\frac{AH}{AC}"}),i.jsx("p",{children:"Cross-multiplying: AC = AB  AH, or b = c  AH."}),i.jsx("p",{children:"From CBH  ABC:"}),i.jsx(Y,{children:"\\frac{BC}{AB} = \\frac{BH}{BC}"}),i.jsx("p",{children:"Cross-multiplying: BC = AB  BH, or a = c  BH."}),i.jsx("p",{children:i.jsx("strong",{children:"Adding these equations:"})}),i.jsx(Y,{children:"a^2 + b^2 = c \\cdot BH + c \\cdot AH = c(AH + BH) = c \\cdot c = c^2"}),i.jsx("p",{children:"This completes the proof. "}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Comparison with Euclid's Proof:"})," While Euclid's proof uses area-shearing arguments, this proof uses the theory of similar triangles and proportions. Both are valid, but the similar triangles proof is often considered more intuitive."]}),i.jsx("h3",{children:"The Geometric Mean"}),i.jsx("p",{children:"The altitude construction reveals another important relationship:"}),i.jsxs(ue,{title:"Altitude as Geometric Mean",children:[i.jsx("p",{children:"The altitude to the hypotenuse is the geometric mean of the two segments it creates."}),i.jsx(Y,{children:"CH^2 = AH \\cdot HB"}),i.jsx("p",{className:"mt-2",children:"Equivalently: CH = (AH  HB)"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," From the similarity ACH  CBH:"]}),i.jsx(Y,{children:"\\frac{AH}{CH} = \\frac{CH}{HB}"}),i.jsx("p",{children:"Cross-multiplying gives CH = AH  HB. "}),i.jsx("h3",{children:"Constructing Square Roots"}),i.jsx("p",{children:"This geometric mean relationship gives us a powerful construction:"}),i.jsxs(xe,{title:"Square Root Construction",children:[i.jsx("p",{children:"To construct a using straightedge and compass:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"Draw a line segment of length a + 1"}),i.jsx("li",{children:"Mark the point dividing it into lengths a and 1"}),i.jsx("li",{children:"Draw a semicircle with this segment as diameter"}),i.jsx("li",{children:"Draw a perpendicular at the dividing point"}),i.jsx("li",{children:"The perpendicular meets the semicircle at height a"})]})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Why it works:"})," By Thales' theorem, the triangle formed has a right angle at the top of the perpendicular. By the geometric mean theorem, the height h satisfies h = a  1 = a, so h = a."]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Significance:"})," This construction shows that square roots of integers are constructible with straightedge and compass. This is the key to understanding which lengths can be constructed and which cannot."]}),i.jsx("h3",{children:"The Regular Pentagon Revisited"}),i.jsx("p",{children:"With the square root construction, we can now understand why the regular pentagon is constructible. Recall from Chapter 1 that constructing a pentagon requires the golden ratio  = (1 + 5)/2."}),i.jsx("p",{children:"Since 5 is constructible (take a = 5 in our construction), and we can add 1 and divide by 2, the golden ratio  is constructible. Therefore the regular pentagon is constructible. "}),i.jsx("h3",{children:"Constructible Numbers"}),i.jsxs("p",{children:["A number is ",i.jsx("strong",{children:"constructible"})," if a segment of that length can be created starting from a unit segment using only straightedge and compass."]}),i.jsxs(ue,{title:"Constructible Numbers Form a Field",children:[i.jsx("p",{children:"If a and b are constructible, then so are:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[i.jsx("li",{children:"a + b and a - b (addition and subtraction)"}),i.jsx("li",{children:"a  b and a/b (multiplication and division)"}),i.jsx("li",{children:"a (if a > 0)"})]})]}),i.jsx("p",{children:"We've seen constructions for all of these operations:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Addition/Subtraction:"})," Copying segments along a line"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Multiplication:"})," Using similar triangles (Thales)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Division:"})," Using similar triangles (inverse of multiplication)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Square root:"})," The semicircle construction above"]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.1"}),i.jsx("p",{className:"text-slate-300",children:"Construct 3 using straightedge and compass. Verify your construction by measuring."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.2"}),i.jsx("p",{className:"text-slate-300",children:"Show how to construct a segment of length (a + b) given segments of lengths a and b."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that if a is constructible, then so is a (the fourth root). Hint: Apply the square root construction twice."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Using the fact that  =  + 1, show that 1/ =  - 1 and construct a segment of length 1/."})]}),i.jsx(WA,{className:"my-6"}),i.jsx(Re,{sectionId:13,questions:$e[13]||[],title:"Pythagorean Theorem Revisited Quiz"})]})}function VZ(){return i.jsxs(qe,{sectionId:14,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"Having explored Euclid's axiomatic approach to geometry, it's worth reflecting on the foundations of his system and how our understanding of axiomatics has evolved over the past two millennia."}),i.jsx("h3",{children:"Gaps in Euclid"}),i.jsxs("p",{children:["While Euclid's ",i.jsx("em",{children:"Elements"})," was the gold standard of mathematical rigor for over 2000 years, modern mathematicians have identified some logical gaps. Euclid sometimes assumes properties that aren't stated in his axioms, such as:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"That lines and circles actually intersect when they appear to"}),i.jsx("li",{children:'The concept of "betweenness" (when is a point between two others?)'}),i.jsx("li",{children:"The continuity of geometric objects"})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Example:"}),' In the very first proposition (constructing an equilateral triangle), Euclid draws two circles and claims they intersect. But this requires an axiom about continuitythe circles might "pass through" each other without meeting!']}),i.jsx("h3",{children:"Hilbert's Axioms"}),i.jsxs("p",{children:["In 1899, David Hilbert published ",i.jsx("em",{children:"Foundations of Geometry"}),", which gave a complete and rigorous axiom system for Euclidean geometry. Hilbert's system has 20 axioms organized into five groups:"]}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"I. Incidence Axioms (8 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:'These govern the relationships between points, lines, and planes. For example: "Two distinct points determine a unique line."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"II. Order Axioms (4 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:'These formalize "betweenness"when a point lies between two others. This concept was used implicitly by Euclid but never defined.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"III. Congruence Axioms (5 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"These include the SAS axiom and related properties of congruence for segments and angles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-pink-500",children:[i.jsx("h4",{className:"font-semibold text-pink-400",children:"IV. Parallel Axiom (1 axiom)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Playfair's axiom: Given a line and a point not on it, there exists exactly one parallel through that point."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-purple-500",children:[i.jsx("h4",{className:"font-semibold text-purple-400",children:"V. Continuity Axioms (2 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:'These include the Archimedean axiom (no segment is infinitely large or small) and a completeness axiom ensuring no "gaps."'})]})]}),i.jsx("h3",{children:"The Parallel Axiom and Non-Euclidean Geometry"}),i.jsx("p",{children:"For centuries, mathematicians tried to prove the parallel axiom from the other axioms, believing it was a theorem rather than an axiom. All such attempts failed."}),i.jsxs("p",{children:["In the 19th century, Gauss, Bolyai, and Lobachevsky independently discovered that the parallel axiom is ",i.jsx("em",{children:"independent"}),"it cannot be proved from the other axioms. This led to:"]}),i.jsx(xe,{title:"Non-Euclidean Geometries",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hyperbolic geometry:"})," Given a line and a point, there are ",i.jsx("em",{children:"infinitely many"})," parallels through the point. The angle sum of a triangle is less than 180."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Spherical geometry:"})," There are ",i.jsx("em",{children:"no"})," parallel lines (all great circles intersect). The angle sum of a triangle is greater than 180."]})]})}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Physical Implications:"})," Einstein's general relativity shows that the geometry of spacetime is actually non-Euclidean! The presence of mass causes space to curve, making hyperbolic or spherical geometry more accurate descriptions of the universe than Euclidean geometry."]}),i.jsx("h3",{children:"The Axiomatic Method"}),i.jsx("p",{children:"Hilbert's work established the modern axiomatic method:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Undefined terms (point, line, plane) that get meaning from the axioms"}),i.jsx("li",{children:"Axioms that describe relationships between undefined terms"}),i.jsx("li",{children:"Theorems that follow logically from the axioms"}),i.jsx("li",{children:"Questions of consistency and independence"})]}),i.jsxs(ue,{title:"Hilbert's Philosophy",children:[i.jsx("p",{children:'"One must be able to say at all timesinstead of points, lines, and planestables, chairs, and beer mugs."'}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:" David Hilbert"})]}),i.jsx("p",{children:"This quote captures the essence of formal axiomatics: the meaning of geometric terms comes entirely from how they relate to each other through the axioms, not from our intuitive notions."}),i.jsx("h3",{children:"Looking Ahead"}),i.jsx("p",{children:"In the chapters that follow, we will explore three more approaches to geometry:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Coordinates (Chapter 3):"})," Using algebra to describe geometry, leading to analytic geometry."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Vectors (Chapter 4):"})," A hybrid of algebra and geometry with powerful applications."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective geometry (Chapter 5):"})," The geometry of perspective and projection."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Transformations (Chapter 7-8):"})," Understanding geometry through symmetry and groups."]})]}),i.jsx("p",{children:"Each approach offers different insights and techniques, but they all describe the same underlying geometric reality. Understanding how these perspectives connect is one of the great achievements of modern mathematics."}),i.jsx("h3",{children:"Recommended Reading"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:["Hilbert, D. ",i.jsx("em",{children:"Foundations of Geometry"})," (1899)"]}),i.jsxs("li",{children:["Hartshorne, R. ",i.jsx("em",{children:"Geometry: Euclid and Beyond"})," (2000)"]}),i.jsxs("li",{children:["Greenberg, M. ",i.jsx("em",{children:"Euclidean and Non-Euclidean Geometries"})," (2008)"]}),i.jsxs("li",{children:["Heath's translation of Euclid's ",i.jsx("em",{children:"Elements"})," with commentary"]})]})}),i.jsx(Re,{sectionId:14,questions:$e[14]||[],title:"Chapter 2 Discussion Quiz"})]})}function GZ(){return i.jsxs(qe,{sectionId:15,children:[i.jsx("h2",{children:"The Number Line and the Number Plane"}),i.jsxs("p",{children:["Around 1630, Pierre de Fermat and Ren Descartes independently discovered the advantages of using numbers in geometry as ",i.jsx("strong",{children:"coordinates"}),". Descartes was the first to publish a detailed account in his book",i.jsx("em",{children:" Gomtrie"})," of 1637. For this reason, the coordinate approach to geometry became known as ",i.jsx("strong",{children:"Cartesian"})," (from the old way of writing his name: Des Cartes)."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"}),' Descartes initially thought that geometry was as Euclid described it, and that numbers merely assist in studying geometric figures. But later mathematicians discovered objects with "non-Euclidean" properties, making it desirable to ',i.jsx("em",{children:"define"})," points, lines, and length, and to ",i.jsx("em",{children:"prove"})," that they satisfy Euclid's axioms."]}),i.jsx("h3",{children:"The Number Line"}),i.jsxs("p",{children:["The set  of real numbers results from filling the gaps in the set  of rational numbers with irrational numbers, such as 2. This innovation enables us to consider  as a ",i.jsx("strong",{children:"line"}),", because it has no gaps and the numbers in it are ordered just as we imagine points on a line to be."]}),i.jsx(xe,{title:"The Number Line",children:i.jsxs("p",{children:["We say that , together with its ordering, is a ",i.jsx("strong",{children:"model"}),` of the line. One of our goals is to use  to build a model for all of Euclidean plane geometry: a structure containing "lines," "circles," "line segments," and so on, with all of the properties required by Euclid's or Hilbert's axioms.`]})}),i.jsx("h3",{children:"Building the Number Plane"}),i.jsxs("p",{children:[`The first step is to build the "plane," and in this we are guided by the properties of parallels in Euclid's geometry. We imagine a pair of perpendicular lines, called the `,i.jsx("strong",{children:"x-axis"})," and the",i.jsx("strong",{children:" y-axis"}),", intersecting at a point O called the",i.jsx("strong",{children:" origin"}),"."]}),i.jsx("p",{children:"We interpret the axes as number lines, with O the number 0 on each, and we assume that:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["The positive direction on the x-axis is to the ",i.jsx("strong",{children:"right"})]}),i.jsxs("li",{children:["The positive direction on the y-axis is ",i.jsx("strong",{children:"upward"})]})]}),i.jsx("h3",{children:"Coordinates of a Point"}),i.jsxs("p",{children:["Through any point P, there is (by the parallel axiom) a unique line parallel to the y-axis and a unique line parallel to the x-axis. These two lines meet the x-axis and y-axis at numbers ",i.jsx("em",{children:"a"})," and ",i.jsx("em",{children:"b"})," called the ",i.jsx("strong",{children:"x-coordinate"})," and ",i.jsx("strong",{children:"y-coordinate"})," of P, respectively."]}),i.jsxs(xe,{title:"Ordered Pairs",children:[i.jsxs("p",{children:["To keep the x-coordinate ",i.jsx("em",{children:"a"})," and the y-coordinate ",i.jsx("em",{children:"b"})," in their places, we use the ",i.jsx("strong",{children:"ordered pair"})," (a, b). For example:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"(3, 4) is the point with x-coordinate = 3 and y-coordinate = 4"}),i.jsxs("li",{children:["(4, 3) is a ",i.jsx("em",{children:"different"})," point with x-coordinate = 4 and y-coordinate = 3"]})]}),i.jsx("p",{className:"mt-2",children:"Just as the intersection of 3rd Street and 4th Avenue is different from the intersection of 4th Street and 3rd Avenue!"})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Uniqueness:"})," The ordered pair (a, b) specifies P uniquely because any other point will have at least one different parallel passing through it and hence will differ from P in either the x- or y-coordinate."]}),i.jsx("h3",{children:"The Number Plane "}),i.jsxs("p",{children:["Given the existence of a number line  whose points are real numbers, we also have a ",i.jsx("strong",{children:"number plane"})," whose points are ordered pairs of real numbers."]}),i.jsxs(xe,{title:"The Cartesian Plane",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"Cartesian plane"})," (or ",i.jsx("strong",{children:"number plane"}),") is the set of all ordered pairs of real numbers:"]}),i.jsx(Y,{children:"\\mathbb{R}^2 = \\{(x, y) : x, y \\in \\mathbb{R}\\}"}),i.jsx("p",{className:"mt-2",children:"We often write this as    or simply ."})]}),i.jsx("h3",{children:"The Power of Coordinates"}),i.jsxs("p",{children:["This program of building geometry from numbers is called the",i.jsx("strong",{children:" arithmetization of geometry"}),". It accomplishes much:"]}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Algebraic Description"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["It gives an algebraic description of constructibility by straightedge and compass, which makes it possible to prove that certain figures are ",i.jsx("em",{children:"not"})," constructible."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Motion and Transformations"}),i.jsx("p",{className:"text-slate-300 mt-2",children:`It enables us to define what it means to "move" a geometric figure, which provides justification for Euclid's proof of SAS and raises a new kind of geometric question: What kinds of "motion" exist?`})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Access to Algebra"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"One clear advantage is access to algebra, which reduces many geometric problems to simple calculations. Algebra also offers some conceptual advantages, as we will see."})]})]}),i.jsx(ue,{title:"The Foundation",children:i.jsxs("p",{children:["By defining points, lines, and circles using real numbers and equations, we can ",i.jsx("em",{children:"prove"})," that all of Euclid's axioms are satisfied. This shows that geometry follows from properties of the real numbers."]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Plot the following points on the coordinate plane: (2, 3), (-1, 4), (0, -2), and (-3, -1). In which quadrant does each point lie?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the point (a, b) is different from the point (b, a) when a  b. Give a specific example."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.1.3"}),i.jsx("p",{className:"text-slate-300",children:"What are the coordinates of the origin? What are the coordinates of a point on the positive x-axis? On the negative y-axis?"})]}),i.jsx(Re,{sectionId:15,questions:$e[15]||[],title:"Number Line and Plane Quiz"})]})}function WZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:1,y:2}),[r,a]=q.useState({x:4,y:6}),[l,o]=q.useState(!0),[c,h]=q.useState(!0),[u,m]=q.useState(null),p=480,b=400,E=40,y=60,T=b-60,S=(A,w)=>[y+A*E,T-w*E],N=(A,w)=>({x:(A-y)/E,y:(T-w)/E}),v=Math.sqrt((r.x-n.x)**2+(r.y-n.y)**2),f={x:(n.x+r.x)/2,y:(n.y+r.y)/2},x=r.x!==n.x?(r.y-n.y)/(r.x-n.x):1/0;q.useEffect(()=>{const A=e.current;if(!A)return;const w=A.getContext("2d");if(!w)return;w.fillStyle="#0f172a",w.fillRect(0,0,p,b),w.strokeStyle="#1e293b",w.lineWidth=1;for(let $=0;$<=10;$++){const[G]=S($,0);w.beginPath(),w.moveTo(G,20),w.lineTo(G,T+20),w.stroke()}for(let $=0;$<=8;$++){const[,G]=S(0,$);w.beginPath(),w.moveTo(y-20,G),w.lineTo(p-20,G),w.stroke()}w.strokeStyle="#64748b",w.lineWidth=2,w.beginPath(),w.moveTo(y-20,T),w.lineTo(p-20,T),w.stroke(),w.beginPath(),w.moveTo(y,T+20),w.lineTo(y,20),w.stroke(),w.fillStyle="#94a3b8",w.font="12px sans-serif";for(let $=1;$<=9;$++){const[G]=S($,0);w.fillText($.toString(),G-4,T+18)}for(let $=1;$<=7;$++){const[,G]=S(0,$);w.fillText($.toString(),y-18,G+4)}w.fillText("x",p-30,T+18),w.fillText("y",y-5,30);const[k,M]=S(n.x,n.y),[I,O]=S(r.x,r.y);if(l&&x!==1/0){w.strokeStyle="rgba(167, 139, 250, 0.5)",w.lineWidth=1;const $=n.y-x*n.x,[G,V]=S(0,$),[J,ee]=S(10,x*10+$);w.beginPath(),w.moveTo(G,V),w.lineTo(J,ee),w.stroke()}if(w.strokeStyle="#a78bfa",w.lineWidth=2,w.beginPath(),w.moveTo(k,M),w.lineTo(I,O),w.stroke(),w.strokeStyle="#22d3ee",w.lineWidth=1,w.setLineDash([5,5]),w.beginPath(),w.moveTo(k,M),w.lineTo(I,M),w.stroke(),w.strokeStyle="#f472b6",w.beginPath(),w.moveTo(I,M),w.lineTo(I,O),w.stroke(),w.setLineDash([]),w.font="11px sans-serif",w.fillStyle="#22d3ee",w.fillText(`run = ${(r.x-n.x).toFixed(1)}`,(k+I)/2-25,M+15),w.fillStyle="#f472b6",w.fillText(`rise = ${(r.y-n.y).toFixed(1)}`,I+5,(M+O)/2),c){const[$,G]=S(f.x,f.y);w.fillStyle="#fbbf24",w.beginPath(),w.arc($,G,6,0,Math.PI*2),w.fill(),w.fillStyle="#fbbf24",w.font="11px sans-serif",w.fillText("M",$+10,G-5)}w.fillStyle="#f472b6",w.beginPath(),w.arc(k,M,8,0,Math.PI*2),w.fill(),w.fillStyle="#fce7f3",w.font="bold 12px sans-serif",w.fillText("A",k-4,M+4),w.fillStyle="#22d3ee",w.beginPath(),w.arc(I,O,8,0,Math.PI*2),w.fill(),w.fillStyle="#cffafe",w.font="bold 12px sans-serif",w.fillText("B",I-4,O+4),w.fillStyle="#94a3b8",w.font="11px sans-serif",w.fillText("Drag points A and B",10,20)},[n,r,l,c,x,f]);const C=A=>{var V;const w=(V=e.current)==null?void 0:V.getBoundingClientRect();if(!w)return;const k=A.clientX-w.left,M=A.clientY-w.top,[I,O]=S(n.x,n.y),[$,G]=S(r.x,r.y);Math.hypot(k-I,M-O)<15?m(1):Math.hypot(k-$,M-G)<15&&m(2)},j=A=>{var O;if(!u)return;const w=(O=e.current)==null?void 0:O.getBoundingClientRect();if(!w)return;const k=A.clientX-w.left,M=A.clientY-w.top;let I=N(k,M);I.x=Math.round(I.x*2)/2,I.y=Math.round(I.y*2)/2,I.x=Math.max(0,Math.min(9,I.x)),I.y=Math.max(0,Math.min(7,I.y)),u===1?s(I):a(I)},g=()=>{m(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Coordinate Plane Explorer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:C,onMouseMove:j,onMouseUp:g,onMouseLeave:g})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-pink-400",children:"A:"}),i.jsxs("span",{className:"font-mono text-slate-200",children:["(",n.x.toFixed(1),", ",n.y.toFixed(1),")"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-cyan-400",children:"B:"}),i.jsxs("span",{className:"font-mono text-slate-200",children:["(",r.x.toFixed(1),", ",r.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsx("div",{className:"text-xs text-slate-400",children:"Slope (rise/run):"}),i.jsx("div",{className:"text-lg font-mono text-purple-400",children:x===1/0?" (vertical)":x.toFixed(3)}),i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Distance:"}),i.jsx("div",{className:"text-lg font-mono text-green-400",children:v.toFixed(3)}),c&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Midpoint M:"}),i.jsxs("div",{className:"text-sm font-mono text-yellow-400",children:["(",f.x.toFixed(1),", ",f.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:A=>o(A.target.checked),className:"rounded"}),"Show extended line"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:A=>h(A.target.checked),className:"rounded"}),"Show midpoint"]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsx("p",{className:"mb-1",children:i.jsx("strong",{children:"Distance formula:"})}),i.jsx("p",{className:"font-mono text-xs",children:"d = [(x) + (y)]"}),i.jsx("p",{className:"mt-2",children:i.jsx("strong",{children:"Slope formula:"})}),i.jsx("p",{className:"font-mono text-xs",children:"m = y/x = rise/run"})]})]})]})]})}function YZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("reflection"),[r,a]=q.useState(0),l=500,o=400,c=35,h=l/2,u=o/2,m=(y,T)=>[h+y*c,u-T*c],p=[{x:1,y:1},{x:3,y:1},{x:2,y:3}],b=y=>{switch(n){case"reflection":{const T=r,S=Math.cos(2*T),N=Math.sin(2*T);return{x:y.x*S+y.y*N,y:y.x*N-y.y*S}}case"rotation":{const T=Math.cos(r),S=Math.sin(r);return{x:y.x*T-y.y*S,y:y.x*S+y.y*T}}case"translation":return{x:y.x+r*2,y:y.y};case"glide":return{x:y.x+r*2,y:-y.y}}};q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,l,o),T.strokeStyle="#1e293b",T.lineWidth=1;for(let v=-7;v<=7;v++){const[f]=m(v,0);T.beginPath(),T.moveTo(f,0),T.lineTo(f,o),T.stroke()}for(let v=-5;v<=5;v++){const[,f]=m(0,v);T.beginPath(),T.moveTo(0,f),T.lineTo(l,f),T.stroke()}switch(T.strokeStyle="#475569",T.lineWidth=2,T.beginPath(),T.moveTo(0,u),T.lineTo(l,u),T.stroke(),T.beginPath(),T.moveTo(h,0),T.lineTo(h,o),T.stroke(),T.setLineDash([5,5]),T.lineWidth=1.5,n){case"reflection":{T.strokeStyle="#fbbf24";const v=200,[f,x]=m(-v/c*Math.cos(r),-v/c*Math.sin(r)),[C,j]=m(v/c*Math.cos(r),v/c*Math.sin(r));T.beginPath(),T.moveTo(f,x),T.lineTo(C,j),T.stroke();break}case"rotation":{T.strokeStyle="#fbbf24";const[v,f]=m(0,0);T.beginPath(),T.arc(v,f,50,0,-r,r>0),T.stroke(),T.fillStyle="#fbbf24",T.beginPath();const x=-r;T.arc(v+50*Math.cos(x),f+50*Math.sin(x),5,0,Math.PI*2),T.fill();break}case"translation":{T.strokeStyle="#fbbf24";const[v,f]=m(0,-4),[x,C]=m(r*2,-4);T.beginPath(),T.moveTo(v,f),T.lineTo(x,C),T.stroke(),r!==0&&(T.fillStyle="#fbbf24",T.beginPath(),T.arc(x,C,5,0,Math.PI*2),T.fill());break}case"glide":{T.strokeStyle="#fbbf24",T.beginPath(),T.moveTo(0,u),T.lineTo(l,u),T.stroke();const[v,f]=m(0,4),[x,C]=m(r*2,4);T.beginPath(),T.moveTo(v,f),T.lineTo(x,C),T.stroke();break}}T.setLineDash([]);const S=(v,f,x=.3)=>{const C=v.map(j=>m(j.x,j.y));T.fillStyle=f.replace(")",`, ${x})`).replace("rgb","rgba"),T.beginPath(),T.moveTo(C[0][0],C[0][1]);for(let j=1;j<C.length;j++)T.lineTo(C[j][0],C[j][1]);T.closePath(),T.fill(),T.strokeStyle=f,T.lineWidth=2,T.stroke(),C.forEach(([j,g],A)=>{T.fillStyle=f,T.beginPath(),T.arc(j,g,5,0,Math.PI*2),T.fill()})};S(p,"rgb(244, 114, 182)");const N=p.map(b);S(N,"rgb(34, 211, 238)"),T.fillStyle="#f472b6",T.font="12px sans-serif",T.fillText("Original",10,20),T.fillStyle="#22d3ee",T.fillText("Transformed",10,40),T.fillStyle="#fbbf24",T.fillText(n==="reflection"?"Reflection line":n==="rotation"?"Rotation":n==="translation"?"Translation vector":"Glide reflection",10,60)},[n,r]);const E=()=>{switch(n){case"reflection":return`Line angle: ${(r*180/Math.PI).toFixed(0)}`;case"rotation":return`Rotation: ${(r*180/Math.PI).toFixed(0)}`;case"translation":return`Translation: ${(r*2).toFixed(1)} units`;case"glide":return`Glide: ${(r*2).toFixed(1)} units`}};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Isometry Transformations"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:l,height:o,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Transform Type"}),i.jsxs("select",{value:n,onChange:y=>{s(y.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"reflection",children:"Reflection"}),i.jsx("option",{value:"rotation",children:"Rotation"}),i.jsx("option",{value:"translation",children:"Translation"}),i.jsx("option",{value:"glide",children:"Glide Reflection"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:E()}),i.jsx("input",{type:"range",min:n==="rotation"||n==="reflection"?-Math.PI:-2,max:n==="rotation"||n==="reflection"?Math.PI:2,step:"0.05",value:r,onChange:y=>a(parseFloat(y.target.value)),className:"w-full"})]}),i.jsx("button",{onClick:()=>a(0),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Isometry Properties"}),i.jsxs("ul",{className:"text-xs text-slate-300 space-y-1",children:[i.jsx("li",{children:" Preserves distances"}),i.jsx("li",{children:" Preserves angles"}),i.jsx("li",{children:n==="reflection"||n==="glide"?" Reverses orientation":" Preserves orientation"})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Original triangle"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Transformed"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Transform axis"]})]})]})]})]})}function XZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:100,y:250}),[r,a]=q.useState({x:300,y:100}),[l,o]=q.useState(null),[c,h]=q.useState(!1),[u,m]=q.useState(!1),p=500,b=400,E=N=>({x:(N.x-50)/40,y:(350-N.y)/40});q.useEffect(()=>{const N=e.current;if(!N)return;const v=N.getContext("2d");if(!v)return;v.fillStyle="#0f172a",v.fillRect(0,0,p,b),v.strokeStyle="#1e293b",v.lineWidth=1;for(let A=0;A<=10;A++){const w=50+A*40,k=350-A*40;v.beginPath(),v.moveTo(w,0),v.lineTo(w,b),v.stroke(),v.beginPath(),v.moveTo(0,k),v.lineTo(p,k),v.stroke()}v.strokeStyle="#475569",v.lineWidth=2,v.beginPath(),v.moveTo(50,0),v.lineTo(50,b),v.stroke(),v.beginPath(),v.moveTo(0,350),v.lineTo(p,350),v.stroke(),v.fillStyle="#94a3b8",v.font="12px sans-serif";for(let A=1;A<=10;A++)v.fillText(A.toString(),50+A*40-4,365),v.fillText(A.toString(),30,350-A*40+4);v.fillText("x",p-15,365),v.fillText("y",55,15);const f=E(n),x=E(r),C=x.x-f.x,j=x.y-f.y,g=Math.sqrt(C*C+j*j);if(c&&(v.strokeStyle="#34d399",v.lineWidth=2,v.setLineDash([5,5]),v.beginPath(),v.arc(n.x,n.y,g*40,0,Math.PI*2),v.stroke(),v.setLineDash([])),u){const A=(n.x+r.x)/2,w=(n.y+r.y)/2,k=-(r.y-n.y),M=r.x-n.x,I=Math.sqrt(k*k+M*M);v.strokeStyle="#c084fc",v.lineWidth=2,v.beginPath(),v.moveTo(A-k/I*300,w-M/I*300),v.lineTo(A+k/I*300,w+M/I*300),v.stroke(),v.fillStyle="#c084fc",v.beginPath(),v.arc(A,w,5,0,Math.PI*2),v.fill()}v.strokeStyle="#64748b",v.lineWidth=1,v.setLineDash([3,3]),v.beginPath(),v.moveTo(n.x,n.y),v.lineTo(r.x,n.y),v.lineTo(r.x,r.y),v.stroke(),v.setLineDash([]),v.fillStyle="#60a5fa",v.font="12px sans-serif",v.fillText(`x = ${C.toFixed(2)}`,(n.x+r.x)/2-25,n.y+20),v.fillStyle="#f472b6",v.fillText(`y = ${Math.abs(j).toFixed(2)}`,r.x+10,(n.y+r.y)/2),v.strokeStyle="#fbbf24",v.lineWidth=3,v.beginPath(),v.moveTo(n.x,n.y),v.lineTo(r.x,r.y),v.stroke(),v.fillStyle="#22d3ee",v.beginPath(),v.arc(n.x,n.y,8,0,Math.PI*2),v.fill(),v.fillStyle="#f472b6",v.beginPath(),v.arc(r.x,r.y,8,0,Math.PI*2),v.fill(),v.fillStyle="#e2e8f0",v.font="bold 14px sans-serif",v.fillText(`P(${f.x.toFixed(1)}, ${f.y.toFixed(1)})`,n.x-30,n.y+25),v.fillText(`P(${x.x.toFixed(1)}, ${x.y.toFixed(1)})`,r.x-30,r.y-15),v.fillStyle="#0f172a",v.fillRect(p-200,10,190,80),v.strokeStyle="#334155",v.strokeRect(p-200,10,190,80),v.fillStyle="#fbbf24",v.font="bold 13px sans-serif",v.fillText("Distance Formula:",p-190,30),v.fillStyle="#e2e8f0",v.font="12px sans-serif",v.fillText("d = ((x) + (y))",p-190,50),v.fillText(`d = (${C.toFixed(2)} + ${j.toFixed(2)})`,p-190,68),v.fillStyle="#34d399",v.font="bold 14px sans-serif",v.fillText(`d = ${g.toFixed(3)}`,p-190,86),v.fillStyle="#94a3b8",v.font="11px sans-serif",v.fillText("Drag points to explore distance",10,b-10)},[n,r,c,u]);const y=N=>{var C;const v=(C=e.current)==null?void 0:C.getBoundingClientRect();if(!v)return;const f=N.clientX-v.left,x=N.clientY-v.top;Math.hypot(f-n.x,x-n.y)<15?o("p1"):Math.hypot(f-r.x,x-r.y)<15&&o("p2")},T=N=>{var C;if(!l)return;const v=(C=e.current)==null?void 0:C.getBoundingClientRect();if(!v)return;const f=Math.max(50,Math.min(p-10,N.clientX-v.left)),x=Math.max(10,Math.min(350,N.clientY-v.top));l==="p1"?s({x:f,y:x}):a({x:f,y:x})},S=()=>{o(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Distance Formula Explorer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:y,onMouseMove:T,onMouseUp:S,onMouseLeave:S})}),i.jsxs("div",{className:"w-full md:w-48 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Pythagorean Theorem"}),i.jsx("p",{className:"text-xs text-slate-300",children:"Distance = (x + y)"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"The hypotenuse of the right triangle formed by horizontal and vertical displacements."})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:N=>h(N.target.checked),className:"rounded"}),"Show circle (radius = d)"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:N=>m(N.target.checked),className:"rounded"}),"Show perpendicular bisector"]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Point P"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Point P"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Distance"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Circle"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Bisector"]})]})]})]})]})}function ZZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("translation"),[r,a]=q.useState(2),[l,o]=q.useState(1),[c,h]=q.useState(45),[u,m]=q.useState(!0),p=500,b=400,E=250,y=200,T=30,S=[{x:-2,y:0},{x:0,y:3},{x:1,y:0}],N=f=>({x:E+f.x*T,y:y-f.y*T}),v=f=>{switch(n){case"translation":return{x:f.x+r,y:f.y+l};case"rotation":{const x=c*Math.PI/180,C=Math.cos(x),j=Math.sin(x);return{x:f.x*C-f.y*j,y:f.x*j+f.y*C}}case"reflection":return{x:f.x,y:-f.y};case"glide":return{x:f.x+r,y:-f.y};default:return f}};return q.useEffect(()=>{const f=e.current;if(!f)return;const x=f.getContext("2d");if(!x)return;x.fillStyle="#0f172a",x.fillRect(0,0,p,b),x.strokeStyle="#1e293b",x.lineWidth=1;for(let w=-8;w<=8;w++){const k=E+w*T,M=y-w*T;x.beginPath(),x.moveTo(k,0),x.lineTo(k,b),x.stroke(),x.beginPath(),x.moveTo(0,M),x.lineTo(p,M),x.stroke()}if(x.strokeStyle="#475569",x.lineWidth=2,x.beginPath(),x.moveTo(E,0),x.lineTo(E,b),x.stroke(),x.beginPath(),x.moveTo(0,y),x.lineTo(p,y),x.stroke(),x.fillStyle="#94a3b8",x.beginPath(),x.arc(E,y,4,0,Math.PI*2),x.fill(),x.font="12px sans-serif",x.fillText("O",E+8,y+15),(n==="reflection"||n==="glide")&&(x.strokeStyle="#c084fc",x.lineWidth=2,x.setLineDash([5,5]),x.beginPath(),x.moveTo(0,y),x.lineTo(p,y),x.stroke(),x.setLineDash([]),x.fillStyle="#c084fc",x.font="11px sans-serif",x.fillText("reflection line (y = 0)",10,y-10)),u){x.strokeStyle="#60a5fa",x.fillStyle="rgba(96, 165, 250, 0.2)",x.lineWidth=2,x.beginPath();const w=N(S[0]);x.moveTo(w.x,w.y);for(let k=1;k<S.length;k++){const M=N(S[k]);x.lineTo(M.x,M.y)}x.closePath(),x.fill(),x.stroke(),S.forEach((k,M)=>{const I=N(k);x.fillStyle="#60a5fa",x.beginPath(),x.arc(I.x,I.y,4,0,Math.PI*2),x.fill(),x.fillStyle="#e2e8f0",x.font="11px sans-serif",x.fillText(String.fromCharCode(65+M),I.x+6,I.y-6)})}const C=S.map(v);x.strokeStyle="#f472b6",x.fillStyle="rgba(244, 114, 182, 0.2)",x.lineWidth=2,x.beginPath();const j=N(C[0]);x.moveTo(j.x,j.y);for(let w=1;w<C.length;w++){const k=N(C[w]);x.lineTo(k.x,k.y)}if(x.closePath(),x.fill(),x.stroke(),C.forEach((w,k)=>{const M=N(w);x.fillStyle="#f472b6",x.beginPath(),x.arc(M.x,M.y,4,0,Math.PI*2),x.fill(),x.fillStyle="#e2e8f0",x.font="11px sans-serif",x.fillText(String.fromCharCode(65+k)+"'",M.x+6,M.y-6)}),n==="rotation"&&(x.strokeStyle="#fbbf24",x.lineWidth=1,x.setLineDash([3,3]),x.beginPath(),x.arc(E,y,40,0,-c*Math.PI/180,!0),x.stroke(),x.setLineDash([]),x.fillStyle="#fbbf24",x.fillText(`${c}`,E+45,y-10)),n==="translation"||n==="glide"){x.strokeStyle="#34d399",x.lineWidth=2,x.beginPath(),x.moveTo(E,y),x.lineTo(E+r*T,n==="glide"?y:y-l*T),x.stroke();const w=E+r*T,k=n==="glide"?y:y-l*T,M=Math.atan2(y-k,w-E);x.beginPath(),x.moveTo(w,k),x.lineTo(w-10*Math.cos(M-.3),k+10*Math.sin(M-.3)),x.lineTo(w-10*Math.cos(M+.3),k+10*Math.sin(M+.3)),x.closePath(),x.fillStyle="#34d399",x.fill()}x.fillStyle="#0f172a",x.fillRect(10,10,180,45),x.strokeStyle="#334155",x.strokeRect(10,10,180,45),x.fillStyle="#f472b6",x.font="bold 14px sans-serif";const g={translation:"Translation",rotation:"Rotation",reflection:"Reflection",glide:"Glide Reflection"};x.fillText(g[n],20,30),x.fillStyle="#94a3b8",x.font="11px sans-serif";const A={translation:`(x, y)  (x + ${r}, y + ${l})`,rotation:"(x, y)  (x cos  - y sin , ...)",reflection:"(x, y)  (x, -y)",glide:`(x, y)  (x + ${r}, -y)`};x.fillText(A[n],20,48)},[n,r,l,c,u]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Isometries of the Plane"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm text-slate-300 font-medium",children:"Isometry Type:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["translation","rotation","reflection","glide"].map(f=>i.jsx("button",{onClick:()=>s(f),className:`px-2 py-1.5 text-xs rounded ${n===f?"bg-pink-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),(n==="translation"||n==="glide")&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Translation: (",r,", ",n==="glide"?0:l,")"]}),i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:r,onChange:f=>a(parseFloat(f.target.value)),className:"w-full"}),n==="translation"&&i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:l,onChange:f=>o(parseFloat(f.target.value)),className:"w-full"})]}),n==="rotation"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Angle: ",c,""]}),i.jsx("input",{type:"range",min:"0",max:"360",step:"15",value:c,onChange:f=>h(parseInt(f.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:f=>m(f.target.checked),className:"rounded"}),"Show original"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsxs("p",{className:"text-slate-300 mb-2",children:[i.jsx("strong",{className:"text-blue-400",children:"Isometries"})," preserve distances between points."]}),i.jsxs("ul",{className:"text-slate-400 space-y-1",children:[i.jsx("li",{children:" Translation: slides all points"}),i.jsx("li",{children:" Rotation: turns about a center"}),i.jsx("li",{children:" Reflection: flips across a line"}),i.jsx("li",{children:" Glide: reflect then translate"})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue:"})," Original ABC"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Image A'B'C'"]})]})]})]})]})}function QZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:180,y:200}),[r,a]=q.useState({x:320,y:220}),[l,o]=q.useState(100),[c,h]=q.useState(80),[u,m]=q.useState(null),p=550,b=400,E=q.useCallback(N=>{const v=e.current;if(!v)return{x:0,y:0};const f=v.getBoundingClientRect();return{x:N.clientX-f.left,y:N.clientY-f.top}},[]),y=q.useCallback(N=>{const v=E(N),f=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2),x=Math.sqrt((v.x-r.x)**2+(v.y-r.y)**2);f<20?m("c1"):x<20&&m("c2")},[E,n,r]),T=q.useCallback(N=>{if(!u)return;const v=E(N),f=Math.max(50,Math.min(p-50,v.x)),x=Math.max(50,Math.min(b-50,v.y));u==="c1"?s({x:f,y:x}):u==="c2"&&a({x:f,y:x})},[u,E]),S=q.useCallback(()=>{m(null)},[]);return q.useEffect(()=>{const N=e.current;if(!N)return;const v=N.getContext("2d");if(!v)return;v.fillStyle="#0f172a",v.fillRect(0,0,p,b),v.strokeStyle="#1e293b",v.lineWidth=1;for(let I=0;I<=p;I+=40)v.beginPath(),v.moveTo(I,0),v.lineTo(I,b),v.stroke();for(let I=0;I<=b;I+=40)v.beginPath(),v.moveTo(0,I),v.lineTo(p,I),v.stroke();const f=n,x=r,C=l,j=c,g=x.x-f.x,A=x.y-f.y,w=Math.sqrt(g*g+A*A);v.strokeStyle="#60a5fa",v.lineWidth=2,v.beginPath(),v.arc(f.x,f.y,C,0,Math.PI*2),v.stroke(),v.strokeStyle="#34d399",v.lineWidth=2,v.beginPath(),v.arc(x.x,x.y,j,0,Math.PI*2),v.stroke(),v.fillStyle="#60a5fa",v.beginPath(),v.arc(f.x,f.y,6,0,Math.PI*2),v.fill(),v.font="12px sans-serif",v.fillText("drag",f.x-12,f.y+20),v.fillStyle="#34d399",v.beginPath(),v.arc(x.x,x.y,6,0,Math.PI*2),v.fill(),v.fillText("drag",x.x-12,x.y+20);let k=[],M="";if(w>C+j)M="No intersection (circles too far apart)";else if(w<Math.abs(C-j))M="No intersection (one circle inside the other)";else{const I=(C*C-j*j+w*w)/(2*w),O=Math.sqrt(C*C-I*I),$=f.x+I*g/w,G=f.y+I*A/w,V={x:$+O*(-A/w),y:G+O*(g/w)},J={x:$-O*(-A/w),y:G-O*(g/w)};k=[V,J],Math.abs(O)<.1?M="Circles are tangent (1 intersection)":M="2 intersection points found";const ee=J.x-V.x,re=J.y-V.y,se=Math.sqrt(ee*ee+re*re);if(se>.1){const he=500/se;v.strokeStyle="#f472b6",v.lineWidth=2,v.setLineDash([6,4]),v.beginPath(),v.moveTo(V.x-ee*he,V.y-re*he),v.lineTo(V.x+ee*he,V.y+re*he),v.stroke(),v.setLineDash([]),v.fillStyle="#f472b6",v.font="12px sans-serif",v.fillText("Radical Axis",10,30)}k.forEach((he,ae)=>{v.fillStyle="#fbbf24",v.beginPath(),v.arc(he.x,he.y,6,0,Math.PI*2),v.fill(),v.font="italic 14px serif";const Ne=ae===0?"P":"P";v.fillText(Ne,he.x+10,he.y-10)})}v.strokeStyle="#94a3b8",v.lineWidth=1,v.setLineDash([4,4]),v.beginPath(),v.moveTo(f.x,f.y),v.lineTo(x.x,x.y),v.stroke(),v.setLineDash([]),v.fillStyle="#e2e8f0",v.font="14px sans-serif",v.fillText(M,10,b-20),v.font="11px sans-serif",v.fillStyle="#60a5fa",v.fillText(`Circle 1: (x${f.x.toFixed(0)}) + (y${f.y.toFixed(0)}) = ${C}`,10,b-70),v.fillStyle="#34d399",v.fillText(`Circle 2: (x${x.x.toFixed(0)}) + (y${x.y.toFixed(0)}) = ${j}`,10,b-50)},[n,r,l,c]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Circle Intersections"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:y,onMouseMove:T,onMouseUp:S,onMouseLeave:S})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Circle 1 Radius: ",l]}),i.jsx("input",{type:"range",min:"30",max:"150",value:l,onChange:N=>o(parseInt(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["Circle 2 Radius: ",c]}),i.jsx("input",{type:"range",min:"30",max:"150",value:c,onChange:N=>h(parseInt(N.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Key Insight:"})," The intersection points of two circles lie on the ",i.jsx("span",{className:"text-pink-400",children:"radical axis"}),"  a line perpendicular to the line joining the centers. This is found by subtracting the circle equations to eliminate x and y."]}),i.jsx("p",{className:"mt-2",children:"Drag the circle centers to explore different configurations!"})]})]})}function KZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(.5),[r,a]=q.useState(-2),[l,o]=q.useState(!0),c=550,h=400,u=c/2,m=h/2,p=40,b=n!==0?-1/n:1/0;return q.useEffect(()=>{const E=e.current;if(!E)return;const y=E.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,c,h),y.strokeStyle="#1e293b",y.lineWidth=1;for(let x=0;x<=c;x+=p)y.beginPath(),y.moveTo(x,0),y.lineTo(x,h),y.stroke();for(let x=0;x<=h;x+=p)y.beginPath(),y.moveTo(0,x),y.lineTo(c,x),y.stroke();y.strokeStyle="#475569",y.lineWidth=2,y.beginPath(),y.moveTo(0,m),y.lineTo(c,m),y.moveTo(u,0),y.lineTo(u,h),y.stroke();const T=(x,C,j)=>{if(y.strokeStyle=C,y.lineWidth=2,y.beginPath(),Math.abs(x)>100)y.moveTo(u,0),y.lineTo(u,h);else{const I=m-x*-u,O=m-x*(c-u);y.moveTo(0,I),y.lineTo(c,O)}y.stroke();const g=2*p,A=x*g,w=u+p,k=m-x*p;Math.abs(x)<5&&(y.strokeStyle=C,y.lineWidth=1,y.setLineDash([3,3]),y.beginPath(),y.moveTo(w,k),y.lineTo(w+g,k),y.stroke(),y.beginPath(),y.moveTo(w+g,k),y.lineTo(w+g,k-A),y.stroke(),y.setLineDash([]),y.font="11px sans-serif",y.fillStyle=C,y.fillText("run",w+g/2-10,k+15),y.fillText("rise",w+g+5,k-A/2));const M=Math.atan(x)*180/Math.PI;y.fillStyle=C,y.font="13px sans-serif",y.fillText(`${j}: slope = ${x.toFixed(2)},  = ${M.toFixed(1)}`,10,j==="L"?30:50)};T(n,"#60a5fa","L"),T(l?b:r,"#34d399","L");const S=l?b:r,N=n*S;if(Math.abs(N+1)<.1){const C=Math.sqrt(1+n*n),j=1/C,g=n/C,A=Math.abs(S)>100?1:Math.sqrt(1+S*S),w=Math.abs(S)>100?0:1/A,k=Math.abs(S)>100?1:S/A;y.strokeStyle="#fbbf24",y.lineWidth=2,y.beginPath(),y.moveTo(u+j*15*p/40,m-g*15*p/40),y.lineTo(u+j*15*p/40+w*15*p/40,m-g*15*p/40-k*15*p/40),y.lineTo(u+w*15*p/40,m-k*15*p/40),y.stroke()}y.fillStyle="#f472b6",y.beginPath(),y.arc(u,m,5,0,Math.PI*2),y.fill(),y.font="italic 14px serif",y.fillText("O",u+10,m+20),y.fillStyle="#e2e8f0",y.font="14px sans-serif";const v=n*S,f=Math.abs(v+1)<.1;y.fillText(`t  t = ${n.toFixed(2)}  ${S.toFixed(2)} = ${v.toFixed(2)}`,c-250,h-60),f?(y.fillStyle="#34d399",y.fillText(" 1    Perpendicular! ",c-250,h-40)):(y.fillStyle="#94a3b8",y.fillText(" 1    Not perpendicular",c-250,h-40))},[n,r,l,b]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Angle, Slope, and Perpendicularity"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Slope of L: ",n.toFixed(2)]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.1",value:n,onChange:E=>s(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-green-400 mb-1",children:l?`Perpendicular slope: ${b===1/0?"":b.toFixed(2)}`:`Slope of L: ${r.toFixed(2)}`}),!l&&i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.1",value:r,onChange:E=>a(parseFloat(E.target.value)),className:"w-full"})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("button",{onClick:()=>o(!l),className:`px-4 py-2 rounded transition ${l?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:l?"Show Perpendicular Line":"Free Line Mode"})}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Perpendicularity Condition:"})," Two lines with slopes t and t are perpendicular if and only if:"]}),i.jsx("p",{className:"text-center text-pink-400 font-mono text-lg my-2",children:"t  t = 1"}),i.jsx("p",{children:"The slope t = rise/run = tan(), where  is the angle the line makes with the x-axis. Perpendicular lines have angles differing by 90."})]})]})}function JZ(){return i.jsxs(qe,{sectionId:16,children:[i.jsx("h2",{children:"Lines and Their Equations"}),i.jsxs("p",{children:["One of the most important consequences of the parallel axiom is the Thales theorem and hence the proportionality of similar triangles. When coordinates are introduced, this allows us to define the property of straight lines known as ",i.jsx("strong",{children:"slope"}),"."]}),i.jsx("h3",{children:"The Concept of Slope"}),i.jsx("p",{children:'You know from high-school mathematics that slope is the quotient "rise over run" and, more importantly, that the value of the slope does not depend on which two points of the line define the rise and the run.'}),i.jsxs(xe,{title:"Slope",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"slope"})," of a line is the ratio of the vertical change (rise) to the horizontal change (run) between any two points on the line:"]}),i.jsx(Y,{children:"\\text{slope} = \\frac{\\text{rise}}{\\text{run}} = \\frac{y_2 - y_1}{x_2 - x_1}"})]}),i.jsx("h3",{children:"Why Slope is Constant"}),i.jsx("p",{children:"Consider two segments of the same line: AB with rise |BC| and run |AC|, and A'B' with rise |B'C'| and run |A'C'|. The angles at corresponding vertices are equal because parallel lines create equal angles."}),i.jsxs(ue,{title:"Constant Slope",children:[i.jsx("p",{children:"Triangles ABC and A'B'C' are similar (by AA similarity), and so their corresponding sides are proportional. In particular:"}),i.jsx(Y,{children:"\\frac{|BC|}{|AC|} = \\frac{|B'C'|}{|A'C'|}"}),i.jsx("p",{className:"mt-2",children:"That is, slope = constant for all points on the line."})]}),i.jsx("h3",{children:"The Equation of a Line"}),i.jsxs("p",{children:["Suppose we are given a line of slope ",i.jsx("em",{children:"a"})," that crosses the y-axis at the point Q where y = c. If P = (x, y) is any point on this line, then the rise from Q to P is y - c and the run is x. Hence:"]}),i.jsx(Y,{children:"\\text{slope} = a = \\frac{y - c}{x}"}),i.jsx("p",{children:"Multiplying both sides by x gives y - c = ax, that is:"}),i.jsx(Y,{children:"y = ax + c"}),i.jsxs(xe,{title:"Slope-Intercept Form",children:[i.jsxs("p",{children:["The equation ",i.jsx("strong",{children:"y = ax + c"})," is called the",i.jsx("strong",{children:" slope-intercept form"})," of a line, where:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"a"})," is the slope of the line"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"c"})," is the y-intercept (where the line crosses the y-axis)"]})]}),i.jsx("p",{className:"mt-2",children:"This equation is satisfied by all points on the line, and only by them."})]}),i.jsx("h3",{children:"Vertical Lines"}),i.jsxs("p",{children:["Almost all lines have equations of the slope-intercept form; the only exceptions are lines that do not cross the y-axis. These are the",i.jsx("strong",{children:" vertical lines"}),", which do not have a finite slope (we could say they have infinite slope)."]}),i.jsx("p",{children:"A vertical line has an equation of the form:"}),i.jsx(Y,{children:"x = c, \\quad \\text{for some constant } c"}),i.jsx("h3",{children:"General Form of a Line"}),i.jsx("p",{children:"Combining both cases, all lines have equations of the form:"}),i.jsx(Y,{children:"ax + by + c = 0, \\quad \\text{for some constants } a, b, \\text{ and } c"}),i.jsx(xe,{title:"Linear Equation",children:i.jsxs("p",{children:["An equation of the form ax + by + c = 0 is called a",i.jsx("strong",{children:" linear equation"})," in the variables x and y. The set of all points (x, y) satisfying this equation forms a line in ."]})}),i.jsx("h3",{children:"Two Key Axioms as Theorems"}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"A Change in Perspective:"})," Descartes viewed equations of lines as information deduced from Euclid's axioms (in particular, from the parallel axiom). But we can also take the opposite view: Equations",i.jsx("em",{children:" define"})," what lines are, and they provide a ",i.jsx("em",{children:"model"})," of Euclid's axiomsshowing that geometry follows from properties of real numbers."]}),i.jsxs("p",{children:["If a line is defined to be the set of points (x, y) in the number plane satisfying a linear equation, then we can ",i.jsx("em",{children:"prove"})," the following statements that Euclid took as axioms:"]}),i.jsxs(ue,{title:"Unique Line Through Two Points",children:[i.jsx("p",{children:"There is a unique line through any two distinct points."}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Given distinct points P = (x, y) and P = (x, y), any point P = (x, y) on the line through them satisfies:"}),i.jsx(Y,{children:"\\frac{y_2 - y_1}{x_2 - x_1} = \\frac{y - y_1}{x - x_1} \\quad \\text{(if } x_2 \\neq x_1\\text{)}"})]}),i.jsxs(ue,{title:"Parallel Axiom",children:[i.jsx("p",{children:"For any line L and point P outside L, there is a unique line through P not meeting L."}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"The parallel to L through P is the unique line through P with the same slope as L."})]}),i.jsx("h3",{children:"Parallel Lines"}),i.jsx("p",{children:"Parallel lines, not surprisingly, turn out to be lines with the same slope:"}),i.jsx(ue,{title:"Parallel Lines Have Equal Slopes",children:i.jsx("p",{children:"Distinct lines y = ax + c and y = a'x + c' have a common point unless they have the same slope (a = a'). Lines with the same slope are parallel."})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Given distinct points P = (x, y) and P = (x, y), show that any point P = (x, y) on the line through P and P satisfies the equation by equating slopes."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the equation of the line passing through (1, 2) and (3, 6)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.3"}),i.jsx("p",{className:"text-slate-300",children:"If a line L has equation y = 3x, what is the equation of the parallel to L through P = (2, 2)?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that distinct lines y = ax + c and y = a'x + c' have a common point unless they have the same slope. What happens when one line is vertical?"})]}),i.jsx(WZ,{className:"my-6"}),i.jsx(Re,{sectionId:16,questions:$e[16]||[],title:"Lines and Equations Quiz"})]})}function eQ(){return i.jsxs(qe,{sectionId:17,children:[i.jsx("h2",{children:"Distance"}),i.jsxs("p",{children:["Having established coordinates and equations for lines, we now turn to one of the most fundamental concepts in geometry: ",i.jsx("strong",{children:"distance"}),". The Pythagorean theorem gives us a way to calculate distance in the coordinate plane."]}),i.jsx("h3",{children:"The Distance Formula"}),i.jsx("p",{children:"The distance between two points in the plane can be found using the Pythagorean theorem. If we have points P = (x, y) and P = (x, y), we can form a right triangle where the horizontal leg has length |x - x| and the vertical leg has length |y - y|."}),i.jsxs(xe,{title:"Distance Formula",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"distance"})," between points P = (x, y) and P = (x, y) is:"]}),i.jsx(Y,{children:"|P_1P_2| = \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}"}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This follows directly from the Pythagorean theorem applied to the right triangle formed by the horizontal and vertical displacements."})]}),i.jsx("h3",{children:"The Equation of a Circle"}),i.jsxs("p",{children:["A circle is defined as the set of all points at a fixed distance (the",i.jsx("strong",{children:" radius"}),") from a fixed point (the ",i.jsx("strong",{children:"center"}),"). Using the distance formula, we can write the equation of a circle."]}),i.jsxs(xe,{title:"Equation of a Circle",children:[i.jsx("p",{children:"The circle with center (a, b) and radius r consists of all points (x, y) satisfying:"}),i.jsx(Y,{children:"(x - a)^2 + (y - b)^2 = r^2"}),i.jsx("p",{className:"mt-2",children:"This equation says that the distance from (x, y) to (a, b) equals r."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Special Case:"})," When the center is at the origin (0, 0), the equation simplifies to x + y = r. This is the simplest form of a circle equation."]}),i.jsx("h3",{children:"Equidistant Lines"}),i.jsx("p",{children:"An important application of the distance formula is finding the set of all points equidistant from two given points."}),i.jsxs(ue,{title:"Equidistant Line",children:[i.jsxs("p",{children:["The set of all points equidistant from two distinct points A and B forms a linethe ",i.jsx("strong",{children:"perpendicular bisector"})," of segment AB."]}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This line passes through the midpoint of AB and is perpendicular to AB."})]}),i.jsx("p",{children:"To prove this, suppose A = (a, a) and B = (b, b). A point P = (x, y) is equidistant from A and B when |PA| = |PB|, which means:"}),i.jsx(Y,{children:"(x - a_1)^2 + (y - a_2)^2 = (x - b_1)^2 + (y - b_2)^2"}),i.jsx("p",{children:"Expanding and simplifying gives a linear equationthe equation of a line!"}),i.jsx("h3",{children:"The Triangle Inequality"}),i.jsx("p",{children:"The triangle inequality states that any two sides of a triangle are together greater than the third side. In coordinate terms:"}),i.jsxs(ue,{title:"Triangle Inequality",children:[i.jsx("p",{children:"For any three points O, P, Q not on a line:"}),i.jsx(Y,{children:"|OP| + |PQ| > |OQ|"}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This inequality becomes an equality if and only if P lies on the line segment from O to Q."})]}),i.jsxs("p",{children:["To prove this algebraically, we can place the triangle with one vertex at O = (0, 0), another at P = (x, 0) with x ",">"," 0, and the third at Q = (x, y). Then:"]}),i.jsx(Y,{children:"|OP| = x_1, \\quad |PQ| = \\sqrt{(x_2 - x_1)^2 + y_2^2}, \\quad |OQ| = \\sqrt{x_2^2 + y_2^2}"}),i.jsxs("p",{children:["The triangle inequality |OP| + |PQ| ",">"," |OQ| can be verified by showing that (|OP| + |PQ|) ",">"," |OQ|."]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Application:"})," The triangle inequality tells us that the straight line is the shortest path between two points. Any detour through a third point (not on the line) increases the total distance."]}),i.jsx("h3",{children:"Three Points on a Circle"}),i.jsx("p",{children:"An elegant application of equidistant lines is the following theorem:"}),i.jsxs(ue,{title:"Circumscribed Circle",children:[i.jsx("p",{children:"Any three points not on a line lie on a unique circle."}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"The center of this circle is equidistant from all three points, so it lies on the intersection of the perpendicular bisectors of any two sides of the triangle formed by the points."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that any three points not in a line lie on a unique circle. (Hint: the center of the circle is equidistant from the three points.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.2"}),i.jsxs("p",{className:"text-slate-300",children:["Consider a triangle with vertices at O = (0, 0), P = (x, 0) with x ",">"," 0, and Q = (x, y). Verify the distance formulas for |OP|, |PQ|, and |OQ|."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that (|OP| + |PQ|) - |OQ| = 2x[((x - x) + y) - (x - x)]."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the term in square brackets in Exercise 3.3.3 is positive if y  0, and hence that the triangle inequality holds in this case."})]}),i.jsx(XZ,{className:"my-6"}),i.jsx(Re,{sectionId:17,questions:$e[17]||[],title:"Distance Quiz"})]})}function tQ(){return i.jsxs(qe,{sectionId:18,children:[i.jsx("h2",{children:"Intersections of Lines and Circles"}),i.jsx("p",{children:"Now that lines and circles are defined by equations, we can give exact algebraic equivalents of straightedge and compass operations. This connection reveals the deep relationship between geometry and algebra."}),i.jsx("h3",{children:"Algebraic Equivalents of Constructions"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Drawing a Line"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Drawing a line through given points (x, y) and (x, y) corresponds to finding the equation of the line. The slope between these points must equal the slope from any point (x, y) to (x, y):"}),i.jsx(Y,{children:"\\frac{y - y_1}{x - x_1} = \\frac{y_2 - y_1}{x_2 - x_1}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Drawing a Circle"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Drawing a circle with center (a, b) and radius r corresponds to finding the equation:"}),i.jsx(Y,{children:"(x - a)^2 + (y - b)^2 = r^2"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Finding Intersections"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Finding new points as intersections corresponds to solving systems of equations:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 text-slate-300",children:[i.jsx("li",{children:"A pair of line equations"}),i.jsx("li",{children:"A pair of circle equations"}),i.jsx("li",{children:"A line equation and a circle equation"})]})]})]}),i.jsx("h3",{children:"Intersection of Two Circles"}),i.jsx("p",{children:"Consider two circles with equations:"}),i.jsx(Y,{children:"(x - a_1)^2 + (y - b_1)^2 = r_1^2"}),i.jsx(Y,{children:"(x - a_2)^2 + (y - b_2)^2 = r_2^2"}),i.jsx("p",{children:"Expanding these equations and subtracting one from the other eliminates the x and y terms, leaving a linear equation:"}),i.jsx(Y,{children:"2(a_2 - a_1)x + 2(b_2 - b_1)y + r_2^2 - r_1^2 = 0"}),i.jsx(ue,{title:"Circle Intersection",children:i.jsxs("p",{children:["The intersection points of two circles lie on a line (called the",i.jsx("strong",{children:" radical axis"}),"). To find the actual intersection points, solve this linear equation along with either circle equation."]})}),i.jsx("h3",{children:"Solving the Equations"}),i.jsx("p",{children:"When we substitute the solution from the linear equation back into a circle equation, we get a quadratic equation. If this equation is of the form Ax + Bx + C = 0, then the solutions are:"}),i.jsx(Y,{children:"x = \\frac{-B \\pm \\sqrt{B^2 - 4AC}}{2A}"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Observation:"})," Solving linear equations requires only the operations +, , , and . The quadratic formula shows that  is the only additional operation needed to solve quadratic equations."]}),i.jsx("h3",{children:"The Algebraic Criterion for Constructibility"}),i.jsx("p",{children:"Since all intersection points in a straightedge and compass construction can be found with the operations +, , , , and , and these operations can all be carried out by straightedge and compass, we get:"}),i.jsx(xe,{title:"Algebraic Criterion for Constructibility",children:i.jsxs("p",{children:["A point is ",i.jsx("strong",{children:"constructible"})," (starting from the points 0 and 1) if and only if its coordinates are obtainable from the number 1 by the operations +, , , , and ."]})}),i.jsx("h3",{children:"Impossibility Results"}),i.jsxs("p",{children:["The algebraic criterion for constructibility, discovered by Descartes, enables us to prove that certain figures are ",i.jsx("em",{children:"not"})," constructible:"]}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h4",{className:"font-semibold text-red-400",children:"Doubling the Cube"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"The number 2 is not constructible because it cannot be expressed by a finite number of square roots."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h4",{className:"font-semibold text-red-400",children:"Trisecting an Angle"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"The angle /3 cannot be trisected because cos(/9) cannot be expressed by a finite number of square roots."})]})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"})," These impossibility results were not proved until the 19th century, by Pierre Wantzel. The proofs require sophisticated algebra that goes beyond Descartes' concept of constructibility to survey the totality of constructible numbers."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the intersections of the circles x + y = 1 and (x - 1) + (y - 2) = 4."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Check the plausibility of your answer to Exercise 3.4.1 by sketching the two circles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.4.3"}),i.jsx("p",{className:"text-slate-300",children:"The line x + 2y - 1 = 0 found by eliminating x and y from the equations of the circles should have some geometric meaning. What is it?"})]}),i.jsx(QZ,{className:"my-6"}),i.jsx(Re,{sectionId:18,questions:$e[18]||[],title:"Intersections Quiz"})]})}function nQ(){return i.jsxs(qe,{sectionId:19,children:[i.jsx("h2",{children:"Angle and Slope"}),i.jsxs("p",{children:["The concept of distance is easy to handle in coordinate geometry because the distance between points is an algebraic function of their coordinates. However, the concept of ",i.jsx("strong",{children:"angle"})," is more subtle."]}),i.jsx("h3",{children:"Distance vs. Angle"}),i.jsx("p",{children:"The distance between points (x, y) and (x, y) is:"}),i.jsx(Y,{children:"\\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}"}),i.jsxs("p",{children:["This is an ",i.jsx("em",{children:"algebraic function"})," of the coordinates. However, the angle  between a line y = tx and the x-axis is tan(t), and tan(t) is ",i.jsx("em",{children:"not"})," an algebraic function. Nor is tan , sin , or cos ."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Staying Algebraic:"})," To remain in the world of algebra, we work with the ",i.jsx("strong",{children:"slope"})," t rather than the angle . Lines make the same angle with the x-axis if they have the same slope."]}),i.jsx("h3",{children:"Relative Slope"}),i.jsxs("p",{children:["To test equality of angles in general, we need the concept of",i.jsx("strong",{children:" relative slope"}),"."]}),i.jsxs(xe,{title:"Relative Slope",children:[i.jsxs("p",{children:["If line L has slope t and line L has slope t, then the",i.jsx("strong",{children:" slope of L relative to L"})," is defined to be:"]}),i.jsx(Y,{children:"\\pm \\left| \\frac{t_1 - t_2}{1 + t_1 t_2} \\right|"})]}),i.jsx("p",{children:"This definition comes from the trigonometric identity:"}),i.jsx(Y,{children:"\\tan(\\theta_1 - \\theta_2) = \\frac{\\tan\\theta_1 - \\tan\\theta_2}{1 + \\tan\\theta_1 \\tan\\theta_2}"}),i.jsx("p",{children:"The  sign and absolute value arise because slopes t, t alone specify only a pair of lines and hence a pair of angles that add to a straight angle."}),i.jsx("h3",{children:"Perpendicular Lines"}),i.jsx("p",{children:"The most useful case of relative slope is when lines are perpendicular."}),i.jsxs(ue,{title:"Condition for Perpendicularity",children:[i.jsxs("p",{children:["Lines of slopes t and t are ",i.jsx("strong",{children:"perpendicular"})," if and only if:"]}),i.jsx(Y,{children:"t_1 \\cdot t_2 = -1"}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"In other words, the product of the slopes of perpendicular lines is -1."})]}),i.jsx("h3",{children:"Rotations in Coordinates"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"rotation about the origin O"})," can be described as a transformation r_","{c,s}"," of  depending on two real numbers c and s such that c + s = 1."]}),i.jsxs(xe,{title:"Rotation Transformation",children:[i.jsxs("p",{children:["The rotation r_","{c,s}"," sends the point (x, y) to the point:"]}),i.jsx(Y,{children:"(cx - sy, sx + cy)"}),i.jsx("p",{className:"mt-2",children:"Here c = cos  and s = sin , where  is the angle of rotation."})]}),i.jsx("h3",{children:"Addition Formulas from Rotations"}),i.jsxs("p",{children:["Composing two rotations leads to proofs of the trigonometric addition formulas. If r_","{c,s}"," and r_","{c,s}"," are rotations with:"]}),i.jsx(Y,{children:"c_1 = \\cos\\theta_1, \\quad s_1 = \\sin\\theta_1; \\quad c_2 = \\cos\\theta_2, \\quad s_2 = \\sin\\theta_2"}),i.jsx("p",{children:"Then composing these rotations yields:"}),i.jsxs(ue,{title:"Trigonometric Addition Formulas",children:[i.jsx(Y,{children:"\\cos(\\theta_1 + \\theta_2) = \\cos\\theta_1 \\cos\\theta_2 - \\sin\\theta_1 \\sin\\theta_2"}),i.jsx(Y,{children:"\\sin(\\theta_1 + \\theta_2) = \\sin\\theta_1 \\cos\\theta_2 + \\cos\\theta_1 \\sin\\theta_2"})]}),i.jsx("p",{children:"From these, we can derive:"}),i.jsx(Y,{children:"\\tan(\\theta_1 + \\theta_2) = \\frac{\\tan\\theta_1 + \\tan\\theta_2}{1 - \\tan\\theta_1 \\tan\\theta_2}"}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Looking Ahead:"})," With coordinates, it becomes possible to",i.jsx("em",{children:" define"}),' the concept of "motion" that Euclid appealed to in his proof of SAS. This will be done in the next section on isometries.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that lines of slopes t and t are perpendicular just in case tt = -1."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Use the condition for perpendicularity to show that the line from (1, 0) to (3, 4) is perpendicular to the line from (0, 2) to (4, 0)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.3"}),i.jsxs("p",{className:"text-slate-300",children:["Show that the outcome of r_","{c,s}"," followed by r_","{c,s}"," sends (x, y) to:",i.jsx("br",{}),"((cc - ss)x - (sc + cs)y, (sc + cs)x + (cc - ss)y)"]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.4"}),i.jsxs("p",{className:"text-slate-300",children:["Assuming r_","{c,s}"," is a rotation through angle  and r_","{c,s}"," is a rotation through angle , deduce the addition formulas for cos and sin."]})]}),i.jsx(KZ,{className:"my-6"}),i.jsx(Re,{sectionId:19,questions:$e[19]||[],title:"Angle and Slope Quiz"})]})}function iQ(){return i.jsxs(qe,{sectionId:20,children:[i.jsx("h2",{children:"Isometries"}),i.jsx("p",{children:"A possible weakness of our model of the plane  is that it seems to single out a particular point (the origin O) and particular lines (the x- and y-axes). In Euclid's plane, each point is like any other point and each line is like any other line."}),i.jsxs("p",{children:["We can overcome this apparent bias by considering ",i.jsx("strong",{children:"transformations"}),'that allow any point to become the origin and any line to become the x-axis. As a bonus, this gives meaning to the idea of "motion" that Euclid used in his proof of SAS.']}),i.jsx(xe,{title:"Transformation",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"transformation"})," of the plane is simply a function f :   a function that sends points to points."]})}),i.jsxs(xe,{title:"Isometry",children:[i.jsxs("p",{children:["A transformation f is called an ",i.jsx("strong",{children:"isometry"}),' (from the Greek for "same length") if it sends any two points P and P to points f(P) and f(P) the same distance apart:']}),i.jsx(Y,{children:"|f(P_1)f(P_2)| = |P_1P_2|"}),i.jsx("p",{className:"mt-2",children:'Intuitively, an isometry "moves the plane rigidly" because it preserves the distance between points.'})]}),i.jsx("h3",{children:"Types of Isometries"}),i.jsx("p",{children:"There are many isometries of the plane, but they can be divided into a few simple and obvious types."}),i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mt-6 mb-3",children:"Translations"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"translation"})," moves each point of the plane the same distance in the same direction."]}),i.jsxs(xe,{title:"Translation",children:[i.jsxs("p",{children:["The translation t_","{a,b}"," sends each point (x, y) to the point (x + a, y + b)."]}),i.jsx(Y,{children:"t_{a,b}(x, y) = (x + a, y + b)"})]}),i.jsxs(ue,{title:"Translations Preserve Distance",children:[i.jsx("p",{children:"For points P = (x, y) and P = (x, y):"}),i.jsx(Y,{children:"|t_{a,b}(P_1)t_{a,b}(P_2)| = \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2} = |P_1P_2|"})]}),i.jsx("h4",{className:"text-lg font-semibold text-green-400 mt-6 mb-3",children:"Rotations"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"rotation"})," about the origin is described by two numbers c and s such that c + s = 1 (where c = cos  and s = sin )."]}),i.jsxs(xe,{title:"Rotation",children:[i.jsxs("p",{children:["The rotation r_","{c,s}"," sends the point (x, y) to:"]}),i.jsx(Y,{children:"r_{c,s}(x, y) = (cx - sy, sx + cy)"})]}),i.jsxs("p",{children:["The rotation r_","{c,s}"," preserves lengths because:"]}),i.jsx(Y,{children:"|r_{c,s}(P_1)r_{c,s}(P_2)| = \\sqrt{(c^2 + s^2)(x_2 - x_1)^2 + (c^2 + s^2)(y_2 - y_1)^2} = |P_1P_2|"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Why It's a Rotation:"})," The transformation r_","{c,s}"," sends (0, 0) to itself, moves (1, 0) to (c, s), and moves (0, 1) to (-s, c). This is exactly what rotation about O through angle  does!"]}),i.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mt-6 mb-3",children:"Reflections"}),i.jsxs("p",{children:["The easiest reflection to describe is ",i.jsx("strong",{children:"reflection in the x-axis"}),", which sends P = (x, y) to P = (x, -y)."]}),i.jsx(xe,{title:"Reflection in the x-axis",children:i.jsx(Y,{children:"\\text{reflection}(x, y) = (x, -y)"})}),i.jsx("p",{children:"We can reflect the plane in any line by combining reflection in the x-axis with translations and rotations. For example, reflection in the line y = 1 is the result of:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["t_","{0,-1}",", a translation that moves the line y = 1 to the x-axis"]}),i.jsx("li",{children:"Reflection in the x-axis"}),i.jsxs("li",{children:["t_","{0,1}",", which moves the x-axis back to the line y = 1"]})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Fundamental Fact:"})," Reflections are the most fundamental isometries, because any isometry is a combination of reflections. In particular:",i.jsxs("ul",{className:"list-disc list-inside mt-2",children:[i.jsx("li",{children:"Any translation is a combination of two reflections"}),i.jsx("li",{children:"Any rotation is a combination of two reflections"})]})]}),i.jsx("h4",{className:"text-lg font-semibold text-pink-400 mt-6 mb-3",children:"Glide Reflections"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"glide reflection"})," is the result of a reflection followed by a translation in the direction of the line of reflection."]}),i.jsx(xe,{title:"Glide Reflection",children:i.jsxs("p",{children:["For example, if we reflect in the x-axis and follow with the translation t_","{1,0}",", then (x, y) ends up at (x + 1, -y)."]})}),i.jsx("p",{children:"A glide reflection with nonzero translation length is different from translations, rotations, and reflections:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Not a translation: only one line maps to itself (the reflection line)"}),i.jsx("li",{children:"Not a rotation: no fixed point exists"}),i.jsx("li",{children:"Not a reflection: no fixed points (reflection has the whole line as fixed)"})]}),i.jsx("h3",{children:"The Power of Isometries"}),i.jsx("p",{children:"Translations and rotations make it possible to move the origin to any point in the plane and the x-axis to any line. Thus,  is really like Euclid's plane: each point is like any other point and each line is like any other line."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Check that reflection in the x-axis preserves the distance between any two points."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.2"}),i.jsxs("p",{className:"text-slate-300",children:["Reflect the plane in the x-axis, and then in the line y = 1/2. Show that the resulting isometry sends (x, y) to (x, y + 1), so it is the translation t_","{0,1}","."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Generalize to show that the combination of reflections in parallel lines, distance d/2 apart, is a translation through distance d, perpendicular to the lines of reflection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the combination of reflections in lines that meet at angle /2 is a rotation through angle , about the point of intersection."})]}),i.jsx(ZZ,{className:"my-6"}),i.jsx(Re,{sectionId:20,questions:$e[20]||[],title:"Isometries Quiz"})]})}function sQ(){return i.jsxs(qe,{sectionId:21,children:[i.jsx("h2",{children:"The Three Reflections Theorem"}),i.jsx("p",{children:"We saw in Section 3.3 that the points equidistant from two points A and B form a line. This fact has a powerful consequence for understanding isometries of the plane."}),i.jsx("h3",{children:"Determination by Three Points"}),i.jsx(ue,{title:"Three Point Determination",children:i.jsx("p",{children:"An isometry f of  is determined by the images f(A), f(B), f(C) of three points A, B, C not in a line."})}),i.jsx("p",{children:"The proof follows from three simple observations:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Determination by distances:"})," Any point P in  is determined by its distances from A, B, C. If Q had the same distances from A, B, C as P, then A, B, C would lie in the equidistant line of P and Qcontradicting that they're not in a line."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Distance preservation:"})," The isometry f preserves distances, so f(P) lies at the same respective distances from f(A), f(B), f(C) as P does from A, B, C."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Uniqueness:"})," There is only one point at given distances from f(A), f(B), f(C) because these three points form a triangle congruent to triangle ABC."]})]}),i.jsx("h3",{children:"The Three Reflections Theorem"}),i.jsx(ue,{title:"Three Reflections Theorem",children:i.jsx("p",{children:i.jsx("strong",{children:"Any isometry of  is a combination of one, two, or three reflections."})})}),i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mt-6 mb-3",children:"Proof Outline"}),i.jsx("p",{children:"Given an isometry f, we choose three points A, B, C not in a line, and we look for a combination of reflections that sends A to f(A), B to f(B), and C to f(C). Such a combination is necessarily equal to f."}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h5",{className:"font-semibold text-blue-400",children:"Step 1: Move A to f(A)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Reflect in the equidistant line of A and f(A). Call this reflection r_A."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h5",{className:"font-semibold text-green-400",children:"Step 2: Move B to f(B)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If r_A(B)  f(B), reflect in the equidistant line of r_A(B) and f(B). Since f(A) is equidistant from r_A(B) and f(B), this reflection doesn't move f(A)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h5",{className:"font-semibold text-yellow-400",children:"Step 3: Move C to f(C)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If C hasn't reached f(C) yet, reflect in the line equidistant from f(C) and where C has been sent. Both f(A) and f(B) lie on this line, so they're not moved."})]})]}),i.jsx("p",{children:"Thus, we have a combination of at most three reflections that moves A to f(A), B to f(B), and C to f(C), as required."}),i.jsx("h3",{children:"Classification of Isometries"}),i.jsx("p",{children:"The Three Reflections Theorem, combined with our earlier results, gives a complete classification:"}),i.jsxs(xe,{title:"Classification of Plane Isometries",children:[i.jsx("p",{children:"An isometry of  is either:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"A translation"})," (two reflections in parallel lines)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"A rotation"})," (two reflections in intersecting lines)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"A glide reflection"})," (three reflections)"]})]}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Note: A single reflection is a special case of a glide reflection (with zero translation)."})]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"Identifying Isometry Type:"})," Given three points A, B, C and their images f(A), f(B), f(C), you can determine the type of isometry:",i.jsxs("ul",{className:"list-disc list-inside mt-2",children:[i.jsx("li",{children:"Translation: the triangles ABC and f(A)f(B)f(C) have the same orientation and corresponding sides are parallel"}),i.jsx("li",{children:"Rotation: the triangles have the same orientation but sides aren't parallel"}),i.jsx("li",{children:"Glide reflection: the triangles have opposite orientations"})]})]}),i.jsx("h3",{children:"Orientation"}),i.jsxs("p",{children:["The key to distinguishing isometry types is ",i.jsx("strong",{children:"orientation"}),". When you traverse the vertices of a triangle, you go either clockwise or counterclockwise. This is the triangle's orientation."]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["Translations and rotations ",i.jsx("strong",{children:"preserve"})," orientation"]}),i.jsxs("li",{children:["Reflections and glide reflections ",i.jsx("strong",{children:"reverse"})," orientation"]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Suppose that f(A) = (1.4, 2), f(B) = (1.4, 1), and f(C) = (2.4, 1), where A = (0, 1), B = (0, 0), C = (1, 0). Is f a translation or a rotation? How can you tell that f is not a glide reflection?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Suppose that f(A) = (0.4, 1.8), f(B) = (1, 1), and f(C) = (1.8, 1.6). We can tell that f is not a translation or glide reflection (hence, it must be a rotation). How?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Suppose that f(A) = (1.8, 1.6), f(B) = (1, 1), and f(C) = (0.4, 1.8). How do I know that this is a glide reflection?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.4"}),i.jsx("p",{className:"text-slate-300",children:"State a simple test for telling whether f is a translation, rotation, or glide reflection from the positions of f(A), f(B), and f(C)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.5"}),i.jsx("p",{className:"text-slate-300",children:"Show that reflections in lines L, M, and N (in that order) have the same outcome as reflections in lines L', M', and N, where M' is perpendicular to N."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.6"}),i.jsx("p",{className:"text-slate-300",children:"Deduce from the previous exercises that the combination of any three reflections is a glide reflection."})]}),i.jsx(YZ,{className:"my-6"}),i.jsx(Re,{sectionId:21,questions:$e[21]||[],title:"Three Reflections Quiz"})]})}function rQ(){return i.jsxs(qe,{sectionId:22,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"The discovery of coordinates is rightly considered a turning point in the development of mathematics because it reveals a vast new panorama of geometry, open to exploration in at least three different directions."}),i.jsx("h3",{children:"Three Directions from Coordinates"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"1. Algebraic Geometry"}),i.jsx("p",{className:"text-slate-300 mt-2",children:i.jsx("strong",{children:"Description of curves by equations, and their analysis by algebra."})}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["The curves described by polynomial equations are called",i.jsx("em",{children:" algebraic curves"}),". Straight lines, described by linear equations ax + by + c = 0, are curves of ",i.jsx("strong",{children:"degree 1"}),". Circles, described by (x - a) + (y - b) = r, are curves of",i.jsx("strong",{children:" degree 2"}),"."]}),i.jsx("p",{className:"text-slate-300 mt-2",children:"There are curves of arbitrarily high degree, making algebraic geometry a vast subject. Even curves of degree 3 (elliptic curves) merit their own book!"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"2. Linear Algebra"}),i.jsx("p",{className:"text-slate-300 mt-2",children:i.jsx("strong",{children:"Algebraic study of objects described by linear equations."})}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Although technically part of algebraic geometry, linear algebra has a special flavor, very close to that of Euclidean geometry. We explore plane geometry from the viewpoint of linear algebra in Chapter 4."}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["The real strength of linear algebra is its ability to describe spaces of ",i.jsx("em",{children:"any number of dimensions"})," in geometric language."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"3. Transformation Groups"}),i.jsx("p",{className:"text-slate-300 mt-2",children:i.jsx("strong",{children:"The study of transformations, drawing on group theory."})}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["Because many geometric transformations are described by linear equations, this overlaps with linear algebra. The role of transformations was first emphasized by Felix Klein in his famous ",i.jsx("em",{children:"Erlanger Programm"})," (1872)."]})]})]}),i.jsx("h3",{children:"The Erlanger Programm"}),i.jsx(ue,{title:"Klein's Vision",children:i.jsxs("p",{children:["Felix Klein's ",i.jsx("em",{children:"Erlanger Programm"})," (1872) characterizes geometry as the study of ",i.jsx("strong",{children:"transformation groups"})," and their",i.jsx("strong",{children:" invariants"}),"."]})}),i.jsx("p",{children:"So far, we have seen one transformation group and a handful of invariants:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Group:"})," The isometries of "]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Invariants:"})," Length, angle, straightness"]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Looking Ahead:"}),` In Chapter 5, we introduce projective transformations and the cross-ratio invariant. In Chapters 7 and 8, we develop Klein's idea further with the "non-Euclidean" plane.`]}),i.jsx("h3",{children:"What We've Achieved"}),i.jsx("p",{children:"In this chapter on coordinates, we have:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Built a model of the Euclidean plane using ordered pairs of real numbers"}),i.jsx("li",{children:"Characterized lines by linear equations and circles by quadratic equations"}),i.jsx("li",{children:"Derived the distance formula from the Pythagorean theorem"}),i.jsx("li",{children:"Found the algebraic criterion for constructibility with straightedge and compass"}),i.jsx("li",{children:"Classified all isometries as translations, rotations, or glide reflections"}),i.jsx("li",{children:"Proved the Three Reflections Theorem"})]}),i.jsx("h3",{children:"The Power of Arithmetization"}),i.jsxs(xe,{title:"Arithmetization of Geometry",children:[i.jsxs("p",{children:["Building geometry from numbers is called the ",i.jsx("strong",{children:"arithmetization of geometry"}),". It accomplishes much:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["It gives an algebraic description of constructibility, making it possible to prove that certain figures are ",i.jsx("em",{children:"not"})," constructible."]}),i.jsx("li",{children:`It enables us to define what it means to "move" a geometric figure, providing justification for Euclid's proof of SAS.`}),i.jsx("li",{children:"It gives access to algebra, reducing many geometric problems to simple calculations."})]})]}),i.jsx("h3",{children:"Recommended Reading"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:"For algebraic curves:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:["McKean, H. P. and Moll, V. ",i.jsx("em",{children:"Elliptic Curves"})]}),i.jsxs("li",{children:["Brieskorn, E. and Knrrer, H. ",i.jsx("em",{children:"Plane Algebraic Curves"})]})]})]}),i.jsx("h3",{children:"Looking Forward"}),i.jsxs("p",{children:["The next chapter introduces ",i.jsx("strong",{children:"vectors"}),", which provide another powerful approach to geometry. Vectors can be added and multiplied by numbers, and the ",i.jsx("strong",{children:"inner product"})," gives an efficient algebraic method for handling both lengths and angles."]}),i.jsxs(me,{type:"important",children:[i.jsx("strong",{children:"The Four Approaches:"})," We now have two approaches to geometry:",i.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[i.jsx("li",{children:"Euclid's axiomatic approach (Chapter 2)"}),i.jsx("li",{children:"Coordinates (Chapter 3)"})]}),i.jsx("p",{className:"mt-2",children:"Coming up: Vectors (Chapter 4) and Projective Geometry (Chapter 5). Each approach offers different insights and techniques, but they all describe the same underlying geometric reality."})]}),i.jsx(Re,{sectionId:22,questions:$e[22]||[],title:"Chapter 3 Discussion Quiz"})]})}function aQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:2}),[r,a]=q.useState({x:1,y:3}),[l,o]=q.useState(!0),[c,h]=q.useState(!0),[u,m]=q.useState(null),p=480,b=400,E=40,y=p/2,T=b/2,S=(w,k)=>[y+w*E,T-k*E],N=(w,k)=>({x:(w-y)/E,y:(T-k)/E}),v=w=>Math.sqrt(w.x**2+w.y**2),f=n.x*r.x+n.y*r.y,x=Math.acos(f/(v(n)*v(r)))*180/Math.PI,C={x:n.x+r.x,y:n.y+r.y};q.useEffect(()=>{const w=e.current;if(!w)return;const k=w.getContext("2d");if(!k)return;k.fillStyle="#0f172a",k.fillRect(0,0,p,b),k.strokeStyle="#1e293b",k.lineWidth=1;for(let V=-6;V<=6;V++){const[J]=S(V,0);k.beginPath(),k.moveTo(J,0),k.lineTo(J,b),k.stroke()}for(let V=-5;V<=5;V++){const[,J]=S(0,V);k.beginPath(),k.moveTo(0,J),k.lineTo(p,J),k.stroke()}k.strokeStyle="#475569",k.lineWidth=2,k.beginPath(),k.moveTo(0,T),k.lineTo(p,T),k.stroke(),k.beginPath(),k.moveTo(y,0),k.lineTo(y,b),k.stroke();const M=(V,J,ee,re=!0,se)=>{const he={x:0,y:0},[ae,Ne]=S(he.x,he.y),[Te,tt]=S(he.x+V.x,he.y+V.y);k.strokeStyle=J,k.lineWidth=3,k.beginPath(),k.moveTo(ae,Ne),k.lineTo(Te,tt),k.stroke();const Me=Math.atan2(Ne-tt,Te-ae),Ae=12;k.fillStyle=J,k.beginPath(),k.moveTo(Te,tt),k.lineTo(Te-Ae*Math.cos(Me-Math.PI/6),tt+Ae*Math.sin(Me-Math.PI/6)),k.lineTo(Te-Ae*Math.cos(Me+Math.PI/6),tt+Ae*Math.sin(Me+Math.PI/6)),k.closePath(),k.fill(),k.fillStyle=J,k.font="bold 14px sans-serif";const Ue=(ae+Te)/2+(ee==="a"?-15:10),Oe=(Ne+tt)/2-5;k.fillText(ee,Ue,Oe)};if(M(n,"#f472b6","a"),M(r,"#22d3ee","b"),l){k.strokeStyle="rgba(167, 139, 250, 0.4)",k.lineWidth=1,k.setLineDash([5,5]);const[V,J]=S(n.x,n.y),[ee,re]=S(r.x,r.y),[se,he]=S(C.x,C.y);k.beginPath(),k.moveTo(V,J),k.lineTo(se,he),k.stroke(),k.beginPath(),k.moveTo(ee,re),k.lineTo(se,he),k.stroke(),k.setLineDash([]),M(C,"#a78bfa","a+b")}if(c&&!isNaN(x)){k.strokeStyle="#fbbf24",k.lineWidth=1.5;const V=Math.atan2(n.y,n.x),J=Math.atan2(r.y,r.x);k.beginPath(),k.arc(y,T,35,-Math.max(V,J),-Math.min(V,J)),k.stroke(),k.fillStyle="#fbbf24",k.font="11px sans-serif";const ee=(V+J)/2;k.fillText(`${x.toFixed(0)}`,y+45*Math.cos(ee),T-45*Math.sin(ee))}const[I,O]=S(n.x,n.y),[$,G]=S(r.x,r.y);k.fillStyle="rgba(244, 114, 182, 0.3)",k.beginPath(),k.arc(I,O,10,0,Math.PI*2),k.fill(),k.fillStyle="rgba(34, 211, 238, 0.3)",k.beginPath(),k.arc($,G,10,0,Math.PI*2),k.fill(),k.fillStyle="#94a3b8",k.font="11px sans-serif",k.fillText("Drag vector endpoints",10,20)},[n,r,l,c,x,C]);const j=w=>{var J;const k=(J=e.current)==null?void 0:J.getBoundingClientRect();if(!k)return;const M=w.clientX-k.left,I=w.clientY-k.top,[O,$]=S(n.x,n.y),[G,V]=S(r.x,r.y);Math.hypot(M-O,I-$)<15?m("a"):Math.hypot(M-G,I-V)<15&&m("b")},g=w=>{var $;if(!u)return;const k=($=e.current)==null?void 0:$.getBoundingClientRect();if(!k)return;const M=w.clientX-k.left,I=w.clientY-k.top;let O=N(M,I);O.x=Math.round(O.x*2)/2,O.y=Math.round(O.y*2)/2,O.x=Math.max(-5,Math.min(5,O.x)),O.y=Math.max(-4,Math.min(4,O.y)),u==="a"?s(O):a(O)},A=()=>{m(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Vector Operations"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:j,onMouseMove:g,onMouseUp:A,onMouseLeave:A})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-pink-400 font-semibold",children:"a"}),i.jsxs("span",{className:"text-slate-300",children:[" = (",n.x.toFixed(1),", ",n.y.toFixed(1),")"]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-cyan-400 font-semibold",children:"b"}),i.jsxs("span",{className:"text-slate-300",children:[" = (",r.x.toFixed(1),", ",r.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsx("div",{className:"text-xs text-slate-400",children:"Dot Product (a  b):"}),i.jsx("div",{className:"text-lg font-mono text-yellow-400",children:f.toFixed(2)}),i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Angle between:"}),i.jsx("div",{className:"text-lg font-mono text-yellow-400",children:isNaN(x)?"":`${x.toFixed(1)}`}),l&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Sum (a + b):"}),i.jsxs("div",{className:"text-sm font-mono text-purple-400",children:["(",C.x.toFixed(1),", ",C.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:w=>o(w.target.checked),className:"rounded"}),"Show vector sum"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:w=>h(w.target.checked),className:"rounded"}),"Show angle"]})]}),i.jsxs("div",{className:"p-2 bg-slate-800/50 rounded text-xs text-slate-400",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Perpendicular:"})," a  b = 0"]}),i.jsx("p",{className:f===0?"text-green-400":"",children:Math.abs(f)<.1?" Perpendicular!":`a  b = ${f.toFixed(1)}`})]})]})]})]})}function lQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState([{x:1,y:1},{x:5,y:1},{x:3,y:4}]),[r,a]=q.useState("centroid"),[l,o]=q.useState(null),c=480,h=400,u=50,m=80,p=h-80,b=(O,$)=>[m+O*u,p-$*u],E=(O,$)=>({x:(O-m)/u,y:(p-$)/u}),[y,T,S]=n,N={x:(y.x+T.x+S.x)/3,y:(y.y+T.y+S.y)/3},f=(()=>{const O=2*(y.x*(T.y-S.y)+T.x*(S.y-y.y)+S.x*(y.y-T.y));if(Math.abs(O)<1e-4)return N;const $=((y.x**2+y.y**2)*(T.y-S.y)+(T.x**2+T.y**2)*(S.y-y.y)+(S.x**2+S.y**2)*(y.y-T.y))/O,G=((y.x**2+y.y**2)*(S.x-T.x)+(T.x**2+T.y**2)*(y.x-S.x)+(S.x**2+S.y**2)*(T.x-y.x))/O;return{x:$,y:G}})(),C=(()=>{const O=(S.y-T.y)/(S.x-T.x),$=(y.y-S.y)/(y.x-S.x);if(!isFinite(O)||!isFinite($))return N;const G=-1/O,V=-1/$;if(!isFinite(G)||!isFinite(V))return N;const J=(G*y.x-V*T.x+T.y-y.y)/(G-V),ee=y.y+G*(J-y.x);return{x:J,y:ee}})(),g=(()=>{const O=Math.sqrt((S.x-T.x)**2+(S.y-T.y)**2),$=Math.sqrt((y.x-S.x)**2+(y.y-S.y)**2),G=Math.sqrt((T.x-y.x)**2+(T.y-y.y)**2),V=O+$+G;return{x:(O*y.x+$*T.x+G*S.x)/V,y:(O*y.y+$*T.y+G*S.y)/V}})(),A=()=>{switch(r){case"centroid":return N;case"circumcenter":return f;case"orthocenter":return C;case"incenter":return g}};q.useEffect(()=>{const O=e.current;if(!O)return;const $=O.getContext("2d");if(!$)return;$.fillStyle="#0f172a",$.fillRect(0,0,c,h),$.strokeStyle="#1e293b",$.lineWidth=1;for(let Ae=0;Ae<=8;Ae++){const[Ue]=b(Ae,0);$.beginPath(),$.moveTo(Ue,0),$.lineTo(Ue,h),$.stroke()}for(let Ae=0;Ae<=6;Ae++){const[,Ue]=b(0,Ae);$.beginPath(),$.moveTo(0,Ue),$.lineTo(c,Ue),$.stroke()}const[G,V]=b(y.x,y.y),[J,ee]=b(T.x,T.y),[re,se]=b(S.x,S.y);$.fillStyle="rgba(244, 114, 182, 0.2)",$.beginPath(),$.moveTo(G,V),$.lineTo(J,ee),$.lineTo(re,se),$.closePath(),$.fill(),$.strokeStyle="#f472b6",$.lineWidth=2,$.stroke(),$.setLineDash([4,4]),$.lineWidth=1;const he=A(),[ae,Ne]=b(he.x,he.y);switch(r){case"centroid":{$.strokeStyle="#a78bfa";const Ae={x:(T.x+S.x)/2,y:(T.y+S.y)/2},[Ue,Oe]=b(Ae.x,Ae.y);$.beginPath(),$.moveTo(G,V),$.lineTo(Ue,Oe),$.stroke();const at={x:(y.x+S.x)/2,y:(y.y+S.y)/2},[He,et]=b(at.x,at.y);$.beginPath(),$.moveTo(J,ee),$.lineTo(He,et),$.stroke();const _e={x:(y.x+T.x)/2,y:(y.y+T.y)/2},[Le,qt]=b(_e.x,_e.y);$.beginPath(),$.moveTo(re,se),$.lineTo(Le,qt),$.stroke();break}case"circumcenter":{$.strokeStyle="#22d3ee";const Ae=Math.sqrt((y.x-f.x)**2+(y.y-f.y)**2);$.beginPath(),$.arc(ae,Ne,Ae*u,0,Math.PI*2),$.stroke();break}case"orthocenter":{$.strokeStyle="#fbbf24",$.beginPath(),$.moveTo(G,V),$.lineTo(ae,Ne),$.stroke(),$.beginPath(),$.moveTo(J,ee),$.lineTo(ae,Ne),$.stroke(),$.beginPath(),$.moveTo(re,se),$.lineTo(ae,Ne),$.stroke();break}case"incenter":{$.strokeStyle="#34d399";const Ae=Math.sqrt((S.x-T.x)**2+(S.y-T.y)**2),Ue=Math.sqrt((y.x-S.x)**2+(y.y-S.y)**2),Oe=Math.sqrt((T.x-y.x)**2+(T.y-y.y)**2),at=(Ae+Ue+Oe)/2,et=Math.sqrt(at*(at-Ae)*(at-Ue)*(at-Oe))/at;$.beginPath(),$.arc(ae,Ne,et*u,0,Math.PI*2),$.stroke();break}}$.setLineDash([]);const Te=(Ae,Ue,Oe)=>{$.fillStyle="#f472b6",$.beginPath(),$.arc(Ae,Ue,8,0,Math.PI*2),$.fill(),$.fillStyle="#fce7f3",$.font="bold 14px sans-serif",$.fillText(Oe,Ae+10,Ue-10)};Te(G,V,"A"),Te(J,ee,"B"),Te(re,se,"C");const tt={centroid:"#a78bfa",circumcenter:"#22d3ee",orthocenter:"#fbbf24",incenter:"#34d399"};$.fillStyle=tt[r],$.beginPath(),$.arc(ae,Ne,7,0,Math.PI*2),$.fill();const Me={centroid:"G",circumcenter:"O",orthocenter:"H",incenter:"I"};$.fillStyle=tt[r],$.font="bold 14px sans-serif",$.fillText(Me[r],ae+10,Ne-10),$.fillStyle="#94a3b8",$.font="11px sans-serif",$.fillText("Drag vertices A, B, C",10,20)},[n,r,y,T,S,N,f,C,g]);const w=O=>{var J;const $=(J=e.current)==null?void 0:J.getBoundingClientRect();if(!$)return;const G=O.clientX-$.left,V=O.clientY-$.top;n.forEach((ee,re)=>{const[se,he]=b(ee.x,ee.y);Math.hypot(G-se,V-he)<15&&o(re)})},k=O=>{var re;if(l===null)return;const $=(re=e.current)==null?void 0:re.getBoundingClientRect();if(!$)return;const G=O.clientX-$.left,V=O.clientY-$.top;let J=E(G,V);J.x=Math.round(J.x*2)/2,J.y=Math.round(J.y*2)/2,J.x=Math.max(.5,Math.min(7,J.x)),J.y=Math.max(.5,Math.min(5.5,J.y));const ee=[...n];ee[l]=J,s(ee)},M=()=>{o(null)},I=A();return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Triangle Centers"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-grab",onMouseDown:w,onMouseMove:k,onMouseUp:M,onMouseLeave:M})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Center Type"}),i.jsxs("select",{value:r,onChange:O=>a(O.target.value),className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"centroid",children:"Centroid (Medians)"}),i.jsx("option",{value:"circumcenter",children:"Circumcenter (Perp. Bisectors)"}),i.jsx("option",{value:"orthocenter",children:"Orthocenter (Altitudes)"}),i.jsx("option",{value:"incenter",children:"Incenter (Angle Bisectors)"})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Center coordinates:"}),i.jsxs("div",{className:"text-sm font-mono text-slate-200",children:["(",I.x.toFixed(2),", ",I.y.toFixed(2),")"]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs text-slate-300",children:[r==="centroid"&&i.jsx("p",{children:"The centroid is the intersection of medians. It divides each median in ratio 2:1."}),r==="circumcenter"&&i.jsx("p",{children:"The circumcenter is equidistant from all vertices - it's the center of the circumscribed circle."}),r==="orthocenter"&&i.jsx("p",{children:"The orthocenter is the intersection of the three altitudes of the triangle."}),r==="incenter"&&i.jsx("p",{children:"The incenter is equidistant from all sides - it's the center of the inscribed circle."})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Triangle vertices"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Centroid"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Circumcenter"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Orthocenter"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Incenter"]})]})]})]})]})}function oQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:1}),[r,a]=q.useState({x:1,y:2}),[l,o]=q.useState(1.5),[c,h]=q.useState(null),[u,m]=q.useState("add"),p=500,b=400,E=200,y=250,T=40,S=j=>({x:E+j.x*T,y:y-j.y*T}),N=(j,g)=>({x:(j-E)/T,y:(y-g)/T}),v=(j,g,A,w,k=2)=>{const M=A.x-g.x,I=A.y-g.y,O=Math.atan2(I,M);Math.sqrt(M*M+I*I)<5||(j.strokeStyle=w,j.lineWidth=k,j.beginPath(),j.moveTo(g.x,g.y),j.lineTo(A.x,A.y),j.stroke(),j.fillStyle=w,j.beginPath(),j.moveTo(A.x,A.y),j.lineTo(A.x-12*Math.cos(O-.3),A.y-12*Math.sin(O-.3)),j.lineTo(A.x-12*Math.cos(O+.3),A.y-12*Math.sin(O+.3)),j.closePath(),j.fill())};q.useEffect(()=>{const j=e.current;if(!j)return;const g=j.getContext("2d");if(!g)return;g.fillStyle="#0f172a",g.fillRect(0,0,p,b),g.strokeStyle="#1e293b",g.lineWidth=1;for(let M=-5;M<=10;M++){const I=E+M*T,O=y-M*T;g.beginPath(),g.moveTo(I,0),g.lineTo(I,b),g.stroke(),g.beginPath(),g.moveTo(0,O),g.lineTo(p,O),g.stroke()}g.strokeStyle="#475569",g.lineWidth=2,g.beginPath(),g.moveTo(E,0),g.lineTo(E,b),g.stroke(),g.beginPath(),g.moveTo(0,y),g.lineTo(p,y),g.stroke(),g.fillStyle="#94a3b8",g.font="12px sans-serif",g.fillText("O",E-15,y+15);const A=S({x:0,y:0}),w=S(n),k=S(r);if(u==="add"){const M={x:n.x+r.x,y:n.y+r.y},I=S(M);g.strokeStyle="#475569",g.lineWidth=1,g.setLineDash([5,5]),g.beginPath(),g.moveTo(w.x,w.y),g.lineTo(I.x,I.y),g.stroke(),g.beginPath(),g.moveTo(k.x,k.y),g.lineTo(I.x,I.y),g.stroke(),g.setLineDash([]),v(g,A,w,"#60a5fa",3),v(g,A,k,"#f472b6",3),v(g,A,I,"#34d399",3),g.font="bold 14px sans-serif",g.fillStyle="#60a5fa",g.fillText("u",(A.x+w.x)/2-15,(A.y+w.y)/2-5),g.fillStyle="#f472b6",g.fillText("v",(A.x+k.x)/2+10,(A.y+k.y)/2),g.fillStyle="#34d399",g.fillText("u + v",(A.x+I.x)/2+10,(A.y+I.y)/2-10),g.fillStyle="#60a5fa",g.beginPath(),g.arc(w.x,w.y,8,0,Math.PI*2),g.fill(),g.fillStyle="#f472b6",g.beginPath(),g.arc(k.x,k.y,8,0,Math.PI*2),g.fill(),g.fillStyle="#0f172a",g.fillRect(p-160,10,150,100),g.strokeStyle="#334155",g.strokeRect(p-160,10,150,100),g.fillStyle="#e2e8f0",g.font="bold 12px sans-serif",g.fillText("Parallelogram Rule",p-150,30),g.font="11px sans-serif",g.fillStyle="#60a5fa",g.fillText(`u = (${n.x.toFixed(1)}, ${n.y.toFixed(1)})`,p-150,50),g.fillStyle="#f472b6",g.fillText(`v = (${r.x.toFixed(1)}, ${r.y.toFixed(1)})`,p-150,68),g.fillStyle="#34d399",g.fillText(`u+v = (${M.x.toFixed(1)}, ${M.y.toFixed(1)})`,p-150,86),g.fillStyle="#94a3b8",g.fillText("Drag u or v endpoints",p-150,105)}else{const M={x:n.x*l,y:n.y*l},I=S(M);v(g,A,w,"#60a5fa",2),v(g,A,I,"#fbbf24",3),g.font="bold 14px sans-serif",g.fillStyle="#60a5fa",g.fillText("u",(A.x+w.x)/2+10,(A.y+w.y)/2),g.fillStyle="#fbbf24",g.fillText(`${l}u`,(A.x+I.x)/2+10,(A.y+I.y)/2-10),g.fillStyle="#60a5fa",g.beginPath(),g.arc(w.x,w.y,8,0,Math.PI*2),g.fill(),g.fillStyle="#0f172a",g.fillRect(p-160,10,150,85),g.strokeStyle="#334155",g.strokeRect(p-160,10,150,85),g.fillStyle="#e2e8f0",g.font="bold 12px sans-serif",g.fillText("Scalar Multiplication",p-150,30),g.font="11px sans-serif",g.fillStyle="#60a5fa",g.fillText(`u = (${n.x.toFixed(1)}, ${n.y.toFixed(1)})`,p-150,50),g.fillStyle="#fbbf24",g.fillText(`${l}u = (${M.x.toFixed(1)}, ${M.y.toFixed(1)})`,p-150,68),g.fillStyle="#94a3b8",g.fillText(`|${l}u| = ${l}  |u|`,p-150,86)}g.fillStyle="#94a3b8",g.font="11px sans-serif",g.fillText("Drag vector endpoints",10,b-10)},[n,r,l,u]);const f=j=>{var I;const g=(I=e.current)==null?void 0:I.getBoundingClientRect();if(!g)return;const A=j.clientX-g.left,w=j.clientY-g.top,k=S(n),M=S(r);Math.hypot(A-k.x,w-k.y)<15?h("u"):u==="add"&&Math.hypot(A-M.x,w-M.y)<15&&h("v")},x=j=>{var M;if(!c)return;const g=(M=e.current)==null?void 0:M.getBoundingClientRect();if(!g)return;const A=j.clientX-g.left,w=j.clientY-g.top,k=N(A,w);k.x=Math.max(-4,Math.min(6,k.x)),k.y=Math.max(-3,Math.min(5,k.y)),c==="u"?s(k):c==="v"&&a(k)},C=()=>{h(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Vector Operations"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:f,onMouseMove:x,onMouseUp:C,onMouseLeave:C})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm text-slate-300 font-medium",children:"Mode:"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>m("add"),className:`flex-1 px-3 py-1.5 text-sm rounded ${u==="add"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Addition"}),i.jsx("button",{onClick:()=>m("scalar"),className:`flex-1 px-3 py-1.5 text-sm rounded ${u==="scalar"?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Scalar "})]})]}),u==="scalar"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Scalar: ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:l,onChange:j=>o(parseFloat(j.target.value)),className:"w-full"})]}),i.jsx("div",{className:"p-3 bg-slate-800 rounded text-xs",children:u==="add"?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-green-400",children:"Vector Addition:"})}),i.jsx("p",{className:"text-slate-400",children:"(u, u) + (v, v) = (u+v, u+v)"}),i.jsx("p",{className:"text-slate-400 mt-2",children:"The sum u + v is the diagonal of the parallelogram formed by u and v."})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-yellow-400",children:"Scalar Multiplication:"})}),i.jsx("p",{className:"text-slate-400",children:"a(u, u) = (au, au)"}),i.jsx("p",{className:"text-slate-400 mt-2",children:"Stretches or shrinks the vector. Negative scalars reverse direction."})]})}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue:"})," Vector u"]}),u==="add"?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Vector v"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Sum u + v"]})]}):i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Scalar  u"]})]})]})]})]})}function cQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(45),[r,a]=q.useState(!1),[l,o]=q.useState(!1),c=q.useRef(null),h=500,u=420,m=250,p=210,b=80,E=y=>({x:m+y.x*b,y:p-y.y*b});return q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,h,u),T.strokeStyle="#1e293b",T.lineWidth=1;for(let w=-3;w<=3;w++){const k=m+w*b,M=p-w*b;T.beginPath(),T.moveTo(k,0),T.lineTo(k,u),T.stroke(),T.beginPath(),T.moveTo(0,M),T.lineTo(h,M),T.stroke()}T.strokeStyle="#475569",T.lineWidth=2,T.beginPath(),T.moveTo(m,0),T.lineTo(m,u),T.stroke(),T.beginPath(),T.moveTo(0,p),T.lineTo(h,p),T.stroke(),T.fillStyle="#94a3b8",T.font="14px sans-serif",T.fillText("Re",h-25,p+20),T.fillText("Im",m+10,20),T.fillText("1",m+b-5,p+20),T.fillText("i",m+8,p-b+5),T.fillText("-1",m-b-15,p+20),T.fillText("-i",m+8,p+b+15),T.strokeStyle="#475569",T.lineWidth=1,T.beginPath(),T.arc(m,p,b,0,Math.PI*2),T.stroke();const S=n*Math.PI/180,N=Math.cos(S),v=Math.sin(S),f=E({x:N,y:v});T.strokeStyle="#fbbf24",T.lineWidth=2,T.beginPath(),T.moveTo(m,p),T.lineTo(f.x,f.y),T.stroke(),T.strokeStyle="#fbbf24",T.lineWidth=2,T.beginPath(),T.arc(m,p,30,0,-S,S>0),T.stroke(),T.fillStyle="#fbbf24",T.font="12px sans-serif",T.fillText(`${n}`,m+35,p-10),T.fillStyle="#fbbf24",T.beginPath(),T.arc(f.x,f.y,8,0,Math.PI*2),T.fill(),T.fillStyle="#fbbf24",T.font="bold 12px sans-serif";const x=n>90&&n<270?-60:15;T.fillText(`e^{i} = ${N.toFixed(2)} + ${v.toFixed(2)}i`,f.x+x,f.y-15);const C=[{x:1.5,y:.5},{x:1,y:1.5},{x:.5,y:.5}];T.strokeStyle="#60a5fa",T.fillStyle="rgba(96, 165, 250, 0.2)",T.lineWidth=2,T.beginPath();const j=E(C[0]);T.moveTo(j.x,j.y);for(let w=1;w<C.length;w++){const k=E(C[w]);T.lineTo(k.x,k.y)}T.closePath(),T.fill(),T.stroke();const g=C.map(w=>({x:w.x*N-w.y*v,y:w.x*v+w.y*N}));T.strokeStyle="#f472b6",T.fillStyle="rgba(244, 114, 182, 0.2)",T.lineWidth=2,T.beginPath();const A=E(g[0]);T.moveTo(A.x,A.y);for(let w=1;w<g.length;w++){const k=E(g[w]);T.lineTo(k.x,k.y)}T.closePath(),T.fill(),T.stroke(),C.forEach(w=>{const k=E(w);T.fillStyle="#60a5fa",T.beginPath(),T.arc(k.x,k.y,5,0,Math.PI*2),T.fill()}),g.forEach(w=>{const k=E(w);T.fillStyle="#f472b6",T.beginPath(),T.arc(k.x,k.y,5,0,Math.PI*2),T.fill()}),r&&(T.fillStyle="#0f172a",T.fillRect(10,10,180,95),T.strokeStyle="#334155",T.strokeRect(10,10,180,95),T.fillStyle="#e2e8f0",T.font="bold 11px sans-serif",T.fillText("Rotation Matrix:",20,28),T.font="12px monospace",T.fillStyle="#34d399",T.fillText(` ${N.toFixed(3)}  ${(-v).toFixed(3)} `,20,50),T.fillText(` ${v.toFixed(3)}   ${N.toFixed(3)} `,20,70),T.fillStyle="#94a3b8",T.font="10px sans-serif",T.fillText("cos  = "+N.toFixed(3),20,90),T.fillText("sin  = "+v.toFixed(3),100,90)),T.fillStyle="#0f172a",T.fillRect(h-180,u-70,170,60),T.strokeStyle="#334155",T.strokeRect(h-180,u-70,170,60),T.fillStyle="#fbbf24",T.font="bold 11px sans-serif",T.fillText("Multiply by:",h-170,u-52),T.fillStyle="#e2e8f0",T.font="12px sans-serif",T.fillText(`cos(${n}) + isin(${n})`,h-170,u-35),T.fillStyle="#94a3b8",T.font="11px sans-serif",T.fillText("= rotation by ",h-170,u-18)},[n,r]),q.useEffect(()=>{if(l){let y=n;const T=()=>{y=(y+2)%360,s(y),c.current=requestAnimationFrame(T)};c.current=requestAnimationFrame(T)}else c.current&&cancelAnimationFrame(c.current);return()=>{c.current&&cancelAnimationFrame(c.current)}},[l]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Complex Number Rotation"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:h,height:u,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Rotation Angle: ",n,""]}),i.jsx("input",{type:"range",min:"0",max:"360",step:"5",value:n,onChange:y=>{o(!1),s(parseInt(y.target.value))},className:"w-full"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o(!l),className:`flex-1 px-3 py-1.5 text-sm rounded ${l?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:l?"Stop":"Animate"}),i.jsx("button",{onClick:()=>s(90),className:"px-3 py-1.5 text-sm bg-slate-700 text-slate-200 rounded hover:bg-slate-600",children:"90"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:r,onChange:y=>a(y.target.checked),className:"rounded"}),"Show rotation matrix"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-yellow-400",children:"Key Insight:"})}),i.jsxs("p",{className:"text-slate-400",children:["Multiplying z = x + iy by",i.jsx("br",{}),i.jsx("span",{className:"text-yellow-400",children:"cos  + i sin "}),i.jsx("br",{}),"rotates z by angle  about the origin."]}),i.jsxs("p",{className:"text-slate-400 mt-2",children:["This is why ",i.jsx("span",{className:"text-cyan-400",children:"i = -1"}),":",i.jsx("br",{}),"Multiplying by i rotates by 90, so i rotates by 180 = multiplication by -1."]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue:"})," Original shape"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Rotated shape"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," e^(i) on unit circle"]})]})]})]})]})}function hQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:1}),[r,a]=q.useState({x:1,y:2}),[l,o]=q.useState(null),[c,h]=q.useState(!0),u=550,m=400,p=u/2,b=m/2,E=40,y=q.useCallback((j,g)=>({x:p+j*E,y:b-g*E}),[]),T=q.useCallback((j,g)=>({x:(j-p)/E,y:(b-g)/E}),[]),S=n.x*r.y-n.y*r.x,N=Math.abs(S)<.01,v=q.useCallback(j=>{const g=e.current;if(!g)return{x:0,y:0};const A=g.getBoundingClientRect();return{x:j.clientX-A.left,y:j.clientY-A.top}},[]),f=q.useCallback(j=>{const g=v(j),A=y(n.x,n.y),w=y(r.x,r.y),k=Math.sqrt((g.x-A.x)**2+(g.y-A.y)**2),M=Math.sqrt((g.x-w.x)**2+(g.y-w.y)**2);k<15?o("u"):M<15&&o("v")},[v,y,n,r]),x=q.useCallback(j=>{if(!l)return;const g=v(j),A=T(g.x,g.y),w={x:Math.round(A.x*2)/2,y:Math.round(A.y*2)/2};w.x=Math.max(-5,Math.min(5,w.x)),w.y=Math.max(-4,Math.min(4,w.y)),l==="u"?s(w):a(w)},[l,v,T]),C=q.useCallback(()=>{o(null)},[]);return q.useEffect(()=>{const j=e.current;if(!j)return;const g=j.getContext("2d");if(!g)return;g.fillStyle="#0f172a",g.fillRect(0,0,u,m),g.strokeStyle="#1e293b",g.lineWidth=1;for(let w=0;w<=u;w+=E)g.beginPath(),g.moveTo(w,0),g.lineTo(w,m),g.stroke();for(let w=0;w<=m;w+=E)g.beginPath(),g.moveTo(0,w),g.lineTo(u,w),g.stroke();if(g.strokeStyle="#475569",g.lineWidth=2,g.beginPath(),g.moveTo(0,b),g.lineTo(u,b),g.moveTo(p,0),g.lineTo(p,m),g.stroke(),c&&!N){const w=g.createLinearGradient(p,b,p+200,b-200);w.addColorStop(0,"rgba(96, 165, 250, 0.1)"),w.addColorStop(1,"rgba(52, 211, 153, 0.1)");for(let k=-3;k<=3;k++)for(let M=-3;M<=3;M++){const I=y(k*n.x+M*r.x,k*n.y+M*r.y);g.fillStyle="rgba(96, 165, 250, 0.05)",g.beginPath(),g.arc(I.x,I.y,3,0,Math.PI*2),g.fill()}}if(N&&(n.x!==0||n.y!==0)){g.strokeStyle="#f472b6",g.lineWidth=3,g.setLineDash([8,4]);const w=Math.sqrt(n.x**2+n.y**2),k=n.x/w,M=n.y/w,I=y(-10*k,-10*M),O=y(10*k,10*M);g.beginPath(),g.moveTo(I.x,I.y),g.lineTo(O.x,O.y),g.stroke(),g.setLineDash([])}const A=(w,k,M,I)=>{const O=y(0,0),$=y(w,k);g.strokeStyle=M,g.lineWidth=3,g.beginPath(),g.moveTo(O.x,O.y),g.lineTo($.x,$.y),g.stroke();const G=Math.atan2(O.y-$.y,O.x-$.x),V=12;g.beginPath(),g.moveTo($.x,$.y),g.lineTo($.x+V*Math.cos(G-Math.PI/6),$.y+V*Math.sin(G-Math.PI/6)),g.moveTo($.x,$.y),g.lineTo($.x+V*Math.cos(G+Math.PI/6),$.y+V*Math.sin(G+Math.PI/6)),g.stroke(),g.fillStyle=M,g.beginPath(),g.arc($.x,$.y,6,0,Math.PI*2),g.fill(),g.font="bold 14px sans-serif",g.fillText(I,$.x+10,$.y-10),g.font="11px sans-serif",g.fillText(`(${w.toFixed(1)}, ${k.toFixed(1)})`,$.x+10,$.y+5)};A(n.x,n.y,"#60a5fa","u"),A(r.x,r.y,"#34d399","v"),g.fillStyle="#f472b6",g.beginPath(),g.arc(p,b,5,0,Math.PI*2),g.fill(),g.font="bold 12px sans-serif",g.fillStyle="#f472b6",g.fillText("O",p+8,b+15),g.font="bold 16px sans-serif",N?(g.fillStyle="#f472b6",g.fillText("Linearly DEPENDENT",10,30),g.font="12px sans-serif",g.fillStyle="#94a3b8",g.fillText("(vectors are parallel - span only a line)",10,50)):(g.fillStyle="#34d399",g.fillText("Linearly INDEPENDENT",10,30),g.font="12px sans-serif",g.fillStyle="#94a3b8",g.fillText("(vectors span the entire plane)",10,50)),g.fillStyle="#e2e8f0",g.font="13px sans-serif",g.fillText(`det = uv  uv = ${n.x.toFixed(1)}${r.y.toFixed(1)}  ${n.y.toFixed(1)}${r.x.toFixed(1)} = ${S.toFixed(2)}`,10,m-20)},[n,r,c,N,y,S]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Linear Independence and Direction"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:u,height:m,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:f,onMouseMove:x,onMouseUp:C,onMouseLeave:C})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>h(!c),className:`px-4 py-2 rounded transition ${c?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:c?"Showing Span":"Hide Span"}),i.jsx("button",{onClick:()=>{s({x:2,y:1}),a({x:4,y:2})},className:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-500 transition",children:"Make Dependent"}),i.jsx("button",{onClick:()=>{s({x:3,y:1}),a({x:1,y:2})},className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Linear Independence:"})," Vectors ",i.jsx("span",{className:"text-blue-400",children:"u"})," and"," ",i.jsx("span",{className:"text-green-400",children:"v"})," are linearly independent if neither is a multiple of the other. Equivalently, the only solution to"," ",i.jsx("span",{className:"font-mono",children:"au + bv = 0"})," is a = b = 0."]}),i.jsx("p",{className:"mt-2",children:"Drag the vector tips to explore! When det  0, the vectors span ."})]})]})}function uQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:1}),[r,a]=q.useState({x:2,y:3}),[l,o]=q.useState(null),c=550,h=400,u=c/2,m=h/2,p=45,b=q.useCallback((A,w)=>({x:u+A*p,y:m-w*p}),[]),E=q.useCallback((A,w)=>({x:(A-u)/p,y:(m-w)/p}),[]),y=Math.sqrt(n.x**2+n.y**2),T=Math.sqrt(r.x**2+r.y**2),S=n.x*r.x+n.y*r.y,N=y>0&&T>0?S/(y*T):0,f=Math.acos(Math.max(-1,Math.min(1,N)))*180/Math.PI,x=q.useCallback(A=>{const w=e.current;if(!w)return{x:0,y:0};const k=w.getBoundingClientRect();return{x:A.clientX-k.left,y:A.clientY-k.top}},[]),C=q.useCallback(A=>{const w=x(A),k=b(n.x,n.y),M=b(r.x,r.y),I=Math.sqrt((w.x-k.x)**2+(w.y-k.y)**2),O=Math.sqrt((w.x-M.x)**2+(w.y-M.y)**2);I<15?o("u"):O<15&&o("v")},[x,b,n,r]),j=q.useCallback(A=>{if(!l)return;const w=x(A),k=E(w.x,w.y),M={x:Math.max(-4,Math.min(4,k.x)),y:Math.max(-3.5,Math.min(3.5,k.y))};l==="u"?s(M):a(M)},[l,x,E]),g=q.useCallback(()=>{o(null)},[]);return q.useEffect(()=>{const A=e.current;if(!A)return;const w=A.getContext("2d");if(!w)return;w.fillStyle="#0f172a",w.fillRect(0,0,c,h),w.strokeStyle="#1e293b",w.lineWidth=1;for(let O=0;O<=c;O+=p)w.beginPath(),w.moveTo(O,0),w.lineTo(O,h),w.stroke();for(let O=0;O<=h;O+=p)w.beginPath(),w.moveTo(0,O),w.lineTo(c,O),w.stroke();if(w.strokeStyle="#475569",w.lineWidth=2,w.beginPath(),w.moveTo(0,m),w.lineTo(c,m),w.moveTo(u,0),w.lineTo(u,h),w.stroke(),y>.1&&T>.1){const $=Math.atan2(n.y,n.x),G=Math.atan2(r.y,r.x);w.strokeStyle="#fbbf24",w.lineWidth=2,w.beginPath();const V=Math.min($,G),J=Math.max($,G);J-V<=Math.PI?w.arc(u,m,30,-J,-V):w.arc(u,m,30,-V,-J),w.stroke();const re=($+G)/2,se=50;w.fillStyle="#fbbf24",w.font="14px sans-serif",w.fillText(` = ${f.toFixed(1)}`,u+se*Math.cos(re)-25,m-se*Math.sin(re))}const k=(O,$,G,V)=>{const J=b(0,0),ee=b(O,$);w.strokeStyle=G,w.lineWidth=3,w.beginPath(),w.moveTo(J.x,J.y),w.lineTo(ee.x,ee.y),w.stroke();const re=Math.atan2(J.y-ee.y,J.x-ee.x),se=12;w.beginPath(),w.moveTo(ee.x,ee.y),w.lineTo(ee.x+se*Math.cos(re-Math.PI/6),ee.y+se*Math.sin(re-Math.PI/6)),w.moveTo(ee.x,ee.y),w.lineTo(ee.x+se*Math.cos(re+Math.PI/6),ee.y+se*Math.sin(re+Math.PI/6)),w.stroke(),w.fillStyle=G,w.beginPath(),w.arc(ee.x,ee.y,6,0,Math.PI*2),w.fill(),w.font="bold 14px sans-serif",w.fillText(V,ee.x+10,ee.y-10)};k(n.x,n.y,"#60a5fa","u"),k(r.x,r.y,"#34d399","v"),w.fillStyle="#f472b6",w.beginPath(),w.arc(u,m,5,0,Math.PI*2),w.fill();const M=10,I=10;w.fillStyle="rgba(30, 41, 59, 0.9)",w.fillRect(M,I,220,130),w.strokeStyle="#475569",w.strokeRect(M,I,220,130),w.font="bold 13px sans-serif",w.fillStyle="#e2e8f0",w.fillText("Inner Product Formula:",M+10,I+25),w.font="12px sans-serif",w.fillStyle="#60a5fa",w.fillText(`|u| = ${y.toFixed(2)}`,M+10,I+50),w.fillStyle="#34d399",w.fillText(`|v| = ${T.toFixed(2)}`,M+100,I+50),w.fillStyle="#fbbf24",w.fillText(`cos  = ${N.toFixed(3)}`,M+10,I+70),w.fillStyle="#e2e8f0",w.fillText(`uv = ${S.toFixed(2)}`,M+10,I+95),w.fillStyle="#c084fc",w.fillText(`|u||v|cos  = ${(y*T*N).toFixed(2)}`,M+10,I+115),Math.abs(S)<.1&&(w.fillStyle="#34d399",w.font="bold 14px sans-serif",w.fillText("Perpendicular! (uv = 0)",c-180,h-20))},[n,r,b,y,T,S,N,f]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Inner Product and Cosine"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:C,onMouseMove:j,onMouseUp:g,onMouseLeave:g})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>{s({x:3,y:0}),a({x:0,y:2})},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-500 transition",children:"Make Perpendicular"}),i.jsx("button",{onClick:()=>{s({x:3,y:1}),a({x:2,y:3})},className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"text-center font-mono text-lg text-pink-400 mb-2",children:"u  v = |u| |v| cos "}),i.jsxs("p",{children:["The dot product of vectors ",i.jsx("span",{className:"text-blue-400",children:"u"})," and"," ",i.jsx("span",{className:"text-green-400",children:"v"})," equals the product of their magnitudes times the cosine of the angle between them."]}),i.jsx("p",{className:"mt-2",children:"Drag the vector tips to see how the angle and dot product change!"})]})]})}function dQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:2,y:1}),[r,a]=q.useState({x:1,y:2.5}),[l,o]=q.useState(null),[c,h]=q.useState(!0),u=550,m=400,p=150,b=m-100,E=50,y=q.useCallback((A,w)=>({x:p+A*E,y:b-w*E}),[]),T=q.useCallback((A,w)=>({x:(A-p)/E,y:(b-w)/E}),[]),S=Math.sqrt(n.x**2+n.y**2),N=Math.sqrt(r.x**2+r.y**2),v={x:n.x+r.x,y:n.y+r.y},f=Math.sqrt(v.x**2+v.y**2),x=q.useCallback(A=>{const w=e.current;if(!w)return{x:0,y:0};const k=w.getBoundingClientRect();return{x:A.clientX-k.left,y:A.clientY-k.top}},[]),C=q.useCallback(A=>{const w=x(A),k=y(n.x,n.y),M=y(n.x+r.x,n.y+r.y),I=Math.sqrt((w.x-k.x)**2+(w.y-k.y)**2),O=Math.sqrt((w.x-M.x)**2+(w.y-M.y)**2);I<15?o("u"):O<15&&o("v")},[x,y,n,r]),j=q.useCallback(A=>{if(!l)return;const w=x(A);if(l==="u"){const k=T(w.x,w.y);s({x:Math.max(.5,Math.min(4,k.x)),y:Math.max(0,Math.min(4,k.y))})}else if(l==="v"){const k=T(w.x,w.y);a({x:Math.max(-2,Math.min(4,k.x-n.x)),y:Math.max(-2,Math.min(4,k.y-n.y))})}},[l,x,T,n]),g=q.useCallback(()=>{o(null)},[]);return q.useEffect(()=>{const A=e.current;if(!A)return;const w=A.getContext("2d");if(!w)return;w.fillStyle="#0f172a",w.fillRect(0,0,u,m),w.strokeStyle="#1e293b",w.lineWidth=1;for(let se=0;se<=u;se+=E)w.beginPath(),w.moveTo(se,0),w.lineTo(se,m),w.stroke();for(let se=0;se<=m;se+=E)w.beginPath(),w.moveTo(0,se),w.lineTo(u,se),w.stroke();const k=y(0,0),M=y(n.x,n.y),I=y(v.x,v.y),O=(se,he,ae,Ne,Te,tt=3)=>{w.strokeStyle=Te,w.lineWidth=tt,w.beginPath(),w.moveTo(se,he),w.lineTo(ae,Ne),w.stroke();const Me=Math.atan2(he-Ne,se-ae),Ae=10;w.beginPath(),w.moveTo(ae,Ne),w.lineTo(ae+Ae*Math.cos(Me-Math.PI/6),Ne+Ae*Math.sin(Me-Math.PI/6)),w.moveTo(ae,Ne),w.lineTo(ae+Ae*Math.cos(Me+Math.PI/6),Ne+Ae*Math.sin(Me+Math.PI/6)),w.stroke()};if(O(k.x,k.y,M.x,M.y,"#60a5fa"),O(M.x,M.y,I.x,I.y,"#34d399"),O(k.x,k.y,I.x,I.y,"#f472b6",4),c){w.strokeStyle="#475569",w.lineWidth=1,w.setLineDash([4,4]);const se=y(v.x,0);w.beginPath(),w.moveTo(k.x,k.y),w.lineTo(se.x,se.y),w.lineTo(I.x,I.y),w.stroke(),w.setLineDash([])}w.fillStyle="#f472b6",w.beginPath(),w.arc(k.x,k.y,5,0,Math.PI*2),w.fill(),w.font="bold 12px sans-serif",w.fillText("O",k.x-20,k.y+5),w.fillStyle="#60a5fa",w.beginPath(),w.arc(M.x,M.y,7,0,Math.PI*2),w.fill(),w.fillStyle="#34d399",w.beginPath(),w.arc(I.x,I.y,7,0,Math.PI*2),w.fill(),w.font="bold 14px sans-serif",w.fillStyle="#60a5fa";const $={x:(k.x+M.x)/2,y:(k.y+M.y)/2};w.fillText("u",$.x-20,$.y-5),w.fillStyle="#34d399";const G={x:(M.x+I.x)/2,y:(M.y+I.y)/2};w.fillText("v",G.x+10,G.y-5),w.fillStyle="#f472b6";const V={x:(k.x+I.x)/2,y:(k.y+I.y)/2};w.fillText("u+v",V.x-35,V.y+5);const J=320,ee=20;w.fillStyle="rgba(30, 41, 59, 0.95)",w.fillRect(J,ee,210,160),w.strokeStyle="#475569",w.strokeRect(J,ee,210,160),w.font="bold 14px sans-serif",w.fillStyle="#e2e8f0",w.fillText("Triangle Inequality:",J+10,ee+25),w.font="13px sans-serif",w.fillStyle="#60a5fa",w.fillText(`|u| = ${S.toFixed(2)}`,J+10,ee+55),w.fillStyle="#34d399",w.fillText(`|v| = ${N.toFixed(2)}`,J+10,ee+75),w.fillStyle="#94a3b8",w.fillText(`|u| + |v| = ${(S+N).toFixed(2)}`,J+10,ee+100),w.fillStyle="#f472b6",w.fillText(`|u + v| = ${f.toFixed(2)}`,J+10,ee+125);const re=S+N-f;w.fillStyle=re>=-.01?"#34d399":"#ef4444",w.font="bold 12px sans-serif",w.fillText("|u+v|  |u| + |v|  ",J+10,ee+150),w.fillStyle="#94a3b8",w.font="12px sans-serif",w.fillText("The direct path (pink) is never longer than going via the corner.",20,m-20)},[n,r,c,y,S,N,f,v]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Triangle Inequality: |u + v|  |u| + |v|"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:u,height:m,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:C,onMouseMove:j,onMouseUp:g,onMouseLeave:g})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>h(!c),className:`px-4 py-2 rounded transition ${c?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:c?"Hide Components":"Show Components"}),i.jsx("button",{onClick:()=>{s({x:2,y:1}),a({x:2,y:1})},className:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-500 transition",children:"Equality Case"}),i.jsx("button",{onClick:()=>{s({x:2,y:1}),a({x:1,y:2.5})},className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Triangle Inequality:"})," The length of the sum |",i.jsx("span",{className:"text-pink-400",children:"u + v"}),"| is at most the sum of the lengths |",i.jsx("span",{className:"text-blue-400",children:"u"}),"| + |",i.jsx("span",{className:"text-green-400",children:"v"}),"|."]}),i.jsxs("p",{className:"mt-2",children:["Equality holds when ",i.jsx("span",{className:"text-blue-400",children:"u"})," and ",i.jsx("span",{className:"text-green-400",children:"v"})," point in the same direction. Drag the endpoints to explore!"]})]})]})}function mQ(){return i.jsxs(qe,{sectionId:23,children:[i.jsx("h2",{children:"Vectors"}),i.jsxs("p",{children:["In this chapter, we process coordinates by ",i.jsx("strong",{children:"linear algebra"}),". We view points as ",i.jsx("strong",{children:"vectors"})," that can be added and multiplied by numbers, and we introduce the ",i.jsx("strong",{children:"inner product"})," of vectors, which gives an efficient algebraic method to deal with both lengths and angles."]}),i.jsx("h3",{children:"What is a Vector?"}),i.jsx("p",{children:"Vectors are mathematical objects that can be added and multiplied by numbers, subject to certain rules. The real numbers are the simplest example of vectors, and the rules for sums and multiples of any vectors are just the following properties of sums and multiples of numbers:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{v} = \\mathbf{v} + \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (\\mathbf{v} + \\mathbf{w}) = (\\mathbf{u} + \\mathbf{v}) + \\mathbf{w}"}),i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{0} = \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (-\\mathbf{u}) = \\mathbf{0}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"1\\mathbf{u} = \\mathbf{u}"}),i.jsx(Y,{children:"a(\\mathbf{u} + \\mathbf{v}) = a\\mathbf{u} + a\\mathbf{v}"}),i.jsx(Y,{children:"(a + b)\\mathbf{u} = a\\mathbf{u} + b\\mathbf{u}"}),i.jsx(Y,{children:"a(b\\mathbf{u}) = (ab)\\mathbf{u}"})]})]}),i.jsx("h3",{children:"Vectors in the Plane"}),i.jsxs("p",{children:["These rules hold when ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", ",i.jsx("strong",{children:"w"})," are points in the plane , if we interpret ",i.jsx("strong",{children:"0"})," as (0, 0), and define:"]}),i.jsxs(xe,{title:"Vector Sum",children:[i.jsxs("p",{children:["For ",i.jsx("strong",{children:"u"})," = (u, u) and ",i.jsx("strong",{children:"v"})," = (v, v):"]}),i.jsx(Y,{children:"(u_1, u_2) + (v_1, v_2) = (u_1 + v_1, u_2 + v_2)"})]}),i.jsxs(xe,{title:"Scalar Multiple",children:[i.jsxs("p",{children:["For a real number ",i.jsx("em",{children:"a"})," and vector ",i.jsx("strong",{children:"u"})," = (u, u):"]}),i.jsx(Y,{children:"a(u_1, u_2) = (au_1, au_2)"})]}),i.jsx("h3",{children:"The Parallelogram Rule"}),i.jsxs("p",{children:["The vector sum is geometrically interesting because ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," is the fourth vertex of a parallelogram formed by the points ",i.jsx("strong",{children:"0"}),",",i.jsx("strong",{children:" u"}),", and ",i.jsx("strong",{children:"v"}),"."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Parallelogram Rule:"}),' The rule for forming the sum of two vectors is often called the "parallelogram rule" because ',i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"completes the parallelogram with vertices at ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),", and ",i.jsx("strong",{children:"v"}),"."]}),i.jsx("h3",{children:"Scalar Multiplication as Dilation"}),i.jsxs("p",{children:["Scalar multiplication by ",i.jsx("em",{children:"a"})," is also geometrically interesting because it represents ",i.jsx("strong",{children:"magnification"})," (or dilation) by the factor ",i.jsx("em",{children:"a"}),". It magnifies the whole plane by the factor ",i.jsx("em",{children:"a"}),", transforming each figure into a similar copy of itself."]}),i.jsxs(xe,{title:"Real Vector Space",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"real vector space"})," is a set V of objects, called vectors, with operations of vector addition and scalar multiplication satisfying:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["If ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are in V, then so are",i.jsx("strong",{children:" u"})," + ",i.jsx("strong",{children:"v"})," and a",i.jsx("strong",{children:"u"})," for any real number ",i.jsx("em",{children:"a"})]}),i.jsxs("li",{children:["There is a zero vector ",i.jsx("strong",{children:"0"})," such that ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"0"})," = ",i.jsx("strong",{children:"u"})]}),i.jsxs("li",{children:["Each ",i.jsx("strong",{children:"u"})," has an additive inverse ",i.jsx("strong",{children:"u"})," such that",i.jsx("strong",{children:" u"})," + (",i.jsx("strong",{children:"u"}),") = ",i.jsx("strong",{children:"0"})]}),i.jsx("li",{children:"The eight properties listed above hold"})]})]}),i.jsx("h3",{children:"Higher Dimensions"}),i.jsx("p",{children:"Real vector spaces are a natural setting for Euclidean geometry. Once we add the inner product (next sections), we can prove all theorems of Euclidean geometry. We can also extend to any number of dimensions using ."}),i.jsxs(ue,{title:"Three-Dimensional Space",children:[i.jsx("p",{children:"We can study three-dimensional Euclidean geometry in the space of ordered triples:"}),i.jsx(Y,{children:"\\mathbb{R}^3 = \\{(x_1, x_2, x_3) : x_1, x_2, x_3 \\in \\mathbb{R}\\}"}),i.jsx("p",{className:"mt-2",children:"with componentwise addition and scalar multiplication."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Check that the other seven properties of a vector space for  are inherited from corresponding properties of ."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Similarly check that  has the eight properties of a vector space."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.3"}),i.jsx("p",{className:"text-slate-300",children:"What is the geometric meaning of the transformation of  when every vector is multiplied by 1? Is it a rotation?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.4"}),i.jsx("p",{className:"text-slate-300",children:"Is it a rotation of  when every vector is multiplied by 1?"})]}),i.jsx(oQ,{className:"my-6"}),i.jsx(Re,{sectionId:23,questions:$e[23]||[],title:"Vectors Quiz"})]})}function fQ(){return i.jsxs(qe,{sectionId:24,children:[i.jsx("h2",{children:"Direction and Linear Independence"}),i.jsxs("p",{children:["Vectors give a concept of ",i.jsx("strong",{children:"direction"})," in  by representing lines through the origin. If ",i.jsx("strong",{children:"u"})," is a nonzero vector, then the real multiples ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"u"})," of ",i.jsx("strong",{children:"u"})," make up the line through ",i.jsx("strong",{children:"0"})," and ",i.jsx("strong",{children:"u"}),', so we call them the points "in direction ',i.jsx("strong",{children:"u"})," from ",i.jsx("strong",{children:"0"}),'."']}),i.jsxs(me,{type:"info",children:["It is simpler to associate direction with a whole line, rather than a half line. So we say ",i.jsx("strong",{children:"u"})," is in the same direction as ",i.jsx("strong",{children:"u"}),"."]}),i.jsx("h3",{children:"Linear Independence"}),i.jsxs("p",{children:["Nonzero vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," have ",i.jsx("strong",{children:"different directions"})," from ",i.jsx("strong",{children:"0"})," if neither is a multiple of the other. Such vectors are called ",i.jsx("strong",{children:"linearly independent"}),"."]}),i.jsxs(xe,{title:"Linear Independence",children:[i.jsxs("p",{children:["Vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are ",i.jsx("strong",{children:"linearly independent"}),"if there are no real numbers ",i.jsx("em",{children:"a"})," and ",i.jsx("em",{children:"b"}),", not both zero, with:"]}),i.jsx(Y,{children:"a\\mathbf{u} + b\\mathbf{v} = \\mathbf{0}"}),i.jsxs("p",{className:"mt-2",children:["Because if one of ",i.jsx("em",{children:"a"}),", ",i.jsx("em",{children:"b"})," is not zero in this equation, we can divide by it and express one of ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"})," as a multiple of the other."]})]}),i.jsx("h3",{children:"Direction Relative to a Point"}),i.jsxs("p",{children:["The concept of direction has an obvious generalization: ",i.jsx("strong",{children:"w"})," has direction ",i.jsx("strong",{children:"u"})," from ",i.jsx("strong",{children:"v"})," (or relative to ",i.jsx("strong",{children:"v"}),") if ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"})," is a multiple of ",i.jsx("strong",{children:"u"}),"."]}),i.jsxs(xe,{title:"Parallel Line Segments",children:[i.jsxs("p",{children:["Line segments from ",i.jsx("strong",{children:"v"})," to ",i.jsx("strong",{children:"w"})," and from",i.jsx("strong",{children:" s"})," to ",i.jsx("strong",{children:"t"})," are ",i.jsx("strong",{children:"parallel"})," if they have the same direction:"]}),i.jsx(Y,{children:"\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s}) \\text{ for some } a \\neq 0"})]}),i.jsx("h3",{children:"The Vector Thales Theorem"}),i.jsx("p",{children:"Let us try out the vector concept of parallels on an important theorem from previous chapters: the Thales theorem that parallels cut a pair of lines in proportional segments."}),i.jsx(ue,{title:"Vector Thales Theorem",children:i.jsxs("p",{children:["If ",i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"v"})," are on one line through",i.jsx("strong",{children:" 0"}),", ",i.jsx("strong",{children:"t"})," and ",i.jsx("strong",{children:"w"})," are on another, and ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"})," is parallel to ",i.jsx("strong",{children:"t"}),"  ",i.jsx("strong",{children:"s"}),", then ",i.jsx("strong",{children:"v"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"w"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"t"}),"for some number ",i.jsx("em",{children:"a"}),"."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["If ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"})," is parallel to ",i.jsx("strong",{children:"t"}),"  ",i.jsx("strong",{children:"s"}),", then:"]}),i.jsx(Y,{children:"\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s}) = a\\mathbf{t} - a\\mathbf{s}"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["Because ",i.jsx("strong",{children:"v"})," is on the same line through ",i.jsx("strong",{children:"0"})," as ",i.jsx("strong",{children:"s"}),", we have ",i.jsx("strong",{children:"v"})," = ",i.jsx("em",{children:"b"}),i.jsx("strong",{children:"s"})," for some ",i.jsx("em",{children:"b"}),", and similarly",i.jsx("strong",{children:" w"})," = ",i.jsx("em",{children:"c"}),i.jsx("strong",{children:"t"})," for some ",i.jsx("em",{children:"c"}),". It follows that:"]}),i.jsx(Y,{children:"(c - a)\\mathbf{t} + (a - b)\\mathbf{s} = \\mathbf{0}"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["But ",i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"t"})," are in different directions from ",i.jsx("strong",{children:"0"}),", hence linearly independent, so ",i.jsx("em",{children:"c"}),"  ",i.jsx("em",{children:"a"})," = ",i.jsx("em",{children:"a"}),"  ",i.jsx("em",{children:"b"})," = 0. Thus, ",i.jsx("strong",{children:"v"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"w"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"t"}),"."]})]}),i.jsx("h3",{children:"The Vector Pappus Theorem"}),i.jsx("p",{children:'As in axiomatic geometry, the Pappus theorem follows from the Thales theorem. However, "proportionality" is easier to handle with vectors.'}),i.jsx(ue,{title:"Vector Pappus Theorem",children:i.jsxs("p",{children:["If ",i.jsx("strong",{children:"r"}),", ",i.jsx("strong",{children:"s"}),", ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", ",i.jsx("strong",{children:"w"})," lie alternately on two lines through",i.jsx("strong",{children:" 0"}),", with ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," parallel to",i.jsx("strong",{children:" s"}),"  ",i.jsx("strong",{children:"r"})," and ",i.jsx("strong",{children:"t"}),"  ",i.jsx("strong",{children:"s"}),"parallel to ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"w"}),", then ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"t"}),"is parallel to ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"r"}),"."]})}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," The last step in the proof of the Pappus theorem, where we exchange ",i.jsx("em",{children:"ba"})," for ",i.jsx("em",{children:"ab"}),", is trivial because ",i.jsx("em",{children:"ab"})," = ",i.jsx("em",{children:"ba"}),"for real numbers. But in Chapter 6, where we develop geometry without numbers, the Pappus theorem becomes crucial for getting multiplication to behave properly."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.2.1"}),i.jsx("p",{className:"text-slate-300",children:'Following the setup explained in Exercise 1.4.4, formulate a "vector Desargues theorem."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove your vector Desargues theorem with the help of the vector Thales theorem."})]}),i.jsx(hQ,{className:"my-6"}),i.jsx(Re,{sectionId:24,questions:$e[24]||[],title:"Direction and Linear Independence Quiz"})]})}function pQ(){return i.jsxs(qe,{sectionId:25,children:[i.jsx("h2",{children:"Midpoints and Centroids"}),i.jsxs("p",{children:["The definition of a real vector space does not include a definition of distance, but we can speak of the ",i.jsx("strong",{children:"midpoint"})," of a line segment and, more generally, of the point that divides a segment in a given ratio."]}),i.jsx("h3",{children:"Finding Points on a Line"}),i.jsxs("p",{children:["First observe that ",i.jsx("strong",{children:"v"})," is obtained from ",i.jsx("strong",{children:"u"})," by adding ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),", the vector that represents the position of ",i.jsx("strong",{children:"v"})," relative to ",i.jsx("strong",{children:"u"}),". More generally, adding any scalar multiple ",i.jsx("em",{children:"a"}),"(",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") to ",i.jsx("strong",{children:"u"})," produces a point whose direction relative to ",i.jsx("strong",{children:"u"}),"is the same as that of ",i.jsx("strong",{children:"v"}),"."]}),i.jsx(xe,{title:"Points on a Line",children:i.jsxs("p",{children:["The points ",i.jsx("strong",{children:"u"})," + ",i.jsx("em",{children:"a"}),"(",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") are precisely those on the line through ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"."]})}),i.jsx("h3",{children:"The Midpoint Formula"}),i.jsxs("p",{children:["In particular, the midpoint of the segment between ",i.jsx("strong",{children:"u"})," and",i.jsx("strong",{children:" v"})," is obtained by adding (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") to ",i.jsx("strong",{children:"u"}),":"]}),i.jsxs(ue,{title:"Midpoint Formula",children:[i.jsx(Y,{children:"\\text{midpoint of } \\mathbf{u} \\text{ and } \\mathbf{v} = \\mathbf{u} + \\frac{1}{2}(\\mathbf{v} - \\mathbf{u}) = \\frac{1}{2}(\\mathbf{u} + \\mathbf{v})"}),i.jsxs("p",{className:"mt-2",children:["The midpoint of a line segment between ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"is the ",i.jsx("strong",{children:"vector average"})," of ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"Diagonals of a Parallelogram"}),i.jsx("p",{children:"This description of the midpoint gives a very short proof of the theorem that the diagonals of a parallelogram bisect each other."}),i.jsxs(ue,{title:"Parallelogram Diagonals Bisect",children:[i.jsxs("p",{children:["By choosing one vertex of a parallelogram at ",i.jsx("strong",{children:"0"}),", we can assume the other vertices are at ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"."]}),i.jsxs("p",{className:"mt-2",children:["The midpoint of the diagonal from ",i.jsx("strong",{children:"0"})," to ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"is (",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"). And this is also the midpoint of the other diagonalthe segment between ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"The Centroid"}),i.jsxs(xe,{title:"Centroid",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"vector average"})," of two or more points is physically significant because it is the ",i.jsx("strong",{children:"barycenter"})," (center of mass) of the system obtained by placing equal masses at the given points."]}),i.jsxs("p",{className:"mt-2",children:["The geometric name for this vector average point is the ",i.jsx("strong",{children:"centroid"}),"."]})]}),i.jsx("h3",{children:"Medians of a Triangle"}),i.jsxs("p",{children:["In the case of a triangle, the centroid has an alternative geometric description, given by the following classical theorem about ",i.jsx("strong",{children:"medians"}),": the lines from the vertices of a triangle to the midpoints of the respective opposite sides."]}),i.jsx(ue,{title:"Concurrence of Medians",children:i.jsx("p",{children:"The medians of any triangle pass through the same point, the centroid of the triangle."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["Suppose the vertices of the triangle are ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and ",i.jsx("strong",{children:"w"}),". The median from ",i.jsx("strong",{children:"u"})," goes to the midpoint (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["The medians meet at the point 2/3 of the way from ",i.jsx("strong",{children:"u"})," to (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),"):"]}),i.jsx(Y,{children:"\\mathbf{u} + \\frac{2}{3}\\left(\\frac{1}{2}(\\mathbf{v} + \\mathbf{w}) - \\mathbf{u}\\right) = \\frac{1}{3}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This is the centroid! A similar argument shows it lies 2/3 of the way along each of the other two medians."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Symmetry Insight:"})," The formula (",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),") is unchanged when we permute the letters ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and ",i.jsx("strong",{children:"w"}),". This symmetry guarantees all three medians pass through the same point."]}),i.jsx("h3",{children:"Extension to Three Dimensions"}),i.jsxs("p",{children:["The theorem about concurrence of medians generalizes beautifully to three dimensions, where the figure corresponding to a triangle is a ",i.jsx("strong",{children:"tetrahedron"}),": a solid with four vertices joined by six lines that bound four triangular faces."]}),i.jsxs(ue,{title:"Tetrahedron Centroid",children:[i.jsxs("p",{children:["If a tetrahedron has vertices ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", and ",i.jsx("strong",{children:"w"}),", then the four lines from each vertex to the centroid of the opposite face all meet at the centroid:"]}),i.jsx(Y,{children:"\\frac{1}{4}(\\mathbf{t} + \\mathbf{u} + \\mathbf{v} + \\mathbf{w})"}),i.jsx("p",{className:"mt-2",children:"Each line passes through the centroid at 3/4 of the way from the vertex to the centroid of the opposite face."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.3.1"}),i.jsxs("p",{className:"text-slate-300",children:["Show that a square with vertices ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", ",i.jsx("strong",{children:"w"})," has center (",i.jsx("strong",{children:"t"})," + ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.3.2"}),i.jsxs("p",{className:"text-slate-300",children:["Suppose a tetrahedron has vertices ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", and ",i.jsx("strong",{children:"w"}),". Show that the centroid of the face opposite to ",i.jsx("strong",{children:"t"})," is (",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.3.3"}),i.jsxs("p",{className:"text-slate-300",children:["Show that the point 3/4 of the way from ",i.jsx("strong",{children:"t"})," to the centroid of the opposite face is (",i.jsx("strong",{children:"t"})," + ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsx(lQ,{className:"my-6"}),i.jsx(Re,{sectionId:25,questions:$e[25]||[],title:"Midpoints and Centroids Quiz"})]})}function xQ(){return i.jsxs(qe,{sectionId:26,children:[i.jsx("h2",{children:"The Inner Product"}),i.jsx("p",{children:"The inner product is a powerful algebraic tool that captures geometric information about length and angle in a vector space."}),i.jsxs(xe,{title:"Inner Product",children:[i.jsxs("p",{children:["If ",i.jsx("strong",{children:"u"})," = (u, u) and ",i.jsx("strong",{children:"v"})," = (v, v) are vectors in , we define their ",i.jsx("strong",{children:"inner product"}),i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"})," to be:"]}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = u_1 v_1 + u_2 v_2"}),i.jsxs("p",{className:"mt-2",children:['The inner product of two vectors is not another vector, but a real number (or "scalar"). For this reason, ',i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," is also called the ",i.jsx("strong",{children:"scalar product"}),"."]})]}),i.jsx("h3",{children:"Algebraic Properties"}),i.jsx("p",{children:"It is easy to check, from the definition, that the inner product has the following algebraic properties:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = \\mathbf{v} \\cdot \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot (\\mathbf{v} + \\mathbf{w}) = \\mathbf{u} \\cdot \\mathbf{v} + \\mathbf{u} \\cdot \\mathbf{w}"}),i.jsx(Y,{children:"(a\\mathbf{u}) \\cdot \\mathbf{v} = \\mathbf{u} \\cdot (a\\mathbf{v}) = a(\\mathbf{u} \\cdot \\mathbf{v})"})]}),i.jsx("h3",{children:"Length from the Inner Product"}),i.jsxs(ue,{title:"Length Formula",children:[i.jsxs("p",{children:["The length |",i.jsx("strong",{children:"u"}),"| is the distance of ",i.jsx("strong",{children:"u"})," = (u, u) from the origin ",i.jsx("strong",{children:"0"}),". By the definition of distance in :"]}),i.jsx(Y,{children:"|\\mathbf{u}|^2 = u_1^2 + u_2^2 = \\mathbf{u} \\cdot \\mathbf{u}"})]}),i.jsxs("p",{children:["It follows that the square of the distance from ",i.jsx("strong",{children:"u"})," to",i.jsx("strong",{children:" v"})," is:"]}),i.jsx(Y,{children:"|\\mathbf{v} - \\mathbf{u}|^2 = (\\mathbf{v} - \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u}) = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2\\mathbf{u} \\cdot \\mathbf{v}"}),i.jsx("h3",{children:"Perpendicularity Criterion"}),i.jsx(ue,{title:"Perpendicularity Test",children:i.jsxs("p",{children:["Vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are ",i.jsx("strong",{children:"perpendicular"}),"if and only if ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," = 0."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:[i.jsx("strong",{children:"u"})," has slope u/u and ",i.jsx("strong",{children:"v"})," has slope v/v. From Section 3.5, we know they are perpendicular if and only if the product of their slopes is 1:"]}),i.jsx(Y,{children:"\\frac{u_2}{u_1} = -\\frac{v_1}{v_2} \\implies u_2 v_2 = -u_1 v_1"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["This equation holds if and only if 0 = uv + uv = ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"Concurrence of Altitudes"}),i.jsx("p",{children:"Even just the criterion for perpendicularity gives a simple proof of a far-from-obvious theorem:"}),i.jsx(ue,{title:"Concurrence of Altitudes",children:i.jsxs("p",{children:["In any triangle, the perpendiculars from the vertices to opposite sides (the ",i.jsx("strong",{children:"altitudes"}),") have a common point."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["Take ",i.jsx("strong",{children:"0"})," at the intersection of two altitudes, say those through the vertices ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),". Then it remains to show that the line from ",i.jsx("strong",{children:"0"})," to the third vertex",i.jsx("strong",{children:" w"})," is perpendicular to the side ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"."]}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["Because ",i.jsx("strong",{children:"u"})," is perpendicular to the opposite side ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"\\mathbf{u} \\cdot (\\mathbf{w} - \\mathbf{v}) = 0 \\implies \\mathbf{u} \\cdot \\mathbf{w} - \\mathbf{u} \\cdot \\mathbf{v} = 0"}),i.jsxs("p",{className:"text-slate-300 mt-2 mb-2",children:["Because ",i.jsx("strong",{children:"v"})," is perpendicular to the opposite side ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"w"}),":"]}),i.jsx(Y,{children:"\\mathbf{v} \\cdot (\\mathbf{u} - \\mathbf{w}) = 0 \\implies \\mathbf{v} \\cdot \\mathbf{u} - \\mathbf{v} \\cdot \\mathbf{w} = 0"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["Adding these equations: ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"w"})," = 0, so ",i.jsx("strong",{children:"w"}),"  (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") = 0. Thus, ",i.jsx("strong",{children:"w"})," is perpendicular to ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"."]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"The Orthocenter:"})," The point where all three altitudes of a triangle meet is called the ",i.jsx("strong",{children:"orthocenter"}),"."]}),i.jsx("h3",{children:"Perpendicular Bisector"}),i.jsx("p",{children:"The inner product also gives a concise way to show that the equidistant line of two points is the perpendicular bisector of the line connecting them."}),i.jsxs(ue,{title:"Perpendicular Bisector Characterization",children:[i.jsxs("p",{children:["The condition for ",i.jsx("strong",{children:"w"})," to be equidistant from ",i.jsx("strong",{children:"u"}),"and ",i.jsx("strong",{children:"v"})," is equivalent to:"]}),i.jsx(Y,{children:"\\left(\\mathbf{w} - \\frac{\\mathbf{u} + \\mathbf{v}}{2}\\right) \\cdot (\\mathbf{u} - \\mathbf{v}) = 0"}),i.jsxs("p",{className:"mt-2",children:["This says ",i.jsx("strong",{children:"w"})," is on the perpendicular bisector of the line from ",i.jsx("strong",{children:"u"})," to ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.4.1"}),i.jsxs("p",{className:"text-slate-300",children:["Suppose a parallelogram has vertices at ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", and ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),". Show that its diagonals have directions ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," and",i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.4.2"}),i.jsxs("p",{className:"text-slate-300",children:["Deduce from Exercise 4.4.1 that the inner product of these diagonal directions is |",i.jsx("strong",{children:"u"}),"|  |",i.jsx("strong",{children:"v"}),"|, and explain why this is zero for a rhombus."]})]}),i.jsx(aQ,{className:"my-6"}),i.jsx(Re,{sectionId:26,questions:$e[26]||[],title:"Inner Product Quiz"})]})}function gQ(){return i.jsxs(qe,{sectionId:27,children:[i.jsx("h2",{children:"Inner Product and Cosine"}),i.jsxs("p",{children:["The inner product of vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," depends not only on their lengths |",i.jsx("strong",{children:"u"}),"| and |",i.jsx("strong",{children:"v"}),"| but also on the angle  between them. The simplest way to express this dependence is with the help of the ",i.jsx("strong",{children:"cosine function"}),"."]}),i.jsx("h3",{children:"Cosine as a Ratio"}),i.jsxs(xe,{title:"Cosine Definition",children:[i.jsxs("p",{children:["For a right-angled triangle with vertices ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),", and ",i.jsx("strong",{children:"v"})," (where the right angle is at ",i.jsx("strong",{children:"u"}),"), the cosine of angle  at the origin is defined as:"]}),i.jsx(Y,{children:"\\cos\\theta = \\frac{|\\mathbf{u}|}{|\\mathbf{v}|}"}),i.jsx("p",{className:"mt-2",children:"The cosine is the ratio of the adjacent side to the hypotenuse."})]}),i.jsx("h3",{children:"The Inner Product Formula"}),i.jsx("p",{children:"We can use the inner product criterion for perpendicularity to derive the fundamental formula relating inner product to angle."}),i.jsxs(ue,{title:"Inner Product Formula",children:[i.jsxs("p",{children:["If  is the angle between vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),", then:"]}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["In a right triangle with ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),"where ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"})," is perpendicular to ",i.jsx("strong",{children:"u"}),":"]}),i.jsx(Y,{children:"0 = \\mathbf{u} \\cdot (\\mathbf{v} - \\mathbf{u}) = \\mathbf{u} \\cdot \\mathbf{v} - \\mathbf{u} \\cdot \\mathbf{u}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Therefore:"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = \\mathbf{u} \\cdot \\mathbf{u} = |\\mathbf{u}|^2 = |\\mathbf{u}||\\mathbf{v}|\\frac{|\\mathbf{u}|}{|\\mathbf{v}|} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"})]}),i.jsxs(me,{type:"info",children:["This formula gives a convenient way to calculate the angle (or at least its cosine) between any two lines, because we know how to calculate |",i.jsx("strong",{children:"u"}),"| and |",i.jsx("strong",{children:"v"}),"| from their components."]}),i.jsx("h3",{children:"The Cosine Rule"}),i.jsxs("p",{children:['The inner product formula also gives us the "cosine rule" of trigonometry directly from the calculation of (',i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),")  (",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),")."]}),i.jsxs(ue,{title:"Cosine Rule (Law of Cosines)",children:[i.jsxs("p",{children:["In any triangle with sides ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and",i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"}),", and angle  opposite to the side",i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The proof is purely algebraic:"}),i.jsx(Y,{children:`\\begin{aligned}
|\\mathbf{u} - \\mathbf{v}|^2 &= (\\mathbf{u} - \\mathbf{v}) \\cdot (\\mathbf{u} - \\mathbf{v}) \\\\
&= \\mathbf{u} \\cdot \\mathbf{u} - 2\\mathbf{u} \\cdot \\mathbf{v} + \\mathbf{v} \\cdot \\mathbf{v} \\\\
&= |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2\\mathbf{u} \\cdot \\mathbf{v} \\\\
&= |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta
\\end{aligned}`})]}),i.jsx("h3",{children:"The Pythagorean Theorem as a Special Case"}),i.jsxs("p",{children:["Consider the special case where ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are the sides of a right-angled triangle and ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),"is the hypotenuse. In this case, ",i.jsx("strong",{children:"u"})," is perpendicular to",i.jsx("strong",{children:" v"}),", so ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," = 0, and the cosine rule becomes:"]}),i.jsx(Y,{children:"\\text{hypotenuse}^2 = |\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2"}),i.jsxs(me,{type:"info",children:["This is the ",i.jsx("strong",{children:"Pythagorean theorem"}),"! This should not be surprising, because the Pythagorean theorem is built into the definition of distance in  and hence into the inner product."]}),i.jsx("h3",{children:"Angle in a Semicircle"}),i.jsx("p",{children:"A useful formula for studying right-angled triangles is:"}),i.jsx(Y,{children:"(\\mathbf{v} + \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u}) = |\\mathbf{v}|^2 - |\\mathbf{u}|^2"}),i.jsxs(ue,{title:"Angle in a Semicircle",children:[i.jsxs("p",{children:["Take a circle with center ",i.jsx("strong",{children:"0"})," and a diameter with ends",i.jsx("strong",{children:" u"})," and ",i.jsx("strong",{children:"u"}),". Let ",i.jsx("strong",{children:"v"})," be any other point on the circle. Then the sides of the triangle meeting at",i.jsx("strong",{children:" v"})," have directions ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),"and ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"."]}),i.jsxs("p",{className:"mt-2",children:["Since |",i.jsx("strong",{children:"v"}),"| = |",i.jsx("strong",{children:"u"}),"| (both are radii), we have (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),")  (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") = |",i.jsx("strong",{children:"v"}),"|  |",i.jsx("strong",{children:"u"}),"| = 0, so these sides are",i.jsx("strong",{children:" perpendicular"}),"."]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.5.1"}),i.jsxs("p",{className:"text-slate-300",children:["Show that |",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"| = |",i.jsx("strong",{children:"u"}),"| + |",i.jsx("strong",{children:"v"}),"| when ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are perpendicular, and explain why this is the Pythagorean theorem."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.5.2"}),i.jsxs("p",{className:"text-slate-300",children:["Show that (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),")  (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") = |",i.jsx("strong",{children:"v"}),"|  |",i.jsx("strong",{children:"u"}),"|."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.5.3"}),i.jsxs("p",{className:"text-slate-300",children:["For a point ",i.jsx("strong",{children:"v"})," on a semicircle with diameter endpoints",i.jsx("strong",{children:" u"})," and ",i.jsx("strong",{children:"u"}),", show that the sides of the triangle meeting at ",i.jsx("strong",{children:"v"})," have directions ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),"and ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),", and hence are perpendicular."]})]}),i.jsx(uQ,{className:"my-6"}),i.jsx(Re,{sectionId:27,questions:$e[27]||[],title:"Inner Product and Cosine Quiz"})]})}function yQ(){return i.jsxs(qe,{sectionId:28,children:[i.jsx("h2",{children:"The Triangle Inequality"}),i.jsxs("p",{children:["In vector geometry, the triangle inequality |",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"|  |",i.jsx("strong",{children:"u"}),"| + |",i.jsx("strong",{children:"v"}),"| is usually derived from a more fundamental inequality: the ",i.jsx("strong",{children:"Cauchy-Schwarz inequality"}),"."]}),i.jsx("h3",{children:"The Cauchy-Schwarz Inequality"}),i.jsxs(ue,{title:"Cauchy-Schwarz Inequality",children:[i.jsxs("p",{children:["For any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof from the Inner Product Formula"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The inner product formula says:"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"}),i.jsx("p",{className:"text-slate-300 mt-2 mb-2",children:"Therefore:"}),i.jsx(Y,{children:"|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}||\\cos\\theta| \\leq |\\mathbf{u}||\\mathbf{v}|"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"because |cos |  1 for any angle ."})]}),i.jsx("h3",{children:"The Triangle Inequality"}),i.jsxs(ue,{title:"Triangle Inequality",children:[i.jsxs("p",{children:["For any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"|\\mathbf{u} + \\mathbf{v}| \\leq |\\mathbf{u}| + |\\mathbf{v}|"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["To get the triangle inequality, it suffices to show that |",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"|  (|",i.jsx("strong",{children:"u"}),"| + |",i.jsx("strong",{children:"v"}),"|):"]}),i.jsx(Y,{children:`\\begin{aligned}
|\\mathbf{u} + \\mathbf{v}|^2 &= (\\mathbf{u} + \\mathbf{v}) \\cdot (\\mathbf{u} + \\mathbf{v}) \\\\
&= |\\mathbf{u}|^2 + 2\\mathbf{u} \\cdot \\mathbf{v} + |\\mathbf{v}|^2 \\\\
&\\leq |\\mathbf{u}|^2 + 2|\\mathbf{u}||\\mathbf{v}| + |\\mathbf{v}|^2 \\quad \\text{(by Cauchy-Schwarz)} \\\\
&= (|\\mathbf{u}| + |\\mathbf{v}|)^2
\\end{aligned}`})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Why Cauchy-Schwarz Matters:"})," The Cauchy-Schwarz inequality holds in spaces more complicated than , with more complicated inner products. Because the triangle inequality follows from Cauchy-Schwarz, it too holds in these complicated spaces."]}),i.jsx("h3",{children:"Higher Dimensional Euclidean Spaces"}),i.jsx("p",{children:"Linear algebra works just as well in  as it does in . The space  is the set of ordered n-tuples (x, x, ..., x) of real numbers."}),i.jsxs(xe,{title:"Operations in ",children:[i.jsxs("p",{children:["If ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are in , we define:"]}),i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{v} = (u_1 + v_1, u_2 + v_2, \\ldots, u_n + v_n)"}),i.jsx(Y,{children:"a\\mathbf{u} = (au_1, au_2, \\ldots, au_n)"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = u_1v_1 + u_2v_2 + \\cdots + u_nv_n"})]}),i.jsx("h3",{children:"Euclidean Distance in Higher Dimensions"}),i.jsxs("p",{children:[" becomes a ",i.jsx("strong",{children:"Euclidean space"})," when we give it the inner product structure. This enables us to define distance by:"]}),i.jsx(Y,{children:"|\\mathbf{u}|^2 = \\mathbf{u} \\cdot \\mathbf{u} = u_1^2 + u_2^2 + \\cdots + u_n^2"}),i.jsxs(ue,{title:"Distance in ",children:[i.jsxs("p",{children:["The distance of (u, u, u) from ",i.jsx("strong",{children:"0"})," in  is:"]}),i.jsx(Y,{children:"|\\mathbf{u}| = \\sqrt{u_1^2 + u_2^2 + u_3^2}"}),i.jsx("p",{className:"mt-2",children:"This can be understood as two applications of the Pythagorean theorem:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2",children:[i.jsxs("li",{children:["(u + u) is the distance from ",i.jsx("strong",{children:"0"})," to (u, u, 0)"]}),i.jsxs("li",{children:["(u + u + u) is the distance from ",i.jsx("strong",{children:"0"})," to (u, u, u)"]})]})]}),i.jsx(me,{type:"info",children:"All theorems proved in this chapter for vectors in the plane  hold in . Any plane in  behaves the same as the plane , because we can construct an isometry mapping any plane onto a standard coordinate plane."}),i.jsx("h3",{children:"Alternative Proof of Cauchy-Schwarz"}),i.jsx("p",{children:"A proof using only general properties of the inner product can be obtained by an algebraic trick with quadratic equations."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Algebraic Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["For any real number x and any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"(\\mathbf{u} + x\\mathbf{v}) \\cdot (\\mathbf{u} + x\\mathbf{v}) = |\\mathbf{u}|^2 + 2x(\\mathbf{u} \\cdot \\mathbf{v}) + x^2|\\mathbf{v}|^2 \\geq 0"}),i.jsx("p",{className:"text-slate-300 mt-2 mb-2",children:"This is a quadratic in x that is always  0, so its discriminant must be  0:"}),i.jsx(Y,{children:"(2\\mathbf{u} \\cdot \\mathbf{v})^2 - 4|\\mathbf{u}|^2|\\mathbf{v}|^2 \\leq 0"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This gives (u  v)  |u||v|, hence |u  v|  |u||v|."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.6.1"}),i.jsxs("p",{className:"text-slate-300",children:["Explain why the Euclidean inner product for  is positive definite (i.e., why ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"w"}),"  0 for any vector ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.6.2"}),i.jsxs("p",{className:"text-slate-300",children:["For any real number x, and any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),", show that (",i.jsx("strong",{children:"u"})," + x",i.jsx("strong",{children:"v"}),")  (",i.jsx("strong",{children:"u"})," + x",i.jsx("strong",{children:"v"}),") = |",i.jsx("strong",{children:"u"}),"| + 2x(",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),") + x|",i.jsx("strong",{children:"v"}),"|."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.6.3"}),i.jsx("p",{className:"text-slate-300",children:"If A, B, and C are real numbers and A + Bx + Cx  0 for any real number x, explain why B  4AC  0."})]}),i.jsx(dQ,{className:"my-6"}),i.jsx(Re,{sectionId:28,questions:$e[28]||[],title:"Triangle Inequality Quiz"})]})}function bQ(){return i.jsxs(qe,{sectionId:29,children:[i.jsx("h2",{children:"Rotations, Matrices, and Complex Numbers"}),i.jsx("p",{children:"In this section, we explore three equivalent ways to represent rotations of the plane: functions, matrices, and complex numbers. Each representation has its advantages."}),i.jsx("h3",{children:"Rotation Matrices"}),i.jsxs("p",{children:["In Section 3.6, we defined a rotation of  as a function r",i.jsx("sub",{children:"c,s"}),", where c and s are real numbers such that c + s = 1. We described r",i.jsx("sub",{children:"c,s"}),"as the function that sends (x, y) to (cx  sy, sx + cy)."]}),i.jsxs(xe,{title:"Rotation Matrix",children:[i.jsxs("p",{children:["The rotation through angle  can be described by the ",i.jsx("strong",{children:"matrix"}),"of coefficients of x and y:"]}),i.jsx(Y,{children:"\\begin{pmatrix} c & -s \\\\ s & c \\end{pmatrix}, \\quad \\text{where } c = \\cos\\theta \\text{ and } s = \\sin\\theta"})]}),i.jsx("p",{children:"Matrix notation allows us to rewrite the rotation as matrix multiplication:"}),i.jsx(Y,{children:"\\begin{pmatrix} c & -s \\\\ s & c \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} cx - sy \\\\ sx + cy \\end{pmatrix}"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Advantage of Matrices:"})," Functions are separated from their variables, so they can be composed without the variables becoming involvedsimply by multiplying matrices."]}),i.jsx("h3",{children:"Deriving Angle Addition Formulas"}),i.jsx("p",{children:"Matrix multiplication gives proofs of the formulas for cos( + ) and sin( + ):"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Rotation through angle  is given by the matrix with cos  and sin "}),i.jsx("li",{children:"Rotation through angle  is given by the matrix with cos  and sin "}),i.jsx("li",{children:"Rotation through  +  is given by the product of these matrices"})]})}),i.jsxs(ue,{title:"Angle Addition Formulas",children:[i.jsx("p",{children:"Multiplying the rotation matrices and equating entries:"}),i.jsx(Y,{children:"\\cos(\\theta_1 + \\theta_2) = \\cos\\theta_1 \\cos\\theta_2 - \\sin\\theta_1 \\sin\\theta_2"}),i.jsx(Y,{children:"\\sin(\\theta_1 + \\theta_2) = \\cos\\theta_1 \\sin\\theta_2 + \\sin\\theta_1 \\cos\\theta_2"})]}),i.jsx("h3",{children:"Complex Numbers"}),i.jsxs("p",{children:["For rotations of , there is a notation even more efficient than the rotation matrix. It is the ",i.jsx("strong",{children:"complex number"})," cos  + i sin , where i = (1)."]}),i.jsx(xe,{title:"Complex Number Representation",children:i.jsxs("p",{children:["We represent the point (x, y)   by the complex number z = x + iy, and we rotate it through angle  about O by ",i.jsx("strong",{children:"multiplying"}),"it by cos  + i sin ."]})}),i.jsx("p",{children:"This works because i = 1, and therefore:"}),i.jsx(Y,{children:"(\\cos\\theta + i\\sin\\theta)(x + iy) = x\\cos\\theta - y\\sin\\theta + i(x\\sin\\theta + y\\cos\\theta)"}),i.jsx(me,{type:"info",children:"Multiplying all points at once by cos  + i sin  rotates the whole plane about O through angle ."}),i.jsx("h3",{children:"Angle Addition via Complex Numbers"}),i.jsx("p",{children:"Multiplication by (cos  + i sin )(cos  + i sin ) rotates the plane through  + , so it equals multiplication by cos( + ) + i sin( + )."}),i.jsxs(ue,{title:"Complex Proof of Angle Addition",children:[i.jsx(Y,{children:`\\begin{aligned}
&\\cos(\\theta_1 + \\theta_2) + i\\sin(\\theta_1 + \\theta_2) \\\\
&= (\\cos\\theta_1 + i\\sin\\theta_1)(\\cos\\theta_2 + i\\sin\\theta_2) \\\\
&= \\cos\\theta_1\\cos\\theta_2 - \\sin\\theta_1\\sin\\theta_2 + i(\\cos\\theta_1\\sin\\theta_2 + \\sin\\theta_1\\cos\\theta_2)
\\end{aligned}`}),i.jsx("p",{className:"mt-2",children:"Equating real and imaginary parts gives the angle addition formulas."})]}),i.jsx("h3",{children:"Why i = 1?"}),i.jsx("p",{children:"The property i = 1 is not accidental. Any algebra of points in  that satisfies the same laws as the algebra of  automatically satisfies i = 1, where i = (0, 1)."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Properties"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The essential algebraic laws are:"}),i.jsx(Y,{children:"|uv| = |u||v| \\quad \\text{(multiplicative absolute value)}"}),i.jsx(Y,{children:"u(v + w) = uv + uw \\quad \\text{(distributive law)}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"These imply that multiplying the plane  by a number u with |u| = 1 is an isometry leaving O fixedhence a rotation."})]}),i.jsxs(ue,{title:"Unit Complex Numbers and Rotation",children:[i.jsx("p",{children:"Any u with |u| = 1 can be written as cos  + i sin  for some angle . Multiplication by u rotates the point 1 to the point u, hence rotates the whole plane through angle ."}),i.jsx("p",{className:"mt-2",children:"In particular, multiplication by i = (0, 1) sends (1, 0) to (0, 1) and hence rotates the plane through /2. This implies i = 1, because multiplication by i rotates the plane through , which is the same as multiplication by 1."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Given that |x + iy| = (x + y), explain why |v  w| equals the distance between the complex numbers v and w."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Assuming the multiplicative absolute value and the distributive law, show that: distance between uv and uw = |u|  distance between v and w."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Deduce that multiplication of  by a number u with |u| = 1 is an isometry leaving O fixed."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.4"}),i.jsx("p",{className:"text-slate-300",children:"Assuming that u  1, and hence uz  z when z  0, deduce that multiplication by u  1 is a rotation."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.5"}),i.jsx("p",{className:"text-slate-300",children:"Explain why any u with |u| = 1 can be written in the form cos  + i sin  for some angle , and conclude that multiplication by u rotates the plane through angle ."})]}),i.jsx(cQ,{className:"my-6"}),i.jsx(Re,{sectionId:29,questions:$e[29]||[],title:"Rotations, Matrices, and Complex Numbers Quiz"})]})}function vQ(){return i.jsxs(qe,{sectionId:30,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"Because the geometric content of a vector space with an inner product is much the same as Euclidean geometry, it is interesting to see how many axioms it takes to describe a vector space."}),i.jsx("h3",{children:"Axiom Count Comparison"}),i.jsxs("p",{children:["Remember from Section 2.9 that it takes ",i.jsx("strong",{children:"17 Hilbert axioms"}),"to describe the Euclidean plane, or 16 if we are willing to drop completeness of the line."]}),i.jsx("h3",{children:"Vector Space Axioms"}),i.jsx("p",{children:"To define a vector space, we began with eight axioms for vector addition and scalar multiplication:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{v} = \\mathbf{v} + \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (\\mathbf{v} + \\mathbf{w}) = (\\mathbf{u} + \\mathbf{v}) + \\mathbf{w}"}),i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{0} = \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (-\\mathbf{u}) = \\mathbf{0}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"1\\mathbf{u} = \\mathbf{u}"}),i.jsx(Y,{children:"a(\\mathbf{u} + \\mathbf{v}) = a\\mathbf{u} + a\\mathbf{v}"}),i.jsx(Y,{children:"(a + b)\\mathbf{u} = a\\mathbf{u} + b\\mathbf{u}"}),i.jsx(Y,{children:"a(b\\mathbf{u}) = (ab)\\mathbf{u}"})]})]}),i.jsx("h3",{children:"Inner Product Axioms"}),i.jsx("p",{children:"Then we added three (or four) axioms for the inner product:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = \\mathbf{v} \\cdot \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot (\\mathbf{v} + \\mathbf{w}) = \\mathbf{u} \\cdot \\mathbf{v} + \\mathbf{u} \\cdot \\mathbf{w}"}),i.jsx(Y,{children:"(a\\mathbf{u}) \\cdot \\mathbf{v} = \\mathbf{u} \\cdot (a\\mathbf{v}) = a(\\mathbf{u} \\cdot \\mathbf{v})"})]}),i.jsx("p",{children:"We also need relations among inner product, length, and angleat a minimum the cosine formula:"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"}),i.jsx("p",{children:"So this is 12 or 13 axioms so far."}),i.jsx("h3",{children:"The Field Axioms"}),i.jsxs("p",{children:["But we have also assumed that the scalars a, b, ... are real numbers, so there remains the problem of writing down axioms for them. These are the",i.jsx("strong",{children:" field axioms"}),":"]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Commutative Laws"}),i.jsx(Y,{children:"a + b = b + a, \\quad ab = ba"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Associative Laws"}),i.jsx(Y,{children:"a + (b + c) = (a + b) + c"}),i.jsx(Y,{children:"a(bc) = (ab)c"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Identity Laws"}),i.jsx(Y,{children:"a + 0 = a, \\quad a \\cdot 1 = a"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Inverse Laws"}),i.jsx(Y,{children:"a + (-a) = 0, \\quad aa^{-1} = 1"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Distributive Law"}),i.jsx(Y,{children:"a(b + c) = ab + ac"})]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Total Count:"})," The usual definition of a vector space, with an inner product suitable for Euclidean geometry, takes ",i.jsx("strong",{children:"more than 20 axioms"}),"!"]}),i.jsx("h3",{children:"Comparison with Hilbert's Axioms"}),i.jsx(xe,{title:"Trade-offs",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"The field axioms and vector space axioms are useful in many other parts of mathematics"}),i.jsx("li",{children:"Most of the Hilbert axioms seem meaningful only in geometry"}),i.jsx("li",{children:"By varying the inner product slightly, one can change the geometry of the vector space in interesting ways"})]})}),i.jsx("h3",{children:"Minkowski Space"}),i.jsxs("p",{children:["By varying the inner product, one can obtain the geometry of",i.jsx("strong",{children:" Minkowski space"})," used in Einstein's special theory of relativity. This shows the flexibility of the vector space approach."]}),i.jsx("h3",{children:"Further Reading"}),i.jsx("p",{children:"To learn more about the vector space approach to geometry, see:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("em",{children:"Linear Algebra and Geometry, a Second Course"})," by I. Kaplansky"]}),i.jsxs("li",{children:[i.jsx("em",{children:"Metric Affine Geometry"})," by E. Snapper and R. J. Troyer"]})]}),i.jsx("h3",{children:"Looking Ahead"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"A Simpler Foundation:"})," Still, one can dream of building geometry on a much simpler set of axioms. In Chapter 6, we will realize this dream with ",i.jsx("strong",{children:"projective geometry"}),", which we begin studying in Chapter 5."]}),i.jsx("h3",{children:"Key Takeaways from Chapter 4"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Vectors"})," can be added and multiplied by scalars, following eight fundamental properties"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Linear independence"})," captures the concept of different directions"]}),i.jsxs("li",{children:["The ",i.jsx("strong",{children:"midpoint formula"})," and ",i.jsx("strong",{children:"centroid"}),"are vector averages"]}),i.jsxs("li",{children:["The ",i.jsx("strong",{children:"inner product"})," encodes both length and angle"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cauchy-Schwarz"})," implies the triangle inequality"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Rotation matrices"})," and ",i.jsx("strong",{children:"complex numbers"}),"provide elegant representations of rotations"]}),i.jsx("li",{children:"Vector space geometry requires many axioms but is highly flexible"})]})}),i.jsx(ue,{title:"The Power of Linear Algebra",children:i.jsx("p",{children:"Real vector spaces with inner products are a natural setting for Euclidean geometry. Once the inner product is there, we can prove all theorems of Euclidean geometry, often more efficiently than before. We can also uniformly extend geometry to any number of dimensions by considering ."})}),i.jsx(Re,{sectionId:30,questions:$e[30]||[],title:"Chapter 4 Discussion Quiz"})]})}function jQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(8),[r,a]=q.useState(.3),[l,o]=q.useState(!0),c=500,h=400,u=c/2,m=h/2+50,p=T=>{const S=Math.cos(r),N=Math.sin(r),v=T.x*S-T.z*N,x=T.x*N+T.z*S+n;if(x<=.1)return null;const C=80,j=n/x,g=u+v*C*j,A=m-T.y*C*j;return[g,A]},b=[];for(let T=-3;T<=3;T++)b.push([{x:T,y:0,z:-1},{x:T,y:0,z:5}]);for(let T=-1;T<=5;T++)b.push([{x:-3,y:0,z:T},{x:3,y:0,z:T}]);const E=[{x:-.8,y:0,z:1.2},{x:.8,y:0,z:1.2},{x:.8,y:0,z:2.8},{x:-.8,y:0,z:2.8},{x:-.8,y:1.6,z:1.2},{x:.8,y:1.6,z:1.2},{x:.8,y:1.6,z:2.8},{x:-.8,y:1.6,z:2.8}],y=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]];return q.useEffect(()=>{const T=e.current;if(!T)return;const S=T.getContext("2d");if(!S)return;S.fillStyle="#0f172a",S.fillRect(0,0,c,h),S.strokeStyle="#334155",S.lineWidth=1,S.setLineDash([5,5]),S.beginPath(),S.moveTo(0,m),S.lineTo(c,m),S.stroke(),S.setLineDash([]),S.fillStyle="#64748b",S.font="11px sans-serif",S.fillText("Horizon",10,m-5),S.strokeStyle="#475569",S.lineWidth=1,b.forEach(([f,x])=>{const C=p(f),j=p(x);C&&j&&(S.beginPath(),S.moveTo(C[0],C[1]),S.lineTo(j[0],j[1]),S.stroke())}),S.strokeStyle="#f472b6",S.lineWidth=2,y.forEach(([f,x])=>{const C=p(E[f]),j=p(E[x]);C&&j&&(S.beginPath(),S.moveTo(C[0],C[1]),S.lineTo(j[0],j[1]),S.stroke())});const v=[E[2],E[3],E[7],E[6]].map(f=>p(f)).filter(f=>f!==null);if(v.length===4&&(S.fillStyle="rgba(244, 114, 182, 0.2)",S.beginPath(),S.moveTo(v[0][0],v[0][1]),v.forEach(f=>S.lineTo(f[0],f[1])),S.closePath(),S.fill()),l){const f=p({x:0,y:0,z:100});if(f){S.fillStyle="#fbbf24",S.beginPath(),S.arc(f[0],f[1],6,0,Math.PI*2),S.fill(),S.fillStyle="#fbbf24",S.font="11px sans-serif",S.fillText("Vanishing Point",f[0]+10,f[1]-5),S.strokeStyle="rgba(251, 191, 36, 0.3)",S.lineWidth=1,S.setLineDash([3,3]);for(let x=-3;x<=3;x+=2){const C=p({x,y:0,z:-1});C&&(S.beginPath(),S.moveTo(C[0],C[1]),S.lineTo(f[0],f[1]),S.stroke())}S.setLineDash([])}}S.fillStyle="#94a3b8",S.font="11px sans-serif",S.fillText("Perspective Projection Demo",10,20)},[n,r,l]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Perspective Projection"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Eye Distance: ",n.toFixed(1)]}),i.jsx("input",{type:"range",min:"3",max:"15",step:"0.5",value:n,onChange:T=>s(parseFloat(T.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Rotation: ",(r*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.05",value:r,onChange:T=>a(parseFloat(T.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:T=>o(T.target.checked),className:"rounded"}),"Show vanishing point"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Concepts"}),i.jsxs("ul",{className:"text-xs text-slate-300 space-y-1",children:[i.jsx("li",{children:" Parallel lines converge at vanishing point"}),i.jsx("li",{children:" Objects shrink with distance"}),i.jsx("li",{children:" Horizon is at eye level"})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," 3D cube"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Vanishing point"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-500",children:"Gray:"})," Floor grid"]})]})]})]})]})}function wQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState([1,2,4,6]),[r,a]=q.useState(null),[l,o]=q.useState(0),c=500,h=380,u=120,m=280,p=50,b=450,E=50,y=(G,V)=>({x:p+G*E,y:V}),T=(G,V,J,ee)=>{const re=J-G,se=ee-V,he=J-V,ae=ee-G;return re*se/(he*ae)},S=G=>{const V=1+l*.3,J=l*.5,ee=l*.1;return(V*G+J)/(ee*G+1)},[N,v,f,x]=n,C=T(N,v,f,x),j=n.map(S),[g,A,w,k]=j,M=T(g,A,w,k);q.useEffect(()=>{const G=e.current;if(!G)return;const V=G.getContext("2d");if(!V)return;V.fillStyle="#0f172a",V.fillRect(0,0,c,h),V.strokeStyle="#475569",V.lineWidth=2,V.beginPath(),V.moveTo(p-20,u),V.lineTo(b+20,u),V.stroke(),V.beginPath(),V.moveTo(p-20,m),V.lineTo(b+20,m),V.stroke();const J=250,ee=50;V.fillStyle="#fbbf24",V.beginPath(),V.arc(J,ee,5,0,Math.PI*2),V.fill(),V.fillStyle="#fbbf24",V.font="11px sans-serif",V.fillText("Projection center",J+10,ee);const re=["#f472b6","#22d3ee","#a78bfa","#34d399"],se=["A","B","C","D"];n.forEach((he,ae)=>{const Ne=y(he,u);V.strokeStyle="rgba(251, 191, 36, 0.3)",V.lineWidth=1,V.setLineDash([3,3]),V.beginPath(),V.moveTo(J,ee),V.lineTo(Ne.x,Ne.y);const Te=y(j[ae],m);V.lineTo(Te.x,Te.y),V.stroke(),V.setLineDash([]),V.fillStyle=re[ae],V.beginPath(),V.arc(Ne.x,Ne.y,8,0,Math.PI*2),V.fill(),V.fillStyle="#e2e8f0",V.font="bold 12px sans-serif",V.fillText(se[ae],Ne.x-4,Ne.y-12),V.fillStyle=re[ae],V.beginPath(),V.arc(Te.x,Te.y,8,0,Math.PI*2),V.fill(),V.fillStyle="#e2e8f0",V.fillText(se[ae]+"'",Te.x-6,Te.y+22)}),V.fillStyle="#94a3b8",V.font="12px sans-serif",V.fillText("Original line",p,u-30),V.fillText("Projected line",p,m+35),V.fillStyle="#0f172a",V.fillRect(300,310,190,60),V.strokeStyle="#334155",V.strokeRect(300,310,190,60),V.fillStyle="#e2e8f0",V.font="12px sans-serif",V.fillText(`CR(A,B;C,D) = ${C.toFixed(4)}`,310,335),V.fillText(`CR(A',B';C',D') = ${M.toFixed(4)}`,310,355),Math.abs(C-M)<.001&&(V.fillStyle="#34d399",V.fillText(" Equal!",430,345))},[n,l,j,C,M]);const I=G=>{var re;const V=(re=e.current)==null?void 0:re.getBoundingClientRect();if(!V)return;const J=G.clientX-V.left,ee=G.clientY-V.top;n.forEach((se,he)=>{const ae=y(se,u);Math.hypot(J-ae.x,ee-ae.y)<15&&a(he)})},O=G=>{var se;if(r===null)return;const V=(se=e.current)==null?void 0:se.getBoundingClientRect();if(!V)return;let ee=(G.clientX-V.left-p)/E;ee=Math.round(ee*4)/4,ee=Math.max(.5,Math.min(7,ee));const re=[...n];re[r]=ee,re.sort((he,ae)=>he-ae),s(re)},$=()=>{a(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Cross-Ratio Invariant"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-grab",onMouseDown:I,onMouseMove:O,onMouseUp:$,onMouseLeave:$})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Projection strength: ",l.toFixed(2)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.05",value:l,onChange:G=>o(parseFloat(G.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Cross-Ratio"}),i.jsx("p",{className:"text-xs text-slate-300 mb-2",children:"The cross-ratio of four collinear points is:"}),i.jsx("p",{className:"text-xs font-mono text-cyan-400",children:"CR(A,B;C,D) = (ACBD)/(BCAD)"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Property"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["Cross-ratio is ",i.jsx("strong",{children:"preserved"})," under projective transformations. Move points and change projection to verify!"]})]}),i.jsx("button",{onClick:()=>{s([1,2,4,6]),o(0)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsx("p",{children:"Drag points A, B, C, D on the top line"}),i.jsx("p",{children:"Adjust projection to see invariance"})]})]})]})]})}function TQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(80),[r,a]=q.useState(6),[l,o]=q.useState(!0),[c,h]=q.useState(!1),u=520,m=420,p=u/2,b=m-40,E=60;return q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,u,m),T.strokeStyle="#64748b",T.lineWidth=2,T.beginPath(),T.moveTo(0,n),T.lineTo(u,n),T.stroke(),T.fillStyle="#64748b",T.font="12px sans-serif",T.fillText("Horizon",10,n-10),T.fillStyle="#fbbf24",T.beginPath(),T.arc(p,n,6,0,Math.PI*2),T.fill(),T.fillStyle="#fbbf24",T.fillText("Vanishing Point",p-45,n-15);const S=p-r*E/2,N=[];for(let x=0;x<=r;x++)N.push({x:S+x*E,y:b});T.strokeStyle="#475569",T.lineWidth=1,N.forEach(x=>{T.beginPath(),T.moveTo(x.x,x.y),T.lineTo(p,n),T.stroke()});const v=b-n,f=[b];for(let x=1;x<=10;x++){const C=1-x/(x+3),j=n+v*C;j>n+20&&f.push(j)}T.strokeStyle="#475569",f.forEach(x=>{const C=(b-x)/(b-n),j=r*E/2*(1-C),g=p-j,A=p+j;T.beginPath(),T.moveTo(g,x),T.lineTo(A,x),T.stroke()});for(let x=0;x<f.length-1;x++){const C=f[x],j=f[x+1],g=(b-C)/(b-n),A=(b-j)/(b-n);for(let w=0;w<r;w++){const k=(w-r/2)/(r/2),M=(w+1-r/2)/(r/2),I=p+k*(r*E/2)*(1-g),O=p+M*(r*E/2)*(1-g),$=p+M*(r*E/2)*(1-A),G=p+k*(r*E/2)*(1-A),V=(x+w)%2===0;T.fillStyle=V?"rgba(148, 163, 184, 0.3)":"rgba(30, 41, 59, 0.5)",T.beginPath(),T.moveTo(I,C),T.lineTo(O,C),T.lineTo($,j),T.lineTo(G,j),T.closePath(),T.fill(),T.strokeStyle="#475569",T.lineWidth=1,T.stroke()}}if(l){T.strokeStyle="#f472b6",T.lineWidth=2,T.setLineDash([5,5]);const x=N[0],C=p+E*r/2;T.beginPath(),T.moveTo(x.x,x.y),T.lineTo(C,n),T.stroke(),T.fillStyle="#f472b6",T.beginPath(),T.arc(C,n,5,0,Math.PI*2),T.fill(),T.fillStyle="#f472b6",T.font="11px sans-serif",T.fillText("Diagonal VP",C-30,n+20),T.setLineDash([])}c&&(T.fillStyle="#0f172a",T.fillRect(10,m-100,200,90),T.strokeStyle="#334155",T.strokeRect(10,m-100,200,90),T.fillStyle="#e2e8f0",T.font="bold 11px sans-serif",T.fillText("Costruzione Legittima:",20,m-82),T.font="10px sans-serif",T.fillStyle="#94a3b8",T.fillText("1. Draw horizon with vanishing point",20,m-65),T.fillText("2. Mark equal intervals at bottom",20,m-50),T.fillText("3. Draw lines to vanishing point",20,m-35),T.fillText("4. Use diagonals to find rows",20,m-20)),T.fillStyle="#e2e8f0",T.font="bold 14px sans-serif",T.fillText("Perspective Tiled Floor",10,25)},[n,r,l,c]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Perspective Drawing: Tiled Floor"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:m,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Horizon Height: ",n,"px"]}),i.jsx("input",{type:"range",min:"40",max:"200",value:n,onChange:y=>s(parseInt(y.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Tiles: ",r]}),i.jsx("input",{type:"range",min:"3",max:"10",value:r,onChange:y=>a(parseInt(y.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:y=>o(y.target.checked),className:"rounded"}),"Show diagonals"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:y=>h(y.target.checked),className:"rounded"}),"Show construction steps"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-yellow-400",children:"Key Insight:"})}),i.jsxs("p",{className:"text-slate-400",children:["Parallel lines converge to a ",i.jsx("span",{className:"text-yellow-400",children:"vanishing point"})," on the horizon."]}),i.jsxs("p",{className:"text-slate-400 mt-2",children:["The ",i.jsx("span",{className:"text-pink-400",children:"diagonal"})," of the tiles determines where the horizontal lines go."]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Vanishing point"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Diagonal VP"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-400",children:"Gray:"})," Horizon line"]})]})]})]})]})}function SQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("parallel"),[r,a]=q.useState(1.5),[l,o]=q.useState(!0),c=550,h=400;return q.useEffect(()=>{const u=e.current;if(!u)return;const m=u.getContext("2d");if(!m)return;m.fillStyle="#0f172a",m.fillRect(0,0,c,h),m.strokeStyle="#1e293b",m.lineWidth=1;for(let f=0;f<=c;f+=40)m.beginPath(),m.moveTo(f,0),m.lineTo(f,h),m.stroke();for(let f=0;f<=h;f+=40)m.beginPath(),m.moveTo(0,f),m.lineTo(c,f),m.stroke();const p=280,b=120,E=c/2;m.strokeStyle="#60a5fa",m.lineWidth=3,m.beginPath(),m.moveTo(20,p),m.lineTo(c-20,p),m.stroke(),m.strokeStyle="#34d399",m.lineWidth=3,m.beginPath(),m.moveTo(20,b),m.lineTo(c-20,b),m.stroke(),m.font="bold 14px sans-serif",m.fillStyle="#60a5fa",m.fillText("L (source)",30,p+25),m.fillStyle="#34d399",m.fillText("L (image)",30,b-10);const y=[-3,-2,-1,0,1,2,3].map(f=>({x:E+f*50,y:p,value:f}));let T=[],S=null;if(n==="parallel"){const f=(r-1.5)*100;T=y.map(x=>({x:x.x+f,y:b,value:x.value+f/50}))}else if(n==="central"){const f=r;S={x:E,y:(p+b)/2-50},T=y.map(x=>{const C=x.x-S.x,j=x.y-S.y,g=(b-S.y)/j;return{x:S.x+g*C,y:b,value:x.value*f}})}else{S={x:E,y:(p+b)/2};const f=[-3,-2,-1,1,2,3].map(x=>({x:E+x*50,y:p,value:x}));T=f.map(x=>{const C=1/x.value;return{x:E+C*100,y:b,value:C}}),y.length=0,y.push(...f)}S&&n!=="parallel"&&(m.fillStyle="#f472b6",m.beginPath(),m.arc(S.x,S.y,8,0,Math.PI*2),m.fill(),m.font="bold 14px sans-serif",m.fillText("O",S.x+12,S.y+5),m.font="11px sans-serif",m.fillText("(projection center)",S.x-55,S.y-15)),l&&S?(m.strokeStyle="rgba(251, 191, 36, 0.4)",m.lineWidth=1,m.setLineDash([4,4]),y.forEach((f,x)=>{T[x]&&T[x].x>20&&T[x].x<c-20&&(m.beginPath(),n==="parallel"?(m.moveTo(f.x,f.y),m.lineTo(T[x].x,T[x].y)):(m.moveTo(f.x,f.y),m.lineTo(S.x,S.y),m.lineTo(T[x].x,T[x].y)),m.stroke())}),m.setLineDash([])):l&&n==="parallel"&&(m.strokeStyle="rgba(251, 191, 36, 0.4)",m.lineWidth=1,m.setLineDash([4,4]),y.forEach((f,x)=>{T[x]&&T[x].x>20&&T[x].x<c-20&&(m.beginPath(),m.moveTo(f.x,f.y),m.lineTo(T[x].x,T[x].y),m.stroke())}),m.setLineDash([])),y.forEach(f=>{m.fillStyle="#60a5fa",m.beginPath(),m.arc(f.x,f.y,5,0,Math.PI*2),m.fill(),m.font="11px sans-serif",m.fillText(f.value.toString(),f.x-5,f.y+20)}),T.forEach(f=>{f.x>20&&f.x<c-20&&(m.fillStyle="#34d399",m.beginPath(),m.arc(f.x,f.y,5,0,Math.PI*2),m.fill(),m.font="11px sans-serif",m.fillText(f.value.toFixed(1),f.x-10,f.y-10))}),m.fillStyle="#e2e8f0",m.font="bold 16px sans-serif";let N="",v="";n==="parallel"?(N=`x  x + ${((r-1.5)*2).toFixed(1)}`,v="Translation (from point at infinity)"):n==="central"?(N=`x  ${r.toFixed(1)}x`,v="Scaling (from finite point)"):(N="x  1/x",v="Reciprocal (non-parallel lines)"),m.fillText(N,c-150,40),m.font="12px sans-serif",m.fillStyle="#94a3b8",m.fillText(v,c-200,60),m.fillStyle="#c084fc",m.font="12px sans-serif",m.fillText("General form: f(x) = (ax + b)/(cx + d)",20,h-20)},[n,r,l]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Projection and Linear Fractional Transformations"}),i.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{s("parallel"),a(1.5)},className:`px-3 py-2 text-sm rounded transition ${n==="parallel"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Translation (x + l)"}),i.jsx("button",{onClick:()=>{s("central"),a(1.5)},className:`px-3 py-2 text-sm rounded transition ${n==="central"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Scaling (kx)"}),i.jsx("button",{onClick:()=>s("reciprocal"),className:`px-3 py-2 text-sm rounded transition ${n==="reciprocal"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Reciprocal (1/x)"})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),n!=="reciprocal"&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:n==="parallel"?`Translation: l = ${((r-1.5)*2).toFixed(1)}`:`Scale factor: k = ${r.toFixed(1)}`}),i.jsx("input",{type:"range",min:"0.5",max:"2.5",step:"0.1",value:r,onChange:u=>a(parseFloat(u.target.value)),className:"w-full"})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("button",{onClick:()=>o(!l),className:`px-4 py-2 rounded transition ${l?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:l?"Hide Projection Lines":"Show Projection Lines"})}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{children:i.jsx("strong",{children:"Projection types:"})}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-blue-400",children:"Translation"}),": x  x + l (parallel projection)"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"Scaling"}),": x  kx (central projection, parallel lines)"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-pink-400",children:"Reciprocal"}),": x  1/x (non-parallel lines)"]})]}),i.jsx("p",{className:"mt-2 text-purple-400",children:"All combinations give functions f(x) = (ax + b)/(cx + d) with ad  bc  0."})]})]})}function NQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(2),[r,a]=q.useState(1),[l,o]=q.useState(1),[c,h]=q.useState(!0),[u,m]=q.useState("z1"),p=550,b=400;return q.useEffect(()=>{const E=e.current;if(!E)return;const y=E.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,p,b);const T=p/2,S=b/2+30,N=50,v=(C,j,g)=>T+(C-j)*.7*N,f=(C,j,g)=>S-g*N+(C+j)*.4*N;y.strokeStyle="#475569",y.lineWidth=2,y.setLineDash([]),y.beginPath(),y.moveTo(v(-4,0),f(-4,0,0)),y.lineTo(v(4,0),f(4,0,0)),y.stroke(),y.fillStyle="#ef4444",y.font="bold 14px sans-serif",y.fillText("x",v(4.3,0),f(4.3,0,0)),y.beginPath(),y.moveTo(v(0,-4),f(0,-4,0)),y.lineTo(v(0,4),f(0,4,0)),y.stroke(),y.fillStyle="#22c55e",y.fillText("y",v(0,4.3),f(0,4.3,0)),y.beginPath(),y.moveTo(v(0,0),f(0,0,-1)),y.lineTo(v(0,0),f(0,0,4)),y.stroke(),y.fillStyle="#3b82f6",y.fillText("z",v(0,0),f(0,0,4.3));const x=u==="z1"?1:2;if(y.fillStyle="rgba(147, 51, 234, 0.15)",y.strokeStyle="#9333ea",y.lineWidth=1,y.beginPath(),y.moveTo(v(-3,-3),f(-3,-3,x)),y.lineTo(v(3,-3),f(3,-3,x)),y.lineTo(v(3,3),f(3,3,x)),y.lineTo(v(-3,3),f(-3,3,x)),y.closePath(),y.fill(),y.stroke(),y.fillStyle="#9333ea",y.font="12px sans-serif",y.fillText(`z = ${x} plane`,v(3.2,-3),f(3.2,-3,x)),y.fillStyle="#f1f5f9",y.beginPath(),y.arc(v(0,0),f(0,0,0),6,0,Math.PI*2),y.fill(),y.font="bold 12px sans-serif",y.fillText("O",v(0,0)-20,f(0,0,0)+5),n!==0||r!==0||l!==0){const C=Math.sqrt(n*n+r*r+l*l),j=n/C,g=r/C,A=l/C;if(y.strokeStyle="#f59e0b",y.lineWidth=3,y.beginPath(),y.moveTo(v(-j*4,-g*4),f(-j*4,-g*4,-A*4)),y.lineTo(v(j*4,g*4),f(j*4,g*4,A*4)),y.stroke(),c&&[.5,1,1.5,2].forEach((k,M)=>{const I=k*n,O=k*r,$=k*l;Math.abs(I)<=4&&Math.abs(O)<=4&&Math.abs($)<=4&&(y.fillStyle=M===1?"#f59e0b":"rgba(251, 191, 36, 0.6)",y.beginPath(),y.arc(v(I,O),f(I,O,$),M===1?7:5,0,Math.PI*2),y.fill(),M===1&&(y.fillStyle="#fbbf24",y.font="11px sans-serif",y.fillText(`(${n}, ${r}, ${l})`,v(I,O)+10,f(I,O,$)-10)))}),l!==0){const w=x/l,k=w*n,M=w*r;y.strokeStyle="rgba(236, 72, 153, 0.5)",y.lineWidth=1,y.setLineDash([4,4]),y.beginPath(),y.moveTo(v(n,r),f(n,r,l)),y.lineTo(v(k,M),f(k,M,x)),y.stroke(),y.setLineDash([]),y.fillStyle="#ec4899",y.beginPath(),y.arc(v(k,M),f(k,M,x),8,0,Math.PI*2),y.fill(),y.fillStyle="#ec4899",y.font="bold 12px sans-serif",y.fillText(`(${k.toFixed(1)}, ${M.toFixed(1)})`,v(k,M)+12,f(k,M,x)+5)}}if(y.fillStyle="#e2e8f0",y.font="bold 14px sans-serif",y.fillText("Homogeneous Coordinates",20,30),y.font="12px sans-serif",y.fillStyle="#fbbf24",y.fillText(`Point: (${n}, ${r}, ${l})`,20,55),l!==0){const C=(n/l).toFixed(2),j=(r/l).toFixed(2);y.fillStyle="#ec4899",y.fillText(`Cartesian: (${C}, ${j})`,20,75)}else y.fillStyle="#94a3b8",y.fillText("Point at infinity (z = 0)",20,75);y.fillStyle="#94a3b8",y.font="11px sans-serif",y.fillText('All (tx, ty, tz) for t  0 represent the same "point"',20,b-15)},[n,r,l,c,u]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Homogeneous Coordinates in P"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-red-400 mb-1",children:["x = ",n]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:n,onChange:E=>s(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["y = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:r,onChange:E=>a(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["z = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"3",step:"0.5",value:l,onChange:E=>o(parseFloat(E.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>h(!c),className:`px-3 py-2 text-sm rounded transition ${c?"bg-amber-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:c?"Hide Scalar Multiples":"Show Scalar Multiples"}),i.jsxs("button",{onClick:()=>m(u==="z1"?"z2":"z1"),className:"px-3 py-2 text-sm rounded bg-purple-600 text-white hover:bg-purple-700 transition",children:["Switch to z = ",u==="z1"?"2":"1"," plane"]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Concepts:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["A ",i.jsx("span",{className:"text-amber-400",children:'"point"'})," in P is a line through O in "]}),i.jsxs("li",{children:["All scalar multiples (tx, ty, tz) represent the ",i.jsx("strong",{children:"same"})," projective point"]}),i.jsxs("li",{children:["The ",i.jsx("span",{className:"text-pink-400",children:"Cartesian point"})," is where the line meets the projection plane"]}),i.jsxs("li",{children:["When z = 0, the line is parallel to the plane  a ",i.jsx("span",{className:"text-slate-400",children:"point at infinity"})]})]})]})]})}function AQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(2),[r,a]=q.useState(1),[l,o]=q.useState(1),[c,h]=q.useState(1),[u,m]=q.useState(!1),p=600,b=400,E=N=>{const v=l*N+c;return Math.abs(v)<.001?null:(n*N+r)/v},y=n*c-r*l,T=Math.abs(y)>.001;q.useEffect(()=>{const N=e.current;if(!N)return;const v=N.getContext("2d");if(!v)return;v.fillStyle="#0f172a",v.fillRect(0,0,p,b);const f=p/2,x=b/2,C=40,j=40,g=k=>f+k*C,A=k=>x-k*j;v.strokeStyle="#1e293b",v.lineWidth=1;for(let k=-10;k<=10;k++)v.beginPath(),v.moveTo(g(k),0),v.lineTo(g(k),b),v.stroke();for(let k=-5;k<=5;k++)v.beginPath(),v.moveTo(0,A(k)),v.lineTo(p,A(k)),v.stroke();if(v.strokeStyle="#475569",v.lineWidth=2,v.beginPath(),v.moveTo(0,x),v.lineTo(p,x),v.stroke(),v.beginPath(),v.moveTo(f,0),v.lineTo(f,b),v.stroke(),v.fillStyle="#94a3b8",v.font="12px sans-serif",v.fillText("x",p-15,x-10),v.fillText("f(x)",f+10,15),Math.abs(l)>.001){const k=-c/l;Math.abs(k)<10&&(v.strokeStyle="rgba(239, 68, 68, 0.5)",v.lineWidth=2,v.setLineDash([5,5]),v.beginPath(),v.moveTo(g(k),0),v.lineTo(g(k),b),v.stroke(),v.setLineDash([]),v.fillStyle="#ef4444",v.font="11px sans-serif",v.fillText(`x = ${k.toFixed(2)}`,g(k)+5,30),v.fillText("(asymptote)",g(k)+5,45))}if(Math.abs(l)>.001){const k=n/l;Math.abs(k)<5&&(v.strokeStyle="rgba(34, 197, 94, 0.5)",v.lineWidth=2,v.setLineDash([5,5]),v.beginPath(),v.moveTo(0,A(k)),v.lineTo(p,A(k)),v.stroke(),v.setLineDash([]),v.fillStyle="#22c55e",v.font="11px sans-serif",v.fillText(`y = ${k.toFixed(2)}`,10,A(k)-5))}if(T){v.strokeStyle="#60a5fa",v.lineWidth=3,v.beginPath();let k=!1;for(let M=0;M<p;M++){const I=(M-f)/C,O=E(I);if(O!==null&&Math.abs(O)<10){const $=A(O);if(!k)v.moveTo(M,$),k=!0;else{const G=(M-1-f)/C,V=E(G);V!==null&&Math.abs(O-V)>5?(v.stroke(),v.beginPath(),v.moveTo(M,$)):v.lineTo(M,$)}}else k&&(v.stroke(),v.beginPath(),k=!1)}v.stroke(),v.strokeStyle="rgba(156, 163, 175, 0.4)",v.lineWidth=1,v.setLineDash([3,3]),v.beginPath(),v.moveTo(g(-10),A(-10)),v.lineTo(g(10),A(10)),v.stroke(),v.setLineDash([])}[-2,-1,0,1,2,3].forEach(k=>{const M=E(k);M!==null&&Math.abs(M)<5&&Math.abs(k)<8&&(v.fillStyle="#fbbf24",v.beginPath(),v.arc(g(k),A(0),4,0,Math.PI*2),v.fill(),v.strokeStyle="rgba(251, 191, 36, 0.6)",v.lineWidth=1,v.setLineDash([2,2]),v.beginPath(),v.moveTo(g(k),A(0)),v.lineTo(g(k),A(M)),v.lineTo(g(0),A(M)),v.stroke(),v.setLineDash([]),v.fillStyle="#ec4899",v.beginPath(),v.arc(g(k),A(M),5,0,Math.PI*2),v.fill())}),v.fillStyle="#e2e8f0",v.font="bold 16px sans-serif",v.fillText(`f(x) = (${n}x + ${r}) / (${l}x + ${c})`,20,30),v.font="12px sans-serif",v.fillStyle="#94a3b8",v.fillText(`det = ad - bc = ${y.toFixed(2)}`,20,50),v.fillStyle=T?"#22c55e":"#ef4444",v.fillText(T?" Valid (det  0)":" Invalid (det = 0)",20,70)},[n,r,l,c,T,y]);const S=()=>Math.abs(l)<.001?[{step:1,desc:`Multiply by ${(n/c).toFixed(2)}`,formula:`x  ${(n/c).toFixed(2)}x`},{step:2,desc:`Add ${(r/c).toFixed(2)}`,formula:`x  x + ${(r/c).toFixed(2)}`}]:[{step:1,desc:`Multiply by c = ${l}`,formula:`x  ${l}x`},{step:2,desc:`Add d = ${c}`,formula:`x  x + ${c}`},{step:3,desc:"Multiply by c again",formula:`x  ${l}x`},{step:4,desc:"Reciprocate",formula:"x  1/x"},{step:5,desc:`Multiply by bc-ad = ${(r*l-n*c).toFixed(2)}`,formula:`x  ${(r*l-n*c).toFixed(2)}x`},{step:6,desc:`Add a/c = ${(n/l).toFixed(2)}`,formula:`x  x + ${(n/l).toFixed(2)}`}];return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Linear Fractional Functions on P"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",n]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:n,onChange:N=>s(parseFloat(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:r,onChange:N=>a(parseFloat(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:l,onChange:N=>o(parseFloat(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",c]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:c,onChange:N=>h(parseFloat(N.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>{s(1),a(0),o(0),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Identity"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(1),h(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Reciprocal (1/x)"}),i.jsx("button",{onClick:()=>{s(2),a(1),o(1),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Example"}),i.jsxs("button",{onClick:()=>m(!u),className:`px-3 py-2 text-sm rounded transition ${u?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[u?"Hide":"Show"," Decomposition"]})]}),u&&T&&i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded mb-4",children:[i.jsx("p",{className:"text-sm text-purple-400 font-semibold mb-2",children:"Decomposition into generators:"}),i.jsx("div",{className:"space-y-1 text-sm text-slate-300",children:S().map((N,v)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("span",{className:"text-purple-400",children:[N.step,"."]}),i.jsxs("span",{children:[N.desc,":"]}),i.jsx("span",{className:"text-amber-400",children:N.formula})]},v))})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["f(x) = (ax + b)/(cx + d) is valid when ",i.jsx("span",{className:"text-green-400",children:"ad - bc  0"})]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-red-400",children:"Vertical asymptote"})," at x = -d/c (where denominator = 0)"]}),i.jsxs("li",{children:["f maps   a/c and -d/c   (works on   ","{","","}",")"]}),i.jsxs("li",{children:["Every linear fractional function is a composition of ",i.jsx("span",{className:"text-amber-400",children:"translations, scalings, and reciprocation"})]})]})]})]})}function kQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(1),[l,o]=q.useState(2),[c,h]=q.useState(3),[u,m]=q.useState("none"),[p,b]=q.useState(1),E=600,y=350,T=(g,A,w,k)=>{const M=(w-g)*(k-A),I=(w-A)*(k-g);return Math.abs(I)<1e-4?1/0:M/I},S=g=>{switch(u){case"translate":return g+p;case"scale":return g*p;case"reciprocal":return g===0?1/0:1/g;default:return g}},N=T(n,r,l,c),v=S(n),f=S(r),x=S(l),C=S(c),j=T(v,f,x,C);return q.useEffect(()=>{const g=e.current;if(!g)return;const A=g.getContext("2d");if(!A)return;A.fillStyle="#0f172a",A.fillRect(0,0,E,y);const w=120,k=250,M=E/2,I=40,O=se=>isFinite(se)?M+se*I:se>0?E+50:-50;A.strokeStyle="#60a5fa",A.lineWidth=3,A.beginPath(),A.moveTo(30,w),A.lineTo(E-30,w),A.stroke(),A.strokeStyle="#34d399",A.lineWidth=3,A.beginPath(),A.moveTo(30,k),A.lineTo(E-30,k),A.stroke(),A.font="bold 14px sans-serif",A.fillStyle="#60a5fa",A.fillText("Original points",30,w-30),A.fillStyle="#34d399",A.fillText("Transformed points",30,k-30),A.strokeStyle="#475569",A.lineWidth=1,A.font="10px sans-serif",A.fillStyle="#64748b";for(let se=-5;se<=5;se++){const he=O(se);he>30&&he<E-30&&(A.beginPath(),A.moveTo(he,w-5),A.lineTo(he,w+5),A.stroke(),A.fillText(se.toString(),he-3,w+18),A.beginPath(),A.moveTo(he,k-5),A.lineTo(he,k+5),A.stroke(),A.fillText(se.toString(),he-3,k+18))}const $=["#ef4444","#f59e0b","#8b5cf6","#ec4899"],G=["p","q","r","s"],V=[n,r,l,c],J=[v,f,x,C];A.setLineDash([4,4]),A.strokeStyle="rgba(148, 163, 184, 0.4)",A.lineWidth=1,V.forEach((se,he)=>{const ae=J[he];if(isFinite(se)&&isFinite(ae)){const Ne=O(se),Te=O(ae);Ne>30&&Ne<E-30&&Te>30&&Te<E-30&&(A.beginPath(),A.moveTo(Ne,w+8),A.lineTo(Te,k-8),A.stroke())}}),A.setLineDash([]),V.forEach((se,he)=>{const ae=O(se);ae>20&&ae<E-20&&(A.fillStyle=$[he],A.beginPath(),A.arc(ae,w,8,0,Math.PI*2),A.fill(),A.font="bold 12px sans-serif",A.fillText(`${G[he]}=${se.toFixed(1)}`,ae-15,w-15))}),J.forEach((se,he)=>{if(isFinite(se)){const ae=O(se);ae>20&&ae<E-20&&(A.fillStyle=$[he],A.beginPath(),A.arc(ae,k,8,0,Math.PI*2),A.fill(),A.font="bold 12px sans-serif",A.fillText(`${G[he]}'=${se.toFixed(1)}`,ae-15,k-15))}else A.fillStyle=$[he],A.font="bold 12px sans-serif",A.fillText(`${G[he]}'=`,E-40,k-15+he*15)}),A.fillStyle="#e2e8f0",A.font="bold 14px sans-serif",A.fillText("Cross-Ratio Formula:",30,35),A.font="12px sans-serif",A.fillStyle="#94a3b8",A.fillText("(r-p)(s-q) / (r-q)(s-p)",30,55),A.fillStyle="#60a5fa",A.font="bold 14px sans-serif",A.fillText(`Original CR = ${isFinite(N)?N.toFixed(4):""}`,E-220,35),A.fillStyle="#34d399",A.fillText(`Transformed CR = ${isFinite(j)?j.toFixed(4):""}`,E-220,55);const ee=Math.abs(N-j)<.001||N===j;A.fillStyle=ee?"#22c55e":"#ef4444",A.fillText(ee?" Cross-ratio preserved!":" Cross-ratio changed",E-220,75),A.fillStyle="#c084fc",A.font="12px sans-serif";let re="";switch(u){case"none":re="No transformation";break;case"translate":re=`Translation: x  x + ${p.toFixed(1)}`;break;case"scale":re=`Scaling: x  ${p.toFixed(1)}x`;break;case"reciprocal":re="Reciprocal: x  1/x";break}A.fillText(re,30,y-20)},[n,r,l,c,u,p,v,f,x,C,N,j]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Cross-Ratio Explorer"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:E,height:y,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-red-400 mb-1",children:["p = ",n]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:n,onChange:g=>s(parseFloat(g.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-amber-400 mb-1",children:["q = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"4",step:"0.5",value:r,onChange:g=>a(parseFloat(g.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-purple-400 mb-1",children:["r = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"5",step:"0.5",value:l,onChange:g=>o(parseFloat(g.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-pink-400 mb-1",children:["s = ",c]}),i.jsx("input",{type:"range",min:"-1",max:"6",step:"0.5",value:c,onChange:g=>h(parseFloat(g.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>m("none"),className:`px-3 py-2 text-sm rounded transition ${u==="none"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"None"}),i.jsx("button",{onClick:()=>m("translate"),className:`px-3 py-2 text-sm rounded transition ${u==="translate"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Translate (x + l)"}),i.jsx("button",{onClick:()=>m("scale"),className:`px-3 py-2 text-sm rounded transition ${u==="scale"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Scale (kx)"}),i.jsx("button",{onClick:()=>m("reciprocal"),className:`px-3 py-2 text-sm rounded transition ${u==="reciprocal"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Reciprocal (1/x)"})]}),(u==="translate"||u==="scale")&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:u==="translate"?`l = ${p.toFixed(1)}`:`k = ${p.toFixed(1)}`}),i.jsx("input",{type:"range",min:u==="scale"?.5:-3,max:3,step:"0.1",value:p,onChange:g=>b(parseFloat(g.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>{s(0),a(1),o(2),h(3)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Equal Spacing (CR = 4/3)"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(3),h(4)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Example 2"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Insight:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["The cross-ratio is ",i.jsx("span",{className:"text-green-400",children:"invariant under projection"})]}),i.jsx("li",{children:"Translation: l cancels in differences"}),i.jsx("li",{children:"Scaling: k cancels in ratios"}),i.jsx("li",{children:"Reciprocal: algebra shows invariance"}),i.jsxs("li",{children:["Equally spaced points 0, 1, 2, 3 have cross-ratio ",i.jsx("span",{className:"text-amber-400",children:"4/3"})]})]})]})]})}function EQ(){return i.jsxs(qe,{sectionId:31,children:[i.jsx("h2",{children:"Perspective Drawing"}),i.jsx("p",{children:"Sometime in the 15th century, Italian artists discovered how to draw three-dimensional scenes in correct perspective. This discovery represented a great advance in realism, transforming how artists depicted the world."}),i.jsx("h3",{children:"The Discovery of Perspective"}),i.jsxs("p",{children:["The simplest test of perspective drawing is the depiction of a tiled floor. Before perspective was understood, artists drew all tiles as rectangles, which makes the floor look vertical. We know from experience that a horizontal rectangle does not ",i.jsx("em",{children:"look"})," rectangularits angles are not all right angles because its sides converge to a common point on the horizon."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," In perspective drawing, parallel lines that recede from the viewer appear to meet at a single point on the horizon, called the ",i.jsx("strong",{children:"vanishing point"}),"."]}),i.jsx("h3",{children:"The Costruzione Legittima"}),i.jsxs("p",{children:["The Italians drew tiles by a method called the ",i.jsx("em",{children:"costruzione legittima"}),"(legitimate construction), first published by Leon Battista Alberti in 1436."]}),i.jsxs(xe,{title:"Costruzione Legittima",children:[i.jsx("p",{children:"The method works as follows:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"The bottom edge of the picture coincides with a line of tile edges"}),i.jsx("li",{children:"A horizontal line is chosen as the horizon"}),i.jsx("li",{children:"Lines are drawn from equally spaced points on the bottom edge to a point on the horizon (the vanishing point)"}),i.jsx("li",{children:"These lines depict the parallel columns of tiles perpendicular to the bottom edge"}),i.jsx("li",{children:"A horizontal line near the bottom completes the first row of tiles"})]})]}),i.jsx("h3",{children:"Finding the Tile Rows"}),i.jsx("p",{children:"The real problem comes next: How do we find the correct horizontal lines to depict the 2nd, 3rd, 4th, ... rows of tiles? The answer is surprisingly simple:"}),i.jsx(ue,{title:"The Diagonal Method",children:i.jsx("p",{children:"Draw the diagonal of any tile in the bottom row. The diagonal necessarily crosses successive columns at the corners of tiles in the 2nd, 3rd, 4th, ... rows. Hence, these rows can be constructed by drawing horizontal lines at the successive crossings."})}),i.jsx("h3",{children:"Mathematical Analysis"}),i.jsx("p",{children:"Consider a floor with rows of tiles crossing the x-axis at x = 0, 1, 2, 3, ..., and suppose the artist copies the view onto a vertical transparent screen through the y-axis, keeping a fixed eye position at the point (1, 1)."}),i.jsx("p",{children:"The perspective view of the points x = 0, 1, 2, 3, ... will be a series of points on the y-axis. The line from (1, 1) to (n, 0) crosses the y-axis at:"}),i.jsx(Y,{children:"y = \\frac{n}{n+1}"}),i.jsx("p",{children:"Hence, the perspective images of the points x = 0, 1, 2, 3, ... are the points:"}),i.jsx(Y,{children:"y = 0, \\frac{1}{2}, \\frac{2}{3}, \\frac{3}{4}, \\ldots"}),i.jsx("h3",{children:"The Shift Function"}),i.jsx("p",{children:"If each of the points 0, 1, 2, 3, ... is sent to the next, then each of their perspective images y = 0, 1/2, 2/3, 3/4, ... is sent to the next. This shift is effected by the function:"}),i.jsx(Y,{children:"f(y) = \\frac{1}{2-y}"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Fixed Point:"})," The point y = 1 is not moved by this function (since f(1) = 1). This point corresponds to the horizonthe limit point where the rows of tiles appear to converge."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the line from (1, 1) to (n, 0) crosses the y-axis at y = n/(n+1). Hence verify that the perspective images of the points x = 0, 1, 2, 3, ... are the points y = 0, 1/2, 2/3, 3/4, ...."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that the function f(y) = 1/(2y) sends each perspective image y = 0, 1/2, 2/3, 3/4, ... to the next."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.1.3"}),i.jsx("p",{className:"text-slate-300",children:"Which point on the y-axis is not moved by the function f(y) = 1/(2y), and what is the geometric significance of this point?"})]}),i.jsx(TQ,{className:"my-6"}),i.jsx(Re,{sectionId:31,questions:$e[31]||[],title:"Perspective Drawing Quiz"})]})}function CQ(){return i.jsxs(qe,{sectionId:32,children:[i.jsx("h2",{children:"Drawing with Straightedge Alone"}),i.jsxs("p",{children:["The ",i.jsx("em",{children:"costruzione legittima"})," takes advantage of something that is visually obvious but mathematically mysteriousthe fact that parallel lines generally do not look parallel, but appear to meet on the horizon."]}),i.jsx("h3",{children:"Points at Infinity"}),i.jsx(xe,{title:"Vanishing Point and Line at Infinity",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:["The point where a family of parallels appear to meet is called their",i.jsx("strong",{children:" vanishing point"})," by artists, and their ",i.jsx("strong",{children:"point at infinity"})," by mathematicians."]}),i.jsxs("li",{children:["The horizon itself, which consists of all the points at infinity, is called the ",i.jsx("strong",{children:"line at infinity"}),"."]})]})}),i.jsx("h3",{children:"Limitations of the Costruzione Legittima"}),i.jsx("p",{children:"The costruzione legittima does not take full advantage of points at infinity. It involves some parallels that are really drawn parallel, so we need both straightedge and compass as used in Chapter 1. The construction also needs measurement to lay out the equally spaced points on the bottom line of the picture."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Question:"})," Is it possible to draw a perspective view of a tiled floor with a straightedge alone? Absolutely!"]}),i.jsx("h3",{children:"Construction with Straightedge Alone"}),i.jsx("p",{children:"All one needs to get started is the horizon and a tile placed obliquely. The tile is created by two pairs of parallel lines, which are simply pairs that meet on the horizon."}),i.jsx(ue,{title:"The Straightedge Construction",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Start with a horizon line and one tile (a quadrilateral whose opposite sides meet on the horizon)"}),i.jsx("li",{children:"Draw the diagonal of this tile and extend it to the horizon, obtaining the point at infinity of all parallel diagonals"}),i.jsx("li",{children:"This step allows us to draw two more diagonals, of tiles adjacent to the first one"}),i.jsx("li",{children:"These diagonals give us the remaining sides of the adjacent tiles"}),i.jsx("li",{children:"Repeat the process to fill in as many tiles as desired"})]})}),i.jsx("h3",{children:"Why It Works"}),i.jsx("p",{children:"This construction works because certain things remain the same in any view of the plane:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Straight lines remain straight"}),i.jsx("li",{children:"Intersections remain intersections"}),i.jsx("li",{children:"Parallel lines remain parallel or meet on the horizon"})]})}),i.jsxs("p",{children:["Since parallel lines always meet on the horizon if you point yourself in the right direction, if we could look in all directions at once we would see that ",i.jsx("strong",{children:"any two lines have a point in common"}),"."]}),i.jsx("h3",{children:"The Power of the Straightedge"}),i.jsx("p",{children:"This construction is easy and fun to do. Unlike the costruzione legittima, which requires both straightedge and compass for its measurements and parallel constructions, this method uses only incidence properties of linestheir meetings and intersections."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Try It:"})," Get a straightedge and try the construction yourself! Start with a horizon line, draw one quadrilateral tile below it with opposite sides meeting on the horizon, and then extend using diagonals."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Consider a triangular tile that could be half of a quadrangular tile. Draw a perspective view of the plane filled with many copies of this tile."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.2.2"}),i.jsx("p",{className:"text-slate-300",children:"By deleting some lines in your solution to Exercise 5.2.1, create a perspective view of the plane filled with congruent hexagons."})]}),i.jsx(jQ,{className:"my-6"}),i.jsx(Re,{sectionId:32,questions:$e[32]||[],title:"Drawing with Straightedge Alone Quiz"})]})}function MQ(){return i.jsxs(qe,{sectionId:33,children:[i.jsx("h2",{children:"Projective Plane Axioms and Their Models"}),i.jsxs("p",{children:['Drawing a tiled floor with straightedge alone requires a "horizon"a line at infinity. This idea leads us to believe in a structure called a',i.jsx("strong",{children:" projective plane"}),', containing objects called "points" and "lines" satisfying certain axioms.']}),i.jsx("h3",{children:"Axioms for a Projective Plane"}),i.jsx(xe,{title:"Projective Plane Axioms",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[i.jsx("li",{children:'Any two "points" are contained in a unique "line."'}),i.jsx("li",{children:'Any two "lines" contain a unique "point."'}),i.jsx("li",{children:'There exist four "points," no three of which are in a "line."'})]})}),i.jsxs("p",{children:["Notice that these are axioms about ",i.jsx("strong",{children:"incidence"}),': They involve only meetings between "points" and "lines," not things such as length or angle.']}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Understanding the Axioms"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Axiom 1"})," is essentially Euclid's first axiom for the construction of lines."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Axiom 2"}),' says that there are no exceptional pairs of lines that do not meet. We can define "parallels" to be lines that meet on a "horizon," but this does not single out a special class of lines.']}),i.jsxs("li",{children:[i.jsx("strong",{children:"Axiom 3"}),' says that a projective plane has "enough points to be interesting"we can think of the four points as vertices of a quadrilateral.']})]})]}),i.jsx("h3",{children:"The Real Projective Plane P"}),i.jsx("p",{children:"If there is such a thing as a projective plane, it should certainly satisfy these axioms. But does anything satisfy them? These doubts are dispelled by the following model."}),i.jsx(xe,{title:"The Real Projective Plane P",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:["Take ",i.jsx("strong",{children:'"points"'})," to be lines through O in "]}),i.jsxs("li",{children:["Take ",i.jsx("strong",{children:'"lines"'})," to be planes through O in "]}),i.jsxs("li",{children:["Take the ",i.jsx("strong",{children:'"plane"'})," to be the set of all lines through O in "]})]})}),i.jsx(ue,{title:"P Satisfies the Axioms",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[i.jsx("li",{children:'Any two "points" are contained in a unique "line" because two given lines through O lie in a unique plane through O.'}),i.jsx("li",{children:'Any two "lines" contain a unique "point" because any two planes through O meet in a unique line through O.'}),i.jsx("li",{children:'There are four different "points," no three of which are in a "line": for example, the lines from O to (1,0,0), (0,1,0), (0,0,1), and (1,1,1).'})]})}),i.jsx("h3",{children:"Viewing with an All-Seeing Eye"}),i.jsxs("p",{children:["Lines and planes through O in  capture the idea of ",i.jsx("strong",{children:"viewing with an all-seeing eye"}),". The point O is the position of the eye, and the lines through O connect the eye to points in the plane."]}),i.jsx("p",{children:"Consider how the eye sees the plane z = 1. Points P, P, P, ... in this plane are joined to the eye by lines through O. As a point P tends to infinity, its line of sight tends toward horizontal. Therefore:"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Points at Infinity:"}),' The horizontal lines through O are the "points at infinity" of the plane z = 1, and the plane of all horizontal lines through O is the "horizon" or "line at infinity."']}),i.jsx("h3",{children:"One Point at Infinity per Line"}),i.jsxs("p",{children:["This model makes clear why each line has only ",i.jsx("strong",{children:"one"})," point at infinity, not two: The lines connecting O to points P along a line M tend toward the ",i.jsx("em",{children:"same"})," horizontal line as P tends to infinity in either direction (namely, the parallel to M through O)."]}),i.jsx("h3",{children:"The Real Projective Line"}),i.jsxs("p",{children:['It is hard to find a surface that behaves like P, but it is easy to find a curve that behaves like any "line" in itthe ',i.jsx("strong",{children:"real projective line"}),"."]}),i.jsx(xe,{title:"Modeling a Projective Line",children:i.jsx("p",{children:'The "points" in a "line" of Pnamely, the lines through O in some plane through Ocorrespond to points of a circle through O. Each point P  O on the circle corresponds to the line through O and P, and the point O itself corresponds to the tangent line at O.'})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the plane ax + by + cz = 0 through the points (0,0,1) and (1,1,1), and check that it does not contain the points (1,0,0) and (0,1,0)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.2"}),i.jsx("p",{className:"text-slate-300",children:'Show that P has four "lines," no three of which have a common "point."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.3"}),i.jsx("p",{className:"text-slate-300",children:'Suppose that A, B, C, D are four "points" in a projective plane, no three of which are in a "line." Consider the "lines" AB, BC, CD, DA. Show that if AB and BC have a common point E, then E = B.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Deduce from Exercise 5.3.3 that the three lines AB, BC, CD have no common point, and that the same is true of any three of the lines AB, BC, CD, DA."})]}),i.jsx(Re,{sectionId:33,questions:$e[33]||[],title:"Projective Plane Axioms Quiz"})]})}function zQ(){return i.jsxs(qe,{sectionId:34,children:[i.jsx("h2",{children:"Homogeneous Coordinates"}),i.jsx("p",{children:'Because "points" and "lines" of P are lines and planes through O in , they are easily handled by methods of linear algebra.'}),i.jsx("h3",{children:"Coordinates for Points"}),i.jsx("p",{children:"A line through O is determined by any point (x, y, z)  O, and it consists of the points (tx, ty, tz), where t runs through all real numbers."}),i.jsx(xe,{title:"Homogeneous Coordinates",children:i.jsxs("p",{children:['A "point" in P is not given by a single triple (x, y, z), but rather by any of its nonzero multiples (tx, ty, tz). These triples are called the ',i.jsx("strong",{children:"homogeneous coordinates"}),' of the "point."']})}),i.jsx("h3",{children:"Equations for Lines"}),i.jsxs("p",{children:["A plane through O has a linear equation of the form ax + by + cz = 0, called a ",i.jsx("strong",{children:"homogeneous equation"}),". The same plane is given by the equation tax + tby + tcz = 0 for any nonzero t."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"}),' A "line" is likewise not given by a single triple (a, b, c), but by the set of all its nonzero multiples (ta, tb, tc).']}),i.jsx("h3",{children:"Finding the Line Through Two Points"}),i.jsx("p",{children:"If (x, y, z) and (x, y, z) lie on different lines through O, then they lie in a unique plane ax + by + cz = 0. The coordinates (a, b, c) can be found by solving:"}),i.jsx(Y,{children:`\\begin{aligned}
ax_1 + by_1 + cz_1 &= 0 \\\\
ax_2 + by_2 + cz_2 &= 0
\\end{aligned}`}),i.jsx("p",{children:"Because there are more unknowns than equations, there is not a single solution but a whole space of thema set of multiples (ta, tb, tc), all representing the same homogeneous equation."}),i.jsxs(ue,{title:"Algebraic Basis of Projective Geometry",children:[i.jsx("p",{children:'This is the algebraic reason why two "points" lie on a unique "line" in P. Similarly, two "lines" have a unique "point" in common because solving:'}),i.jsx(Y,{children:`\\begin{aligned}
a_1x + b_1y + c_1z &= 0 \\\\
a_2x + b_2y + c_2z &= 0
\\end{aligned}`}),i.jsx("p",{className:"mt-2",children:'for x, y, z gives a set of multiples (tx, ty, tz) representing the homogeneous coordinates of the common "point."'})]}),i.jsx("h3",{children:"Complex Projective Plane"}),i.jsxs("p",{children:["It makes no algebraic difference if the coordinates are complex numbers. We can define a ",i.jsx("strong",{children:"complex projective plane P"}),', each "point" of which is a set of triples (tx, ty, tz), where x, y, z are complex numbers and t runs through all complex numbers.']}),i.jsx("p",{children:'It remains true that any two "points" lie on a unique "line" and any two "lines" have a unique common point, simply because complex linear equations work the same as real ones.'}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Multiple Models:"})," There is more than one model of the projective plane axioms. Later we shall look at other models, which show that certain properties of P do not follow from the axioms alone."]}),i.jsx("h3",{children:"Projective Space P"}),i.jsxs("p",{children:["It is easy to generalize homogeneous coordinates to quadruples (w, x, y, z) and define the three-dimensional ",i.jsx("strong",{children:"real projective space P"}),":"]}),i.jsx(xe,{title:"Real Projective Space P",children:i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:["A ",i.jsx("strong",{children:'"point"'})," is a line through O in , that is, a set of quadruples t",i.jsx("strong",{children:"u"}),", where ",i.jsx("strong",{children:"u"})," = (w, x, y, z)"]}),i.jsxs("li",{children:["A ",i.jsx("strong",{children:'"line"'})," is a plane through O in , that is, a set t",i.jsx("strong",{children:"u"})," + t",i.jsx("strong",{children:"u"})," where ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"u"})," are linearly independent"]}),i.jsxs("li",{children:["A ",i.jsx("strong",{children:'"plane"'})," is a 3-dimensional space through O in "]})]})}),i.jsx("h3",{children:"Properties of P"}),i.jsx("p",{children:"Linear algebra enables us to show various properties:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:'Two "points" lie on a unique "line."'}),i.jsx("li",{children:'Three "points" not on a "line" lie on a unique "plane."'}),i.jsx("li",{children:'Two "planes" have a unique "line" in common.'}),i.jsx("li",{children:'Three "planes" with no common "line" have one common "point."'})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the plane ax + by + cz = 0 that contains the points (1, 2, 3) and (1, 1, 1)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the line of intersection of the planes x + 2y + 3z = 0 and x + y + z = 0."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.4.3"}),i.jsx("p",{className:"text-slate-300",children:"You can write down the solution of Exercise 5.4.2 as soon as you have solved Exercise 5.4.1. Why?"})]}),i.jsx(NQ,{className:"my-6"}),i.jsx(Re,{sectionId:34,questions:$e[34]||[],title:"Homogeneous Coordinates Quiz"})]})}function DQ(){return i.jsxs(qe,{sectionId:35,children:[i.jsx("h2",{children:"Projection"}),i.jsxs("p",{children:['The three-dimensional Euclidean space , in which lines through O are "points" of P and planes through O are "lines" of P, also contains many other planes. Each plane  not passing through O can be regarded as a ',i.jsx("strong",{children:"perspective view"})," of the projective plane P."]}),i.jsx("h3",{children:"Perspective Views"}),i.jsx("p",{children:'Each point P of  corresponds to a line ("of sight") through O, and hence to a "point" of P. The only lines through O that do not meet  are those parallel to these make up the line at infinity or horizon of .'}),i.jsx(xe,{title:"Projection Between Planes",children:i.jsxs("p",{children:["If  and  are any two planes not passing through O, we can",i.jsx("strong",{children:" project"}),"  to  by sending each point P in  to the point P in  lying on the same line through O as P."]})}),i.jsx("p",{children:'The geometry of P is called "projective" because it encapsulates the geometry of a whole family of planes related by projection.'}),i.jsx("h3",{children:"Projections of Projective Lines"}),i.jsx("p",{children:"Projection of one plane  onto another plane  produces an image that is generally distorted. For example, a grid of squares may be mapped to a perspective view that looks very different. Nevertheless, straight lines remain straight under projection."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Property:"})," To understand projective distortion, we analyze the mappings of the projective line obtainable by projection."]}),i.jsx("h3",{children:"Types of Projections"}),i.jsx("h4",{children:"Projection from Infinity (Parallel Lines)"}),i.jsx("p",{children:"When  and  are parallel, projection from a point at infinity means the lines from dots on  to their images on  are parallel. The dots are simply translated a constant distance l:"}),i.jsx(Y,{children:"x \\mapsto x + l"}),i.jsx("h4",{children:"Projection from a Finite Point (Parallel Lines)"}),i.jsx("p",{children:"When  is projected from a finite point P onto parallel line , the distance between dots is magnified by a constant factor k  0:"}),i.jsx(Y,{children:"x \\mapsto kx"}),i.jsx("h4",{children:"Projection onto Non-Parallel Lines"}),i.jsx("p",{children:"When  and  are not parallel, the distortion is more extreme. Consider projection from a point O equidistant from both lines, with  parallel to the x-axis and  parallel to the y-axis. The map from  to  is:"}),i.jsx(Y,{children:"x \\mapsto \\frac{1}{x}"}),i.jsxs(ue,{title:"Generating Transformations",children:[i.jsxs("p",{children:["Any combination of projections is a combination of these three",i.jsx("strong",{children:" generating transformations"}),":"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"x  x + l (translation)"}),i.jsx("li",{children:"x  kx (scaling)"}),i.jsx("li",{children:"x  1/x (reciprocation)"})]}),i.jsx("p",{className:"mt-2",children:"The combinations of these are precisely the functions of the form:"}),i.jsx(Y,{children:"f(x) = \\frac{ax + b}{cx + d}, \\quad \\text{where } ad - bc \\neq 0"})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.1"}),i.jsx("p",{className:"text-slate-300",children:"If f(x) = ax + b with a  0 and f(x) = ax + b with a  0, show that f(f(x)) = Ax + B with A  0, and find the constants A and B."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Deduce from Exercise 5.5.1 that composing any number of functions x  x + l or x  kx (for k  0) gives a function of the form f(x) = ax + b with a  0."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that projection of a line, from any finite point P, onto a parallel line is represented by a function of the form f(x) = ax + b."})]}),i.jsx(SQ,{className:"my-6"}),i.jsx(Re,{sectionId:35,questions:$e[35]||[],title:"Projection Quiz"})]})}function PQ(){return i.jsxs(qe,{sectionId:36,children:[i.jsx("h2",{children:"Linear Fractional Functions"}),i.jsxs("p",{children:["The functions sending x to 1/x, kx, and x + l are among the functions called",i.jsx("strong",{children:" linear fractional"}),", each of which has the form:"]}),i.jsx(Y,{children:"f(x) = \\frac{ax + b}{cx + d} \\quad \\text{where } ad - bc \\neq 0"}),i.jsx("h3",{children:"Why ad  bc  0?"}),i.jsx("p",{children:"The condition ad  bc  0 ensures that f(x) is not constant. Constancy occurs only if ax + b = (a/c)(cx + d), in which case ad  bc = 0."}),i.jsxs(ue,{title:"Decomposition of Linear Fractional Functions",children:[i.jsx("p",{children:"By algebraic manipulation, any linear fractional function with c  0 may be written as:"}),i.jsx(Y,{children:"f(x) = \\frac{a}{c} + \\frac{bc - ad}{c(cx + d)}"}),i.jsx("p",{className:"mt-2",children:"Such a function can therefore be composed from the generating transformations:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[i.jsx("li",{children:"First multiply x by c"}),i.jsx("li",{children:"Then add d"}),i.jsx("li",{children:"Then multiply again by c"}),i.jsx("li",{children:"Then reciprocate (take 1/x)"}),i.jsx("li",{children:"Then multiply by bc  ad"}),i.jsx("li",{children:"Finally add a/c"})]})]}),i.jsx("p",{children:"When c = 0, the linear fractional function is simply (ax + b)/d = (a/d)x + b/d, composed by multiplying by a/d and adding b/d."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Result:"})," Any linear fractional function is composed from functions that reciprocate, multiply by k, and add l. Hence, any linear fractional function on the number line is realized by a sequence of projections."]}),i.jsx("h3",{children:"The Converse"}),i.jsxs("p",{children:["We now prove the converse: ",i.jsx("strong",{children:"Any sequence of projections of the number line realizes a linear fractional function."})]}),i.jsx("p",{children:"Consider projecting a line onto a perpendicular line from point (a, b). To find where point t on the x-axis goes on the y-axis, we use the slope of the line through t and (a, b):"}),i.jsx(Y,{children:"f(t) = \\frac{bt}{t - a}"}),i.jsx("p",{children:"This is a linear fractional function! For the general case of intersecting lines (not necessarily perpendicular), projecting the x-axis from (a, b) onto the line y = cx gives:"}),i.jsx(Y,{children:"x = \\frac{bt}{ct - ac + b}"}),i.jsx("p",{children:"This is also a linear fractional function of t."}),i.jsx(ue,{title:"Linear Fractional = Projection",children:i.jsx("p",{children:"Any single projection of a line can be represented by a linear fractional function. Since composing linear fractional functions gives a linear fractional function, any finite sequence of projections is represented by a linear fractional function."})}),i.jsx("h3",{children:"Dividing by Zero"}),i.jsx("p",{children:"Division by zero is generally not valid, but in carefully controlled situations, it is permissible. The function f(x) = 1/x cannot send x = 0 anywhere (since 1/0 is undefined), nor can it send any point to y = 0."}),i.jsxs(xe,{title:"The Projective Line   {'{'}{'}'}",children:[i.jsx("p",{children:"This defect is fixed by extending f(x) = 1/x to include x = , declaring:"}),i.jsx(Y,{children:"\\frac{1}{\\infty} = 0 \\quad \\text{and} \\quad \\frac{1}{0} = \\infty"}),i.jsxs("p",{className:"mt-2",children:["The new object  is the point at infinity of the line. The function f(x) = 1/x works properly not on , but on the ",i.jsx("strong",{children:"real projective line"}),"   ","{","","}","."]})]}),i.jsx("h3",{children:"The Real Projective Line P"}),i.jsxs(xe,{title:"P",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"real projective line P"})," is the set   ","{","","}"," together with all the linear fractional functions mapping it onto itself."]}),i.jsxs("p",{className:"mt-2",children:["Any function f(x) = (ax + b)/(cx + d) with ad  bc  0 maps   ","{","","}"," onto itself. The denominator is 0 when x = d/c, and the correct value is f(d/c) = . Conversely, f() = a/c."]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Elasticity of P:"}),' Unlike the ordinary line , where every point is determined once we know 0 and 1, the projective line is more "elastic." There exists a projection sending 0 to 0, 1 to 1, but 2 to 3. However, if we know where three points go, the destination of every other point is determined.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Solve the equation y = (ax + b)/(cx + d) for x, and note where your solution assumes ad  bc  0."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.2"}),i.jsx("p",{className:"text-slate-300",children:"If f(x) = (ax + b)/(cx + d) and f(x) = (ax + b)/(cx + d), compute f(f(x)) and verify that it is of the form (Ax + B)/(Cx + D)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the matrix product gives the coefficients of the composition:"}),i.jsx(Y,{children:"\\begin{pmatrix} A & B \\\\ C & D \\end{pmatrix} = \\begin{pmatrix} a_1 & b_1 \\\\ c_1 & d_1 \\end{pmatrix} \\begin{pmatrix} a_2 & b_2 \\\\ c_2 & d_2 \\end{pmatrix}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that if ad  bc  0 for f(x) and ad  bc  0 for f(x), then AD  BC  0 for f(f(x)). Why?"})]}),i.jsx(AQ,{className:"my-6"}),i.jsx(Re,{sectionId:36,questions:$e[36]||[],title:"Linear Fractional Functions Quiz"})]})}function IQ(){return i.jsxs(qe,{sectionId:37,children:[i.jsx("h2",{children:"The Cross-Ratio"}),i.jsxs("blockquote",{className:"border-l-4 border-blue-500 pl-4 italic text-slate-300 my-6",children:['"You might say it was a triumph of algebra to invent this quantity that turns out to be so valuable and could not be imagined geometrically. Or if you are a geometer at heart, you may say it is an invention of the devil and hate it all your life."',i.jsxs("footer",{className:"text-sm mt-2",children:[" Robin Hartshorne, ",i.jsx("em",{children:"Geometry: Euclid and Beyond"})]})]}),i.jsx("p",{children:"It is visually obvious that projection can change lengths and even the ratio of lengths, because equal lengths often appear unequal under projection. And yet we can recognize that a perspective drawing shows equal tiles, even though they are unequal in size and shape."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"The Key Question:"})," Some clue to the equality must be preserved under projection. It cannot be length; it cannot be a ratio of lengths; but, surprisingly, it can be a ",i.jsx("strong",{children:"ratio of ratios"}),", called the cross-ratio."]}),i.jsx("h3",{children:"Definition of the Cross-Ratio"}),i.jsxs(xe,{title:"Cross-Ratio",children:[i.jsx("p",{children:"The cross-ratio is a quantity associated with four points on a line. If the four points have coordinates p, q, r, and s, then their cross-ratio is:"}),i.jsx(Y,{children:"\\frac{(r - p)/(s - p)}{(r - q)/(s - q)} = \\frac{(r - p)(s - q)}{(r - q)(s - p)}"})]}),i.jsx("h3",{children:"The Cross-Ratio is Preserved by Projection"}),i.jsx("p",{children:"To show that the cross-ratio is preserved by projection, it suffices to show that it is preserved by the three generating transformations."}),i.jsx(ue,{title:"Invariance of the Cross-Ratio",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"1. The map x  x + l"}),i.jsx("p",{className:"text-slate-300",children:"The numbers p, q, r, s are replaced by p + l, q + l, r + l, s + l. This does not change the cross-ratio because the l terms cancel by subtraction."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"2. The map x  kx"}),i.jsx("p",{className:"text-slate-300",children:"The numbers p, q, r, s are replaced by kp, kq, kr, ks. This does not change the cross-ratio because the k terms cancel by division."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"3. The map x  1/x"}),i.jsx("p",{className:"text-slate-300",children:"The numbers p, q, r, s are replaced by 1/p, 1/q, 1/r, 1/s. With some algebra (taking common denominators and simplifying), the cross-ratio is unchanged."})]})]})}),i.jsx("h3",{children:"Proof for the Reciprocal Map"}),i.jsx("p",{children:"When x  1/x, the cross-ratio transforms as:"}),i.jsx(Y,{children:"\\frac{(\\frac{1}{r} - \\frac{1}{p})(\\frac{1}{s} - \\frac{1}{q})}{(\\frac{1}{r} - \\frac{1}{q})(\\frac{1}{s} - \\frac{1}{p})}"}),i.jsx("p",{children:"Taking common denominators:"}),i.jsx(Y,{children:"= \\frac{\\frac{p-r}{pr} \\cdot \\frac{q-s}{qs}}{\\frac{q-r}{qr} \\cdot \\frac{p-s}{ps}}"}),i.jsx("p",{children:"Multiplying through by pqrs:"}),i.jsx(Y,{children:"= \\frac{(p-r)(q-s)}{(q-r)(p-s)} = \\frac{(r-p)(s-q)}{(r-q)(s-p)}"}),i.jsx("p",{children:"The cross-ratio is unchanged!"}),i.jsx("h3",{children:"Is the Cross-Ratio Visible?"}),i.jsx("p",{children:"If we take the four equally spaced points p = 0, q = 1, r = 2, and s = 3, then their cross-ratio is:"}),i.jsx(Y,{children:"\\frac{(r - p)(s - q)}{(r - q)(s - p)} = \\frac{2 \\times 2}{1 \\times 3} = \\frac{4}{3}"}),i.jsxs("p",{children:["Any projective image of these points also has cross-ratio 4/3. Do four points on a line ",i.jsx("em",{children:"look"})," equally spaced if their cross-ratio is 4/3?"]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Test Your Eye:"}),' Given any three points, there is exactly one fourth point that gives cross-ratio 4/3 with themthis is the point that "looks" evenly spaced in perspective.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that there is only one point s that has a given cross-ratio with given points p, q, and r."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.7.2"}),i.jsx("p",{className:"text-slate-300",children:"If we have p = 0, q = 2, r = 3, find the value of s that gives cross-ratio 4/3."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Before the discovery of perspective, artists sometimes drew a tiled floor by making the width of each row a constant fraction e of the one before. Show that this method is incorrect by computing the cross-ratio of four points separated by distances 1, e, and e."})]}),i.jsx(kQ,{className:"my-6"}),i.jsx(Re,{sectionId:37,questions:$e[37]||[],title:"The Cross-Ratio Quiz"})]})}function RQ(){return i.jsxs(qe,{sectionId:38,children:[i.jsx("h2",{children:"What is Special About the Cross-Ratio?"}),i.jsx("p",{children:"We use the abbreviation [p, q; r, s] for the cross-ratio of four points p, q, r, s:"}),i.jsx(Y,{children:"[p, q; r, s] = \\frac{(r - p)(s - q)}{(r - q)(s - p)}"}),i.jsx("p",{children:"We have shown that the cross-ratio is an invariant of linear fractional transformations, but it is obviously not the only one. Examples of other invariants are (cross-ratio) and cross-ratio + 1."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Point:"})," The cross-ratio is special because it is the",i.jsx("strong",{children:" defining invariant"})," of linear fractional transformations. That is, linear fractional transformations are precisely the transformations of P that preserve the cross-ratio. (The cross-ratio defines linear fractional transformations the way that length defines isometries.)"]}),i.jsx("h3",{children:"Fourth Point Determination"}),i.jsxs(ue,{title:"Fourth Point Determination",children:[i.jsx("p",{children:"Given any three points p, q, r  P, any other point x  P is uniquely determined by its cross-ratio [p, q; r, x] = y with p, q, r."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This holds because we can solve the equation for x uniquely in terms of p, q, r, and y."})]}),i.jsx("h3",{children:"Existence of Three-Point Maps"}),i.jsxs(ue,{title:"Existence of Three-Point Maps",children:[i.jsx("p",{children:"Given three points p, q, r  P and three points p, q, r  P, there is a linear fractional transformation f sending p, q, r to p, q, r respectively."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This holds because there is a projection sending any three points to any three points. Without loss of generality, place the two copies of P so that p = p. Then project from the point P where lines qq and rr meet."})]}),i.jsx("h3",{children:"Uniqueness of Three-Point Maps"}),i.jsxs(ue,{title:"Uniqueness of Three-Point Maps",children:[i.jsx("p",{children:"Exactly one linear fractional function sends three points p, q, r to three points p, q, r respectively."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"A linear fractional f sending p, q, r to p, q, r must send any x  p, q, r to x satisfying [p, q; r, x] = [p, q; r, x], because f preserves the cross-ratio. But x is unique by fourth point determination, so there is exactly one such function f."})]}),i.jsx("h3",{children:"Characterization of Linear Fractional Maps"}),i.jsxs(ue,{title:"Characterization Theorem",children:[i.jsx("p",{children:"Linear fractional transformations are precisely the maps of P that preserve the cross-ratio."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"By the previous section, any linear fractional map f preserves cross-ratio. Conversely, suppose f preserves cross-ratio. By existence of three-point maps, we can find a linear fractional g that agrees with f on p, q, r. Because f preserves cross-ratio, g agrees with f on s also by unique fourth point determination. Thus g agrees with f everywhere, so f is linear fractional."})]}),i.jsx("h3",{children:"Why No Invariant for Three Points?"}),i.jsx("p",{children:"The existence of three-point maps says that any three points on P can be sent to any three points by a linear fractional transformation. Thus, any invariant of triples of points must have the same value for any tripleso it is trivial!"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Minimum Points:"})," A nontrivial invariant must involve at least four points, and the cross-ratio is the fundamental example."]}),i.jsx("h3",{children:"The Fundamental Invariant"}),i.jsxs(ue,{title:"The Fundamental Invariant",children:[i.jsx("p",{children:"Any invariant of four points is a function of the cross-ratio."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"Suppose I(p, q, r, s) is invariant under linear fractional transformations. Then I has the same value on all quadruples with the same cross-ratio, because any such quadruple results from (p, q, r, s) by a linear fractional transformation. Therefore I is really a function J of the cross-ratio: J([p, q; r, s]) = I(p, q, r, s)."})]}),i.jsx("h3",{children:"Permutations of the Cross-Ratio"}),i.jsx("p",{children:"Permuting the variables in the cross-ratio y = [p, q; r, s] gives simple functions of y:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"[p, q; s, r] = 1/y"}),i.jsx("li",{children:"[q, p; r, s] = 1/y"}),i.jsx("li",{children:"[p, r; q, s] = 1  y"})]})}),i.jsx("p",{children:"The transformations y  1/y and y  1  y generate all transformations of the cross-ratio obtained by permuting its variables. There are six such transformations (even though there are 24 permutations of four variables):"}),i.jsx(Y,{children:"y, \\quad \\frac{1}{y}, \\quad 1-y, \\quad 1-\\frac{1}{y}, \\quad \\frac{1}{1-y}, \\quad \\frac{y}{y-1}"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"The Cross-Ratio Group:"})," These six linear fractional functions constitute the ",i.jsx("em",{children:"cross-ratio group"}),"an example of a group of transformations, which we will study in Chapter 7. Unlike most groups studied there, this group is finite."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.1"}),i.jsx("p",{className:"text-slate-300",children:"If [p, q; r, s] = y, show that [p, q; s, r] = 1/y."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.2"}),i.jsx("p",{className:"text-slate-300",children:"If [p, q; r, s] = y, show that [q, p; r, s] = 1/y."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that [p, q; r, s] + [p, r; q, s] = 1, so if [p, q; r, s] = y, then [p, r; q, s] = 1  y."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the functions of y obtained by combining 1/y and 1  y in all ways are precisely the six listed above."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.5"}),i.jsx("p",{className:"text-slate-300",children:"Explain why any permutation of four variables may be obtained by exchanges: either of the first two, the middle two, or the last two variables."})]}),i.jsx(wQ,{className:"my-6"}),i.jsx(Re,{sectionId:38,questions:$e[38]||[],title:"What is Special About the Cross-Ratio? Quiz"})]})}function _Q(){return i.jsxs(qe,{sectionId:39,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"The plane P studied in this chapter is the most important projective plane, but it is far from being the only one. Many other projective planes can be constructed by imitating the construction of P."}),i.jsx("h3",{children:"Projective Planes Over Fields"}),i.jsxs("p",{children:["The construction of P is based on ordered triples (x, y, z) and linear equations ax + by + cz = 0. It is not essential for x, y, z to be real numbers. They could be complex numbers, or more generally elements of any ",i.jsx("strong",{children:"field"}),"."]}),i.jsx(xe,{title:"Field",children:i.jsx("p",{children:"A field is any set with + and  operations satisfying the nine field axioms listed in Section 4.8."})}),i.jsx("p",{children:"If F is any field, we can consider the space F of ordered triples (x, y, z) with x, y, z  F. Then the projective plane FP has:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:'"points"'}),": sets of triples (kx, ky, kz), where x, y, z  F are fixed and k runs through the elements of F"]}),i.jsxs("li",{children:[i.jsx("strong",{children:'"lines"'}),': sets of "points" satisfying ax + by + cz = 0 for some fixed a, b, c  F']})]})}),i.jsx(ue,{title:"FP is a Projective Plane",children:i.jsx("p",{children:"The projective plane axioms can be checked for FP just as they were for P. The same calculations apply, because the field axioms ensure that the same algebraic operations work in F."})}),i.jsx("h3",{children:"The Rational Projective Plane"}),i.jsx("p",{children:"Perhaps the most familiar field after  and  is the set  of rational numbers. P is not unlike P, except that all of its points have rational coordinates, and all of its lines are full of gaps (containing only rational points)."}),i.jsx("h3",{children:"Finite Projective Planes"}),i.jsxs("p",{children:["More surprising examples arise from finite fields. There is a finite field with p",i.jsx("sup",{children:"n"})," elements for each prime power p",i.jsx("sup",{children:"n"}),". The simplest example is the field F with elements 0 and 1:"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Addition in F"}),i.jsxs("table",{className:"w-full text-center",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border border-slate-600 p-2",children:"+"}),i.jsx("th",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("th",{className:"border border-slate-600 p-2",children:"1"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"1"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"1"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"1"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"})]})]})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Multiplication in F"}),i.jsxs("table",{className:"w-full text-center",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border border-slate-600 p-2",children:""}),i.jsx("th",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("th",{className:"border border-slate-600 p-2",children:"1"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"1"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"1"})]})]})]})]})]}),i.jsx("h3",{children:"The Fano Plane"}),i.jsxs(xe,{title:"The Fano Plane FP",children:[i.jsx("p",{children:"The projective plane FP has seven points, corresponding to the seven nonzero points in F:"}),i.jsx(Y,{children:"(1,0,0), (0,1,0), (0,0,1), (0,1,1), (1,0,1), (1,1,0), (1,1,1)"}),i.jsxs("p",{className:"mt-2",children:["These seven points are arranged in threes along seven lines. This structure is called the ",i.jsx("strong",{children:"Fano plane"}),"the smallest projective plane."]})]}),i.jsx("p",{children:"The lines of the Fano plane satisfy the equations:"}),i.jsx(Y,{children:`\\begin{aligned}
&x = 0, \\quad y = 0, \\quad z = 0, \\\\
&x + y = 0, \\quad y + z = 0, \\quad z + x = 0, \\\\
&x + y + z = 0
\\end{aligned}`}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Well-Behaved Finite Geometry:"}),' Despite being small, the Fano plane is well-behaved because its "lines" satisfy linear equations, just as in traditional geometry. Thanks to finite fields, linear algebra works well in many finite structures, leading to the development of finite geometries with applications in information and communication.']}),i.jsx("h3",{children:"Beyond Linear Equations"}),i.jsx("p",{children:'The three axioms for a finite projective plane do not ensure that the plane is of the form FP, with coordinates for points and linear equations for lines. They can be satisfied by bizarre "nonlinear" structures.'}),i.jsxs("p",{children:["A fourth axiom is needed to engender a field F of coordinates, and that axiom is the ",i.jsx("strong",{children:"theorem of Pappus"}),". This will be explained in Chapter 6."]}),i.jsx("h3",{children:"Historical Note: The Invariance of the Cross-Ratio"}),i.jsxs("p",{children:["The invariance of the cross-ratio was discovered by ",i.jsx("strong",{children:"Pappus"}),"around 300 CE and rediscovered by ",i.jsx("strong",{children:"Desargues"})," around 1640. It appears as Proposition 129 in Book VII of Pappus' ",i.jsx("em",{children:"Mathematical Collection"}),"."]}),i.jsx("p",{children:"Desargues is considered the founder of projective geometry because he wrote the first book on the subject. Nevertheless, projective geometry was little known until the 19th century, when geometry expanded in all directions. The cross-ratio continued to be a central concept."}),i.jsx("h3",{children:"Cross-Ratio Over General Fields"}),i.jsxs(ue,{title:"Cross-Ratio in General Fields",children:[i.jsxs("p",{children:["Linear fractional transformations and the cross-ratio make sense when  is replaced by any field F. The transformations x  x + l and x  kx make sense on F, and x  1/x makes sense on F  ","{","","}"," if we set 1/0 =  and 1/ = 0."]}),i.jsx("p",{className:"mt-2",children:"The cross-ratio is invariant by the same calculation as before, thanks to the field axioms, because the usual calculations with fractions are valid in any field."})]}),i.jsx("h3",{children:"Key Takeaways from Chapter 5"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Perspective drawing"})," requires understanding that parallel lines meet at vanishing points on the horizon"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Straightedge alone"})," suffices for perspective construction using points at infinity"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective planes"})," satisfy three simple axioms about incidence of points and lines"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Homogeneous coordinates"})," provide algebraic tools for projective geometry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Linear fractional functions"})," represent projections of lines"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"The cross-ratio"})," is the fundamental invariant preserved by projection"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Three points determine a projection"}),"; the fourth point is fixed by the cross-ratio"]})]})}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Looking Ahead:"})," In Chapter 6, we will study the theorems of Pappus and Desargues in projective planes, and see how they give rise to coordinate systems satisfying the field axioms."]}),i.jsx(Re,{sectionId:39,questions:$e[39]||[],title:"Chapter 5 Discussion Quiz"})]})}function qQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(.2),[r,a]=q.useState([.2,.5,.8,.2,.5,.8]),l=500,o=400,c={x:50,y:150},h={x:450,y:150+100*Math.sin(n)},u={x:50,y:300},m={x:450,y:300-80*Math.sin(n)},p=(j,g,A)=>({x:j.x+A*(g.x-j.x),y:j.y+A*(g.y-j.y)}),b=p(c,h,r[0]),E=p(c,h,r[1]),y=p(c,h,r[2]),T=p(u,m,r[3]),S=p(u,m,r[4]),N=p(u,m,r[5]),v=(j,g,A,w)=>{const k=(j.x-g.x)*(A.y-w.y)-(j.y-g.y)*(A.x-w.x);if(Math.abs(k)<1e-4)return null;const M=((j.x-A.x)*(A.y-w.y)-(j.y-A.y)*(A.x-w.x))/k;return{x:j.x+M*(g.x-j.x),y:j.y+M*(g.y-j.y)}},f=v(b,S,T,E),x=v(b,N,T,y),C=v(E,N,S,y);return q.useEffect(()=>{const j=e.current;if(!j)return;const g=j.getContext("2d");if(!g)return;if(g.fillStyle="#0f172a",g.fillRect(0,0,l,o),g.strokeStyle="#475569",g.lineWidth=2,g.beginPath(),g.moveTo(c.x,c.y),g.lineTo(h.x,h.y),g.stroke(),g.beginPath(),g.moveTo(u.x,u.y),g.lineTo(m.x,m.y),g.stroke(),[[b,S,"rgba(244, 114, 182, 0.5)"],[T,E,"rgba(244, 114, 182, 0.5)"],[b,N,"rgba(34, 211, 238, 0.5)"],[T,y,"rgba(34, 211, 238, 0.5)"],[E,N,"rgba(167, 139, 250, 0.5)"],[S,y,"rgba(167, 139, 250, 0.5)"]].forEach(([k,M,I])=>{g.strokeStyle=I,g.lineWidth=1.5,g.beginPath(),g.moveTo(k.x,k.y),g.lineTo(M.x,M.y),g.stroke()}),f&&x&&C){g.strokeStyle="#fbbf24",g.lineWidth=2,g.setLineDash([5,5]);const k=x.x-f.x,M=x.y-f.y,I=Math.sqrt(k*k+M*M);I>.1&&(g.beginPath(),g.moveTo(f.x-k/I*500,f.y-M/I*500),g.lineTo(f.x+k/I*500,f.y+M/I*500),g.stroke()),g.setLineDash([]),[f,x,C].forEach((O,$)=>{g.fillStyle="#fbbf24",g.beginPath(),g.arc(O.x,O.y,6,0,Math.PI*2),g.fill(),g.fillStyle="#fbbf24",g.font="bold 12px sans-serif",g.fillText(["X","Y","Z"][$],O.x+8,O.y-8)})}const w=(k,M,I)=>{g.fillStyle=I,g.beginPath(),g.arc(k.x,k.y,8,0,Math.PI*2),g.fill(),g.fillStyle="#e2e8f0",g.font="bold 12px sans-serif",g.fillText(M,k.x-4,k.y-12)};w(b,"A","#f472b6"),w(E,"B","#22d3ee"),w(y,"C","#a78bfa"),w(T,"A'","#f472b6"),w(S,"B'","#22d3ee"),w(N,"C'","#a78bfa"),g.fillStyle="#94a3b8",g.font="11px sans-serif",g.fillText("Line 1",h.x-40,h.y-10),g.fillText("Line 2",m.x-40,m.y+20),f&&x&&C&&(g.fillStyle="#fbbf24",g.fillText("Pappus Line (X, Y, Z are collinear!)",10,30))},[n,r,b,E,y,T,S,N,f,x,C,c,h,u,m]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Pappus's Theorem"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:l,height:o,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Line angle: ",(n*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:"-0.5",max:"0.5",step:"0.02",value:n,onChange:j=>s(parseFloat(j.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Pappus's Theorem"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["If A, B, C lie on one line and A', B', C' lie on another, then the intersections of AB' with A'B, of AC' with A'C, and of BC' with B'C are ",i.jsx("strong",{children:"collinear"}),"."]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Significance"}),i.jsx("p",{className:"text-xs text-slate-300",children:"Pappus's theorem is equivalent to the commutativity of multiplication in the coordinate field. It's fundamental to projective geometry."})]}),i.jsx("button",{onClick:()=>{s(.2),a([.2,.5,.8,.2,.5,.8])},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," A and A'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," B and B'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," C and C'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Pappus line"]})]})]})]})]})}function $Q({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(250),[r,a]=q.useState(80),[l,o]=q.useState(.6),c=500,h=420,u={x:n,y:r},m={x:120,y:280},p={x:380,y:280},b={x:250,y:150},E=(C,j)=>({x:u.x+j*(C.x-u.x),y:u.y+j*(C.y-u.y)}),y=E(m,l),T=E(p,l),S=E(b,l),N=(C,j,g,A)=>{const w=(C.x-j.x)*(g.y-A.y)-(C.y-j.y)*(g.x-A.x);if(Math.abs(w)<1e-4)return null;const k=((C.x-g.x)*(g.y-A.y)-(C.y-g.y)*(g.x-A.x))/w;return{x:C.x+k*(j.x-C.x),y:C.y+k*(j.y-C.y)}},v=N(m,p,y,T),f=N(p,b,T,S),x=N(b,m,S,y);return q.useEffect(()=>{const C=e.current;if(!C)return;const j=C.getContext("2d");if(!j)return;j.fillStyle="#0f172a",j.fillRect(0,0,c,h),j.strokeStyle="rgba(251, 191, 36, 0.3)",j.lineWidth=1,j.setLineDash([3,3]),[m,p,b].forEach(w=>{j.beginPath(),j.moveTo(u.x,u.y);const k=E(w,1.5);j.lineTo(k.x,k.y),j.stroke()}),j.setLineDash([]),j.strokeStyle="#f472b6",j.lineWidth=2,j.beginPath(),j.moveTo(m.x,m.y),j.lineTo(p.x,p.y),j.lineTo(b.x,b.y),j.closePath(),j.stroke(),j.fillStyle="rgba(244, 114, 182, 0.1)",j.fill(),j.strokeStyle="#22d3ee",j.lineWidth=2,j.beginPath(),j.moveTo(y.x,y.y),j.lineTo(T.x,T.y),j.lineTo(S.x,S.y),j.closePath(),j.stroke(),j.fillStyle="rgba(34, 211, 238, 0.1)",j.fill();const g=(w,k,M)=>{const I=k.x-w.x,O=k.y-w.y;return[{x:w.x-I*M,y:w.y-O*M},{x:k.x+I*M,y:k.y+O*M}]};if(v&&f&&x){j.strokeStyle="rgba(167, 139, 250, 0.3)",j.lineWidth=1;const[w,k]=g(m,p,.5);j.beginPath(),j.moveTo(w.x,w.y),j.lineTo(k.x,k.y),j.stroke();const[M,I]=g(y,T,.5);j.beginPath(),j.moveTo(M.x,M.y),j.lineTo(I.x,I.y),j.stroke(),j.strokeStyle="#34d399",j.lineWidth=2,j.setLineDash([5,5]);const O=f.x-v.x,$=f.y-v.y,G=Math.sqrt(O*O+$*$);G>.1&&(j.beginPath(),j.moveTo(v.x-O/G*300,v.y-$/G*300),j.lineTo(v.x+O/G*300,v.y+$/G*300),j.stroke()),j.setLineDash([]),[v,f,x].forEach((V,J)=>{V.x>-50&&V.x<c+50&&V.y>-50&&V.y<h+50&&(j.fillStyle="#34d399",j.beginPath(),j.arc(V.x,V.y,6,0,Math.PI*2),j.fill(),j.fillStyle="#34d399",j.font="bold 12px sans-serif",j.fillText(["P","Q","R"][J],V.x+8,V.y-8))})}j.fillStyle="#fbbf24",j.beginPath(),j.arc(u.x,u.y,8,0,Math.PI*2),j.fill(),j.fillStyle="#fbbf24",j.font="bold 14px sans-serif",j.fillText("O",u.x+12,u.y);const A=(w,k,M)=>{j.fillStyle=M,j.beginPath(),j.arc(w.x,w.y,6,0,Math.PI*2),j.fill(),j.fillStyle="#e2e8f0",j.font="bold 12px sans-serif",j.fillText(k,w.x+8,w.y-8)};A(m,"A","#f472b6"),A(p,"B","#f472b6"),A(b,"C","#f472b6"),A(y,"A'","#22d3ee"),A(T,"B'","#22d3ee"),A(S,"C'","#22d3ee"),j.fillStyle="#94a3b8",j.font="11px sans-serif",j.fillText("Triangles perspective from O",10,20),v&&f&&x&&(j.fillStyle="#34d399",j.fillText("P, Q, R are collinear (Desargues line)",10,h-10))},[n,r,l,u,m,p,b,y,T,S,v,f,x]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Desargues' Theorem"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Center X: ",n]}),i.jsx("input",{type:"range",min:"100",max:"400",value:n,onChange:C=>s(parseInt(C.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Center Y: ",r]}),i.jsx("input",{type:"range",min:"30",max:"150",value:r,onChange:C=>a(parseInt(C.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Scale: ",l.toFixed(2)]}),i.jsx("input",{type:"range",min:"0.3",max:"0.9",step:"0.05",value:l,onChange:C=>o(parseFloat(C.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Desargues' Theorem"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["If two triangles are ",i.jsx("strong",{children:"perspective from a point"})," (lines through corresponding vertices meet at O), then they are",i.jsx("strong",{children:" perspective from a line"})," (corresponding sides meet on a line)."]})]}),i.jsx("button",{onClick:()=>{s(250),a(80),o(.6)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Triangle ABC"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Triangle A'B'C'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow O:"})," Perspective center"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Desargues line"]})]})]})]})]})}function BQ(){return i.jsxs(qe,{sectionId:40,children:[i.jsx("h2",{children:"Pappus and Desargues Revisited"}),i.jsxs("p",{children:["In this chapter, geometry fights back against the forces of arithmetization. We show that coordinates need not be brought into geometry from outsidethey can be defined by purely geometric means. Moreover, the geometry required to define coordinates and their arithmetic is ",i.jsx("em",{children:"simpler"})," than Euclid's geometry. It is the projective geometry introduced in the previous chapter, but we have to build it from scratch using properties of straight lines alone."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Chapter Goal:"})," We take the Pappus and Desargues theorems as axioms, and use them to define coordinates. The coordinates are points on a projective line, and we add and multiply them by constructions like those in Chapter 1. The main problem is to prove that our addition and multiplication operations satisfy the field axiomsthis is where Pappus and Desargues are crucial."]}),i.jsx("h3",{children:"From Euclidean to Projective Form"}),i.jsx("p",{children:"The theorems of Pappus and Desargues stated in Chapters 1 and 4 had a similar form: If two particular pairs of lines are parallel, then a third pair is parallel. Because parallel lines meet on the horizon, these theorems also say that if two particular pairs of lines meet on the horizon, then so does a third pair. And because the horizon is not different from any other line, these theorems are really about three pairs of lines having their intersections on the same line."}),i.jsx("h3",{children:"The Projective Pappus Theorem"}),i.jsxs(ue,{title:"Projective Pappus Theorem",children:[i.jsx("p",{children:"Six points, lying alternately on two straight lines, form a hexagon whose three pairs of opposite sides meet on a line."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The six vertices of the hexagon lie on two lines, and the opposite sides are shown as three pairs: black, gray, and dotted. The line L on which each of the three pairs meet can be oriented in any directionit is simply a line determined by the configuration."})]}),i.jsxs(xe,{title:"Incidence Theorem",children:[i.jsxs("p",{children:["The Pappus theorem is called ",i.jsx("strong",{children:"projective"})," because it involves only the concepts of points, lines, and meetings between them. Meetings between geometric objects are called ",i.jsx("strong",{children:"incidences"}),", and for this reason, the Pappus theorem is also called an ",i.jsx("strong",{children:"incidence theorem"}),"."]}),i.jsx("p",{className:"mt-2",children:"The three axioms of a projective plane, given in Section 5.3, are the simplest examples of incidence theorems."})]}),i.jsx("h3",{children:"The Projective Desargues Theorem"}),i.jsx("p",{children:"The projective Desargues theorem is another incidence theorem. It concerns the pairs of corresponding sides of two triangles that are in perspective from a point Pmeaning that each pair of corresponding vertices lies on a line through P."}),i.jsxs(ue,{title:"Projective Desargues Theorem",children:[i.jsx("p",{children:"If two triangles are in perspective from a point, then their pairs of corresponding sides meet on a line."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The three corresponding pairs of sides each meet on a common line L. This is a purely projective statement involving only incidence relations."})]}),i.jsx("h3",{children:"The Little Desargues Theorem"}),i.jsx("p",{children:"An important special case of the Desargues theorem has the center of projection P on the line L where the corresponding sides of the triangles meet."}),i.jsx(ue,{title:"Little Desargues Theorem",children:i.jsx("p",{children:"If two triangles are in perspective from a point P, and if two pairs of corresponding sides meet on a line L through P, then the third pair of corresponding sides also meets on L."})}),i.jsx("h3",{children:"Why These Theorems Cannot Be Proved from Basic Axioms"}),i.jsxs("p",{children:["Because the projective Pappus and Desargues theorems involve only incidence concepts, one would like proofs of them that involve only the three axioms for a projective plane given in Section 5.3. Unfortunately, this is not possible, because there are examples of projective planes ",i.jsx("em",{children:"not"})," satisfying the Pappus and Desargues theorems."]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"The Moulton Plane:"}),' A projective plane where the Desargues theorem is false. Its "points" are ordinary points of , together with a point at infinity for each family of parallel "lines." However, the "lines" of the Moulton plane are not all ordinary lineseach "line" with positive slope is a broken line consisting of a half line of slope k > 0 below the x-axis, joined to a half line of slope k/2 above the x-axis.']}),i.jsx("h3",{children:"Pappian Planes"}),i.jsxs("p",{children:["What we can do is take the Pappus and Desargues theorems as new axioms. Together with the original three axioms for projective planes, these two new axioms apply to a broad class of projective planes called",i.jsx("strong",{children:" Pappian planes"}),"."]}),i.jsxs(xe,{title:"Pappian Plane",children:[i.jsxs("p",{children:["A projective plane that satisfies the three projective plane axioms together with the Pappus and Desargues theorems is called a ",i.jsx("strong",{children:"Pappian plane"}),"."]}),i.jsx("p",{className:"mt-2",children:"The Pappian planes include P and many other planes, but not all projective planes. They turn out to be the planes with coordinates satisfying the same laws of algebra as the real numbersthe field axioms."})]}),i.jsx("h3",{children:"The Goal of This Chapter"}),i.jsx("p",{children:"The object of this chapter is to show how coordinates arise when the Pappus and Desargues theorems hold, and why they satisfy the field axioms. In doing so, we will see that projective geometry is simpler than algebra in a certain sense, because we use only five geometric axioms to derive the nine field axioms."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Relationships"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Pappus"})," implies the commutative law of multiplication: ab = ba"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Desargues"})," implies the associative law of multiplication: a(bc) = (ab)c"]})]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.1"}),i.jsx("p",{className:"text-slate-300",children:'In the Moulton plane, find where the "line" from (0, 1) to (2, 1/2) meets the x-axis.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.2"}),i.jsx("p",{className:"text-slate-300",children:'Explain why any two "points" of the Moulton plane lie on a unique "line."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.3"}),i.jsx("p",{className:"text-slate-300",children:'Explain why any two "lines" of the Moulton plane meet in a unique "point." (Parallel "lines" have a common "point at infinity" by definition, so do not worry about them.)'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.4"}),i.jsx("p",{className:"text-slate-300",children:'Give four "points" in the Moulton plane, no three of which lie on the same "line."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.5"}),i.jsx("p",{className:"text-slate-300",children:"The Moulton plane satisfies the three axioms of a projective plane. But it does not satisfy even the little Desargues theorem. Explain why."})]}),i.jsx(qQ,{className:"my-6"}),i.jsx($Q,{className:"my-6"}),i.jsx(Re,{sectionId:40,questions:$e[40]||[],title:"Pappus and Desargues Revisited Quiz"})]})}function OQ(){return i.jsxs(qe,{sectionId:41,children:[i.jsx("h2",{children:"Coincidences"}),i.jsx("p",{children:'Two points A, B always lie on a line. But it is accidental, so to speak, if a third point C lies on the line through A and B. Such an accidental meeting is called a "coincidence" in everyday life, and this is a good name for it in projective geometry too.'}),i.jsxs(xe,{title:"Coincidence",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"coincidence"})," is the occurrence of two incidences togetherin this case, the incidence of A and B with a line, and the incidence of C with the same line."]}),i.jsx("p",{className:"mt-2",children:"Coincidence = co-incidence = two incidences together."})]}),i.jsx("h3",{children:"Coincidences in Theorems"}),i.jsx("p",{children:"The theorems of Pappus and Desargues state that certain coincidences occur. In fact, they are coincidences of the type just described, in which two points lie on a line and a third point lies on the same line."}),i.jsx("h3",{children:"The Tiled Floor Construction"}),i.jsx("p",{children:"The perspective picture of the tiled floor also involves certain coincidences, as becomes clear when we look at the steps in its construction:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Draw diagonal of first tile, extended to the horizon"}),i.jsx("li",{children:"Extend diagonal of second tile to the horizon"}),i.jsx("li",{children:"Draw side of second tile, through the new intersection"}),i.jsx("li",{children:"Draw second column of tiles, through the new intersection"})]})}),i.jsx("p",{children:"At the final step, a coincidence occurs: three of the points we have constructed lie on a straight line. This is shown as a dashed line in the construction."}),i.jsx("h3",{children:"Tracing the Coincidence"}),i.jsx("p",{children:"This coincidence can be traced to a special case of the little Desargues theorem. The construction involves two shaded triangles that form a little Desargues configuration."}),i.jsxs(ue,{title:"Tiled Floor Coincidence",children:[i.jsx("p",{children:'The case of little Desargues in the tiled floor construction says that the two dotted lines (diagonals of "double tiles") meet on the horizon.'}),i.jsx("p",{className:"mt-2 text-slate-300",children:"These lines give us a second little Desargues configuration, from which we conclude that the dashed diagonals also meet on the horizon, as required to explain the coincidence."})]}),i.jsx("h3",{children:"The Parallel Formulation"}),i.jsx("p",{children:"The occurrence of the little Desargues configuration in the tiled floor may be easier to see if we draw the lines meeting on the horizon as actual parallels. The little Desargues theorem itself is easier to state in terms of actual parallels."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Parallel Little Desargues:"})," When lines that would meet on the horizon L are drawn as parallels, the little Desargues configuration becomes more visually intuitive. Lines meeting at infinity are simply parallel lines in ordinary Euclidean geometry."]}),i.jsx("h3",{children:"A Special Case"}),i.jsx("p",{children:"The theorem that proves the coincidence in the drawing of the tiled floor is actually a special case of the little Desargues theorem: the case in which a vertex of one triangle lies on a side of the other."}),i.jsx("p",{children:"Thus, it is not clear that the coincidence is false in the Moulton plane, where we know only that the general little Desargues theorem is false from the exercises in Section 6.1. However, one can show that the tiled floor coincidence does fail in the Moulton plane by placing an x-axis in a suitable position."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Formulate an appropriate statement of the little Desargues theorem when one has parallels instead of lines meeting on L."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Redraw the tiled floor figures so that the lines meeting on L are shown as actual parallels."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.3"}),i.jsx("p",{className:"text-slate-300",children:'What is the nature of the "coincidence" when lines are drawn as parallels?'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.4"}),i.jsx("p",{className:"text-slate-300",children:'Find occurrences of the little Desargues configuration in your parallel diagrams. Hence, explain why the "coincidence" follows from your statement of the little Desargues theorem.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.5"}),i.jsx("p",{className:"text-slate-300",children:"By placing an x-axis in a suitable position, show that the tiled floor coincidence fails in the Moulton plane."})]}),i.jsx(Re,{sectionId:41,questions:$e[41]||[],title:"Coincidences Quiz"})]})}function LQ(){return i.jsxs(qe,{sectionId:42,children:[i.jsx("h2",{children:"Variations on the Desargues Theorem"}),i.jsx("p",{children:"In Section 6.1, we stated the Desargues theorem in the form: If two triangles are in perspective from a point, then their three pairs of corresponding sides meet on a line. The Desargues theorem is a very flexible theorem, which appears in many forms. Two that we need later are the following."}),i.jsx("h3",{children:"The Converse Desargues Theorem"}),i.jsx(ue,{title:"Converse Desargues Theorem",children:i.jsx("p",{children:"If corresponding sides of two triangles meet on a line, then the two triangles are in perspective from a point."})}),i.jsx("p",{children:"To deduce this result from the Desargues theorem, let ABC and ABC be two triangles whose corresponding sides meet on the line L. Let P be the intersection of AA and BB, so we want to prove that P lies on CC as well."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof Outline"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Suppose that PC meets the line BC at C (hypothetically unequal to C)"}),i.jsx("li",{children:"Then the triangles ABC and ABC are in perspective from P"}),i.jsx("li",{children:"By the Desargues theorem, their corresponding sides meet on a line"}),i.jsx("li",{children:"We already know AB meets AB on L, and BC meets BC on L"}),i.jsx("li",{children:"Hence, AC meets AC on L, necessarily at the point Q where AC meets L"}),i.jsx("li",{children:"It follows that QA goes through C. But QA meets BC at C"}),i.jsx("li",{children:"Hence, C = C, so C is indeed on the line PC"})]})]}),i.jsx("h3",{children:"The Scissors Theorem"}),i.jsx("p",{children:'The second consequence of the Desargues theorem is called the "scissors theorem." It is an apt name, as you will see from the configuration.'}),i.jsx(ue,{title:"Scissors Theorem",children:i.jsx("p",{children:"If ABCD and ABCD are quadrilaterals with vertices alternately on two lines, and if AB is parallel to AB, BC to BC, and AD to AD, then also CD is parallel to CD."})}),i.jsx("p",{children:"To prove this theorem, let E be the intersection of AD and BC, and let E be the intersection of AD and BC. Then the triangles ABE and ABE have corresponding sides parallel. Hence, they are in perspective from the intersection P of AA and BB, by the converse Desargues theorem."}),i.jsx("p",{children:"But then the triangles CDE and CDE are also in perspective from P. Because their sides CE and CE, DE and DE are parallel by assumption, it follows from the Desargues theorem that CD and CD are also parallel, as required."}),i.jsx("h3",{children:"Second Case of the Scissors Theorem"}),i.jsx("p",{children:"The scissors theorem just proved says that if the black, gray, and dashed lines are parallel, then so are the dotted lines. What if the black, gray, and dotted lines are parallel: Are the dashed lines again parallel?"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Yes!"})," The proof is similar, but with a slightly different picture. We extend the black and dotted lines until they meet, forming triangles with their corresponding black, gray, and dotted sides parallel. Then it follows from the converse Desargues theorem that these triangles are in perspective from P. But then so are the triangles with dashed, black, and dotted sides. Hence, their dashed sides are parallel by the Desargues theorem."]}),i.jsx("h3",{children:"Applying the Scissors Theorem"}),i.jsx("p",{children:"In practice, the scissors theorem is often used in the following way. We have a pair of scissors ABCD and another figure DABCF with parallel pairs of black, gray, dashed, and dotted lines. We want to prove that D = F (so the ends of the gray and dotted lines coincide, and the second figure is also a pair of scissors)."}),i.jsx(xe,{title:"Scissors Coincidence",children:i.jsx("p",{children:"This coincidence happens because the line CD is parallel to CD by the scissors theorem, so CD is the same line as CF, and hence D = F."})}),i.jsx("h3",{children:"Failure in the Moulton Plane"}),i.jsx("p",{children:"Because the Desargues theorem implies its converse, another way to show that the Desargues theorem fails in the Moulton plane is to show that its converse fails. This plan is easily implemented."}),i.jsx("p",{children:"Moulton himself used this approach when he introduced the Moulton plane in 1902."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain why a figure showing triangles in perspective from a point P with their corresponding sides meeting on a line through P demonstrates the failure of the converse Desargues theorem in the Moulton plane."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Formulate a converse to the little Desargues theorem, and show that it follows from the little Desargues theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.3"}),i.jsx("p",{className:"text-slate-300",children:'Show that the converse little Desargues theorem implies a "little scissors theorem" in which the quadrilaterals have their vertices on parallel lines.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Design a figure that directly shows the failure of the little scissors theorem in the Moulton plane."})]}),i.jsx(Re,{sectionId:42,questions:$e[42]||[],title:"Variations on the Desargues Theorem Quiz"})]})}function FQ(){return i.jsxs(qe,{sectionId:43,children:[i.jsx("h2",{children:"Projective Arithmetic"}),i.jsx("p",{children:"If we choose any two lines in a projective plane as the x- and y-axes, we can add and multiply any points on the x-axis by certain constructions. The constructions resemble constructions of Euclidean geometry, but they use straightedge only, so they make sense in projective geometry."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"}),' To keep the constructions simple, we use lines we call "parallel," but this merely means lines meeting on a designated "line at infinity." The real difficulty is that the construction of a + b is different from the construction of b + a, so it is a "coincidence" if a + b = b + a. Similarly, it is a "coincidence" if ab = ba, or if any other law of algebra holds.']}),i.jsx("h3",{children:"Addition"}),i.jsx("p",{children:"To construct the sum a + b of points a and b on the x-axis, we take any line L parallel to the x-axis and construct the following lines:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"A line from a to the point where L meets the y-axis"}),i.jsx("li",{children:"A line from b parallel to the y-axis"}),i.jsx("li",{children:"A parallel to the first line through the intersection of the second line and L"})]})}),i.jsx(xe,{title:"Construction of Sum",children:i.jsx("p",{children:'This construction is similar in spirit to the construction of the sum in Section 1.1. There we "copied a length" by moving it from one place to another by a compass. The spirit of the compass remains in the projective construction: the first and third lines form a "compass" that "copies" the length Oa to the point b.'})}),i.jsx("h3",{children:"Independence of the Choice of L"}),i.jsx("p",{children:"We need the line L to construct a + b, but we get the same point a + b from any other line L parallel to the x-axis."}),i.jsxs(ue,{title:"Sum Independence",children:[i.jsx("p",{children:"The sum a + b is independent of the choice of line L parallel to the x-axis."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This coincidence follows from the little Desargues theorem. The black sides of the solid triangles are parallel by construction, as are the gray sides. Then it follows from the little Desargues theorem that the dotted sides are also parallel, and one of them ends at the point a + b constructed from L."})]}),i.jsx("h3",{children:"Multiplication"}),i.jsx("p",{children:"To construct the product ab of two points a and b on the x-axis, we first need to choose a point  O on the x-axis to be 1. We also choose a point  O to be the 1 on the y-axis."}),i.jsx(xe,{title:"Construction of Product",children:i.jsx("p",{children:'The point ab is constructed by drawing the black and gray lines from 1 and a on the x-axis to 1 on the y-axis, and then drawing their parallels. This construction is the projective version of "multiplication by a" done in Section 1.4.'})}),i.jsx("p",{children:"Choosing the 1 on the x-axis means choosing a unit of length on the x-axis, so the position of ab definitely depends on it. For example, ab = b if a = 1 but ab  b if a  1."}),i.jsxs(ue,{title:"Product Independence from y-axis 1",children:[i.jsx("p",{children:"The position of ab does not depend on the choice of 1 on the y-axis, as the scissors theorem shows."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"If we choose 1 instead of 1 to construct ab, the path from b to ab follows the dashed and the dotted line instead of the black and the gray line. But it ends in the same place, because the dotted line to ab is parallel to the dotted line to a, by the scissors theorem."})]}),i.jsx("h3",{children:"Interchangeability of the Axes"}),i.jsx("p",{children:"Once we have chosen points called 1 on both the x- and y-axes, it is natural to let each point a on the x-axis correspond to the point on the y-axis obtained by drawing the line through a parallel to the line through the points 1 on both axes."}),i.jsx("p",{children:"It is also natural to define sum and product on the y-axis by constructions like those on the x-axis. But then the question arises: Do the y-axis sum and product correspond to the x-axis sum and product?"}),i.jsxs(ue,{title:"Sums Correspond",children:[i.jsx("p",{children:"If we construct a + b on the x-axis, then the corresponding point on the y-axis is the y-axis sum of the y-axis a and b."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The proof uses a Pappus configuration of gray, dashed, and dotted lines between the y-axis and a line M through b parallel to the y-axis."})]}),i.jsxs(ue,{title:"Products Correspond",children:[i.jsx("p",{children:"The product of a and b on the y-axis is the point corresponding to ab on the x-axis."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This follows from the scissors theorem. The gray lines construct ab on the x-axis, and the dotted lines construct ab on the y-axis. By the scissors theorem, they end at corresponding points."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that a + O = a for any a, so O functions as the zero on the x-axis."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that, for any a, there is a point b that serves as a; that is, a + b = O. (Warning: Do not be tempted to use measurement to find b. Work backward from O = a + b, reversing the construction of the sum.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that a  1 = a for any a."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that, for any a  O, there is a b that serves as a; that is, ab = 1. (Again, do the construction of the product in reverse.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.5"}),i.jsx("p",{className:"text-slate-300",children:"What happens when we try to construct a + ?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.6"}),i.jsx("p",{className:"text-slate-300",children:"What is ?"})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Note:"})," The answers to Exercises 6.4.5 and 6.4.6 are incompatible with ordinary arithmetic. This is why we do not include  among the points we add and multiply."]}),i.jsx(Re,{sectionId:43,questions:$e[43]||[],title:"Projective Arithmetic Quiz"})]})}function UQ(){return i.jsxs(qe,{sectionId:44,children:[i.jsx("h2",{children:"The Field Axioms"}),i.jsx("p",{children:'In calculating with numbers, and particularly in calculating with symbols ("algebra"), we assume several things: that there are particular numbers 0 and 1; that each number a has an additive inverse, a; that each number a  0 has a reciprocal, a; and that the following field axioms hold.'}),i.jsx(xe,{title:"The Field Axioms",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Commutative Laws:"}),i.jsx(Y,{children:"a + b = b + a, \\quad ab = ba"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Associative Laws:"}),i.jsx(Y,{children:"a + (b + c) = (a + b) + c, \\quad a(bc) = (ab)c"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Identity Laws:"}),i.jsx(Y,{children:"a + 0 = a, \\quad a \\cdot 1 = a"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Inverse Laws:"}),i.jsx(Y,{children:"a + (-a) = 0, \\quad a \\cdot a^{-1} = 1"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Distributive Law:"}),i.jsx(Y,{children:"a(b + c) = ab + ac"})]})]})}),i.jsxs("p",{children:["We generally use these laws unconsciously. They are used so often, and they are so obviously true of numbers, that we do not notice them. But for the projective sum and product of points, they are ",i.jsx("em",{children:"not"})," obviously true."]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Key Observation:"})," It is not even clear that a + b = b + a, because the construction of a + b is different from the construction of b + a. It is truly a coincidence that a + b = b + a in projective geometry, the result of a geometric coincidence of the type discussed in Section 6.2."]}),i.jsx("h3",{children:"Pappus and Desargues Imply the Field Axioms"}),i.jsx("p",{children:"In this chapter, we show that just two coincidencesthe theorems of Pappus and Desarguesimply all nine field axioms. In fact, it is known that Pappus alone is sufficient, because it implies Desargues."}),i.jsx("p",{children:"We do not prove this latter fact here, partly because it is difficult, and partly because the Desargues theorem itself is interesting: It implies all the field axioms except ab = ba. Thus, the theorems of Pappus and Desargues have algebraic content that can be measured accurately by the field axioms they imply."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Summary of Implications"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Pappus"})," implies all nine field axioms"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Desargues"})," implies eight field axioms (all but ab = ba)"]})]})]}),i.jsx("h3",{children:"Proof of the Commutative Laws"}),i.jsx("p",{children:"We begin with the law ab = ba, which is the most important consequence of the Pappus theorem. The construction of ba from a and b is different from the construction of ab. When we show both constructions on the same diagram, we see that ab = ba because the gray and dotted lines end at the same place, by the Pappus theorem."}),i.jsxs(ue,{title:"Commutative Law of Multiplication",children:[i.jsx("p",{children:"The Pappus theorem implies ab = ba."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The Pappus configuration consists of all the lines in the construction except the line joining 1 on the x-axis to 1 on the y-axis."})]}),i.jsx("p",{children:"There is a similar proof that a + b = b + a. Remember from Section 6.4 that a + b is the result of attaching the segment Oa at b. Thus, b + a is the result of attaching Ob at a, which is different from the construction of a + b."}),i.jsxs(ue,{title:"Commutative Law of Addition",children:[i.jsx("p",{children:"The Pappus theorem implies a + b = b + a."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"Looking at both constructions together, we see that the gray line leads to a + b and the dotted line leads to b + a. However, both of these lines end at the same point, thanks to the Pappus theorem."})]}),i.jsx("h3",{children:"The Little Pappus Theorem"}),i.jsx("p",{children:"The Pappus configuration that proves a + b = b + a is actually a special one, because the vertices of the hexagon lie on parallel lines. The same special configuration also occurs in the proof in Section 6.4 that sums correspond on the x- and y-axes."}),i.jsxs(xe,{title:"Little Pappus Theorem",children:[i.jsxs("p",{children:["The special Pappus configuration with vertices on parallel lines corresponds to a special Pappus theorem, sometimes called the ",i.jsx("strong",{children:"little Pappus theorem"}),"."]}),i.jsx("p",{className:"mt-2",children:"Given a hexagon with vertices on two lines that meet at a point P, and two pairs of opposite sides meeting on a line L that goes through P, the third pair of opposite sides also meets on L."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Connection to Little Desargues:"})," It is known that the little Desargues theorem implies the little Pappus theorem; a proof is in",i.jsx("em",{children:" Fundamentals of Mathematics, II"})," by Behnke et al. Thus, the results deduced from the little Pappus theorem can also be deduced from the little Desargues theorem (although generally not as easily)."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Look back to the vector proof of the Pappus theorem in Section 4.2, and point out where it uses the assumption ab = ba."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Given that the assumptions of the little Pappus theorem are a hexagon with vertices on two lines that meet at a point P, and two pairs of opposite sides meeting on a line L that goes through P, what is the conclusion?"})]}),i.jsx(Re,{sectionId:44,questions:$e[44]||[],title:"The Field Axioms Quiz"})]})}function HQ(){return i.jsxs(qe,{sectionId:45,children:[i.jsx("h2",{children:"The Associative Laws"}),i.jsx("p",{children:"In this section, we prove the associative laws for both addition and multiplication using the scissors theorem from Section 6.3. These proofs demonstrate how the Desargues theorem implies algebraic structure."}),i.jsx("h3",{children:"The Associative Law of Addition"}),i.jsx("p",{children:"We begin with the associative law of addition: a + (b + c) = (a + b) + c. To prove this, we must first construct a + (b + c), which means constructing b + c from b and c, and then adding a to the result."}),i.jsxs(ue,{title:"Associative Law of Addition",children:[i.jsx("p",{children:"The Desargues theorem (specifically, the scissors theorem) implies a + (b + c) = (a + b) + c."}),i.jsx(Y,{children:"a + (b + c) = (a + b) + c"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Construction of a + (b + c)"}),i.jsx("p",{className:"text-slate-300",children:"To construct a + (b + c), we first construct b + c from b and c using our standard addition construction. Then we add a to b + c using the same method."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Construction of (a + b) + c"}),i.jsx("p",{className:"text-slate-300",children:"To construct (a + b) + c, we first construct a + b from a and b. Then we add this result to c."})]}),i.jsx("p",{children:"When we show both constructions on the same diagram, we see two pairs of scissors, each consisting of dashed, dotted, black, and gray lines. In the scissors on the right, the gray line ends at a + (b + c) and the dotted line ends at (a + b) + c."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Observation:"})," The ends of these lines coincide by the scissors theorem. Hence a + (b + c) = (a + b) + c."]}),i.jsx("p",{children:"Because the scissors in this proof lie between parallel lines, we need only the little scissors theorem (and hence only the little Desargues theorem)."}),i.jsx("h3",{children:"The Associative Law of Multiplication"}),i.jsx("p",{children:"Next we consider the associative law of multiplication: a(bc) = (ab)c. The diagram is similar to the addition case, except that the pairs of scissors lie between nonparallel lines (the x- and y-axes), so now we need the full Desargues theorem."}),i.jsxs(ue,{title:"Associative Law of Multiplication",children:[i.jsx("p",{children:"The Desargues theorem (specifically, the scissors theorem) implies a(bc) = (ab)c."}),i.jsx(Y,{children:"a(bc) = (ab)c"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The gray line ends at a(bc) and the dotted line ends at (ab)c. But the ends of these lines coincide by the scissors theorem, so a(bc) = (ab)c."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Why Full Desargues is Required"}),i.jsx("p",{className:"text-slate-300",children:"For addition, the scissors lie between parallel lines (both parallel to the x-axis), so only the little Desargues theorem is needed. For multiplication, the scissors lie between the x- and y-axes, which are not parallel, so the full Desargues theorem is required."})]}),i.jsx("h3",{children:"The Quaternions: A Non-Commutative Example"}),i.jsxs("p",{children:["There is an algebraic system that satisfies all of the field axioms except the commutative law of multiplication. It is called the ",i.jsx("strong",{children:"quaternions"})," and is denoted by H, after Sir William Rowan Hamilton, who discovered them in 1843."]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Non-Commutative Multiplication:"})," The quaternions provide a natural example of a system where multiplication is associative but not commutative. This shows that the Desargues theorem (which implies associativity) is strictly weaker than the Pappus theorem (which implies commutativity)."]}),i.jsx("p",{children:"In 1845, Arthur Cayley showed that the quaternions could be defined as 2  2 complex matrices of the form:"}),i.jsx(Y,{children:"\\mathbf{q} = \\begin{pmatrix} a + ib & c + id \\\\ -c + id & a - ib \\end{pmatrix}"}),i.jsx("p",{children:"Most properties of quaternions follow from general properties of matrices. All the laws of algebra are immediate except the existence of q and commutative multiplication."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Hamilton's Description"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Any quaternion can be written as q = a1 + bi + cj + dk, where:"}),i.jsx(Y,{children:"\\mathbf{i}^2 = \\mathbf{j}^2 = \\mathbf{k}^2 = \\mathbf{ijk} = -1"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This is Hamilton's famous description of the quaternions, which he discovered in 1843 and reportedly carved into Brougham Bridge in Dublin."})]}),i.jsx("h3",{children:"The Quaternion Projective Plane"}),i.jsx("p",{children:"It is possible to define the quaternion projective plane HP using quaternion coordinates. HP satisfies the Desargues theorem because it is possible to do the necessary calculations without using commutative multiplication."}),i.jsxs("p",{children:["However, HP does ",i.jsx("em",{children:"not"})," satisfy the Pappus theorem, because Pappus implies commutative multiplication for H, which the quaternions do not have. HP is therefore a ",i.jsx("strong",{children:"non-Pappian plane"}),"probably the most natural example."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that q has determinant a + b + c + d and hence that q exists for any nonzero quaternion q."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Find specific quaternions s and t such that st  ts."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that i = j = k = ijk = 1 (Hamilton's description of the quaternions)."})]}),i.jsx(Re,{sectionId:45,questions:$e[45]||[],title:"The Associative Laws Quiz"})]})}function VQ(){return i.jsxs(qe,{sectionId:46,children:[i.jsx("h2",{children:"The Distributive Law"}),i.jsx("p",{children:"In this section, we prove the distributive law a(b + c) = ab + ac using the Pappus theorem. This proof takes advantage of the ability to do addition and multiplication on both axes."}),i.jsx("h3",{children:"Strategy for the Proof"}),i.jsx("p",{children:"The proof proceeds in several steps:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Construct b + c from b and c on the x-axis"}),i.jsx("li",{children:"Map b, c, and b + c to ab, ac, and a(b + c) on the y-axis using parallel lines"}),i.jsx("li",{children:"Use addition on the y-axis to construct ab + ac"}),i.jsx("li",{children:"Use the Pappus theorem to show that ab + ac and a(b + c) are the same point"})]})}),i.jsx("h3",{children:"Multiplication via Parallels"}),i.jsx("p",{children:"First, we observe that we can map any b on the x-axis to ab on the y-axis by sending it along a line parallel to the line from 1 on the x-axis to a on the y-axis."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Observation:"})," This parallel mapping is the same as constructing ab from a and b on the y-axis, because the line from b to its image on the y-axis is parallel to the line from 1 to 1, as required by the definition of multiplication."]}),i.jsx("h3",{children:"Constructing the Sum on Both Axes"}),i.jsx("p",{children:"We add b and c on the x-axis using a special choice of line L: the parallel through ab on the y-axis. We also connect b, c, and b + c, respectively, to ab, ac, and a(b + c) on the y-axis by parallel lines."}),i.jsx("p",{children:"The line through c that constructs b + c, namely the parallel M to the y-axis, is used in turn to add ab and ac on the y-axis."}),i.jsxs(ue,{title:"The Distributive Law",children:[i.jsx("p",{children:"The Pappus theorem implies a(b + c) = ab + ac."}),i.jsx(Y,{children:"a(b + c) = ab + ac"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The figure has the same structure as the proof that sums correspond on both axesonly the labels have changed. The dashed line ends at a(b + c), and the dotted line ends at ab + ac. But these endpoints coincide by the Pappus theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The Pappus Configuration"}),i.jsx("p",{className:"text-slate-300",children:"The proof reveals a Pappus configuration of gray, dashed, and dotted lines between the y-axis and the line M. The coincidence of endpoints follows from the Pappus theorem applied to this configuration."})]}),i.jsx("h3",{children:"The Other Distributive Law"}),i.jsx("p",{children:"We need not prove the other distributive law, (b + c)a = ba + bc, separately, because we are assuming Pappus, which implies that multiplication is commutative."}),i.jsx(Y,{children:"(b + c)a = a(b + c) = ab + ac = ba + bc"}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Important:"})," In systems with noncommutative multiplication (like the quaternions), both distributive laws must be verified independently. However, both distributive laws remain valid for quaternions and more generally for matrices."]}),i.jsx("h3",{children:"Distributivity in Non-Commutative Systems"}),i.jsx("p",{children:"In important systems with noncommutative multiplication, such as the quaternions H, both distributive laws remain valid:"}),i.jsx(Y,{children:"a(b + c) = ab + ac \\quad \\text{and} \\quad (b + c)a = ba + ca"}),i.jsx("p",{children:"This is because the quaternions are defined as 2  2 complex matrices, and matrix multiplication distributes over matrix addition from both sides, regardless of whether the multiplication is commutative."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Matrix Distributivity"}),i.jsx("p",{className:"text-slate-300",children:"For any matrices A, B, C of compatible dimensions:"}),i.jsx(Y,{children:"A(B + C) = AB + AC \\quad \\text{and} \\quad (B + C)A = BA + CA"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This follows directly from the definition of matrix multiplication and addition, without requiring commutativity."})]}),i.jsx("h3",{children:"Summary of Field Axiom Proofs"}),i.jsx("p",{children:"We have now completed the proofs of all nine field axioms from the theorems of Pappus and Desargues:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Identity laws"})," (a + 0 = a, a  1 = a): Direct from construction"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Inverse laws"})," (a + (a) = 0, a  a = 1): Direct from construction"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Commutative laws"})," (a + b = b + a, ab = ba): From Pappus"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Associative laws"})," (a + (b + c) = (a + b) + c, a(bc) = (ab)c): From Desargues (scissors theorem)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Distributive law"})," (a(b + c) = ab + ac): From Pappus"]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain in this case why a(b + c) = ab + ac implies (b + c)a = ba + bc."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Explain why both distributive laws are valid for the quaternions."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.7.3"}),i.jsx("p",{className:"text-slate-300",children:"More generally, show that both distributive laws are valid for matrices."})]}),i.jsx(Re,{sectionId:46,questions:$e[46]||[],title:"The Distributive Law Quiz"})]})}function GQ(){return i.jsxs(qe,{sectionId:47,children:[i.jsx("h2",{children:"Discussion"}),i.jsxs("p",{children:["The idea of developing projective geometry without the use of numbers comes from the German mathematician ",i.jsx("strong",{children:"Christian von Staudt"})," in 1847. His compatriots Hermann Wiener and David Hilbert took the idea further in the 1890s, and it reached a high point with the publication of Hilbert's book, ",i.jsx("em",{children:"Grundlagen der Geometrie"})," (Foundations of Geometry), in 1899."]}),i.jsx("h3",{children:"Hilbert's Correlation"}),i.jsx("p",{children:"It was Hilbert who first established a clear correlation between geometric and algebraic structure:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Pappus"}),"  commutative multiplication"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Desargues"}),"  associative multiplication"]})]})}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"})," The correlation is significant because some important algebraic systems satisfy all the field axioms except commutative multiplication. The best-known example is the quaternions, known since 1843, but for some reason, Hilbert did not mention it. To construct a non-Pappian plane, he created a rather artificial noncommutative coordinate system."]}),i.jsx("h3",{children:"Hessenberg's Discovery"}),i.jsx("p",{children:"It is perhaps a lucky accident of history that Hilbert discovered the role of the Desargues theorem at all. He was forced to use it because, in 1899, it was still not known that Pappus implies Desargues."}),i.jsxs(ue,{title:"Hessenberg's Theorem (1904)",children:[i.jsx("p",{children:"The Pappus theorem implies the Desargues theorem."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This implication was first proved by Gerhard Hessenberg in 1904. Even then the proof was faulty, and the mistake was not corrected until years later."})]}),i.jsx("h3",{children:"Ruth Moufang's Contributions"}),i.jsxs("p",{children:["The whole circle of ideas was neatly tied up by yet another German mathematician, ",i.jsx("strong",{children:"Ruth Moufang"}),", in 1930. She found that the little Desargues theorem also has algebraic significance."]}),i.jsxs(xe,{title:"Alternativity",children:[i.jsxs("p",{children:["In a projective plane satisfying the little Desargues theorem, with addition and multiplication defined as in Section 6.4, one can prove all the field axioms except commutativity and associativity. One can even prove a partial associativity law called ",i.jsx("strong",{children:"cancellation"})," or",i.jsx("strong",{children:" alternativity"}),":"]}),i.jsx(Y,{children:"a^{-1}(ab) = b = (ba)a^{-1}"})]}),i.jsx("h3",{children:"Multiplication on Euclidean Spaces"}),i.jsx("p",{children:'The commutative, associative, and alternative laws are beautifully exemplified by the possible multiplication operations that can be defined "reasonably" on the Euclidean spaces . ("Reasonably" means respecting at least the dimension of the space.)'}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Number Systems by Dimension"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Commutative multiplication"})," is possible only on  and , yielding the number systems ",i.jsx("strong",{children:""})," (real numbers) and ",i.jsx("strong",{children:""})," (complex numbers)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Associative, but noncommutative, multiplication"})," is possible only on , yielding the ",i.jsx("strong",{children:"quaternions H"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Alternative, but nonassociative, multiplication"})," is possible only on , yielding the ",i.jsx("strong",{children:"octonions O"}),"."]})]})]}),i.jsx("h3",{children:"The Octonions"}),i.jsx("p",{children:"The octonions were discovered by a friend of Hamilton called John Graves in 1843, and they were discovered independently by Cayley in 1845."}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Moufang's Recognition:"})," Ruth Moufang was the first to recognize the importance of quaternions and octonions in projective geometry. She pointed out the quaternion projective plane HP as a natural example of a non-Pappian plane, and was the first to discuss the octonion projective plane OP."]}),i.jsx("p",{children:"OP is the most natural example of a plane that satisfies little Desargues but not Desargues."}),i.jsx("h3",{children:"Higher-Dimensional Projective Spaces"}),i.jsx("p",{children:"In Section 5.4, we sketched the construction of the real projective space P by means of homogeneous coordinates. This idea is easily generalized to obtain the n-dimensional real projective space P, and one can obtain P and HP in precisely the same way."}),i.jsxs("p",{children:["Surprisingly, the idea does ",i.jsx("em",{children:"not"})," work for the octonions. The only octonion projective spaces are:"]}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:["The octonion projective line OP = O  ","{","","}"]}),i.jsx("li",{children:"The octonion projective plane OP discovered by Moufang"})]})}),i.jsx("h3",{children:"Why OP Cannot Exist"}),i.jsx("p",{children:"The reason for the nonexistence of OP is extremely interesting and has to do with the nature of the Desargues theorem in three dimensions."}),i.jsxs(ue,{title:"The Spatial Desargues Theorem",children:[i.jsx("p",{children:"If two triangles lie in three-dimensional space, the Desargues conclusion follows by basic incidence properties of points, lines, and planes."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The planes containing the two triangles meet in a line L, where the pairs of corresponding sides necessarily meet also."})]}),i.jsx("p",{children:'The argument is a little trickier if the two triangles lie in the same plane. But, provided the plane lies in a projective space, it can be carried out (one shows that the planar configuration is a "shadow" of a spatial configuration).'}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Result:"})," The Desargues theorem holds in any projective space of at least three dimensions."]}),i.jsx("p",{children:"This is why OP cannot exist. If it did, the Desargues theorem would hold in it, and we could then show that O is associativewhich it is not. Q.E.D."}),i.jsx("h3",{children:"Summary: The Hierarchy of Projective Planes"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Geometric Axiom"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Algebraic Property"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Example"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Little Desargues"}),i.jsx("td",{className:"py-2",children:"Alternativity"}),i.jsx("td",{className:"py-2",children:"OP (octonions)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Desargues"}),i.jsx("td",{className:"py-2",children:"Associativity"}),i.jsx("td",{className:"py-2",children:"HP (quaternions)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Pappus"}),i.jsx("td",{className:"py-2",children:"Commutativity"}),i.jsx("td",{className:"py-2",children:"P, P"})]})]})]})}),i.jsx("h3",{children:"Conclusion"}),i.jsx("p",{children:"The connection between geometry and algebra established in this chapter is one of the great achievements of nineteenth-century mathematics. It shows that the theorems of Pappus and Desargues, which seem to be merely curious facts about lines and points, actually contain the seeds of all arithmetic and algebra."}),i.jsx("p",{children:"In a Pappian plane, we can define coordinates satisfying all the field axiomsand this is the foundation for doing calculus and analysis in geometric settings. Geometry and algebra, far from being separate subjects, are two aspects of the same mathematical reality."}),i.jsx(Re,{sectionId:47,questions:$e[47]||[],title:"Discussion Quiz"})]})}function WQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(Math.PI/4),[l,o]=q.useState(!0),c=500,h=400,u=c/2,m=h/2,p=[{x:80,y:-20},{x:120,y:-20},{x:100,y:-60}],b=(S,N)=>{const v=Math.cos(2*N),f=Math.sin(2*N);return{x:S.x*v+S.y*f,y:S.x*f-S.y*v}},E=p.map(S=>b(S,n)),y=E.map(S=>b(S,r)),T=2*(r-n);return q.useEffect(()=>{const S=e.current;if(!S)return;const N=S.getContext("2d");if(!N)return;N.fillStyle="#0f172a",N.fillRect(0,0,c,h),N.save(),N.translate(u,m),N.strokeStyle="#1e293b",N.lineWidth=1;for(let j=-250;j<=250;j+=50)N.beginPath(),N.moveTo(j,-200),N.lineTo(j,200),N.stroke();for(let j=-200;j<=200;j+=50)N.beginPath(),N.moveTo(-250,j),N.lineTo(250,j),N.stroke();N.strokeStyle="#475569",N.lineWidth=2,N.beginPath(),N.moveTo(-250,0),N.lineTo(250,0),N.stroke(),N.beginPath(),N.moveTo(0,-200),N.lineTo(0,200),N.stroke();const v=220;N.strokeStyle="#f472b6",N.lineWidth=2,N.beginPath(),N.moveTo(-v*Math.cos(n),v*Math.sin(n)),N.lineTo(v*Math.cos(n),-v*Math.sin(n)),N.stroke(),N.strokeStyle="#22d3ee",N.lineWidth=2,N.beginPath(),N.moveTo(-v*Math.cos(r),v*Math.sin(r)),N.lineTo(v*Math.cos(r),-v*Math.sin(r)),N.stroke(),N.strokeStyle="#fbbf24",N.lineWidth=1.5,N.beginPath(),N.arc(0,0,40,-r,-n),N.stroke();const f=(n+r)/2;N.fillStyle="#fbbf24",N.font="11px sans-serif";const x=((r-n)*180/Math.PI).toFixed(0);N.fillText(` = ${x}`,50*Math.cos(f),-50*Math.sin(f));const C=(j,g,A=1)=>{N.fillStyle=g.replace(")",`, ${A*.3})`).replace("rgb","rgba"),N.beginPath(),N.moveTo(j[0].x,-j[0].y),j.forEach(w=>N.lineTo(w.x,-w.y)),N.closePath(),N.fill(),N.strokeStyle=g,N.lineWidth=2,N.stroke()};C(p,"rgb(167, 139, 250)"),l&&C(E,"rgb(244, 114, 182)",.6),C(y,"rgb(52, 211, 153)"),N.strokeStyle="#34d399",N.lineWidth=1,N.setLineDash([4,4]),N.beginPath(),N.arc(0,0,100,Math.PI/6,Math.PI/6-T,T>0),N.stroke(),N.setLineDash([]),N.restore(),N.fillStyle="#f472b6",N.font="12px sans-serif",N.fillText("Line 1 (L)",10,25),N.fillStyle="#22d3ee",N.fillText("Line 2 (L)",10,45),N.fillStyle="#a78bfa",N.fillText("Original",10,65),l&&(N.fillStyle="#f472b6",N.fillText("After L",10,85)),N.fillStyle="#34d399",N.fillText("Final (rotation 2)",10,l?105:85)},[n,r,l,E,y,T]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Composition of Reflections"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Line 1 angle: ",(n*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:-Math.PI/2,max:Math.PI/2,step:"0.05",value:n,onChange:S=>s(parseFloat(S.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Line 2 angle: ",(r*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:-Math.PI/2,max:Math.PI/2,step:"0.05",value:r,onChange:S=>a(parseFloat(S.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:S=>o(S.target.checked),className:"rounded"}),"Show intermediate step"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Result"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["Two reflections = rotation by ",i.jsx("strong",{children:"twice"})," the angle between the lines."]}),i.jsxs("p",{className:"text-sm font-mono text-green-400 mt-2",children:["Rotation = 2  ",((r-n)*180/Math.PI).toFixed(0)," = ",(T*180/Math.PI).toFixed(0),""]})]}),i.jsx("button",{onClick:()=>{s(0),a(Math.PI/4)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsx("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:i.jsx("p",{children:"The composition of two reflections through lines that meet at a point is a rotation about that point."})})]})]})]})}function YQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("square"),[r,a]=q.useState(0),[l,o]=q.useState(!0),c=480,h=400,u=240,m=200,p=100,b={triangle:{n:3,name:"Equilateral Triangle"},square:{n:4,name:"Square"},pentagon:{n:5,name:"Regular Pentagon"},hexagon:{n:6,name:"Regular Hexagon"}},E=b[n].n,T=(S=>{const N=[];N.push({name:"e (identity)",apply:(v,f)=>[v,f]});for(let v=1;v<S;v++){const f=2*Math.PI*v/S;N.push({name:`r${v} (${(360*v/S).toFixed(0)} rotation)`,apply:(x,C)=>[x*Math.cos(f)-C*Math.sin(f),x*Math.sin(f)+C*Math.cos(f)]})}for(let v=0;v<S;v++){const f=Math.PI*v/S;N.push({name:`s${v} (reflection ${v})`,apply:(x,C)=>{const j=Math.cos(2*f),g=Math.sin(2*f);return[x*j+C*g,x*g-C*j]}})}return N})(E);return q.useEffect(()=>{const S=e.current;if(!S)return;const N=S.getContext("2d");if(!N)return;N.fillStyle="#0f172a",N.fillRect(0,0,c,h),N.strokeStyle="#1e293b",N.lineWidth=1;for(let C=0;C<c;C+=40)N.beginPath(),N.moveTo(C,0),N.lineTo(C,h),N.stroke();for(let C=0;C<h;C+=40)N.beginPath(),N.moveTo(0,C),N.lineTo(c,C),N.stroke();if(l){N.strokeStyle="rgba(251, 191, 36, 0.3)",N.lineWidth=1,N.setLineDash([5,5]),N.beginPath(),N.arc(u,m,5,0,Math.PI*2),N.stroke();for(let C=0;C<E;C++){const j=Math.PI*C/E,g=150;N.beginPath(),N.moveTo(u-g*Math.cos(j),m+g*Math.sin(j)),N.lineTo(u+g*Math.cos(j),m-g*Math.sin(j)),N.stroke()}N.setLineDash([])}const v=[];for(let C=0;C<E;C++){const j=2*Math.PI*C/E-Math.PI/2;v.push([p*Math.cos(j),p*Math.sin(j)])}N.fillStyle="rgba(167, 139, 250, 0.2)",N.strokeStyle="rgba(167, 139, 250, 0.5)",N.lineWidth=1,N.beginPath(),v.forEach(([C,j],g)=>{const A=u+C,w=m-j;g===0?N.moveTo(A,w):N.lineTo(A,w)}),N.closePath(),N.fill(),N.stroke();const f=T[r],x=v.map(([C,j])=>f.apply(C,j));N.fillStyle="rgba(34, 211, 238, 0.3)",N.strokeStyle="#22d3ee",N.lineWidth=2,N.beginPath(),x.forEach(([C,j],g)=>{const A=u+C,w=m-j;g===0?N.moveTo(A,w):N.lineTo(A,w)}),N.closePath(),N.fill(),N.stroke(),v.forEach(([C,j],g)=>{const A=u+C,w=m-j;N.fillStyle="#a78bfa",N.beginPath(),N.arc(A,w,4,0,Math.PI*2),N.fill(),N.fillStyle="#a78bfa",N.font="10px sans-serif";const k=15;N.fillText(String(g+1),A+k*Math.cos(2*Math.PI*g/E-Math.PI/2),w-k*Math.sin(2*Math.PI*g/E-Math.PI/2))}),x.forEach(([C,j],g)=>{const A=u+C,w=m-j;N.fillStyle="#22d3ee",N.beginPath(),N.arc(A,w,4,0,Math.PI*2),N.fill()}),N.fillStyle="#e2e8f0",N.font="13px sans-serif",N.fillText(`D${E} Symmetry Group: ${b[n].name}`,10,25),N.font="11px sans-serif",N.fillText(`Order: ${2*E} (${E} rotations + ${E} reflections)`,10,45)},[n,r,l,E,T]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Symmetry Groups (Dihedral Groups)"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Shape"}),i.jsxs("select",{value:n,onChange:S=>{s(S.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"triangle",children:"Triangle (D)"}),i.jsx("option",{value:"square",children:"Square (D)"}),i.jsx("option",{value:"pentagon",children:"Pentagon (D)"}),i.jsx("option",{value:"hexagon",children:"Hexagon (D)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Symmetry"}),i.jsx("select",{value:r,onChange:S=>a(parseInt(S.target.value)),className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:T.map((S,N)=>i.jsx("option",{value:N,children:S.name},N))})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:S=>o(S.target.checked),className:"rounded"}),"Show symmetry axes"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsxs("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:["Dihedral Group D",E]}),i.jsxs("p",{className:"text-xs text-slate-300",children:["The symmetry group of a regular ",E,"-gon has:"]}),i.jsxs("ul",{className:"text-xs text-slate-300 mt-1 space-y-1",children:[i.jsxs("li",{children:[" ",E," rotations (including identity)"]}),i.jsxs("li",{children:[" ",E," reflections"]}),i.jsxs("li",{children:[" Total: ",2*E," symmetries"]})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Original position"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," After transformation"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Symmetry axes"]})]})]})]})]})}function XQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(20),[r,a]=q.useState(30),[l,o]=q.useState(!0),[c,h]=q.useState(!0),[u,m]=q.useState(!0),[p,b]=q.useState(!1),[E,y]=q.useState({x:0,y:0}),T=480,S=420,N=240,v=210,f=150,x=k=>{const M=n*Math.PI/180,I=r*Math.PI/180;let O=k.x*Math.cos(I)+k.z*Math.sin(I),$=-k.x*Math.sin(I)+k.z*Math.cos(I),G=k.y;const V=G*Math.cos(M)-$*Math.sin(M),J=G*Math.sin(M)+$*Math.cos(M);return{x:O,y:V,z:J}},C=k=>{const M=x(k);return{x:N+M.x*f,y:v-M.y*f,visible:M.z>-.1}},j=(k,M)=>{const I=[];let O;Math.abs(k.z)<.9?O={x:-k.y,y:k.x,z:0}:O={x:0,y:-k.z,z:k.y};const $=Math.sqrt(O.x*O.x+O.y*O.y+O.z*O.z);O={x:O.x/$,y:O.y/$,z:O.z/$};const G={x:k.y*O.z-k.z*O.y,y:k.z*O.x-k.x*O.z,z:k.x*O.y-k.y*O.x};for(let V=0;V<=M;V++){const J=V/M*Math.PI*2;I.push({x:Math.cos(J)*O.x+Math.sin(J)*G.x,y:Math.cos(J)*O.y+Math.sin(J)*G.y,z:Math.cos(J)*O.z+Math.sin(J)*G.z})}return I};q.useEffect(()=>{const k=e.current;if(!k)return;const M=k.getContext("2d");if(M){M.fillStyle="#0f172a",M.fillRect(0,0,T,S),M.strokeStyle="#475569",M.lineWidth=2,M.beginPath(),M.arc(N,v,f,0,Math.PI*2),M.stroke(),M.strokeStyle="#334155",M.lineWidth=1;for(let I=-60;I<=60;I+=30){const O=I*Math.PI/180,$=Math.cos(O),G=Math.sin(O),V=[];for(let ee=0;ee<=60;ee++){const re=ee/60*Math.PI*2;V.push({x:$*Math.cos(re),y:G,z:$*Math.sin(re)})}M.beginPath();let J=!1;V.forEach(ee=>{const re=C(ee);re.visible?J?M.lineTo(re.x,re.y):(M.moveTo(re.x,re.y),J=!0):J=!1}),M.stroke()}if(l){M.strokeStyle="#22d3ee",M.lineWidth=3;const I=j({x:0,y:1,z:0},60);M.beginPath();let O=!1;I.forEach($=>{const G=C($);G.visible?O?M.lineTo(G.x,G.y):(M.moveTo(G.x,G.y),O=!0):O=!1}),M.stroke(),M.setLineDash([5,5]),M.strokeStyle="#22d3ee50",M.beginPath(),O=!1,I.forEach($=>{const G=C($);G.visible?O=!1:O?M.lineTo(G.x,G.y):(M.moveTo(G.x,G.y),O=!0)}),M.stroke(),M.setLineDash([])}if(c)for(let I=0;I<180;I+=45){const O=I*Math.PI/180,$={x:Math.sin(O),y:0,z:Math.cos(O)},G=j($,60);M.strokeStyle="#f472b6",M.lineWidth=2,M.beginPath();let V=!1;G.forEach(J=>{const ee=C(J);ee.visible?V?M.lineTo(ee.x,ee.y):(M.moveTo(ee.x,ee.y),V=!0):V=!1}),M.stroke(),M.setLineDash([4,4]),M.strokeStyle="#f472b650",M.beginPath(),V=!1,G.forEach(J=>{const ee=C(J);ee.visible?V=!1:V?M.lineTo(ee.x,ee.y):(M.moveTo(ee.x,ee.y),V=!0)}),M.stroke(),M.setLineDash([])}if(u){const I={x:0,y:1,z:0},O={x:1,y:0,z:0},$={x:0,y:0,z:1},G=C(I),V=C(O),J=C($);G.visible&&(M.fillStyle="#fbbf24",M.beginPath(),M.arc(G.x,G.y,6,0,Math.PI*2),M.fill(),M.fillStyle="#fbbf24",M.font="bold 14px sans-serif",M.fillText("N",G.x+10,G.y-5)),V.visible&&(M.fillStyle="#34d399",M.beginPath(),M.arc(V.x,V.y,6,0,Math.PI*2),M.fill(),M.fillStyle="#34d399",M.font="bold 14px sans-serif",M.fillText("A",V.x+10,V.y+5)),J.visible&&(M.fillStyle="#60a5fa",M.beginPath(),M.arc(J.x,J.y,6,0,Math.PI*2),M.fill(),M.fillStyle="#60a5fa",M.font="bold 14px sans-serif",M.fillText("B",J.x+10,J.y+5)),M.strokeStyle="#fbbf24",M.lineWidth=3;const ee=(re,se)=>{M.beginPath();let he=!1;for(let ae=0;ae<=1;ae+=.02){const Ne=re.x*se.x+re.y*se.y+re.z*se.z,Te=Math.acos(Math.max(-1,Math.min(1,Ne))),tt=Math.sin(Te);let Me;if(tt<.001)Me=re;else{const Ue=Math.sin((1-ae)*Te)/tt,Oe=Math.sin(ae*Te)/tt;Me={x:Ue*re.x+Oe*se.x,y:Ue*re.y+Oe*se.y,z:Ue*re.z+Oe*se.z}}const Ae=C(Me);Ae.visible&&(he?M.lineTo(Ae.x,Ae.y):(M.moveTo(Ae.x,Ae.y),he=!0))}M.stroke()};ee(I,O),ee(I,$),ee(O,$)}M.fillStyle="#0f172a",M.fillRect(10,10,160,85),M.strokeStyle="#334155",M.strokeRect(10,10,160,85),M.fillStyle="#e2e8f0",M.font="bold 12px sans-serif",M.fillText("Spherical Triangle",20,30),M.font="11px sans-serif",M.fillStyle="#fbbf24",M.fillText("Vertices: N, A, B",20,48),M.fillStyle="#94a3b8",M.fillText("Each angle = 90",20,65),M.fillStyle="#34d399",M.fillText("Sum = 270 > 180",20,82),M.fillStyle="#94a3b8",M.font="11px sans-serif",M.fillText("Drag to rotate sphere",10,S-10)}},[n,r,l,c,u]);const g=k=>{b(!0),y({x:k.clientX,y:k.clientY})},A=k=>{if(!p)return;const M=k.clientX-E.x,I=k.clientY-E.y;a(O=>O+M*.5),s(O=>Math.max(-89,Math.min(89,O+I*.5))),y({x:k.clientX,y:k.clientY})},w=()=>{b(!1)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Spherical Geometry"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:T,height:S,className:"border border-slate-700 rounded cursor-grab",onMouseDown:g,onMouseMove:A,onMouseUp:w,onMouseLeave:w})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:k=>o(k.target.checked),className:"rounded"}),"Show equator"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:k=>h(k.target.checked),className:"rounded"}),"Show meridians"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:k=>m(k.target.checked),className:"rounded"}),"Show spherical triangle"]}),i.jsx("button",{onClick:()=>{s(20),a(30)},className:"w-full px-3 py-1.5 text-sm bg-slate-700 text-slate-200 rounded hover:bg-slate-600",children:"Reset View"}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-cyan-400",children:"Great Circles:"})}),i.jsx("p",{className:"text-slate-400",children:'The "lines" of spherical geometry. They are the intersections of planes through the center with the sphere.'}),i.jsxs("p",{className:"text-slate-400 mt-2",children:[i.jsx("strong",{className:"text-yellow-400",children:"No parallel lines:"})," Any two great circles intersect!"]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Equator"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Meridians"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Triangle sides"]})]})]})]})]})}function ZQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("rotation"),[r,a]=q.useState(45),[l,o]=q.useState(30),[c,h]=q.useState(2),[u,m]=q.useState(1),[p,b]=q.useState(!1),[E,y]=q.useState(60),T=550,S=400,N=q.useCallback((v,f)=>{const x=r*Math.PI/180,C=l*Math.PI/180;switch(n){case"rotation":return[v*Math.cos(x)-f*Math.sin(x),v*Math.sin(x)+f*Math.cos(x)];case"reflection":{const j=Math.cos(2*C),g=Math.sin(2*C);return[v*j+f*g,v*g-f*j]}case"translation":return[v+c,f+u];case"glide":{const j=[v,-f];return[j[0]+c,j[1]]}default:return[v,f]}},[n,r,l,c,u]);return q.useEffect(()=>{const v=e.current;if(!v)return;const f=v.getContext("2d");if(!f)return;f.fillStyle="#0f172a",f.fillRect(0,0,T,S);const x=T/2,C=S/2,j=40,g=G=>x+G*j,A=G=>C-G*j;f.strokeStyle="#1e293b",f.lineWidth=1;for(let G=-10;G<=10;G++)f.beginPath(),f.moveTo(g(G),0),f.lineTo(g(G),S),f.stroke();for(let G=-5;G<=5;G++)f.beginPath(),f.moveTo(0,A(G)),f.lineTo(T,A(G)),f.stroke();if(f.strokeStyle="#475569",f.lineWidth=2,f.beginPath(),f.moveTo(0,C),f.lineTo(T,C),f.stroke(),f.beginPath(),f.moveTo(x,0),f.lineTo(x,S),f.stroke(),f.fillStyle="#f1f5f9",f.beginPath(),f.arc(x,C,5,0,Math.PI*2),f.fill(),f.font="bold 12px sans-serif",f.fillText("O",x+8,C+15),n==="reflection"){const G=l*Math.PI/180;f.strokeStyle="#f59e0b",f.lineWidth=2,f.setLineDash([5,5]),f.beginPath(),f.moveTo(g(-6*Math.cos(G)),A(-6*Math.sin(G))),f.lineTo(g(6*Math.cos(G)),A(6*Math.sin(G))),f.stroke(),f.setLineDash([]),f.fillStyle="#f59e0b",f.font="12px sans-serif",f.fillText("reflection line",g(4*Math.cos(G)),A(4*Math.sin(G))-10)}else if(n==="rotation"){const G=r*Math.PI/180;f.strokeStyle="#22c55e",f.lineWidth=2,f.beginPath(),f.arc(x,C,30,-G,0,r<0),f.stroke(),f.fillStyle="#22c55e",f.font="12px sans-serif",f.fillText(` = ${r}`,x+35,C-10)}else if(n==="translation"){f.strokeStyle="#8b5cf6",f.lineWidth=2,f.beginPath(),f.moveTo(x,C),f.lineTo(g(c),A(u)),f.stroke();const G=c*j,V=-u*j,J=Math.sqrt(G*G+V*V),ee=G/J,re=V/J;f.beginPath(),f.moveTo(g(c),A(u)),f.lineTo(g(c)-10*ee-5*re,A(u)-10*re+5*ee),f.lineTo(g(c)-10*ee+5*re,A(u)-10*re-5*ee),f.closePath(),f.fillStyle="#8b5cf6",f.fill(),f.fillStyle="#8b5cf6",f.font="12px sans-serif",f.fillText(`v = (${c}, ${u})`,g(c/2)+10,A(u/2)-10)}else n==="glide"&&(f.strokeStyle="#f59e0b",f.lineWidth=2,f.setLineDash([5,5]),f.beginPath(),f.moveTo(0,C),f.lineTo(T,C),f.stroke(),f.setLineDash([]),f.fillStyle="#f59e0b",f.font="12px sans-serif",f.fillText("reflection line (x-axis)",20,C-10),f.strokeStyle="#8b5cf6",f.lineWidth=2,f.beginPath(),f.moveTo(x,C+50),f.lineTo(g(c),C+50),f.stroke(),f.fillStyle="#8b5cf6",f.fillText(`translate by ${c}`,g(c/2),C+45));const w=[[-2,-1],[-2,2],[-1,2],[-1,.5],[0,.5],[0,-.5],[-1,-.5],[-1,-1]];f.fillStyle="rgba(96, 165, 250, 0.5)",f.strokeStyle="#60a5fa",f.lineWidth=2,f.beginPath(),w.forEach((G,V)=>{const[J,ee]=G;V===0?f.moveTo(g(J),A(ee)):f.lineTo(g(J),A(ee))}),f.closePath(),f.fill(),f.stroke(),f.fillStyle="#60a5fa",f.font="bold 14px sans-serif",f.fillText("F",g(-1.5),A(1.5));const k=w.map(([G,V])=>N(G,V));f.fillStyle="rgba(236, 72, 153, 0.5)",f.strokeStyle="#ec4899",f.lineWidth=2,f.beginPath(),k.forEach((G,V)=>{const[J,ee]=G;Math.abs(J)<10&&Math.abs(ee)<10&&(V===0?f.moveTo(g(J),A(ee)):f.lineTo(g(J),A(ee)))}),f.closePath(),f.fill(),f.stroke();const[M,I]=N(-1.5,1.5);if(Math.abs(M)<8&&Math.abs(I)<8&&(f.fillStyle="#ec4899",f.font="bold 14px sans-serif",f.fillText("F'",g(M),A(I))),p&&n==="reflection"){const G=E*Math.PI/180;f.strokeStyle="#22c55e",f.lineWidth=2,f.setLineDash([5,5]),f.beginPath(),f.moveTo(g(-6*Math.cos(G)),A(-6*Math.sin(G))),f.lineTo(g(6*Math.cos(G)),A(6*Math.sin(G))),f.stroke(),f.setLineDash([]),f.fillStyle="#22c55e",f.font="12px sans-serif",f.fillText("2nd reflection",g(4*Math.cos(G)),A(4*Math.sin(G))-10);const V=(re,se)=>{const he=Math.cos(2*G),ae=Math.sin(2*G);return[re*he+se*ae,re*ae-se*he]},J=k.map(([re,se])=>V(re,se));f.fillStyle="rgba(34, 197, 94, 0.5)",f.strokeStyle="#22c55e",f.lineWidth=2,f.beginPath(),J.forEach((re,se)=>{const[he,ae]=re;Math.abs(he)<10&&Math.abs(ae)<10&&(se===0?f.moveTo(g(he),A(ae)):f.lineTo(g(he),A(ae)))}),f.closePath(),f.fill(),f.stroke();const ee=E-l;f.fillStyle="#c084fc",f.font="12px sans-serif",f.fillText(`Two reflections = rotation by 2${ee} = ${2*ee}`,20,S-20)}f.fillStyle="#e2e8f0",f.font="bold 14px sans-serif";let O="";switch(n){case"rotation":O=`Rotation by ${r} about O`;break;case"reflection":O=`Reflection in line at ${l}`;break;case"translation":O=`Translation by (${c}, ${u})`;break;case"glide":O=`Glide reflection (reflect, translate ${c})`;break}f.fillText(O,20,30);const $=n==="rotation"||n==="translation";f.fillStyle=$?"#22c55e":"#ef4444",f.font="12px sans-serif",f.fillText($?" Orientation-preserving":" Orientation-reversing",20,50)},[n,r,l,c,u,p,E,N]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Isometry Group of the Plane"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:T,height:S,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["rotation","reflection","translation","glide"].map(v=>i.jsx("button",{onClick:()=>s(v),className:`px-3 py-2 text-sm rounded transition ${n===v?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:v.charAt(0).toUpperCase()+v.slice(1)},v))}),n==="rotation"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Angle: ",r,""]}),i.jsx("input",{type:"range",min:"-180",max:"180",value:r,onChange:v=>a(parseInt(v.target.value)),className:"w-full"})]}),n==="reflection"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Line angle: ",l,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:l,onChange:v=>o(parseInt(v.target.value)),className:"w-full"}),i.jsxs("button",{onClick:()=>b(!p),className:`mt-2 px-3 py-2 text-sm rounded transition ${p?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[p?"Hide":"Show"," Two Reflections = Rotation"]}),p&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["2nd line angle: ",E,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:E,onChange:v=>y(parseInt(v.target.value)),className:"w-full"})]})]}),(n==="translation"||n==="glide")&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["x: ",c]}),i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:c,onChange:v=>h(parseFloat(v.target.value)),className:"w-full"})]}),n==="translation"&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["y: ",u]}),i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:u,onChange:v=>m(parseFloat(v.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Three Reflections Theorem:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["Every isometry is a product of at most ",i.jsx("span",{className:"text-amber-400",children:"three reflections"})]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"Rotations & translations"})," = products of 2 reflections"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-red-400",children:"Reflections & glides"})," = products of 1 or 3 reflections"]}),i.jsx("li",{children:'The "F" shape shows orientation: flipped F means orientation reversed'})]})]})]})}function QQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("rotation"),[r,a]=q.useState(45),[l,o]=q.useState(1.5),[c,h]=q.useState(1.5),[u,m]=q.useState(.5),[p,b]=q.useState(1),[E,y]=q.useState(0),[T,S]=q.useState(0),[N,v]=q.useState(1),[f,x]=q.useState(!0),C=550,j=400,g=()=>{const O=r*Math.PI/180;switch(n){case"rotation":return[Math.cos(O),-Math.sin(O),Math.sin(O),Math.cos(O)];case"reflection":return[Math.cos(O),Math.sin(O),Math.sin(O),-Math.cos(O)];case"scale":return[l,0,0,c];case"shear":return[1,u,0,1];case"custom":return[p,E,T,N];default:return[1,0,0,1]}},[A,w,k,M]=g(),I=A*M-w*k;return q.useEffect(()=>{const O=e.current;if(!O)return;const $=O.getContext("2d");if(!$)return;$.fillStyle="#0f172a",$.fillRect(0,0,C,j);const G=C/2,V=j/2,J=50,ee=He=>G+He*J,re=He=>V-He*J,se=(He,et)=>[A*He+w*et,k*He+M*et];if(f){$.strokeStyle="rgba(236, 72, 153, 0.3)",$.lineWidth=1;for(let He=-4;He<=4;He++){$.beginPath();for(let et=-4;et<=4;et+=.1){const[_e,Le]=se(He,et);et===-4?$.moveTo(ee(_e),re(Le)):$.lineTo(ee(_e),re(Le))}$.stroke()}for(let He=-4;He<=4;He++){$.beginPath();for(let et=-4;et<=4;et+=.1){const[_e,Le]=se(et,He);et===-4?$.moveTo(ee(_e),re(Le)):$.lineTo(ee(_e),re(Le))}$.stroke()}}$.strokeStyle="#334155",$.lineWidth=1;for(let He=-4;He<=4;He++)$.beginPath(),$.moveTo(ee(He),re(-4)),$.lineTo(ee(He),re(4)),$.stroke();for(let He=-4;He<=4;He++)$.beginPath(),$.moveTo(ee(-4),re(He)),$.lineTo(ee(4),re(He)),$.stroke();$.strokeStyle="#475569",$.lineWidth=2,$.beginPath(),$.moveTo(0,V),$.lineTo(C,V),$.stroke(),$.beginPath(),$.moveTo(G,0),$.lineTo(G,j),$.stroke(),$.lineWidth=3;const[he,ae]=se(3,0);$.strokeStyle="#ef4444",$.beginPath(),$.moveTo(G,V),$.lineTo(ee(he),re(ae)),$.stroke();const[Ne,Te]=se(0,3);$.strokeStyle="#22c55e",$.beginPath(),$.moveTo(G,V),$.lineTo(ee(Ne),re(Te)),$.stroke(),$.strokeStyle="rgba(239, 68, 68, 0.4)",$.lineWidth=2,$.setLineDash([4,4]),$.beginPath(),$.moveTo(G,V),$.lineTo(ee(1),V),$.stroke(),$.setLineDash([]),$.strokeStyle="rgba(34, 197, 94, 0.4)",$.setLineDash([4,4]),$.beginPath(),$.moveTo(G,V),$.lineTo(G,re(1)),$.stroke(),$.setLineDash([]);const[tt,Me]=se(1,0);$.fillStyle="#ef4444",$.beginPath(),$.arc(ee(tt),re(Me),6,0,Math.PI*2),$.fill(),$.font="bold 12px sans-serif",$.fillText(`T(e)=(${tt.toFixed(2)}, ${Me.toFixed(2)})`,ee(tt)+10,re(Me)-5);const[Ae,Ue]=se(0,1);$.fillStyle="#22c55e",$.beginPath(),$.arc(ee(Ae),re(Ue),6,0,Math.PI*2),$.fill(),$.fillText(`T(e)=(${Ae.toFixed(2)}, ${Ue.toFixed(2)})`,ee(Ae)+10,re(Ue)-5),$.fillStyle="#f1f5f9",$.beginPath(),$.arc(G,V,5,0,Math.PI*2),$.fill(),$.strokeStyle="#60a5fa",$.lineWidth=2,$.beginPath();const Oe=[[0,0],[1,0],[1,1],[0,1],[0,0]];Oe.forEach((He,et)=>{const[_e,Le]=He;et===0?$.moveTo(ee(_e),re(Le)):$.lineTo(ee(_e),re(Le))}),$.stroke(),$.strokeStyle="#ec4899",$.lineWidth=2,$.beginPath(),Oe.forEach((He,et)=>{const[_e,Le]=se(He[0],He[1]);et===0?$.moveTo(ee(_e),re(Le)):$.lineTo(ee(_e),re(Le))}),$.stroke(),$.fillStyle="rgba(236, 72, 153, 0.2)",$.beginPath(),Oe.forEach((He,et)=>{const[_e,Le]=se(He[0],He[1]);et===0?$.moveTo(ee(_e),re(Le)):$.lineTo(ee(_e),re(Le))}),$.closePath(),$.fill(),$.fillStyle="#e2e8f0",$.font="bold 14px sans-serif",$.fillText("Matrix A =",20,30),$.font="14px monospace",$.fillText(` ${A.toFixed(2)}  ${w.toFixed(2)} `,100,25),$.fillText(` ${k.toFixed(2)}  ${M.toFixed(2)} `,100,45),$.font="12px sans-serif",$.fillStyle=Math.abs(I-1)<.01?"#22c55e":Math.abs(I+1)<.01?"#f59e0b":"#94a3b8",$.fillText(`det(A) = ${I.toFixed(3)}`,20,70),Math.abs(A*A+k*k-1)<.01&&Math.abs(w*w+M*M-1)<.01&&Math.abs(A*w+k*M)<.01&&($.fillStyle="#22c55e",$.fillText(" Orthogonal (isometry)",20,90),$.fillText(I>0?" SO(2) rotation":" O(2)\\SO(2) reflection",20,108))},[A,w,k,M,f,n,r,l,c,u,I]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Matrix Transformations"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:C,height:j,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["rotation","reflection","scale","shear","custom"].map(O=>i.jsx("button",{onClick:()=>s(O),className:`px-3 py-2 text-sm rounded transition ${n===O?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),n==="rotation"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Rotation angle: ",r,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:r,onChange:O=>a(parseInt(O.target.value)),className:"w-full"})]}),n==="reflection"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Line angle: ",r/2," (reflects at angle ",r,")"]}),i.jsx("input",{type:"range",min:"0",max:"360",value:r,onChange:O=>a(parseInt(O.target.value)),className:"w-full"})]}),n==="scale"&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Scale X: ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:l,onChange:O=>o(parseFloat(O.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Scale Y: ",c.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:c,onChange:O=>h(parseFloat(O.target.value)),className:"w-full"})]})]}),n==="shear"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Shear factor k: ",u.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:u,onChange:O=>m(parseFloat(O.target.value)),className:"w-full"})]}),n==="custom"&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",p.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:p,onChange:O=>b(parseFloat(O.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",E.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:E,onChange:O=>y(parseFloat(O.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",T.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:T,onChange:O=>S(parseFloat(O.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",N.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:N,onChange:O=>v(parseFloat(O.target.value)),className:"w-full"})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("button",{onClick:()=>x(!f),className:`px-3 py-2 text-sm rounded transition ${f?"bg-pink-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[f?"Hide":"Show"," Transformed Grid"]})}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Concepts:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-red-400",children:"Red"})," axis shows where e = (1,0) maps to"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"Green"})," axis shows where e = (0,1) maps to"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue"})," square  ",i.jsx("span",{className:"text-pink-400",children:"pink"})," parallelogram shows area change"]}),i.jsx("li",{children:"det(A) = area scaling factor (negative = orientation reversed)"}),i.jsxs("li",{children:[i.jsx("strong",{children:"Orthogonal"}),": AA = I  isometry (preserves distances)"]})]})]})]})}function KQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("z"),[r,a]=q.useState(45),[l,o]=q.useState(!1),[c,h]=q.useState("x"),[u,m]=q.useState(90),p=550,b=400,E=f=>{const x=Math.cos(f),C=Math.sin(f);return[[1,0,0],[0,x,-C],[0,C,x]]},y=f=>{const x=Math.cos(f),C=Math.sin(f);return[[x,0,C],[0,1,0],[-C,0,x]]},T=f=>{const x=Math.cos(f),C=Math.sin(f);return[[x,-C,0],[C,x,0],[0,0,1]]},S=(f,x)=>{const C=x*Math.PI/180;switch(f){case"x":return E(C);case"y":return y(C);case"z":return T(C)}},N=(f,x)=>{const C=[[0,0,0],[0,0,0],[0,0,0]];for(let j=0;j<3;j++)for(let g=0;g<3;g++)for(let A=0;A<3;A++)C[j][g]+=f[j][A]*x[A][g];return C},v=(f,x)=>[f[0][0]*x[0]+f[0][1]*x[1]+f[0][2]*x[2],f[1][0]*x[0]+f[1][1]*x[1]+f[1][2]*x[2],f[2][0]*x[0]+f[2][1]*x[1]+f[2][2]*x[2]];return q.useEffect(()=>{const f=e.current;if(!f)return;const x=f.getContext("2d");if(!x)return;x.fillStyle="#0f172a",x.fillRect(0,0,p,b);const C=p/2,j=b/2,g=100,A=N(E(-.4),y(.5)),w=Me=>{const Ae=v(A,Me);return[C+Ae[0]*g,j-Ae[1]*g]};x.strokeStyle="#334155",x.lineWidth=1;for(let Me=0;Me<360;Me+=30){x.beginPath();for(let Ae=-90;Ae<=90;Ae+=5){const Ue=Me*Math.PI/180,Oe=Ae*Math.PI/180,at=Math.cos(Oe)*Math.cos(Ue),He=Math.cos(Oe)*Math.sin(Ue),et=Math.sin(Oe),[_e,Le]=w([at,He,et]);Ae===-90?x.moveTo(_e,Le):x.lineTo(_e,Le)}x.stroke()}for(let Me=-60;Me<=60;Me+=30){x.beginPath();for(let Ae=0;Ae<=360;Ae+=5){const Ue=Ae*Math.PI/180,Oe=Me*Math.PI/180,at=Math.cos(Oe)*Math.cos(Ue),He=Math.cos(Oe)*Math.sin(Ue),et=Math.sin(Oe),[_e,Le]=w([at,He,et]);Ae===0?x.moveTo(_e,Le):x.lineTo(_e,Le)}x.stroke()}const k=1.3;[[[k,0,0],"#ef4444","x"],[[0,k,0],"#22c55e","y"],[[0,0,k],"#3b82f6","z"]].forEach(([Me,Ae,Ue])=>{const[Oe,at]=w(Me);x.strokeStyle=Ae,x.lineWidth=2,x.beginPath(),x.moveTo(C,j),x.lineTo(Oe,at),x.stroke(),x.fillStyle=Ae,x.font="bold 14px sans-serif",x.fillText(Ue,Oe+5,at-5)});const I=S(n,r),O=n==="x"?[1,0,0]:n==="y"?[0,1,0]:[0,0,1],[$,G]=w(O.map(Me=>Me*1.5)),[V,J]=w(O.map(Me=>Me*-1.5));x.strokeStyle="#f59e0b",x.lineWidth=3,x.setLineDash([5,5]),x.beginPath(),x.moveTo(V,J),x.lineTo($,G),x.stroke(),x.setLineDash([]),x.fillStyle="#f59e0b",x.font="12px sans-serif",x.fillText("rotation axis",$+10,G);const ee=[.8,.4,.45],re=Math.sqrt(ee[0]**2+ee[1]**2+ee[2]**2),se=ee.map(Me=>Me/re),he=v(I,se),[ae,Ne]=w(se);x.fillStyle="#60a5fa",x.beginPath(),x.arc(ae,Ne,8,0,Math.PI*2),x.fill(),x.font="bold 12px sans-serif",x.fillText("P",ae+10,Ne);const[Te,tt]=w(he);x.fillStyle="#ec4899",x.beginPath(),x.arc(Te,tt,8,0,Math.PI*2),x.fill(),x.fillText("P'",Te+10,tt),x.strokeStyle="rgba(236, 72, 153, 0.5)",x.lineWidth=2,x.beginPath();for(let Me=0;Me<=1;Me+=.05){const Ae=S(n,r*Me),Ue=v(Ae,se),[Oe,at]=w(Ue);Me===0?x.moveTo(Oe,at):x.lineTo(Oe,at)}if(x.stroke(),l){const Me=S(c,u),Ae=N(I,Me),Ue=N(Me,I),Oe=v(Ae,se),at=v(Ue,se),[He,et]=w(Oe);x.fillStyle="#22c55e",x.beginPath(),x.arc(He,et,6,0,Math.PI*2),x.fill(),x.font="11px sans-serif",x.fillText("RR(P)",He+8,et-5);const[_e,Le]=w(at);x.fillStyle="#8b5cf6",x.beginPath(),x.arc(_e,Le,6,0,Math.PI*2),x.fill(),x.fillText("RR(P)",_e+8,Le+15);const Ht=Math.sqrt((Oe[0]-at[0])**2+(Oe[1]-at[1])**2+(Oe[2]-at[2])**2)<.01;x.fillStyle=Ht?"#22c55e":"#ef4444",x.font="12px sans-serif",x.fillText(Ht?" RR = RR":" RR  RR",20,b-20)}x.fillStyle="#e2e8f0",x.font="bold 14px sans-serif",x.fillText(`Rotation R${n.toUpperCase()}(${r})`,20,30),l&&(x.fillStyle="#94a3b8",x.font="12px sans-serif",x.fillText(`R = R${c.toUpperCase()}(${u})`,20,50))},[n,r,l,c,u]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Rotation Group SO(3)"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:p,height:b,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["x","y","z"].map(f=>i.jsxs("button",{onClick:()=>s(f),className:`px-4 py-2 text-sm rounded transition ${n===f?"bg-amber-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Rotate about ",f.toUpperCase(),"-axis"]},f))}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Angle: ",r,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:r,onChange:f=>a(parseInt(f.target.value)),className:"w-full"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("button",{onClick:()=>o(!l),className:`px-4 py-2 text-sm rounded transition ${l?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[l?"Hide":"Show"," Non-Commutativity"]})}),l&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Second axis"}),i.jsxs("select",{value:c,onChange:f=>h(f.target.value),className:"w-full bg-slate-700 text-slate-200 rounded px-3 py-2",children:[i.jsx("option",{value:"x",children:"X-axis"}),i.jsx("option",{value:"y",children:"Y-axis"}),i.jsx("option",{value:"z",children:"Z-axis"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Second angle: ",u,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:u,onChange:f=>m(parseInt(f.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties of SO(3):"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"SO(3) = 33 orthogonal matrices with det = 1"}),i.jsxs("li",{children:[i.jsx("span",{className:"text-amber-400",children:"Non-commutative"}),": RR  RR in general"]}),i.jsx("li",{children:"Every rotation has an axis and angle (axis-angle representation)"}),i.jsxs("li",{children:["Every rotation = product of ",i.jsx("span",{className:"text-green-400",children:"two reflections"})]}),i.jsx("li",{children:"SO(3)  P topologically"})]})]})]})}function JQ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(0),[l,o]=q.useState(1),[c,h]=q.useState(90),[u,m]=q.useState(!1),[p,b]=q.useState(90),[E,y]=q.useState(1),[T,S]=q.useState(0),[N,v]=q.useState(0),f=550,x=400,C=(I,O,$)=>{const G=Math.sqrt(I*I+O*O+$*$);return G<.001?[0,0,1]:[I/G,O/G,$/G]},j=(I,O,$,G)=>{const[V,J,ee]=C(I,O,$),re=G*Math.PI/360,se=Math.sin(re);return[Math.cos(re),V*se,J*se,ee*se]},g=(I,O)=>{const[$,G,V,J]=I,[ee,re,se,he]=O;return[$*ee-G*re-V*se-J*he,$*re+G*ee+V*he-J*se,$*se-G*he+V*ee+J*re,$*he+G*se-V*re+J*ee]},A=I=>[I[0],-I[1],-I[2],-I[3]],w=(I,O)=>{const $=[0,O[0],O[1],O[2]],G=A(I),V=g(g(I,$),G);return[V[1],V[2],V[3]]},k=j(n,r,l,c),M=j(E,T,N,p);return q.useEffect(()=>{const I=e.current;if(!I)return;const O=I.getContext("2d");if(!O)return;O.fillStyle="#0f172a",O.fillRect(0,0,f,x);const $=f/2,G=x/2,V=90,J=-.4,ee=.6,re=_e=>{const Le=Math.cos(ee),qt=Math.sin(ee),Ht=Math.cos(J),kt=Math.sin(J);let dn=_e[0]*Le+_e[2]*qt,mi=-_e[0]*qt+_e[2]*Le,fi=_e[1]*Ht-mi*kt;return mi=_e[1]*kt+mi*Ht,[$+dn*V,G-fi*V]},se=1.4;[[[se,0,0],"#ef4444","x (i)"],[[0,se,0],"#22c55e","y (j)"],[[0,0,se],"#3b82f6","z (k)"]].forEach(([_e,Le,qt])=>{const[Ht,kt]=re(_e);O.strokeStyle=Le,O.lineWidth=2,O.beginPath(),O.moveTo($,G),O.lineTo(Ht,kt),O.stroke(),O.fillStyle=Le,O.font="bold 12px sans-serif",O.fillText(qt,Ht+5,kt-5)});const[ae,Ne,Te]=C(n,r,l),tt=[ae*1.5,Ne*1.5,Te*1.5],[Me,Ae]=re(tt),[Ue,Oe]=re([-ae*1.5,-Ne*1.5,-Te*1.5]);O.strokeStyle="#f59e0b",O.lineWidth=3,O.setLineDash([5,5]),O.beginPath(),O.moveTo(Ue,Oe),O.lineTo(Me,Ae),O.stroke(),O.setLineDash([]),[[1,0,0],[0,1,0],[0,0,1],[.7,.7,0]].forEach((_e,Le)=>{const[qt,Ht]=re(_e);O.fillStyle="rgba(96, 165, 250, 0.6)",O.beginPath(),O.arc(qt,Ht,5,0,Math.PI*2),O.fill();const kt=w(k,_e),[dn,mi]=re(kt);O.fillStyle="#ec4899",O.beginPath(),O.arc(dn,mi,6,0,Math.PI*2),O.fill(),O.strokeStyle="rgba(236, 72, 153, 0.3)",O.lineWidth=1,O.beginPath();for(let fi=0;fi<=1;fi+=.05){const ea=j(n,r,l,c*fi),or=w(ea,_e),[Xi,zi]=re(or);fi===0?O.moveTo(Xi,zi):O.lineTo(Xi,zi)}if(O.stroke(),u){const fi=w(M,kt),[ea,or]=re(fi);O.fillStyle="#22c55e",O.beginPath(),O.arc(ea,or,5,0,Math.PI*2),O.fill();const Xi=w(M,_e),zi=w(k,Xi),[$t,St]=re(zi);O.fillStyle="#8b5cf6",O.beginPath(),O.arc($t,St,5,0,Math.PI*2),O.fill()}}),O.fillStyle="#e2e8f0",O.font="bold 14px sans-serif",O.fillText("Quaternion Representation",20,30),O.font="12px monospace",O.fillStyle="#f59e0b",O.fillText(`q = ${k[0].toFixed(3)} + ${k[1].toFixed(3)}i + ${k[2].toFixed(3)}j + ${k[3].toFixed(3)}k`,20,50),O.fillStyle="#94a3b8",O.font="11px sans-serif";const He=(c/2).toFixed(1);O.fillText(`q = cos(${He}) + sin(${He})(ni + nj + nk)`,20,70);const et=Math.sqrt(k[0]**2+k[1]**2+k[2]**2+k[3]**2);if(O.fillStyle=Math.abs(et-1)<.01?"#22c55e":"#ef4444",O.fillText(`|q| = ${et.toFixed(4)} (unit quaternion)`,20,90),u){O.fillStyle="#8b5cf6",O.font="11px sans-serif",O.fillText(`q = ${M[0].toFixed(2)} + ${M[1].toFixed(2)}i + ${M[2].toFixed(2)}j + ${M[3].toFixed(2)}k`,20,110);const _e=g(k,M),Le=g(M,k);O.fillStyle="#22c55e",O.fillText(`qq = ${_e[0].toFixed(2)} + ${_e[1].toFixed(2)}i + ${_e[2].toFixed(2)}j + ${_e[3].toFixed(2)}k`,20,130),O.fillStyle="#8b5cf6",O.fillText(`qq = ${Le[0].toFixed(2)} + ${Le[1].toFixed(2)}i + ${Le[2].toFixed(2)}j + ${Le[3].toFixed(2)}k`,20,150);const qt=Math.abs(_e[0]-Le[0])<.01&&Math.abs(_e[1]-Le[1])<.01&&Math.abs(_e[2]-Le[2])<.01&&Math.abs(_e[3]-Le[3])<.01;O.fillStyle=qt?"#22c55e":"#ef4444",O.fillText(qt?" qq = qq":" qq  qq",20,170)}O.fillStyle="#60a5fa",O.font="11px sans-serif",O.fillText(" Original",f-100,30),O.fillStyle="#ec4899",O.fillText(" q(P)",f-100,50),u&&(O.fillStyle="#22c55e",O.fillText(" qq(P)",f-100,70),O.fillStyle="#8b5cf6",O.fillText(" qq(P)",f-100,90))},[n,r,l,c,u,p,E,T,N,k,M]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Quaternion Rotations"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:f,height:x,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-red-400 mb-1",children:["Axis x: ",n.toFixed(1)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:n,onChange:I=>s(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["Axis y: ",r.toFixed(1)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:r,onChange:I=>a(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Axis z: ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:l,onChange:I=>o(parseFloat(I.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Rotation angle: ",c,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:c,onChange:I=>h(parseInt(I.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{s(0),a(0),o(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Z-axis"}),i.jsx("button",{onClick:()=>{s(1),a(0),o(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"X-axis"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Y-axis"}),i.jsxs("button",{onClick:()=>m(!u),className:`px-3 py-2 text-sm rounded transition ${u?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[u?"Hide":"Show"," Composition"]})]}),u&&i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded mb-4",children:[i.jsx("p",{className:"text-sm text-purple-400 font-semibold mb-2",children:"Second rotation q:"}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-400",children:"n_x"}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.5",value:E,onChange:I=>y(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-400",children:"n_y"}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.5",value:T,onChange:I=>S(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-400",children:"n_z"}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.5",value:N,onChange:I=>v(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs text-slate-400",children:[p,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:p,onChange:I=>b(parseInt(I.target.value)),className:"w-full"})]})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"q = cos(/2) + sin(/2)(ni + nj + nk) for rotation by  about n"}),i.jsxs("li",{children:["Note the ",i.jsx("span",{className:"text-amber-400",children:"half angle /2"})," in the formula"]}),i.jsxs("li",{children:["q and q represent the ",i.jsx("strong",{children:"same rotation"})]}),i.jsx("li",{children:"Composition: RR  qq (quaternion multiplication)"}),i.jsx("li",{children:"Unit quaternions S map 2-to-1 onto SO(3)"})]})]})]})}function eK(){return i.jsxs(qe,{sectionId:48,children:[i.jsx("h2",{children:"The Group of Isometries of the Plane"}),i.jsx("p",{children:"In this chapter, we go back to the ideas of Felix Klein and take another look at what we have learned from the viewpoint of transformation groups. We have seen that different kinds of transformation group determine different kinds of geometryEuclidean, affine, or projectivedepending on whether the transformations preserve length, parallelism, or collinearity."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Klein's Vision:"})," Felix Klein proposed in 1872 that each type of geometry can be characterized by its group of transformations. The properties of each geometry are precisely those preserved by its transformation group."]}),i.jsx("h3",{children:"Definition of Isometries"}),i.jsxs(xe,{title:"Isometry",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"isometry"})," of the Euclidean plane  is a function f :    that preserves distance. That is, for any two points P and Q:"]}),i.jsx(Y,{children:"|f(P) - f(Q)| = |P - Q|"}),i.jsx("p",{className:"mt-2",children:"In other words, isometries are distance-preserving maps."})]}),i.jsxs("p",{children:["The isometries of  form a group under composition of functions, called the ",i.jsx("strong",{children:"isometry group"})," of the plane. We denote this group by Isom()."]}),i.jsx("h3",{children:"The Group Structure"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"group of transformations"})," of a space S is a collection G of functions on S with the following properties:"]}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"If f, g  G, then fg  G (closure under composition)"}),i.jsx("li",{children:"If f  G, then f  G (closure under inverses)"})]})}),i.jsx("p",{children:'The "product" fg of f and g is the composite function, defined by fg(x) = f(g(x)). Composition is always associative: (fg)h = f(gh).'}),i.jsx("h3",{children:"Types of Isometries"}),i.jsx("p",{children:"The isometries of the plane fall into several important types:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Basic Isometries"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Reflections:"})," Mirror reflections in a line L. A reflection fixes every point on L and maps each point P not on L to a point P' such that L is the perpendicular bisector of PP'."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Rotations:"})," Rotation about a point O through an angle . Every point moves along a circular arc centered at O."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Translations:"})," Shifting every point by a fixed vector v. The map P  P + v."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Glide reflections:"})," A reflection followed by a translation parallel to the line of reflection."]})]})]}),i.jsxs(ue,{title:"Classification of Isometries",children:[i.jsx("p",{children:"Every isometry of the plane is one of the following:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"A rotation (including the identity, which is rotation by 0)"}),i.jsx("li",{children:"A translation"}),i.jsx("li",{children:"A reflection"}),i.jsx("li",{children:"A glide reflection"})]})]}),i.jsx("h3",{children:"Orientation-Preserving Isometries"}),i.jsx(xe,{title:"Orientation",children:i.jsxs("p",{children:["An isometry is ",i.jsx("strong",{children:"orientation-preserving"})," if it maps a counterclockwise triple of points to a counterclockwise triple. Otherwise, it is ",i.jsx("strong",{children:"orientation-reversing"}),"."]})}),i.jsx("p",{children:"The orientation-preserving isometries form a subgroup of Isom(), denoted Isom(). This subgroup consists exactly of the rotations and translations."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Orientation Classification"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Orientation-preserving:"})," Rotations and translations"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Orientation-reversing:"})," Reflections and glide reflections"]})]})]}),i.jsx("h3",{children:"Products of Reflections"}),i.jsx("p",{children:"A fundamental fact about isometries is that they can all be expressed as products of reflections."}),i.jsxs(ue,{title:"Three Reflections Theorem",children:[i.jsx("p",{children:"Every isometry of the plane is a product of at most three reflections."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"Moreover:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 text-slate-300 space-y-1",children:[i.jsx("li",{children:"A product of two reflections is a rotation or translation"}),i.jsx("li",{children:"A product of one or three reflections is a reflection or glide reflection"})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Key Insight:"})," When two reflection lines intersect at a point O with angle  between them, their product is a rotation about O through angle 2. When two reflection lines are parallel, their product is a translation perpendicular to the lines by twice the distance between them."]}),i.jsx("h3",{children:"The Rotation Subgroup"}),i.jsx("p",{children:"The rotations about a fixed point O form a subgroup of Isom(). This is because the product of two rotations about O is another rotation about O, and the inverse of a rotation about O is also a rotation about O."}),i.jsx(Y,{children:"r_{\\theta_1} \\circ r_{\\theta_2} = r_{\\theta_1 + \\theta_2}"}),i.jsx("p",{children:"The group of all rotations about O is isomorphic to the circle group S, also known as SO(2)."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the product of reflections in two lines meeting at angle  is a rotation through angle 2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the product of reflections in two parallel lines at distance d apart is a translation through distance 2d."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that the product of a rotation about O and a translation is a rotation about some other point O'."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that a rotation is a product of two reflections, and hence that every orientation-preserving isometry is a product of two reflections."})]}),i.jsx(ZQ,{className:"my-6"}),i.jsx(Re,{sectionId:48,questions:$e[48]||[],title:"The Group of Isometries of the Plane Quiz"})]})}function tK(){return i.jsxs(qe,{sectionId:49,children:[i.jsx("h2",{children:"Vector Transformations"}),i.jsx("p",{children:"In this section, we study how transformations of the plane can be represented algebraically using matrices. This connection between geometry and algebra is fundamental to modern mathematics and has important applications in computer graphics, physics, and engineering."}),i.jsx("h3",{children:"Linear Transformations"}),i.jsxs(xe,{title:"Linear Transformation",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"linear transformation"})," of  is a function T :    that satisfies:"]}),i.jsx(Y,{children:"T(\\mathbf{u} + \\mathbf{v}) = T(\\mathbf{u}) + T(\\mathbf{v})"}),i.jsx(Y,{children:"T(c\\mathbf{u}) = cT(\\mathbf{u})"}),i.jsx("p",{className:"mt-2",children:"for all vectors u, v   and all scalars c  ."})]}),i.jsx("p",{children:"A key property of linear transformations is that they fix the origin: T(0) = 0. They also preserve lines through the originif L is a line through O, then T(L) is also a line through O (or the point O itself)."}),i.jsx("h3",{children:"Matrix Representation"}),i.jsx("p",{children:"Every linear transformation of  can be represented by a 22 matrix. If T sends the basis vectors e = (1, 0) and e = (0, 1) to vectors (a, c) and (b, d) respectively, then T is represented by the matrix:"}),i.jsx(Y,{children:"A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}"}),i.jsx("p",{children:"The transformation T acts on a vector v = (x, y) by matrix multiplication:"}),i.jsx(Y,{children:"T\\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} ax + by \\\\ cx + dy \\end{pmatrix}"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Composition and Multiplication:"})," The composition of two linear transformations corresponds to matrix multiplication. If T is represented by A and T is represented by A, then T  T is represented by AA."]}),i.jsx("h3",{children:"Examples of Linear Transformations"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Rotation by angle  about O"}),i.jsx(Y,{children:"R_\\theta = \\begin{pmatrix} \\cos\\theta & -\\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Reflection in the x-axis"}),i.jsx(Y,{children:"\\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling by factor k"}),i.jsx(Y,{children:"\\begin{pmatrix} k & 0 \\\\ 0 & k \\end{pmatrix}"})]}),i.jsx("h3",{children:"Affine Transformations"}),i.jsxs("p",{children:["Linear transformations fix the origin, so they cannot represent translations. To handle translations, we use ",i.jsx("strong",{children:"affine transformations"}),"."]}),i.jsxs(xe,{title:"Affine Transformation",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"affine transformation"})," of  is a function of the form:"]}),i.jsx(Y,{children:"\\mathbf{v} \\mapsto A\\mathbf{v} + \\mathbf{b}"}),i.jsx("p",{className:"mt-2",children:"where A is a 22 matrix and b is a translation vector."})]}),i.jsx("p",{children:"Affine transformations preserve collinearity (points on a line map to points on a line) and ratios of distances along a line. They form the transformation group of affine geometry."}),i.jsx("h3",{children:"Homogeneous Coordinates for Affine Maps"}),i.jsxs("p",{children:["A clever technique allows us to represent affine transformations as linear transformations of a higher-dimensional space using",i.jsx("strong",{children:" homogeneous coordinates"}),"."]}),i.jsx("p",{children:"We represent the point (x, y) by the triple (x, y, 1) in . Then an affine transformation can be written as a 33 matrix:"}),i.jsx(Y,{children:"\\begin{pmatrix} x' \\\\ y' \\\\ 1 \\end{pmatrix} = \\begin{pmatrix} a & b & t_x \\\\ c & d & t_y \\\\ 0 & 0 & 1 \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\\\ 1 \\end{pmatrix}"}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Key Advantage:"})," With homogeneous coordinates, composition of affine transformations (including translations) is simply matrix multiplication. This makes computation much more efficient and uniform."]}),i.jsx("h3",{children:"Orthogonal Matrices"}),i.jsxs("p",{children:["The linear isometries (distance-preserving linear maps) are exactly those represented by ",i.jsx("strong",{children:"orthogonal matrices"}),"."]}),i.jsxs(xe,{title:"Orthogonal Matrix",children:[i.jsxs("p",{children:["A matrix A is ",i.jsx("strong",{children:"orthogonal"})," if A^T A = I, where A^T is the transpose of A and I is the identity matrix."]}),i.jsx("p",{className:"mt-2",children:"Equivalently, A is orthogonal if its columns form an orthonormal basis."})]}),i.jsxs(ue,{title:"Orthogonal Matrices and Isometries",children:[i.jsx("p",{children:"A linear transformation T :    is an isometry if and only if its matrix is orthogonal. Moreover:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"If det(A) = 1, then T is a rotation"}),i.jsx("li",{children:"If det(A) = 1, then T is a reflection"})]})]}),i.jsx("h3",{children:"The Groups O(2) and SO(2)"}),i.jsx("p",{children:"The set of all 22 orthogonal matrices forms a group called O(2). The subset with determinant 1 forms a subgroup called SO(2)."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Group Structure"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"O(2)"}),": All orthogonal 22 matrices (rotations and reflections)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"SO(2)"}),": Orthogonal matrices with det = 1 (rotations only)"]})]}),i.jsx("p",{className:"text-slate-300 mt-3",children:"SO(2) is isomorphic to the circle group S, since each rotation corresponds to a unique angle   [0, 2)."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the composition of rotations R_ and R_ equals R_(+) by multiplying their matrices."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the matrix for reflection in the line y = x."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the product of two reflections in lines through O, meeting at angle , gives the rotation matrix R_(2)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.4"}),i.jsx("p",{className:"text-slate-300",children:"Write the 33 homogeneous matrix for the translation (x, y)  (x + 3, y  2) followed by rotation by 90 about the origin."})]}),i.jsx(QQ,{className:"my-6"}),i.jsx(Re,{sectionId:49,questions:$e[49]||[],title:"Vector Transformations Quiz"})]})}function nK(){return i.jsxs(qe,{sectionId:50,children:[i.jsx("h2",{children:"Transformations of the Projective Line"}),i.jsxs("p",{children:["In Section 5.6, we found that the transformations of the real projective line P are the ",i.jsx("strong",{children:"linear fractional functions"}),". These are a natural generalization of linear functions, and they can be elegantly represented using matrices."]}),i.jsx("h3",{children:"Linear Fractional Functions"}),i.jsxs(xe,{title:"Linear Fractional Function",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"linear fractional function"})," (also called a Mbius transformation) is a function of the form:"]}),i.jsx(Y,{children:"f(x) = \\frac{ax + b}{cx + d}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real numbers with ad  bc  0."})]}),i.jsx("p",{children:"The condition ad  bc  0 ensures that f is not a constant function. When c = 0, we get the ordinary linear (affine) functions of the line. When c  0, f maps  to a/c and maps d/c to ."}),i.jsx("h3",{children:"Matrix Representation"}),i.jsx("p",{children:"Linear fractional functions can be represented by 22 matrices in a beautiful way. The function f(x) = (ax + b)/(cx + d) corresponds to the matrix:"}),i.jsx(Y,{children:"A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}"}),i.jsxs(ue,{title:"Composition and Matrix Multiplication",children:[i.jsx("p",{children:"If f corresponds to matrix A and g corresponds to matrix B, then the composition f  g corresponds to the matrix product AB."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This correspondence respects the group operation: composing linear fractional functions is the same as multiplying their matrices."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Homogeneous Coordinates:"})," The matrix representation arises naturally from viewing P as the space of lines through O in . A point x on the line corresponds to the point (x, 1) in the plane, or more generally to any point (x, ) for   0. The point  corresponds to points (1, 0) or (, 0)."]}),i.jsx("h3",{children:"The Group PGL(2, )"}),i.jsxs("p",{children:["The group of all linear fractional transformations of P is denoted PGL(2, )  the ",i.jsx("strong",{children:"projective general linear group"}),"."]}),i.jsxs(xe,{title:"PGL(2, )",children:[i.jsx("p",{children:"The group PGL(2, ) consists of all invertible 22 matrices over , where two matrices are considered equivalent if one is a nonzero scalar multiple of the other:"}),i.jsx(Y,{children:"A \\sim \\lambda A \\quad \\text{for } \\lambda \\neq 0"}),i.jsx("p",{className:"mt-2",children:"This is because the functions corresponding to A and A are identical."})]}),i.jsx("h3",{children:"Generating Transformations"}),i.jsx("p",{children:"Every linear fractional transformation is a composition of three basic types:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Generating Transformations"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Translation:"})," x  x + l",i.jsx(Y,{children:"\\begin{pmatrix} 1 & l \\\\ 0 & 1 \\end{pmatrix}"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Scaling:"})," x  kx (for k  0)",i.jsx(Y,{children:"\\begin{pmatrix} k & 0 \\\\ 0 & 1 \\end{pmatrix}"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Inversion:"})," x  1/x",i.jsx(Y,{children:"\\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}"})]})]})]}),i.jsx("h3",{children:"Cross-Ratio Invariance"}),i.jsxs("p",{children:["The most important invariant of linear fractional transformations is the ",i.jsx("strong",{children:"cross-ratio"}),"."]}),i.jsxs(xe,{title:"Cross-Ratio",children:[i.jsx("p",{children:"The cross-ratio of four points a, b, c, d on P is:"}),i.jsx(Y,{children:"(a, b; c, d) = \\frac{(a - c)(b - d)}{(a - d)(b - c)}"})]}),i.jsxs(ue,{title:"Cross-Ratio Invariance",children:[i.jsx("p",{children:"Linear fractional transformations preserve the cross-ratio:"}),i.jsx(Y,{children:"(f(a), f(b); f(c), f(d)) = (a, b; c, d)"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This is the fundamental invariant of projective geometry on the line."})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Three-Point Determination:"})," A linear fractional transformation is completely determined by its action on any three points. Given three distinct points and their images, there is a unique linear fractional transformation mapping one triple to the other."]}),i.jsx("h3",{children:"Fixed Points"}),i.jsx("p",{children:"The fixed points of a linear fractional transformation f(x) = (ax + b)/(cx + d) are the solutions to f(x) = x, which gives the quadratic equation:"}),i.jsx(Y,{children:"cx^2 + (d - a)x - b = 0"}),i.jsx("p",{children:"A transformation can have 0, 1, or 2 fixed points (counting ):"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Two fixed points:"})," Called ",i.jsx("em",{children:"hyperbolic"})," or ",i.jsx("em",{children:"elliptic"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"One fixed point:"})," Called ",i.jsx("em",{children:"parabolic"})," (translations)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"All points fixed:"})," The identity transformation"]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that f(x) = (2x + 1)/(x + 1) and g(x) = (x + 3)/(2x  1) satisfy (f  g)(x) corresponding to the matrix product of their matrices."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the unique linear fractional transformation that maps 0  1, 1  0, and   ."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.3"}),i.jsx("p",{className:"text-slate-300",children:"Compute the cross-ratio (0, 1; 2, ) and verify it is preserved by the transformation x  2x."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Find the fixed points of f(x) = (2x + 1)/(x + 2) and classify the transformation."})]}),i.jsx(WQ,{className:"my-6"}),i.jsx(YQ,{className:"my-6"}),i.jsx(Re,{sectionId:50,questions:$e[50]||[],title:"Transformations of the Projective Line Quiz"})]})}function iK(){return i.jsxs(qe,{sectionId:51,children:[i.jsx("h2",{children:"Spherical Geometry"}),i.jsxs("p",{children:["We now turn from the plane to a surface with quite different properties: the ",i.jsx("strong",{children:"2-sphere"})," S. This is the surface of a ball in , and it provides an important example of non-Euclidean geometry."]}),i.jsxs(xe,{title:"The 2-Sphere",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"2-sphere"})," S is the set of points in  at distance 1 from the origin:"]}),i.jsx(Y,{children:"S^2 = \\{(x, y, z) \\in \\mathbb{R}^3 : x^2 + y^2 + z^2 = 1\\}"}),i.jsx("p",{className:"mt-2",children:"More generally, a sphere of radius r centered at the origin is the set of points at distance r from O."})]}),i.jsx("h3",{children:'Great Circles as "Lines"'}),i.jsxs("p",{children:["On the sphere, the natural analogues of straight lines are",i.jsx("strong",{children:" great circles"}),"."]}),i.jsx(xe,{title:"Great Circle",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"great circle"})," on S is the intersection of S with a plane through the center O of the sphere. Great circles are the largest circles on the sphere and have the same radius as the sphere itself."]})}),i.jsx("p",{children:'Great circles serve as "lines" in spherical geometry because:'}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Any two distinct points determine a unique great circle (unless they are antipodal)"}),i.jsx("li",{children:"Great circles are geodesics  the shortest paths between points on the sphere"}),i.jsx("li",{children:"Great circles have constant curvature and no preferred direction"})]})}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Antipodal Points:"})," Two points are ",i.jsx("em",{children:"antipodal"}),' if they are diametrically opposite on the sphere (like the North and South poles). Infinitely many great circles pass through any pair of antipodal points, so the axiom "two points determine a unique line" fails for antipodal points.']}),i.jsx("h3",{children:"Differences from Euclidean Geometry"}),i.jsx("p",{children:"Spherical geometry differs from Euclidean geometry in several fundamental ways:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Differences"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"No parallel lines:"})," Any two great circles intersect (at two antipodal points)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Finite lines:"})," Great circles have finite length (2r), unlike infinite Euclidean lines."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Angle sum of triangles:"})," The angles of a spherical triangle sum to more than 180."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Area determines angle excess:"})," The amount by which the angle sum exceeds 180 is proportional to the triangle's area."]})]})]}),i.jsx("h3",{children:"Isometries of the Sphere"}),i.jsx(xe,{title:"Spherical Isometry",children:i.jsxs("p",{children:["An ",i.jsx("strong",{children:"isometry"})," of S is a distance-preserving map from S to itself, where distance is measured along great circles (geodesic distance)."]})}),i.jsx("p",{children:"The isometries of S form a group Isom(S), and they have a beautiful characterization."}),i.jsxs(ue,{title:"Isometries of S are Orthogonal",children:[i.jsx("p",{children:"Every isometry of S is the restriction to S of an orthogonal transformation of . In other words:"}),i.jsx(Y,{children:"\\text{Isom}(S^2) \\cong O(3)"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The isometry group of the sphere is isomorphic to the group of 33 orthogonal matrices."})]}),i.jsx("h3",{children:"Reflections in Great Circles"}),i.jsxs("p",{children:["Just as in the plane, reflections play a fundamental role. A",i.jsx("strong",{children:" reflection"})," of S in a great circle C is the restriction to S of reflection of  in the plane containing C."]}),i.jsxs(ue,{title:"Three Reflections Theorem for S",children:[i.jsx("p",{children:"Every isometry of S is a product of at most three reflections in great circles."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This is the spherical analogue of the three reflections theorem for the plane."})]}),i.jsx("h3",{children:"Rotations of the Sphere"}),i.jsxs("p",{children:["The product of two reflections in great circles is a ",i.jsx("strong",{children:"rotation"}),"of S about an axis through the center O."]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," If two great circles intersect at points P and P' (which are antipodal), then the product of reflections in these circles is a rotation about the axis through P and P'. The angle of rotation is twice the angle between the great circles."]}),i.jsxs(xe,{title:"Orientation-Preserving Isometries",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"orientation-preserving isometries"})," of S are exactly the rotations. They form a subgroup:"]}),i.jsx(Y,{children:"\\text{Isom}^+(S^2) \\cong SO(3)"}),i.jsx("p",{className:"mt-2",children:"This is the group of 33 orthogonal matrices with determinant 1."})]}),i.jsx("h3",{children:"The Spherical Metric"}),i.jsxs("p",{children:["The natural distance on the sphere is the ",i.jsx("strong",{children:"great circle distance"}),": the length of the shorter arc of the great circle connecting two points."]}),i.jsx(Y,{children:"d(P, Q) = r \\cdot \\arccos(P \\cdot Q / r^2)"}),i.jsx("p",{children:"For the unit sphere (r = 1), this simplifies to:"}),i.jsx(Y,{children:"d(P, Q) = \\arccos(P \\cdot Q)"}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the equator and any line of longitude are great circles, but lines of latitude (except the equator) are not."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the angle sum of a spherical triangle whose vertices are the North pole, (1, 0, 0), and (0, 1, 0)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Explain why any two great circles on S must intersect."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the great circle distance between P = (1, 0, 0) and Q = (0, 1, 0) on the unit sphere is /2."})]}),i.jsx(XQ,{className:"my-6"}),i.jsx(Re,{sectionId:51,questions:$e[51]||[],title:"Spherical Geometry Quiz"})]})}function sK(){return i.jsxs(qe,{sectionId:52,children:[i.jsx("h2",{children:"The Rotation Group of the Sphere"}),i.jsxs("p",{children:["We now focus on the ",i.jsx("strong",{children:"rotation group"})," of the sphere  the group of orientation-preserving isometries of S. This group, denoted SO(3), is one of the most important groups in mathematics and physics."]}),i.jsx("h3",{children:"The Group SO(3)"}),i.jsxs(xe,{title:"SO(3)",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"special orthogonal group"})," SO(3) consists of all 33 orthogonal matrices with determinant 1:"]}),i.jsx(Y,{children:"SO(3) = \\{A \\in M_{3\\times 3}(\\mathbb{R}) : A^T A = I, \\det(A) = 1\\}"}),i.jsx("p",{className:"mt-2",children:"These are exactly the rotation matrices  they represent rotations of  about axes through the origin."})]}),i.jsx("p",{children:"Every rotation of  restricts to an isometry of S, and conversely, every orientation-preserving isometry of S extends to a rotation of . This gives us:"}),i.jsx(Y,{children:"\\text{Isom}^+(S^2) \\cong SO(3)"}),i.jsx("h3",{children:"Rotation Matrices"}),i.jsx("p",{children:"A rotation about the z-axis through angle  is represented by:"}),i.jsx(Y,{children:"R_z(\\theta) = \\begin{pmatrix} \\cos\\theta & -\\sin\\theta & 0 \\\\ \\sin\\theta & \\cos\\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}"}),i.jsx("p",{children:"Similarly, rotations about the x and y axes are:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"R_x(\\theta) = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & \\cos\\theta & -\\sin\\theta \\\\ 0 & \\sin\\theta & \\cos\\theta \\end{pmatrix}"}),i.jsx(Y,{children:"R_y(\\theta) = \\begin{pmatrix} \\cos\\theta & 0 & \\sin\\theta \\\\ 0 & 1 & 0 \\\\ -\\sin\\theta & 0 & \\cos\\theta \\end{pmatrix}"})]}),i.jsx("h3",{children:"Products of Rotations"}),i.jsx("p",{children:"Understanding how rotations combine is crucial. Unlike in the plane, rotations in 3D do not commute in general."}),i.jsxs(ue,{title:"Product of Two Rotations",children:[i.jsx("p",{children:"The product of two rotations of S is another rotation. If r is rotation about axis A and r is rotation about axis A, then rr is rotation about some axis A."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The axis A and the angle of rotation depend on both the axes and angles of r and r in a complex way."})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Non-Commutativity:"})," In general, rr  rr. The order of rotations matters in 3D! This is a fundamental difference from the group of rotations of the plane, which is abelian."]}),i.jsx("h3",{children:"Rotations as Products of Reflections"}),i.jsx("p",{children:"Every rotation of S is a product of exactly two reflections."}),i.jsx(ue,{title:"Rotation from Two Reflections",children:i.jsx("p",{children:"Let C and C be two great circles meeting at points P and P' (antipodal). If the angle between C and C is , then the product of reflections in C and C is rotation about the axis PP' through angle 2."})}),i.jsx("p",{children:"Conversely, any rotation can be decomposed into a product of two reflections in many ways."}),i.jsx("h3",{children:"The Axis-Angle Representation"}),i.jsxs(xe,{title:"Axis-Angle Representation",children:[i.jsx("p",{children:"Every rotation of S (other than the identity) can be uniquely described by:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:["An ",i.jsx("strong",{children:"axis"}),": a line through O, or equivalently a unit vector n"]}),i.jsxs("li",{children:["An ",i.jsx("strong",{children:"angle"}),":   (0, 2)"]})]}),i.jsx("p",{className:"mt-2",children:"The rotation is about the axis n through angle  (using the right-hand rule)."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Rodrigues' Formula:"})," The rotation of a vector v about axis n through angle  is given by:",i.jsx(Y,{children:"v' = v\\cos\\theta + (n \\times v)\\sin\\theta + n(n \\cdot v)(1 - \\cos\\theta)"})]}),i.jsx("h3",{children:"Topology of SO(3)"}),i.jsx("p",{children:"The group SO(3) has interesting topological properties. It can be parameterized by a solid ball of radius , where:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"The center represents the identity rotation"}),i.jsx("li",{children:"A point at distance  from the center in direction n represents rotation about n through angle "}),i.jsx("li",{children:"Antipodal points on the boundary (radius ) are identified, since rotation by  about n equals rotation by  about n"})]})}),i.jsxs(ue,{title:"SO(3) as P",children:[i.jsx("p",{children:"The group SO(3) is homeomorphic to the real projective space P."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This follows from identifying antipodal points on the boundary of the ball, which is exactly how P is constructed from the 3-ball."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that R_z()R_z() = R_z( + ) by multiplying the matrices."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Compute R_x(/2)R_z(/2) and R_z(/2)R_x(/2) to verify that rotations in 3D do not commute."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that the product of two reflections in perpendicular great circles is a rotation by  (a half-turn) about their line of intersection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.4"}),i.jsx("p",{className:"text-slate-300",children:"Use Rodrigues' formula to find the image of v = (1, 0, 0) under rotation by /2 about the axis n = (0, 0, 1)."})]}),i.jsx(KQ,{className:"my-6"}),i.jsx(Re,{sectionId:52,questions:$e[52]||[],title:"The Rotation Group of the Sphere Quiz"})]})}function rK(){return i.jsxs(qe,{sectionId:53,children:[i.jsx("h2",{children:"Representing Space Rotations by Quaternions"}),i.jsx("p",{children:"Quaternions provide an elegant and computationally efficient way to represent rotations in 3D space. This representation, discovered by William Rowan Hamilton in 1843, is widely used in computer graphics, robotics, and physics."}),i.jsx("h3",{children:"Review of Quaternions"}),i.jsxs(xe,{title:"Quaternions",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"quaternion"})," is a number of the form:"]}),i.jsx(Y,{children:"\\mathbf{q} = a\\mathbf{1} + b\\mathbf{i} + c\\mathbf{j} + d\\mathbf{k}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d   and i, j, k satisfy the relations:"}),i.jsx(Y,{children:"\\mathbf{i}^2 = \\mathbf{j}^2 = \\mathbf{k}^2 = \\mathbf{ijk} = -1"})]}),i.jsx("p",{children:"From these relations, we derive the multiplication rules:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"\\mathbf{ij} = \\mathbf{k}, \\quad \\mathbf{jk} = \\mathbf{i}, \\quad \\mathbf{ki} = \\mathbf{j}"}),i.jsx(Y,{children:"\\mathbf{ji} = -\\mathbf{k}, \\quad \\mathbf{kj} = -\\mathbf{i}, \\quad \\mathbf{ik} = -\\mathbf{j}"})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Non-Commutativity:"})," Quaternion multiplication is not commutative: ij = k but ji = k. However, it is associative."]}),i.jsx("h3",{children:"Quaternion Norm and Conjugate"}),i.jsxs(xe,{title:"Norm and Conjugate",children:[i.jsx("p",{children:"For q = a + bi + cj + dk:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Conjugate:"})," q = a  bi  cj  dk"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Norm:"})," |q| = qq = a + b + c + d"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Inverse:"})," q = q/|q| (for q  0)"]})]})]}),i.jsx("p",{children:"A key property is that the norm is multiplicative: |qq| = |q||q|."}),i.jsx("h3",{children:"Unit Quaternions and Rotations"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"unit quaternion"})," is a quaternion with |q| = 1. These form a group under multiplication, and they correspond to rotations."]}),i.jsxs(ue,{title:"Quaternion Rotation Formula",children:[i.jsx("p",{children:"Let q be a unit quaternion. The map:"}),i.jsx(Y,{children:"\\mathbf{p} \\mapsto \\mathbf{qpq}^{-1}"}),i.jsx("p",{className:"mt-2 text-slate-300",children:'is a rotation of the "pure quaternions" (those with a = 0), which can be identified with .'})]}),i.jsx("p",{children:"We identify a point (x, y, z)   with the pure quaternion p = xi + yj + zk. Then qpq is also a pure quaternion, corresponding to the rotated point."}),i.jsx("h3",{children:"Axis-Angle to Quaternion"}),i.jsx("p",{children:"The unit quaternion corresponding to rotation about axis n = (n, n, n) through angle  is:"}),i.jsx(Y,{children:"\\mathbf{q} = \\cos\\frac{\\theta}{2} + \\sin\\frac{\\theta}{2}(n_1\\mathbf{i} + n_2\\mathbf{j} + n_3\\mathbf{k})"}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Half Angles:"})," Notice the factor of /2  the quaternion uses half the rotation angle. This is related to the fact that q and q represent the same rotation."]}),i.jsx("h3",{children:"The Two-to-One Correspondence"}),i.jsx("p",{children:"There is a subtlety in the quaternion representation: both q and q produce the same rotation."}),i.jsxs(ue,{title:"Two-to-One Homomorphism",children:[i.jsx("p",{children:"The map from unit quaternions to rotations:"}),i.jsx(Y,{children:"\\mathbf{q} \\mapsto (\\mathbf{p} \\mapsto \\mathbf{qpq}^{-1})"}),i.jsxs("p",{className:"mt-2 text-slate-300",children:["is a 2-to-1 homomorphism from S (unit quaternions) onto SO(3). The kernel consists of ","{","1, 1","}","."]})]}),i.jsx("p",{children:"This can be written as:"}),i.jsx(Y,{children:"SO(3) \\cong S^3 / \\{\\pm 1\\}"}),i.jsx("h3",{children:"Advantages of Quaternions"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Why Use Quaternions?"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Compact:"})," Only 4 numbers (vs. 9 for a matrix)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Numerically stable:"})," Easy to renormalize to unit length"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No gimbal lock:"})," Avoids singularities in Euler angles"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Smooth interpolation:"})," SLERP gives natural rotation paths"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Efficient composition:"})," Quaternion multiplication is fast"]})]})]}),i.jsx("h3",{children:"Composing Rotations"}),i.jsx("p",{children:"The composition of rotations corresponds to quaternion multiplication:"}),i.jsx(ue,{title:"Composition of Rotations",children:i.jsx("p",{children:"If rotation R corresponds to quaternion q and rotation R corresponds to quaternion q, then the composition R  R corresponds to qq."})}),i.jsx("p",{children:"This is much simpler than multiplying 33 matrices!"}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that q = cos(/4) + sin(/4)k represents rotation by /2 about the z-axis, and compute qiq to verify."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Verify that q and q give the same rotation by computing qpq and (q)p(q) for p = i."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the quaternion representing rotation by  about the axis (1, 1, 0)/2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Compute the composition of 90 rotation about the z-axis followed by 90 rotation about the x-axis using quaternions."})]}),i.jsx(JQ,{className:"my-6"}),i.jsx(Re,{sectionId:53,questions:$e[53]||[],title:"Representing Space Rotations by Quaternions Quiz"})]})}function aK(){return i.jsxs(qe,{sectionId:54,children:[i.jsx("h2",{children:"A Finite Group of Space Rotations"}),i.jsxs("p",{children:["We have seen that the group SO(3) of all rotations is infinite. However, the symmetry groups of regular polyhedra provide beautiful examples of",i.jsx("strong",{children:" finite"})," rotation groups. In this section, we study the rotations of the tetrahedron and their quaternion representations."]}),i.jsx("h3",{children:"The Regular Tetrahedron"}),i.jsx("p",{children:"A regular tetrahedron has four vertices, four faces (equilateral triangles), and six edges. We place the tetrahedron with its center at the origin so that its rotational symmetries become rotations of ."}),i.jsx(xe,{title:"Rotational Symmetry",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"rotational symmetry"})," of a polyhedron is a rotation that maps the polyhedron onto itself. The set of all rotational symmetries forms a group under composition."]})}),i.jsx("h3",{children:"Counting the Rotations"}),i.jsx("p",{children:"The tetrahedron has exactly 12 rotational symmetries:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The 12 Rotations of the Tetrahedron"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"1 identity:"})," Rotation by 0"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"8 face rotations:"})," For each of 4 faces, rotations by 120 and 240 about the axis through the face center and opposite vertex"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"3 edge rotations:"})," For each of 3 pairs of opposite edges, rotation by 180 about the axis through their midpoints"]})]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Group Theory Connection:"})," The rotation group of the tetrahedron is isomorphic to the alternating group A  the group of even permutations of 4 objects. This makes sense because each rotation permutes the 4 vertices, and only even permutations arise from rotations."]}),i.jsx("h3",{children:"Quaternions for the Tetrahedron"}),i.jsx("p",{children:"Each of the 12 rotations corresponds to a pair of quaternions q. Therefore, we get 24 unit quaternions representing the tetrahedron's rotational symmetries."}),i.jsxs(ue,{title:"The 24 Quaternions",children:[i.jsx("p",{children:"The 24 unit quaternions representing rotations of the tetrahedron are:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"1, i, j, k (8 quaternions)"}),i.jsx("li",{children:"(1  i  j  k) with an even number of minus signs (16 quaternions)"})]})]}),i.jsxs("p",{children:["These 24 quaternions form a group under quaternion multiplication, known as the ",i.jsx("strong",{children:"binary tetrahedral group"}),"."]}),i.jsx("h3",{children:"The 24-Cell"}),i.jsxs("p",{children:["The 24 quaternions can be viewed as 24 points in . Remarkably, these points are the vertices of a beautiful 4-dimensional polytope called the ",i.jsx("strong",{children:"24-cell"}),"."]}),i.jsxs(xe,{title:"The 24-Cell",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"24-cell"})," is a regular 4-dimensional polytope with:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"24 vertices (the unit quaternions for the tetrahedron)"}),i.jsx("li",{children:"96 edges"}),i.jsx("li",{children:"96 triangular faces"}),i.jsx("li",{children:'24 octahedral cells (3-dimensional "faces")'})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Unique to 4D:"})," The 24-cell is one of the exceptional regular polytopes that exist only in 4 dimensions. While the tetrahedron, cube, and octahedron have analogues in all dimensions, the 24-cell has no analogue in other dimensions."]}),i.jsx("h3",{children:"Other Polyhedral Groups"}),i.jsx("p",{children:"The tetrahedron is just one example. Other regular polyhedra have their own rotation groups:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Rotation Groups of Regular Polyhedra"}),i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2",children:"Polyhedron"}),i.jsx("th",{className:"text-left py-2",children:"Rotations"}),i.jsx("th",{className:"text-left py-2",children:"Group"}),i.jsx("th",{className:"text-left py-2",children:"Quaternions"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Tetrahedron"}),i.jsx("td",{className:"py-2",children:"12"}),i.jsx("td",{className:"py-2",children:"A"}),i.jsx("td",{className:"py-2",children:"24"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Cube/Octahedron"}),i.jsx("td",{className:"py-2",children:"24"}),i.jsx("td",{className:"py-2",children:"S"}),i.jsx("td",{className:"py-2",children:"48"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Dodecahedron/Icosahedron"}),i.jsx("td",{className:"py-2",children:"60"}),i.jsx("td",{className:"py-2",children:"A"}),i.jsx("td",{className:"py-2",children:"120"})]})]})]})]}),i.jsxs("p",{children:["The cube and octahedron have the same rotation group because they are",i.jsx("strong",{children:" dual"})," polyhedra  the vertices of one correspond to the face centers of the other. Similarly for the dodecahedron and icosahedron."]}),i.jsx("h3",{children:"The 120-Cell and 600-Cell"}),i.jsxs("p",{children:["Just as the 24 quaternions for the tetrahedron form the 24-cell, the 120 quaternions for the icosahedron form the vertices of the",i.jsx("strong",{children:" 600-cell"}),", another exceptional 4D polytope. The dual of the 600-cell is the ",i.jsx("strong",{children:"120-cell"}),"."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that there are exactly 16 quaternions of the form (1  i  j  k) with an even number of minus signs."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that the 8 quaternions 1, i, j, k form a group under multiplication. What familiar group is it isomorphic to?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Compute the product of q = (1 + i + j + k) and q = i, and verify that the result is one of the 24 unit quaternions for the tetrahedron."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.4"}),i.jsx("p",{className:"text-slate-300",children:"Explain why a rotation of the cube permutes its 4 main diagonals, and hence why the rotation group of the cube is isomorphic to S."})]}),i.jsx(Re,{sectionId:54,questions:$e[54]||[],title:"A Finite Group of Space Rotations Quiz"})]})}function lK(){return i.jsxs(qe,{sectionId:55,children:[i.jsx("h2",{children:"The Groups S and P"}),i.jsxs("p",{children:["The rotations of the tetrahedron vividly show that a group of rotations is itself a geometric object. This statement is just as true of the group of all rotations of S. In fact, this group is closely related to two important geometric objects: the ",i.jsx("strong",{children:"3-sphere S"}),"and the ",i.jsx("strong",{children:"three-dimensional real projective space P"}),"."]}),i.jsx("h3",{children:"The 3-Sphere"}),i.jsxs(xe,{title:"The 3-Sphere S",children:[i.jsxs("p",{children:["Just as the 1- and 2-spheres are the sets of points at unit distance from O in  and  respectively, the ",i.jsx("strong",{children:"3-sphere"})," is the set of points in  at unit distance from O:"]}),i.jsx(Y,{children:"S^3 = \\{(a, b, c, d) \\in \\mathbb{R}^4 : a^2 + b^2 + c^2 + d^2 = 1\\}"})]}),i.jsxs("p",{children:["The points (a, b, c, d) on S correspond to quaternions q = a1 + bi + cj + dk with |q| = 1, because |q| = a + b + c + d. Hence, ",i.jsx("strong",{children:"rotations of S"}),", which correspond to pairs q of such quaternions, correspond to ",i.jsx("strong",{children:"point pairs"})," (a, b, c, d) on S."]}),i.jsx("h3",{children:"Connection to P"}),i.jsx("p",{children:'Remember from Section 5.4 how we described the real projective space P. Its "points" are lines through O in . But a line through O in  meets S in a pair of antipodal points (a, b, c, d).'}),i.jsx(ue,{title:"Rotations as Points of P",children:i.jsx("p",{children:'It is valid to view the point pairs (a, b, c, d) on S as single "points" of P. Hence, rotations of S correspond to points of P, and the group of all rotations of S is in some sense the "same" as the geometric object P.'})}),i.jsx("h3",{children:"Abstract Groups and Isomorphisms"}),i.jsx("p",{children:'To explain what we mean by "sameness" here, we need to say something about groups in general.'}),i.jsxs(xe,{title:"Abstract Group",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"abstract group"}),' is a set G, which contains a special element 1 and for each g an element g, with a "product" operation satisfying the following axioms:']}),i.jsx(Y,{children:"g_1(g_2g_3) = (g_1g_2)g_3 \\quad \\text{(associativity)}"}),i.jsx(Y,{children:"g \\cdot 1 = g \\quad \\text{(identity)}"}),i.jsx(Y,{children:"g \\cdot g^{-1} = 1 \\quad \\text{(inverse)}"})]}),i.jsxs(xe,{title:"Isomorphism",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"isomorphism"})," of group G onto group G' is a one-to-one correspondence  : G  G' that preserves products:"]}),i.jsx(Y,{children:"\\varphi(g_1g_2) = \\varphi(g_1)\\varphi(g_2)"}),i.jsx("p",{className:"mt-2",children:'The word "isomorphism" comes from the Greek for "same form." Two isomorphic groups are essentially the same as abstract groups.'})]}),i.jsx("h3",{children:"Group Structures on Spheres"}),i.jsx("p",{children:"We can use isomorphisms to transfer group structures to geometric objects."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Examples of Group Structures"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"The circle S:"})," Complex numbers cos  + i sin  form a group under multiplication, and they correspond to points (cos , sin ) of S. The product of points on S corresponds to adding their angles."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"The 3-sphere S:"})," Unit quaternions form a group, and they correspond to points of S. Hence, we can define the product of points on S via quaternion multiplication."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective space P:"})," Pairs of opposite quaternions q with |q| = 1 form a group. These correspond to points of P, so we can transfer this group structure to P."]})]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Continuous Groups:"})," The group structures on S, S, and P obtained in this way are particularly interesting because they are",i.jsx("em",{children:" continuous"}),". That is, if g' is near to g and g' is near to g, then g'g' is near to gg."]}),i.jsx("h3",{children:"A Remarkable Fact"}),i.jsx(ue,{title:"Spheres with Group Structure",children:i.jsxs("p",{children:["S does ",i.jsx("em",{children:"not"})," have a continuous group structure. In fact, S and S are the ",i.jsx("em",{children:"only"})," spheres with continuous group structures on them."]})}),i.jsx("p",{children:"This is a deep result from topology. The group structure on S comes from complex multiplication, and the group structure on S comes from quaternion multiplication. There is no higher-dimensional analogue because the octonions (which would give S) are not associative."}),i.jsx("h3",{children:"Summary of Correspondences"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Algebraic Object"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Geometric Space"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Transformation Group"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Unit complex numbers"}),i.jsx("td",{className:"py-2",children:"S"}),i.jsx("td",{className:"py-2",children:"SO(2)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Unit quaternions"}),i.jsx("td",{className:"py-2",children:"S"}),i.jsx("td",{className:"py-2",children:"Spin(3)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Unit quaternion pairs q"}),i.jsx("td",{className:"py-2",children:"P"}),i.jsx("td",{className:"py-2",children:"SO(3)"})]})]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the map (r_) = cos  + i sin  from rotations of the plane to complex numbers satisfies (r_  r_) = (r_)(r_)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.2"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the product of two points (cos , sin ) and (cos , sin ) on S is (cos( + ), sin( + ))."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the map from unit quaternions to SO(3) is 2-to-1 but not 1-to-1."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that P can be viewed as a solid ball with antipodal boundary points identified."})]}),i.jsx(Re,{sectionId:55,questions:$e[55]||[],title:"The Groups S and P Quiz"})]})}function oK(){return i.jsxs(qe,{sectionId:56,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:'The word "geometry" comes from the Greek for "earth measurement," and legend has it that the subject grew from the land measurement concerns of farmers whose land was periodically flooded by the river Nile. As recently as the 18th century, one finds carpenters and other artisans listed among the subscribers to geometry books.'}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Practical Origins:"}),' There is no doubt that Euclidean geometry is the geometry of down-to-earth measurement. It continues to be a tactile subject today, when one talks about "translating," "rotating," and "moving objects rigidly."']}),i.jsx("h3",{children:"Projective and Affine Geometry in Art"}),i.jsxs("p",{children:["The most ",i.jsx("em",{children:"visual"})," branch of geometry is projective geometry, because it is more concerned with how objects look than with what they actually are. It is no surprise that projective geometry originated from the concerns of artists, and that many of its practitioners today work in the fields of video games and computer graphics."]}),i.jsx("p",{children:"Affine geometry occupies a position in the middle. It also originates from an artistic tradition, but from one less radical than that of Renaissance Italy  the classical art of China and Japan."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Affine Perspective in Asian Art"}),i.jsx("p",{className:"text-slate-300",children:'Chinese and Japanese drawings often adopt unusual viewpoints, where one might expect perspective, but they generally preserve parallels. Typically, the picture is a "projection from infinity," which is an affine map. All parallel lines are shown as parallel, creating a certain "flatness" because all parts of the picture seem to be the same distance away  mathematically, they are.'})]}),i.jsx("p",{children:'Affine maps are also popular in engineering drawing, where the so-called "axonometric projection" is often used to depict an object in three dimensions while retaining correct proportions in a given direction.'}),i.jsx("h3",{children:"The Fourth Dimension"}),i.jsx("p",{children:"The discovery of quaternions in 1843 was the first of a series of discoveries that drew attention to spaces of more than three dimensions and to the remarkable properties of  in particular."}),i.jsx(xe,{title:"Hamilton's Quest",children:i.jsx("p",{children:'From around 1830, the Irish mathematician William Rowan Hamilton had been searching in vain for "n-dimensional number systems" analogous to the real numbers  and the complex numbers . He thought that  could also be viewed as a number system by some clever choice of multiplication rule.'})}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Impossibility:"})," We now know that such a system is impossible in any  with n  3 that satisfies all field axioms. But, luckily for Hamilton, it is ",i.jsx("em",{children:"almost"})," possible in . The quaternions satisfy all the field axioms except commutative multiplication, and their absolute value is multiplicative."]}),i.jsx("h3",{children:"The Role of Quaternions and Octonions"}),i.jsxs("p",{children:["The only other  that comes close is , where the ",i.jsx("strong",{children:"octonions"}),"satisfy all the field properties except the commutative and associative laws."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Number Systems by Dimension"}),i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2",children:"Dimension"}),i.jsx("th",{className:"text-left py-2",children:"System"}),i.jsx("th",{className:"text-left py-2",children:"Properties Lost"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Real numbers "}),i.jsx("td",{className:"py-2",children:"None (full field)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Complex numbers "}),i.jsx("td",{className:"py-2",children:"Ordering"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Quaternions "}),i.jsx("td",{className:"py-2",children:"Commutativity"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Octonions "}),i.jsx("td",{className:"py-2",children:"Commutativity, Associativity"})]})]})]})]}),i.jsx("h3",{children:"Regular Polytopes and Symmetry"}),i.jsx("p",{children:"Hamilton knew that quaternions give a nice representation of rotations in , but the first to work out the quaternions for the symmetries of regular polyhedra was Cayley in 1863."}),i.jsx("p",{children:"The five regular polyhedra actually exhibit only three types of symmetry:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Tetrahedron (12 rotations)"}),i.jsx("li",{children:"Cube and Octahedron (24 rotations  they are dual)"}),i.jsx("li",{children:"Dodecahedron and Icosahedron (60 rotations  they are dual)"})]})}),i.jsx(ue,{title:"Schlfli's Discovery",children:i.jsx("p",{children:"The Swiss geometer Ludwig Schlfli discovered in 1852 that there are six regular polytopes in . While analogues of the tetrahedron, cube, and octahedron exist in all dimensions,  and  are the only  containing other regular figures."})}),i.jsx("h3",{children:"The Exceptional Polytopes"}),i.jsx("p",{children:"The 24-cell is the simplest of the exceptional regular figures in . The other two are:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"The 120-cell:"})," Bounded by 120 regular dodecahedra, with 600 vertices"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"The 600-cell:"})," Bounded by 600 regular tetrahedra, with 120 vertices"]})]}),i.jsx("p",{className:"text-slate-300 mt-3",children:'The 120-cell and 600-cell are related "dually" like the dodecahedron and icosahedron. Moreover, the 600-cell arises from the icosahedron in the same way that the 24-cell arises from the tetrahedron.'})]}),i.jsx("h3",{children:"Summary: The Four Pillars"}),i.jsx("p",{children:"Throughout this chapter, we have seen how transformation groups provide a unifying framework for understanding geometry. Klein's Erlangen program showed that:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Klein's Vision"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Euclidean geometry"})," = invariants of the isometry group"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Affine geometry"})," = invariants of the affine group"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective geometry"})," = invariants of the projective group"]})]})]}),i.jsx("p",{children:"The four pillars of geometry  Euclidean constructions, coordinates, vectors, and projective methods  are all connected through the study of transformation groups. Each pillar offers a different perspective on the same underlying geometric reality."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Looking Ahead:"})," The next chapter explores non-Euclidean geometry, where the parallel axiom fails. This geometry arises naturally from the projective line and provides yet another example of how different transformation groups lead to different geometries."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain why affine maps preserve parallel lines but projective maps generally do not."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.2"}),i.jsx("p",{className:"text-slate-300",children:"Why do the cube and octahedron have the same rotation group?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.3"}),i.jsx("p",{className:"text-slate-300",children:'Explain why there is no "number system" on  with a multiplicative absolute value.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.4"}),i.jsx("p",{className:"text-slate-300",children:"Describe the relationship between the 600-cell and the rotation group of the icosahedron."})]}),i.jsx(Re,{sectionId:56,questions:$e[56]||[],title:"Discussion Quiz"})]})}function cK({className:t=""}){const e=q.useRef(null),[n,s]=q.useState([]),[r,a]=q.useState(!0),[l,o]=q.useState(!0),[c,h]=q.useState(null),u=500,m=350,p=50,b=u/2,E=m-30,y=(f,x)=>[b+f*p,E-x*p],T=(f,x)=>({x:(f-b)/p,y:(E-x)/p}),S=(f,x)=>{if(f.y<=0||x.y<=0)return null;if(Math.abs(f.x-x.x)<.001)return{type:"vertical",x:f.x};const C=(x.x*x.x+x.y*x.y-f.x*f.x-f.y*f.y)/(2*(x.x-f.x)),j=Math.sqrt((f.x-C)**2+f.y**2);return{type:"semicircle",center:C,radius:j}};q.useEffect(()=>{const f=e.current;if(!f)return;const x=f.getContext("2d");if(x){if(x.fillStyle="#0f172a",x.fillRect(0,0,u,m),r){x.strokeStyle="#1e293b",x.lineWidth=1;for(let C=-5;C<=5;C++){const[j]=y(C,0);x.beginPath(),x.moveTo(j,0),x.lineTo(j,E),x.stroke()}for(let C=1;C<=6;C++){const[,j]=y(0,C);x.beginPath(),x.moveTo(0,j),x.lineTo(u,j),x.stroke()}}if(x.strokeStyle="#475569",x.lineWidth=2,x.beginPath(),x.moveTo(0,E),x.lineTo(u,E),x.stroke(),x.fillStyle="#64748b",x.font="12px sans-serif",x.fillText("Boundary (at infinity)",10,E+20),l&&n.length===2){const C=S(n[0],n[1]);if(C)if(x.strokeStyle="#22d3ee",x.lineWidth=2,x.setLineDash([]),C.type==="vertical"){const[j]=y(C.x,0);x.beginPath(),x.moveTo(j,E),x.lineTo(j,0),x.stroke()}else{const[j]=y(C.center,0),g=C.radius*p;x.beginPath(),x.arc(j,E,g,Math.PI,0,!1),x.stroke()}}if(n.length===0){x.strokeStyle="#f472b6",x.lineWidth=1.5,x.setLineDash([5,5]);const[C]=y(-2,0);x.beginPath(),x.moveTo(C,E),x.lineTo(C,0),x.stroke(),x.strokeStyle="#a78bfa";for(let j=1;j<=3;j++){const g=-2+j*1.5,A=j*.8,[w]=y(g,0);x.beginPath(),x.arc(w,E,A*p,Math.PI,0,!1),x.stroke()}x.setLineDash([]),x.fillStyle="#e879f9",x.font="11px sans-serif",x.fillText('Multiple "parallels" to a line',10,20)}if(n.forEach((C,j)=>{const[g,A]=y(C.x,C.y);x.fillStyle=j===0?"#f472b6":"#22d3ee",x.beginPath(),x.arc(g,A,6,0,Math.PI*2),x.fill(),x.fillStyle="#e2e8f0",x.font="12px sans-serif",x.fillText(`P${j+1} (${C.x.toFixed(1)}, ${C.y.toFixed(1)})`,g+10,A-5)}),c&&c.y>0&&n.length<2){const[C,j]=y(c.x,c.y);x.strokeStyle="#94a3b8",x.lineWidth=1,x.setLineDash([3,3]),x.beginPath(),x.arc(C,j,6,0,Math.PI*2),x.stroke(),x.setLineDash([])}}},[n,r,l,c]);const N=f=>{var A;const x=(A=e.current)==null?void 0:A.getBoundingClientRect();if(!x)return;const C=f.clientX-x.left,j=f.clientY-x.top,g=T(C,j);g.y<=.1||n.length<2&&s([...n,{x:Math.round(g.x*10)/10,y:Math.round(g.y*10)/10}])},v=f=>{var A;const x=(A=e.current)==null?void 0:A.getBoundingClientRect();if(!x)return;const C=f.clientX-x.left,j=f.clientY-x.top,g=T(C,j);h(g)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Upper Half Plane Explorer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:m,className:"border border-slate-700 rounded cursor-crosshair",onClick:N,onMouseMove:v,onMouseLeave:()=>h(null)})}),i.jsxs("div",{className:"w-full md:w-48 space-y-3",children:[i.jsx("div",{className:"text-sm text-slate-300",children:i.jsx("p",{className:"mb-2",children:"Click to place points in the upper half plane. A geodesic (hyperbolic line) will connect them."})}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:r,onChange:f=>a(f.target.checked),className:"rounded"}),"Show grid"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:f=>o(f.target.checked),className:"rounded"}),"Show geodesic"]}),i.jsx("button",{onClick:()=>s([]),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Clear Points"}),n.length===2&&i.jsx("div",{className:"text-xs text-slate-400 p-2 bg-slate-800 rounded",children:(()=>{var x,C,j;const f=S(n[0],n[1]);return f?f.type==="vertical"?i.jsxs("span",{children:["Geodesic: Vertical line x = ",(x=f.x)==null?void 0:x.toFixed(2)]}):i.jsxs("span",{children:["Geodesic: Semicircle",i.jsx("br",{}),"Center: (",(C=f.center)==null?void 0:C.toFixed(2),", 0)",i.jsx("br",{}),"Radius: ",(j=f.radius)==null?void 0:j.toFixed(2)]}):null})()})]})]})]})}function hK({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("translation"),[r,a]=q.useState(1),[l,o]=q.useState(!1),[c,h]=q.useState(0),u=500,m=350,p=40,b=u/2,E=m-40,y=(f,x)=>[b+f*p,E-x*p],T=(f,x)=>{if(f.y<=0)return null;const C=r*x;switch(n){case"translation":return{x:f.x+C,y:f.y};case"scaling":const j=Math.exp(C);return{x:f.x*j,y:f.y*j};case"reflection":return{x:-f.x*x+f.x*(1-x),y:f.y};case"inversion":const g=f.x*f.x+f.y*f.y;if(g<.01)return null;const A=f.x/g,w=f.y/g;return{x:f.x*(1-x)+A*x,y:f.y*(1-x)+w*x};default:return f}},S=()=>{const f=[];for(let x=-3;x<=3;x+=1.5)f.push({type:"vertical",x});for(let x=-2;x<=2;x+=2)for(let C=1;C<=3;C+=1)f.push({type:"semicircle",center:x,radius:C});return f};q.useEffect(()=>{const f=e.current;if(!f)return;const x=f.getContext("2d");if(!x)return;if(x.fillStyle="#0f172a",x.fillRect(0,0,u,m),x.strokeStyle="#475569",x.lineWidth=2,x.beginPath(),x.moveTo(0,E),x.lineTo(u,E),x.stroke(),n==="inversion"){x.strokeStyle="#fbbf24",x.lineWidth=1,x.setLineDash([4,4]);const[M,I]=y(0,0);x.beginPath(),x.arc(M,I,p,0,Math.PI,!0),x.stroke(),x.setLineDash([]),x.fillStyle="#fbbf24",x.font="10px sans-serif",x.fillText("unit circle",M+p+5,I-5)}const C=c,j=S();x.lineWidth=1.5,j.forEach((M,I)=>{if(x.strokeStyle="rgba(148, 163, 184, 0.3)",M.type==="vertical"){const[O]=y(M.x,0);x.beginPath(),x.moveTo(O,E),x.lineTo(O,0),x.stroke()}else{const[O]=y(M.center,0);x.beginPath(),x.arc(O,E,M.radius*p,Math.PI,0,!1),x.stroke()}if(x.strokeStyle=I%2===0?"#22d3ee":"#a78bfa",x.beginPath(),M.type==="vertical")for(let O=.1;O<=6;O+=.1){const $=T({x:M.x,y:O},C);if(!$||$.y<=0)continue;const[G,V]=y($.x,$.y);O===.1?x.moveTo(G,V):x.lineTo(G,V)}else for(let O=Math.PI;O>=0;O-=.05){const $=M.center+M.radius*Math.cos(O),G=M.radius*Math.sin(O),V=T({x:$,y:G},C);if(!V||V.y<=0)continue;const[J,ee]=y(V.x,V.y);O===Math.PI?x.moveTo(J,ee):x.lineTo(J,ee)}x.stroke()});const g={x:1,y:2},[A,w]=y(g.x,g.y);x.fillStyle="rgba(244, 114, 182, 0.5)",x.beginPath(),x.arc(A,w,5,0,Math.PI*2),x.fill();const k=T(g,C);if(k&&k.y>0){const[M,I]=y(k.x,k.y);x.fillStyle="#f472b6",x.beginPath(),x.arc(M,I,6,0,Math.PI*2),x.fill(),x.strokeStyle="#f472b6",x.setLineDash([3,3]),x.beginPath(),x.moveTo(A,w),x.lineTo(M,I),x.stroke(),x.setLineDash([])}},[n,r,c]),q.useEffect(()=>{if(!l)return;let f,x=null;const C=2e3,j=g=>{x||(x=g);const A=g-x,w=Math.min(A/C,1),k=w<.5?2*w*w:1-Math.pow(-2*w+2,2)/2;h(k),w<1?f=requestAnimationFrame(j):o(!1)};return f=requestAnimationFrame(j),()=>cancelAnimationFrame(f)},[l]);const N=()=>{h(0),o(!0)},v=()=>{switch(n){case"translation":return`z  z + ${r.toFixed(1)}`;case"scaling":return`z  ${Math.exp(r).toFixed(2)}z`;case"reflection":return"z  -z";case"inversion":return"z  1/z"}};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Mbius Transformation Demo"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:m,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Transform Type"}),i.jsxs("select",{value:n,onChange:f=>{s(f.target.value),h(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"translation",children:"Translation (z  z + l)"}),i.jsx("option",{value:"scaling",children:"Scaling (z  kz)"}),i.jsx("option",{value:"reflection",children:"Reflection (z  -z)"}),i.jsx("option",{value:"inversion",children:"Inversion (z  1/z)"})]})]}),(n==="translation"||n==="scaling")&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Parameter: ",n==="translation"?r.toFixed(1):Math.exp(r).toFixed(2)]}),i.jsx("input",{type:"range",min:n==="translation"?-3:-1,max:n==="translation"?3:1,step:"0.1",value:r,onChange:f=>a(parseFloat(f.target.value)),className:"w-full"})]}),i.jsx("button",{onClick:N,disabled:l,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 text-white rounded text-sm font-medium",children:l?"Animating...":"Animate Transform"}),i.jsx("div",{className:"p-2 bg-slate-800 rounded text-center",children:i.jsx("span",{className:"text-cyan-400 font-mono text-lg",children:v()})}),i.jsx("div",{className:"text-xs text-slate-400",children:i.jsx("p",{children:"Watch how geodesics (hyperbolic lines) map to geodesics under Mbius transformations."})})]})]})]})}function uK({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:0,y:1}),[r,a]=q.useState({x:0,y:3}),[l,o]=q.useState(null),c=450,h=400,u=50,m=c/2,p=h-50,b=(j,g)=>[m+j*u,p-g*u],E=(j,g)=>({x:(j-m)/u,y:(p-g)/u}),y=(j,g)=>Math.sqrt((g.x-j.x)**2+(g.y-j.y)**2),T=(j,g)=>{if(j.y<=0||g.y<=0)return 1/0;if(Math.abs(j.x-g.x)<.001)return Math.abs(Math.log(g.y/j.y));const A=(g.x*g.x+g.y*g.y-j.x*j.x-j.y*j.y)/(2*(g.x-j.x)),w=Math.sqrt((j.x-A)**2+j.y**2),k=A-w,M=A+w,I=Math.sqrt((j.x-k)**2+j.y**2),O=Math.sqrt((g.x-M)**2+g.y**2),$=Math.sqrt((j.x-M)**2+j.y**2),G=Math.sqrt((g.x-k)**2+g.y**2),V=I*O/($*G);return Math.abs(Math.log(V))},S=(j,g,A,w)=>{if(j.strokeStyle=w,j.lineWidth=1,j.setLineDash([3,3]),Math.abs(g.x)<.001){const k=g.y*Math.cosh(A),M=g.y*Math.sinh(A),[I,O]=b(0,k);j.beginPath(),j.arc(I,O,M*u,0,Math.PI*2),j.stroke()}j.setLineDash([])};q.useEffect(()=>{const j=e.current;if(!j)return;const g=j.getContext("2d");if(!g)return;g.fillStyle="#0f172a",g.fillRect(0,0,c,h),g.strokeStyle="#1e293b",g.lineWidth=1;for(let G=-4;G<=4;G++){const[V]=b(G,0);g.beginPath(),g.moveTo(V,0),g.lineTo(V,p),g.stroke()}for(let G=1;G<=7;G++){const[,V]=b(0,G);g.beginPath(),g.moveTo(0,V),g.lineTo(c,V),g.stroke()}if(g.strokeStyle="#475569",g.lineWidth=2,g.beginPath(),g.moveTo(0,p),g.lineTo(c,p),g.stroke(),g.strokeStyle="#22d3ee",g.lineWidth=2,Math.abs(n.x-r.x)<.001){const[G]=b(n.x,0);g.beginPath(),g.moveTo(G,p),g.lineTo(G,0),g.stroke()}else{const G=(r.x*r.x+r.y*r.y-n.x*n.x-n.y*n.y)/(2*(r.x-n.x)),V=Math.sqrt((n.x-G)**2+n.y**2),[J]=b(G,0);g.beginPath(),g.arc(J,p,V*u,Math.PI,0,!1),g.stroke()}const A=y(n,r);g.strokeStyle="rgba(244, 114, 182, 0.4)",g.lineWidth=1,g.setLineDash([5,5]);const[w,k]=b(n.x,n.y);if(g.beginPath(),g.arc(w,k,A*u,0,Math.PI*2),g.stroke(),g.setLineDash([]),Math.abs(n.x)<.001&&n.y>0){const G=T(n,r);S(g,n,G,"rgba(34, 211, 238, 0.4)")}const[M,I]=b(n.x,n.y),[O,$]=b(r.x,r.y);g.fillStyle="#f472b6",g.beginPath(),g.arc(M,I,8,0,Math.PI*2),g.fill(),g.fillStyle="#fce7f3",g.font="bold 12px sans-serif",g.fillText("P",M-4,I+4),g.fillStyle="#22d3ee",g.beginPath(),g.arc(O,$,8,0,Math.PI*2),g.fill(),g.fillStyle="#cffafe",g.font="bold 12px sans-serif",g.fillText("Q",O-4,$+4),g.fillStyle="#94a3b8",g.font="11px sans-serif",g.fillText("Drag points to explore",10,20)},[n,r]);const N=j=>{var $;const g=($=e.current)==null?void 0:$.getBoundingClientRect();if(!g)return;const A=j.clientX-g.left,w=j.clientY-g.top,[k,M]=b(n.x,n.y),[I,O]=b(r.x,r.y);Math.hypot(A-k,w-M)<15?o(1):Math.hypot(A-I,w-O)<15&&o(2)},v=j=>{var M;if(!l)return;const g=(M=e.current)==null?void 0:M.getBoundingClientRect();if(!g)return;const A=j.clientX-g.left,w=j.clientY-g.top,k=E(A,w);k.y<.2&&(k.y=.2),k.y>6.5&&(k.y=6.5),k.x<-4&&(k.x=-4),k.x>4&&(k.x=4),l===1?s({x:Math.round(k.x*20)/20,y:Math.round(k.y*20)/20}):a({x:Math.round(k.x*20)/20,y:Math.round(k.y*20)/20})},f=()=>{o(null)},x=y(n,r),C=T(n,r);return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Hyperbolic vs Euclidean Distance"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-grab",onMouseDown:N,onMouseMove:v,onMouseUp:f,onMouseLeave:f})}),i.jsxs("div",{className:"w-full md:w-52 space-y-4",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-pink-400",children:"P:"}),i.jsxs("span",{className:"text-slate-300 font-mono",children:["(",n.x.toFixed(2),", ",n.y.toFixed(2),")"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-cyan-400",children:"Q:"}),i.jsxs("span",{className:"text-slate-300 font-mono",children:["(",r.x.toFixed(2),", ",r.y.toFixed(2),")"]})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Euclidean Distance"}),i.jsx("div",{className:"text-xl font-mono text-pink-400",children:x.toFixed(3)}),i.jsx("div",{className:"w-full h-2 bg-slate-700 rounded mt-1",children:i.jsx("div",{className:"h-full bg-pink-500 rounded",style:{width:`${Math.min(x/6*100,100)}%`}})})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Hyperbolic Distance"}),i.jsx("div",{className:"text-xl font-mono text-cyan-400",children:C===1/0?"":C.toFixed(3)}),i.jsx("div",{className:"w-full h-2 bg-slate-700 rounded mt-1",children:i.jsx("div",{className:"h-full bg-cyan-500 rounded",style:{width:`${Math.min(C/4*100,100)}%`}})})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("span",{className:"text-pink-400",children:"Pink circle:"})," Euclidean equidistant"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan curve:"})," Hyperbolic equidistant"]})]}),i.jsx("button",{onClick:()=>{s({x:0,y:1}),a({x:0,y:3})},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset Points"})]})]})]})}function dK({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("hyperbolic"),[r,a]=q.useState(0),[l,o]=q.useState(!0),c=500,h=380,u=45,m=c/2,p=h-50,b=(S,N)=>[m+S*u,p-N*u],E=(S,N)=>{if(S.y<=0)return null;switch(n){case"hyperbolic":{const v=Math.exp(N);return{x:S.x*v,y:S.y*v}}case"elliptic":{const v=N,f=Math.cos(v),x=Math.sin(v),C={re:S.x,im:S.y},j={re:C.re*f-x,im:C.im*f},g={re:C.re*x+f,im:C.im*x},A=g.re*g.re+g.im*g.im;return A<.001?null:{x:(j.re*g.re+j.im*g.im)/A,y:(j.im*g.re-j.re*g.im)/A}}case"parabolic":return{x:S.x+N,y:S.y};default:return S}},y=(S,N)=>{const v=[],f=n==="elliptic"?Math.PI*2/N:2/N;for(let x=0;x<=N;x++){let C;switch(n){case"hyperbolic":C=(x/N-.5)*3;break;case"elliptic":C=x*f;break;case"parabolic":C=(x/N-.5)*6;break;default:C=0}const j=E(S,C);j&&j.y>0&&v.push(j)}return v};q.useEffect(()=>{const S=e.current;if(!S)return;const N=S.getContext("2d");if(!N)return;N.fillStyle="#0f172a",N.fillRect(0,0,c,h),N.strokeStyle="#1e293b",N.lineWidth=1;for(let C=-5;C<=5;C++){const[j]=b(C,0);N.beginPath(),N.moveTo(j,0),N.lineTo(j,p),N.stroke()}for(let C=1;C<=7;C++){const[,j]=b(0,C);N.beginPath(),N.moveTo(0,j),N.lineTo(c,j),N.stroke()}switch(N.strokeStyle="#475569",N.lineWidth=2,N.beginPath(),N.moveTo(0,p),N.lineTo(c,p),N.stroke(),N.setLineDash([4,4]),N.lineWidth=1.5,n){case"hyperbolic":N.strokeStyle="#fbbf24";const[C]=b(0,0);N.beginPath(),N.moveTo(C,p),N.lineTo(C,0),N.stroke(),N.fillStyle="#fbbf24",N.beginPath(),N.arc(C,p,5,0,Math.PI*2),N.fill(),N.font="11px sans-serif",N.fillText("Fixed: 0",C+10,p-5),N.fillText("Fixed: ",C+10,15);break;case"elliptic":N.strokeStyle="#fbbf24";const[j,g]=b(0,1);N.beginPath(),N.arc(j,g,8,0,Math.PI*2),N.stroke(),N.fillStyle="#fbbf24",N.font="11px sans-serif",N.fillText("Center: i",j+12,g);break;case"parabolic":N.strokeStyle="#fbbf24",N.fillStyle="#fbbf24",N.font="11px sans-serif",N.fillText("Fixed:  only",10,15),N.strokeStyle="rgba(251, 191, 36, 0.3)";for(let A=1;A<=4;A++){const[,w]=b(0,A);N.beginPath(),N.moveTo(0,w),N.lineTo(c,w),N.stroke()}break}N.setLineDash([]);const v=[{x:1,y:1.5},{x:-1.5,y:2},{x:.5,y:3},{x:-.5,y:1}],f=["#f472b6","#22d3ee","#a78bfa","#34d399"];v.forEach((C,j)=>{if(l){const k=y(C,100);k.length>1&&(N.strokeStyle=f[j],N.lineWidth=1.5,N.globalAlpha=.6,N.beginPath(),k.forEach((M,I)=>{const[O,$]=b(M.x,M.y);I===0?N.moveTo(O,$):N.lineTo(O,$)}),N.stroke(),N.globalAlpha=1)}const[g,A]=b(C.x,C.y);N.fillStyle=f[j],N.globalAlpha=.3,N.beginPath(),N.arc(g,A,5,0,Math.PI*2),N.fill(),N.globalAlpha=1;const w=E(C,r);if(w&&w.y>0){const[k,M]=b(w.x,w.y);N.fillStyle=f[j],N.beginPath(),N.arc(k,M,7,0,Math.PI*2),N.fill()}}),N.fillStyle="#e2e8f0",N.font="12px sans-serif";const x={hyperbolic:"Hyperbolic Translation",elliptic:"Elliptic Rotation",parabolic:"Parabolic (Limit Rotation)"};N.fillText(x[n],10,h-15)},[n,r,l]);const T=()=>{switch(n){case"hyperbolic":return`Scale: e^${r.toFixed(2)} = ${Math.exp(r).toFixed(2)}`;case"elliptic":return`Angle: ${(r*180/Math.PI).toFixed(0)}`;case"parabolic":return`Shift: ${r.toFixed(2)}`}};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Hyperbolic Isometries Demo"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Isometry Type"}),i.jsxs("select",{value:n,onChange:S=>{s(S.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"hyperbolic",children:"Hyperbolic (2 fixed pts on boundary)"}),i.jsx("option",{value:"elliptic",children:"Elliptic (1 fixed pt interior)"}),i.jsx("option",{value:"parabolic",children:"Parabolic (1 fixed pt on boundary)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:T()}),i.jsx("input",{type:"range",min:n==="elliptic"?0:-2,max:n==="elliptic"?Math.PI*2:2,step:"0.05",value:r,onChange:S=>a(parseFloat(S.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:S=>o(S.target.checked),className:"rounded"}),"Show orbit paths"]}),i.jsx("button",{onClick:()=>a(0),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset Parameter"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{className:"text-yellow-400",children:"Yellow:"})," Fixed points/axis"]}),i.jsxs("p",{children:[i.jsx("strong",{className:"text-pink-400",children:"Colored dots:"})," Sample points"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Faded:"})," Original position"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Solid:"})," Current position"]})]})]})]})]})}function mK({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("translate"),[r,a]=q.useState(2),[l,o]=q.useState(2),[c,h]=q.useState(1),[u,m]=q.useState(0),[p,b]=q.useState(0),[E,y]=q.useState(1),T=600,S=350,N=(C,j)=>[C[0]+j[0],C[1]+j[1]],v=(C,j)=>[C[0]*j[0]-C[1]*j[1],C[0]*j[1]+C[1]*j[0]],f=(C,j)=>{const g=j[0]*j[0]+j[1]*j[1];return g<1e-4?null:[(C[0]*j[0]+C[1]*j[1])/g,(C[1]*j[0]-C[0]*j[1])/g]},x=C=>{let j,g,A,w;switch(n){case"translate":j=[1,0],g=[r,0],A=[0,0],w=[1,0];break;case"scale":j=[l,0],g=[0,0],A=[0,0],w=[1,0];break;case"invert":j=[0,0],g=[1,0],A=[1,0],w=[0,0];break;case"custom":j=[c,0],g=[u,0],A=[p,0],w=[E,0];break}const k=N(v(j,C),g),M=N(v(A,C),w);return f(k,M)};return q.useEffect(()=>{const C=e.current;if(!C)return;const j=C.getContext("2d");if(!j)return;j.fillStyle="#0f172a",j.fillRect(0,0,T,S);const g=T/2,A=60,w=S-50,k=$=>g+$*A,M=$=>w-$*A;j.strokeStyle="#475569",j.lineWidth=3,j.beginPath(),j.moveTo(0,w),j.lineTo(T,w),j.stroke(),j.fillStyle="#94a3b8",j.font="12px sans-serif",j.fillText(" (boundary)",10,w+20),j.strokeStyle="#1e293b",j.lineWidth=1;for(let $=-5;$<=5;$++)j.beginPath(),j.moveTo(k($),0),j.lineTo(k($),w),j.stroke();for(let $=0;$<=5;$++)j.beginPath(),j.moveTo(0,M($)),j.lineTo(T,M($)),j.stroke();const I=[{type:"vertical",x:0,color:"#60a5fa"},{type:"semicircle",center:0,radius:1,color:"#22c55e"},{type:"vertical",x:1.5,color:"#f59e0b"},{type:"semicircle",center:2,radius:1.5,color:"#ec4899"}];I.forEach($=>{j.strokeStyle=$.color,j.lineWidth=2,j.setLineDash([4,4]),$.type==="vertical"&&$.x!==void 0?(j.beginPath(),j.moveTo(k($.x),w),j.lineTo(k($.x),10),j.stroke()):$.type==="semicircle"&&$.center!==void 0&&$.radius!==void 0&&(j.beginPath(),j.arc(k($.center),w,$.radius*A,Math.PI,0),j.stroke())}),j.setLineDash([]),I.forEach($=>{if(j.strokeStyle=$.color,j.lineWidth=3,$.type==="vertical"&&$.x!==void 0){j.beginPath();let G=!1;for(let V=.05;V<=5;V+=.1){const J=[$.x,V],ee=x(J);if(ee&&ee[1]>0&&Math.abs(ee[0])<8&&ee[1]<8){const re=k(ee[0]),se=M(ee[1]);G?j.lineTo(re,se):(j.moveTo(re,se),G=!0)}}j.stroke()}else if($.type==="semicircle"&&$.center!==void 0&&$.radius!==void 0){j.beginPath();let G=!1;for(let V=.05;V<=Math.PI-.05;V+=.05){const J=$.center+$.radius*Math.cos(V),ee=$.radius*Math.sin(V),se=x([J,ee]);if(se&&se[1]>0&&Math.abs(se[0])<8&&se[1]<8){const he=k(se[0]),ae=M(se[1]);G?j.lineTo(he,ae):(j.moveTo(he,ae),G=!0)}}j.stroke()}}),j.fillStyle="#c084fc",j.font="11px sans-serif",j.fillText("All lines meet boundary at 90",10,30),j.fillStyle="#e2e8f0",j.font="bold 14px sans-serif";let O="";switch(n){case"translate":O=`f(z) = z + ${r}`;break;case"scale":O=`f(z) = ${l}z`;break;case"invert":O="f(z) = 1/z";break;case"custom":O=`f(z) = (${c}z + ${u})/(${p}z + ${E})`;break}j.fillText(O,T-200,30),j.font="11px sans-serif",j.setLineDash([4,4]),j.strokeStyle="#60a5fa",j.beginPath(),j.moveTo(T-150,55),j.lineTo(T-110,55),j.stroke(),j.setLineDash([]),j.strokeStyle="#60a5fa",j.lineWidth=3,j.beginPath(),j.moveTo(T-150,75),j.lineTo(T-110,75),j.stroke(),j.fillStyle="#94a3b8",j.fillText("Original",T-100,58),j.fillText("Transformed",T-100,78)},[n,r,l,c,u,p,E]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Mbius Transformations Preserve Non-Euclidean Lines"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:T,height:S,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["translate","scale","invert","custom"].map(C=>i.jsx("button",{onClick:()=>s(C),className:`px-3 py-2 text-sm rounded transition ${n===C?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:C==="translate"?"Translate (z+l)":C==="scale"?"Scale (kz)":C==="invert"?"Invert (1/z)":"Custom"},C))}),n==="translate"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Translation: l = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:r,onChange:C=>a(parseFloat(C.target.value)),className:"w-full"})]}),n==="scale"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Scale factor: k = ",l]}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.25",value:l,onChange:C=>o(parseFloat(C.target.value)),className:"w-full"})]}),n==="custom"&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",c]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:c,onChange:C=>h(parseFloat(C.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",u]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:u,onChange:C=>m(parseFloat(C.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",p]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:p,onChange:C=>b(parseFloat(C.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",E]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:E,onChange:C=>y(parseFloat(C.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Points:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["Non-Euclidean lines are ",i.jsx("span",{className:"text-purple-400",children:"vertical rays"})," or ",i.jsx("span",{className:"text-purple-400",children:"semicircles"})," meeting  at 90"]}),i.jsxs("li",{children:["Mbius transformations preserve ",i.jsx("span",{className:"text-green-400",children:"generalized circles"})," (lines and circles)"]}),i.jsxs("li",{children:["Since they preserve ",i.jsx("span",{className:"text-amber-400",children:"angles"}),", the 90 property is maintained"]}),i.jsx("li",{children:"Vertical lines may become semicircles (and vice versa) but stay non-Euclidean lines"})]})]})]})}function fK({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(1),[r,a]=q.useState(1),[l,o]=q.useState(0),[c,h]=q.useState(1),[u,m]=q.useState(0),[p,b]=q.useState(90),E=600,y=380,T=(g,A)=>[g[0]+A[0],g[1]+A[1]],S=(g,A)=>[g[0]*A[0]-g[1]*A[1],g[0]*A[1]+g[1]*A[0]],N=(g,A)=>{const w=A[0]*A[0]+A[1]*A[1];return w<1e-4?null:[(g[0]*A[0]+g[1]*A[1])/w,(g[1]*A[0]-g[0]*A[1])/w]},v=g=>Math.sqrt(g[0]*g[0]+g[1]*g[1]),f=g=>{const A=[n,0],w=[r,0],k=[l,0],M=[c,0],I=T(S(A,g),w),O=T(S(k,g),M);return N(I,O)},x=g=>{const A=n*c-r*l,w=[l,0],k=[c,0],M=T(S(w,g),k),I=S(M,M);return v(I)<1e-4?null:N([A,0],I)},C=n*c-r*l,j=Math.abs(C)>.01;return q.useEffect(()=>{const g=e.current;if(!g)return;const A=g.getContext("2d");if(!A)return;A.fillStyle="#0f172a",A.fillRect(0,0,E,y);const w=E/4,k=3*E/4,M=y/2,I=50;A.strokeStyle="#334155",A.lineWidth=2,A.setLineDash([5,5]),A.beginPath(),A.moveTo(E/2,0),A.lineTo(E/2,y),A.stroke(),A.setLineDash([]),A.fillStyle="#e2e8f0",A.font="bold 14px sans-serif",A.fillText("Original (z-plane)",w-60,25),A.fillText("Transformed (w-plane)",k-75,25);const O=ae=>{A.strokeStyle="#1e293b",A.lineWidth=1;for(let Ne=-3;Ne<=3;Ne++)A.beginPath(),A.moveTo(ae+Ne*I,M-3*I),A.lineTo(ae+Ne*I,M+3*I),A.stroke();for(let Ne=-3;Ne<=3;Ne++)A.beginPath(),A.moveTo(ae-3*I,M-Ne*I),A.lineTo(ae+3*I,M-Ne*I),A.stroke();A.strokeStyle="#475569",A.lineWidth=2,A.beginPath(),A.moveTo(ae-3*I,M),A.lineTo(ae+3*I,M),A.stroke(),A.beginPath(),A.moveTo(ae,M-3*I),A.lineTo(ae,M+3*I),A.stroke()};O(w),O(k);const $=[1,1.5],G=u*Math.PI/180,V=p*Math.PI/180,J=[],ee=[];for(let ae=-2;ae<=2;ae+=.1){const Ne=[$[0]+ae*Math.cos(G),$[1]+ae*Math.sin(G)],Te=[$[0]+ae*Math.cos(V),$[1]+ae*Math.sin(V)];J.push(Ne),ee.push(Te)}const re=(ae,Ne,Te,tt)=>{A.strokeStyle=Ne,A.lineWidth=2,A.beginPath();let Me=!1;ae.forEach(Ae=>{let Ue=tt?f(Ae):Ae;if(Ue&&Math.abs(Ue[0])<5&&Math.abs(Ue[1])<5){const Oe=Te+Ue[0]*I,at=M-Ue[1]*I;Me?A.lineTo(Oe,at):(A.moveTo(Oe,at),Me=!0)}else Me&&(A.stroke(),A.beginPath(),Me=!1)}),A.stroke()};if(re(J,"#60a5fa",w,!1),re(ee,"#22c55e",w,!1),j&&(re(J,"#60a5fa",k,!0),re(ee,"#22c55e",k,!0)),A.fillStyle="#f59e0b",A.beginPath(),A.arc(w+$[0]*I,M-$[1]*I,6,0,Math.PI*2),A.fill(),j){const ae=f($);ae&&Math.abs(ae[0])<5&&Math.abs(ae[1])<5&&(A.fillStyle="#f59e0b",A.beginPath(),A.arc(k+ae[0]*I,M-ae[1]*I,6,0,Math.PI*2),A.fill())}const se=25,he=Math.abs(p-u);if(A.strokeStyle="#ec4899",A.lineWidth=2,A.beginPath(),A.arc(w+$[0]*I,M-$[1]*I,se,-V,-G,p>u),A.stroke(),A.fillStyle="#ec4899",A.font="12px sans-serif",A.fillText(` = ${he}`,w+$[0]*I+30,M-$[1]*I-10),j){const ae=f($);if(ae&&Math.abs(ae[0])<5&&Math.abs(ae[1])<5){const Ne=x($);if(Ne){const Te=Math.atan2(Ne[1],Ne[0]),tt=G+Te,Me=V+Te;A.strokeStyle="#ec4899",A.lineWidth=2,A.beginPath(),A.arc(k+ae[0]*I,M-ae[1]*I,se,-Me,-tt,p>u),A.stroke(),A.fillStyle="#ec4899",A.fillText(` = ${he}`,k+ae[0]*I+30,M-ae[1]*I-10)}}}A.fillStyle="#c084fc",A.font="12px sans-serif",A.fillText(`f(z) = (${n}z + ${r})/(${l}z + ${c})`,E/2-100,y-15),A.fillStyle=j?"#22c55e":"#ef4444",A.font="11px sans-serif",A.fillText(j?" Conformal (angle-preserving)":" det = 0 (degenerate)",10,y-15)},[n,r,l,c,u,p,j]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Conformality: Angle Preservation"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:E,height:y,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Curve 1 angle: ",u,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:u,onChange:g=>m(parseInt(g.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["Curve 2 angle: ",p,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:p,onChange:g=>b(parseInt(g.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",n]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:n,onChange:g=>s(parseFloat(g.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",r]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:r,onChange:g=>a(parseFloat(g.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:l,onChange:g=>o(parseFloat(g.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",c]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:c,onChange:g=>h(parseFloat(g.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{s(1),a(1),o(0),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Translation"}),i.jsx("button",{onClick:()=>{s(2),a(0),o(0),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Scaling"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(1),h(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Inversion"}),i.jsx("button",{onClick:()=>{s(1),a(1),o(1),h(2)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"General"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-purple-400",children:"Conformal"})," = angle-preserving at each point"]}),i.jsx("li",{children:"Mbius transformations preserve angles because f'(z)  0"}),i.jsxs("li",{children:["The angle ",i.jsx("span",{className:"text-pink-400",children:""})," between curves is the same before and after"]}),i.jsxs("li",{children:["Distances and areas change, but ",i.jsx("span",{className:"text-green-400",children:"angles are preserved"})]}),i.jsx("li",{children:"This is why non-Euclidean lines (90 to boundary) map to non-Euclidean lines"})]})]})]})}function pK(){return i.jsxs(qe,{sectionId:57,children:[i.jsx("h2",{children:"Extending the Projective Line to a Plane"}),i.jsxs("p",{children:['In Section 5.4 we saw how the real projective line P extends the ordinary real number line  by adding a "point at infinity." The points of P can be viewed as slopes, and the extra point  is the "infinite slope" of a vertical line. For reasons that will become clear, we now extend  in a different direction  into the ',i.jsx("strong",{children:"upper half plane"}),"."]}),i.jsx("h3",{children:"The Upper Half Plane"}),i.jsxs(xe,{title:"Upper Half Plane",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"upper half plane"})," consists of all complex numbers z = x + iy with y > 0:"]}),i.jsx(Y,{children:"\\mathcal{H} = \\{z = x + iy \\in \\mathbb{C} : y > 0\\}"}),i.jsxs("p",{className:"mt-2",children:["The boundary of  is the real axis  together with the point . We denote this extended boundary by   ","{","","}"," = P."]})]}),i.jsx("p",{children:"We already know that the transformations of P are the linear fractional functions. These extend naturally to the upper half plane."}),i.jsxs(xe,{title:"Linear Fractional Transformations",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"linear fractional transformation"})," (or Mbius transformation) is a function of the form:"]}),i.jsx(Y,{children:"f(z) = \\frac{az + b}{cz + d}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real numbers with ad - bc  0. When ad - bc > 0, these transformations map the upper half plane to itself."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"From Line to Plane:"})," The remarkable fact is that the transformations of P extend to transformations of the upper half plane, and this extension reveals a beautiful non-Euclidean geometry."]}),i.jsx("h3",{children:"Non-Euclidean Lines"}),i.jsx("p",{children:'The key to non-Euclidean geometry in the upper half plane is the definition of "lines." These are not ordinary straight lines, but rather special curves that play the role of geodesics.'}),i.jsxs(xe,{title:"Non-Euclidean Lines",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"non-Euclidean line"})," (or hyperbolic line) in the upper half plane is one of the following:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"A vertical ray: x = c for some constant c, with y > 0"}),i.jsx("li",{children:"A semicircle with center on the x-axis (and y > 0 only)"})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Why These Curves?"}),i.jsx("p",{className:"text-slate-300",children:'Both vertical rays and semicircles with centers on the x-axis share an important property: they meet the x-axis at right angles. This orthogonality to the boundary is what makes them behave like "straight lines" in hyperbolic geometry.'})]}),i.jsx(cK,{className:"my-6"}),i.jsx("h3",{children:"Uniqueness of Non-Euclidean Lines"}),i.jsx(ue,{title:"Unique Line Through Two Points",children:i.jsx("p",{children:"Given any two distinct points P and Q in the upper half plane, there is exactly one non-Euclidean line passing through both of them."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof Sketch"}),i.jsx("p",{className:"text-slate-300 mb-3",children:"Consider two cases:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"If P and Q have the same real part (lie on a vertical line), then the unique non-Euclidean line through them is that vertical ray."}),i.jsx("li",{children:"If P and Q have different real parts, there is a unique circle through them with center on the x-axis. The upper semicircle of this circle is the unique non-Euclidean line through P and Q."})]}),i.jsx("p",{className:"text-slate-300 mt-3",children:"The center of the circle is found by noting that it must be equidistant from P and Q, hence lies on the perpendicular bisector of segment PQ. The intersection of this bisector with the x-axis gives the center."})]}),i.jsx("h3",{children:"Failure of the Parallel Axiom"}),i.jsxs("p",{children:["The most striking feature of non-Euclidean geometry is that the parallel axiom fails. Given a non-Euclidean line L and a point P not on L, there are ",i.jsx("em",{children:"infinitely many"})," non-Euclidean lines through P that do not meet L."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: Multiple Parallels"}),i.jsx("p",{className:"text-slate-300 mb-3",children:"Let L be the vertical line x = 0 (the positive imaginary axis), and let P = 1 + i (the point at real part 1, imaginary part 1)."}),i.jsx("p",{className:"text-slate-300",children:"Any semicircle with center at c > 0 on the positive x-axis, passing through P but with radius less than c, will be a non-Euclidean line through P that never meets L. There are infinitely many such semicircles."})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Hyperbolic vs. Euclidean:"}),' In Euclidean geometry, given a line L and point P not on L, there is exactly one line through P parallel to L. In hyperbolic geometry, there are infinitely many such "parallel" lines. This is the defining characteristic of hyperbolic geometry.']}),i.jsx("h3",{children:"The Role of Linear Fractional Transformations"}),i.jsx("p",{children:"Linear fractional transformations with real coefficients and positive determinant (ad - bc > 0) preserve the upper half plane. Moreover, they map non-Euclidean lines to non-Euclidean lines."}),i.jsx(ue,{title:"Lines Preserved",children:i.jsx("p",{children:"If f(z) = (az + b)/(cz + d) with a, b, c, d   and ad - bc > 0, then f maps non-Euclidean lines in  to non-Euclidean lines in ."})}),i.jsx("p",{children:'This property means that linear fractional transformations play the role of "rigid motions" in hyperbolic geometry. They preserve the fundamental structure of the geometry, just as rotations and translations preserve structure in Euclidean geometry.'}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the non-Euclidean line through the points i and 2i (both on the imaginary axis)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the non-Euclidean line through the points i and 1 + i."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that any semicircle with center on the x-axis meets the x-axis at right angles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.4"}),i.jsx("p",{className:"text-slate-300",children:"Given the non-Euclidean line L that is the positive imaginary axis and the point P = 2 + i, find infinitely many non-Euclidean lines through P that do not meet L."})]}),i.jsx(Re,{sectionId:57,questions:$e[57]||[],title:"Extending the Projective Line Quiz"})]})}function xK(){return i.jsxs(qe,{sectionId:58,children:[i.jsx("h2",{children:"Complex Conjugation"}),i.jsxs("p",{children:["To understand the full group of transformations of the upper half plane, we need to introduce a fundamental operation on complex numbers:",i.jsx("strong",{children:" complex conjugation"}),". This operation will allow us to define reflections in non-Euclidean geometry."]}),i.jsx("h3",{children:"The Conjugate of a Complex Number"}),i.jsxs(xe,{title:"Complex Conjugate",children:[i.jsxs("p",{children:["If z = x + iy is a complex number (where x and y are real), then the",i.jsx("strong",{children:" complex conjugate"})," of z is:"]}),i.jsx(Y,{children:"\\bar{z} = x - iy"}),i.jsx("p",{className:"mt-2",children:"Geometrically, z is the reflection of z across the real axis."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Examples"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"If z = 3 + 4i, then z = 3 - 4i"}),i.jsx("li",{children:"If z = -2 + i, then z = -2 - i"}),i.jsx("li",{children:"If z = 5 (real), then z = 5"}),i.jsx("li",{children:"If z = 2i (pure imaginary), then z = -2i"})]})]}),i.jsx("h3",{children:"Properties of Complex Conjugation"}),i.jsxs(ue,{title:"Algebraic Properties",children:[i.jsx("p",{children:"Complex conjugation satisfies the following properties for any complex numbers z and w:"}),i.jsx(Y,{children:"\\overline{z + w} = \\bar{z} + \\bar{w}"}),i.jsx(Y,{children:"\\overline{z \\cdot w} = \\bar{z} \\cdot \\bar{w}"}),i.jsx(Y,{children:"\\overline{z / w} = \\bar{z} / \\bar{w} \\quad (w \\neq 0)"}),i.jsx(Y,{children:"\\overline{\\bar{z}} = z"})]}),i.jsx("p",{children:'The first three properties say that conjugation "respects" addition, multiplication, and division. The fourth says that conjugating twice returns the original number.'}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Automorphism:"})," These properties make complex conjugation an automorphism of the complex numbers  it preserves the algebraic structure while not being the identity map."]}),i.jsx("h3",{children:"Conjugation and Absolute Value"}),i.jsx("p",{children:"There is an important relationship between conjugation and the absolute value (modulus) of a complex number."}),i.jsxs(ue,{title:"Modulus via Conjugation",children:[i.jsx("p",{children:"For any complex number z = x + iy:"}),i.jsx(Y,{children:"z \\cdot \\bar{z} = |z|^2 = x^2 + y^2"}),i.jsx("p",{className:"mt-2",children:"This gives us a way to find |z| using conjugation, and also provides a formula for division:"}),i.jsx(Y,{children:"\\frac{1}{z} = \\frac{\\bar{z}}{|z|^2}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsx("p",{className:"text-slate-300",children:"If z = x + iy, then:"}),i.jsx(Y,{children:"z \\cdot \\bar{z} = (x + iy)(x - iy) = x^2 - (iy)^2 = x^2 - i^2y^2 = x^2 + y^2"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Since i = -1, the imaginary terms cancel, leaving a real number."})]}),i.jsx("h3",{children:"Extended Linear Fractional Transformations"}),i.jsx("p",{children:"Using complex conjugation, we can extend our family of transformations to include reflections."}),i.jsxs(xe,{title:"Extended Mbius Transformations",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"extended Mbius transformation"})," is either:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"A linear fractional transformation: f(z) = (az + b)/(cz + d)"}),i.jsx("li",{children:"A conjugate-linear transformation: f(z) = (az + b)/(cz + d)"})]}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real and ad - bc  0."})]}),i.jsx("p",{children:"The transformations of the first type preserve orientation, while those of the second type reverse orientation (like reflections)."}),i.jsx("h3",{children:"The Effect of Conjugation on the Upper Half Plane"}),i.jsx(ue,{title:"Conjugation Maps",children:i.jsx("p",{children:"The map z  -z sends the upper half plane to itself (reflection across the imaginary axis), while z  z sends the upper half plane to the lower half plane (reflection across the real axis)."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Verification"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Let z = x + iy with y > 0 (so z is in the upper half plane)."}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"z = x - iy has imaginary part -y < 0, so it's in the lower half plane."}),i.jsx("li",{children:"-z = -(x - iy) = -x + iy has imaginary part y > 0, so it's in the upper half plane."})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Orientation:"})," The map z  -z reverses orientation. When we compose an odd number of such orientation-reversing maps, we get a reflection. When we compose an even number, we get an ordinary (orientation-preserving) transformation."]}),i.jsx("h3",{children:"Real and Imaginary Parts"}),i.jsx("p",{children:"Conjugation gives us a way to extract the real and imaginary parts of a complex number."}),i.jsxs(ue,{title:"Extracting Parts",children:[i.jsx("p",{children:"For z = x + iy:"}),i.jsx(Y,{children:"\\text{Re}(z) = x = \\frac{z + \\bar{z}}{2}"}),i.jsx(Y,{children:"\\text{Im}(z) = y = \\frac{z - \\bar{z}}{2i}"})]}),i.jsx("p",{children:"These formulas will be useful when we analyze how transformations affect points in the upper half plane."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that (zz) = zz by direct calculation using z = a + bi and z = c + di."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that z is real if and only if z = z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that z is pure imaginary if and only if z = -z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.4"}),i.jsx("p",{className:"text-slate-300",children:"Prove that |z| = |z| for any complex number z."})]}),i.jsx(Re,{sectionId:58,questions:$e[58]||[],title:"Complex Conjugation Quiz"})]})}function gK(){return i.jsxs(qe,{sectionId:59,children:[i.jsx("h2",{children:"Reflections and Mbius Transformations"}),i.jsxs("p",{children:["Now we bring together complex conjugation and linear fractional transformations to define ",i.jsx("strong",{children:"reflections"})," in hyperbolic geometry. These reflections, together with the orientation-preserving transformations, generate all isometries of the hyperbolic plane."]}),i.jsx("h3",{children:"Mbius Transformations"}),i.jsxs(xe,{title:"Mbius Transformation",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"Mbius transformation"})," of the upper half plane is a map of one of the two forms:"]}),i.jsx(Y,{children:"f(z) = \\frac{az + b}{cz + d} \\quad \\text{(orientation-preserving)}"}),i.jsx(Y,{children:"f(z) = \\frac{a\\bar{z} + b}{c\\bar{z} + d} \\quad \\text{(orientation-reversing)}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real numbers with ad - bc > 0 for the first form and ad - bc < 0 for the second form."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Sign Convention:"})," The condition on ad - bc ensures that the transformation maps the upper half plane to itself. For orientation-preserving maps we need ad - bc > 0, and for orientation-reversing maps we need ad - bc < 0."]}),i.jsx("h3",{children:"Generating Transformations"}),i.jsx("p",{children:"All Mbius transformations can be built from a small set of simple generators. This is analogous to how all isometries of the Euclidean plane can be built from translations, rotations, and reflections."}),i.jsxs(ue,{title:"Generators of Mbius Transformations",children:[i.jsx("p",{children:"Every Mbius transformation of the upper half plane is a composition of the following generators:"}),i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx(Y,{children:"z \\mapsto z + l \\quad \\text{(horizontal translation by } l \\in \\mathbb{R}\\text{)}"}),i.jsx(Y,{children:"z \\mapsto kz \\quad \\text{(scaling by } k > 0\\text{)}"}),i.jsx(Y,{children:"z \\mapsto -\\bar{z} \\quad \\text{(reflection in imaginary axis)}"}),i.jsx(Y,{children:"z \\mapsto \\frac{1}{\\bar{z}} \\quad \\text{(inversion-reflection)}"})]})]}),i.jsx("h3",{children:"Understanding the Generators"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Horizontal Translation: z  z + l"}),i.jsx("p",{className:"text-slate-300",children:"This shifts every point horizontally by l units. If z = x + iy, then z + l = (x + l) + iy. The imaginary part (height above the x-axis) is unchanged."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z  kz"}),i.jsx("p",{className:"text-slate-300",children:"This scales distances from the origin by factor k. If z = x + iy, then kz = kx + iky. Both real and imaginary parts are multiplied by k. This is a dilation centered at the origin."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Reflection in Imaginary Axis: z  -z"}),i.jsx("p",{className:"text-slate-300",children:"If z = x + iy, then -z = -x + iy. This reflects points across the imaginary axis (the y-axis). Points on the imaginary axis are fixed."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion-Reflection: z  1/z"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"This is a composition of inversion in the unit circle and reflection across the real axis. It maps the unit semicircle to itself and exchanges points inside and outside the unit circle."}),i.jsx("p",{className:"text-slate-300",children:"For example: i  1/(-i) = -1/i = i (fixed), and 2i  1/(-2i) = i/2."})]}),i.jsx(hK,{className:"my-6"}),i.jsx("h3",{children:"Reflections in Non-Euclidean Lines"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"reflection"})," in a non-Euclidean line L is a Mbius transformation that fixes every point on L and reverses orientation."]}),i.jsxs(ue,{title:"Reflection Formulas",children:[i.jsx("p",{children:"The reflection in a non-Euclidean line is given by:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Reflection in vertical line x = a:"}),i.jsx(Y,{children:"z \\mapsto -\\bar{z} + 2a = 2a - \\bar{z}"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Reflection in semicircle with center c and radius r:"}),i.jsx(Y,{children:"z \\mapsto c + \\frac{r^2}{\\bar{z} - c}"})]})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Circle Inversion:"}),' The reflection in a semicircular non-Euclidean line is related to "circle inversion" in Euclidean geometry. However, the conjugation ensures that the upper half plane maps to itself.']}),i.jsx("h3",{children:"Verification: Reflection in Imaginary Axis"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Checking the Formula"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The imaginary axis is the vertical line x = 0. The reflection formula gives z  2(0) - z = -z."}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Let's verify this works:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Points on the imaginary axis: z = iy  -z = -(-iy) = iy  (fixed)"}),i.jsx("li",{children:"The map z  -z reverses orientation "}),i.jsx("li",{children:"Applying twice: z  -z  -(-z) = -(-z) = z  (involution)"})]})]}),i.jsx("h3",{children:"Composition of Reflections"}),i.jsx("p",{children:"An important fact, familiar from Euclidean geometry, is that the composition of two reflections gives an orientation-preserving transformation."}),i.jsx(ue,{title:"Two Reflections",children:i.jsx("p",{children:"The composition of two reflections in non-Euclidean lines is an orientation-preserving Mbius transformation (a hyperbolic motion). Conversely, every orientation-preserving Mbius transformation is a composition of two reflections."})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  z + l maps the upper half plane to itself."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  kz (for k > 0) maps non-Euclidean lines to non-Euclidean lines."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the image of the point 1 + i under the reflection in the non-Euclidean line x = 0 (the imaginary axis)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  1/z fixes every point on the unit semicircle |z| = 1, y > 0."})]}),i.jsx(Re,{sectionId:59,questions:$e[59]||[],title:"Reflections and Mbius Transformations Quiz"})]})}function yK(){return i.jsxs(qe,{sectionId:60,children:[i.jsx("h2",{children:"Preserving Non-Euclidean Lines"}),i.jsx("p",{children:'A crucial property of Mbius transformations is that they map non-Euclidean lines to non-Euclidean lines. This makes them the natural "rigid motions" of hyperbolic geometry, just as isometries (rotations, reflections, translations) are the rigid motions of Euclidean geometry.'}),i.jsx("h3",{children:"Lines and Circles in the Complex Plane"}),i.jsx("p",{children:"Before proving that Mbius transformations preserve non-Euclidean lines, we need to understand how lines and circles are related in complex analysis."}),i.jsxs(xe,{title:"Generalized Circles",children:[i.jsxs("p",{children:["In complex analysis, a ",i.jsx("strong",{children:"generalized circle"})," is either:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"An ordinary circle, or"}),i.jsx("li",{children:'A straight line (viewed as a "circle through ")'})]}),i.jsx("p",{className:"mt-2",children:"This unified view is natural in projective geometry, where the point at infinity is treated on equal footing with finite points."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Why Unify Lines and Circles?"})," When we add the point  to the complex plane (forming the Riemann sphere), straight lines become circles passing through . A Mbius transformation might map a line to a circle or vice versa, but it always maps generalized circles to generalized circles."]}),i.jsx("h3",{children:"The Main Preservation Theorem"}),i.jsxs(ue,{title:"Mbius Transformations Preserve Generalized Circles",children:[i.jsx("p",{children:"Every Mbius transformation maps generalized circles to generalized circles. In particular:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Lines through  may map to circles not through , and vice versa"}),i.jsx("li",{children:"Circles not through  map to circles not through "})]})]}),i.jsx("p",{children:"To prove this, we check that each generating transformation preserves generalized circles."}),i.jsx("h3",{children:"Checking the Generators"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Translation: z  z + l"}),i.jsx("p",{className:"text-slate-300",children:"Translation moves every point by the same amount, so circles remain circles (just shifted) and lines remain lines (just shifted). "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z  kz"}),i.jsx("p",{className:"text-slate-300",children:"Scaling by k > 0 preserves circles (just changes radius by factor k) and preserves lines through the origin. Lines not through the origin become lines not through the origin. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Conjugation: z  z"}),i.jsx("p",{className:"text-slate-300",children:"Reflection across the real axis preserves circles (just reflects them) and preserves lines (reflects them). "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion: z  1/z"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"This is the key case. Inversion maps:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Circles through the origin  lines not through the origin"}),i.jsx("li",{children:"Lines through the origin  lines through the origin"}),i.jsx("li",{children:"Circles not through the origin  circles not through the origin"}),i.jsx("li",{children:"Lines not through the origin  circles through the origin"})]}),i.jsx("p",{className:"text-slate-300 mt-2",children:"So generalized circles map to generalized circles. "})]}),i.jsx("h3",{children:"Preserving Non-Euclidean Lines"}),i.jsx("p",{children:"A non-Euclidean line is a special kind of generalized circle: one that meets the real axis at right angles. We need to show that Mbius transformations preserve this property."}),i.jsx(ue,{title:"Orthogonality to the Boundary",children:i.jsxs("p",{children:["If a Mbius transformation f maps the upper half plane to itself, and L is a non-Euclidean line (meeting   ","{","","}"," orthogonally), then f(L) is also a non-Euclidean line."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Insight"}),i.jsxs("p",{className:"text-slate-300",children:["Mbius transformations are ",i.jsx("em",{children:"conformal"}),"  they preserve angles. Since non-Euclidean lines are characterized by meeting the boundary at right angles, and Mbius transformations preserve both the boundary and angles, they must preserve non-Euclidean lines."]})]}),i.jsx("h3",{children:"Examples"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example 1: Translation"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The map z  z + 2 shifts everything right by 2 units."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"The vertical line x = 0 maps to the vertical line x = 2"}),i.jsx("li",{children:"The semicircle centered at 0 with radius 1 maps to the semicircle centered at 2 with radius 1"})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example 2: Scaling"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The map z  3z scales by factor 3."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"The vertical line x = 1 maps to the vertical line x = 3"}),i.jsx("li",{children:"The semicircle centered at 0 with radius 1 maps to the semicircle centered at 0 with radius 3"})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example 3: Inversion"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The map z  1/z (or z  1/z for the upper half plane version)."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"The imaginary axis maps to itself"}),i.jsx("li",{children:"The unit semicircle maps to itself"}),i.jsx("li",{children:"A vertical line x = a maps to a semicircle through the origin"})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Non-Euclidean to Non-Euclidean:"}),' While a Mbius transformation might turn a vertical ray into a semicircle (or vice versa), it always maps non-Euclidean lines to non-Euclidean lines. The "straightness" is preserved in the hyperbolic sense, not the Euclidean sense.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  2z maps the semicircle centered at 1 with radius 1 to the semicircle centered at 2 with radius 2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the image of the vertical line x = 1 under the map z  1/z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  -1/z maps the upper half plane to itself and preserves the unit semicircle."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that if two non-Euclidean lines intersect at a point P, and f is a Mbius transformation, then f(L) and f(L) intersect at f(P)."})]}),i.jsx(mK,{className:"my-6"}),i.jsx(Re,{sectionId:60,questions:$e[60]||[],title:"Preserving Non-Euclidean Lines Quiz"})]})}function bK(){return i.jsxs(qe,{sectionId:61,children:[i.jsx("h2",{children:"Preserving Angle"}),i.jsxs("p",{children:["One of the most important properties of Mbius transformations is that they are ",i.jsx("strong",{children:"conformal"}),'  they preserve angles. This property is crucial for understanding why Mbius transformations are the natural "rigid motions" of hyperbolic geometry.']}),i.jsx("h3",{children:'What Does "Preserve Angles" Mean?'}),i.jsx(xe,{title:"Conformal Map",children:i.jsxs("p",{children:["A map f is ",i.jsx("strong",{children:"conformal"})," (angle-preserving) at a point P if, whenever two smooth curves meet at P with angle , their images under f meet at f(P) with the same angle ."]})}),i.jsx("p",{children:"More precisely, we consider the angles between the tangent vectors to the curves at the point of intersection. A conformal map preserves these angles in both magnitude and sense (unless it's orientation-reversing, in which case it preserves magnitude but reverses sense)."}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Local vs. Global:"})," Conformality is a local property  it says something about how the map behaves near each point. It doesn't require that distances or areas be preserved, only angles."]}),i.jsx("h3",{children:"Why Mbius Transformations Are Conformal"}),i.jsx("p",{children:"We can verify conformality by checking the generating transformations."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Translation: z  z + l"}),i.jsx("p",{className:"text-slate-300",children:"Translation is an isometry of the Euclidean plane  it preserves all distances and angles. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z  kz"}),i.jsx("p",{className:"text-slate-300",children:"Scaling by k > 0 is a similarity transformation. While it changes distances (multiplying them by k), it preserves angles. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Conjugation: z  z"}),i.jsx("p",{className:"text-slate-300",children:"Reflection across the real axis is an isometry. It preserves angle magnitudes but reverses orientation. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion: z  1/z"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"This is the key case. Inversion in a circle is known to be conformal. The proof requires calculus (checking that the derivative has constant argument at each point), but the result is classical."}),i.jsx("p",{className:"text-slate-300",children:"Since 1/z = z/|z| is the composition of conjugation z  z and scaling by 1/|z|, and both preserve angles, so does 1/z. "})]}),i.jsx(ue,{title:"Mbius Transformations Are Conformal",children:i.jsx("p",{children:"Every Mbius transformation is conformal. Orientation-preserving Mbius transformations preserve the sense of angles, while orientation-reversing ones (those involving conjugation) reverse the sense."})}),i.jsx("h3",{children:"The Derivative Approach"}),i.jsx("p",{children:"For those familiar with complex analysis, there's an elegant way to see why Mbius transformations are conformal."}),i.jsxs(xe,{title:"Complex Derivative",children:[i.jsxs("p",{children:["A function f(z) is ",i.jsx("strong",{children:"complex differentiable"})," (or holomorphic) at z if the limit"]}),i.jsx(Y,{children:"f'(z_0) = \\lim_{z \\to z_0} \\frac{f(z) - f(z_0)}{z - z_0}"}),i.jsx("p",{className:"mt-2",children:"exists. If f'(z)  0, then f is conformal at z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Computing the Derivative"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"For f(z) = (az + b)/(cz + d), using the quotient rule:"}),i.jsx(Y,{children:"f'(z) = \\frac{a(cz+d) - c(az+b)}{(cz+d)^2} = \\frac{ad - bc}{(cz+d)^2}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Since ad - bc  0 by assumption, we have f'(z)  0 wherever f is defined. Hence f is conformal everywhere in its domain."})]}),i.jsx("h3",{children:"Angle Preservation and Hyperbolic Geometry"}),i.jsx("p",{children:"The conformal property has important implications for hyperbolic geometry:"}),i.jsx(ue,{title:"Hyperbolic Angles = Euclidean Angles",children:i.jsx("p",{children:"The angle between two non-Euclidean lines at their point of intersection equals the Euclidean angle between them (as curves in the complex plane)."})}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Same Angles, Different Distances:"})," While hyperbolic geometry has its own notion of distance (which we'll see in the next section), the angles are the same as Euclidean angles. This is because we measure angles using the Euclidean metric on the tangent space."]}),i.jsx("h3",{children:"Application: Right Angles"}),i.jsx("p",{children:"The preservation of angles explains why non-Euclidean lines (which meet the boundary at right angles) map to non-Euclidean lines."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Orthogonal Trajectories"}),i.jsx("p",{className:"text-slate-300",children:'If L and L are perpendicular non-Euclidean lines, and f is a Mbius transformation, then f(L) and f(L) are also perpendicular. This preserves the geometric structure of "perpendicular bisectors" and other orthogonality relationships in hyperbolic geometry.'})]}),i.jsx("h3",{children:"Conformality and the Cross-Ratio"}),i.jsx("p",{children:"The conformal property of Mbius transformations is closely related to their preservation of the cross-ratio, which we studied in projective geometry. Both properties make Mbius transformations the natural symmetries of the hyperbolic plane."}),i.jsx(ue,{title:"Triple Transitivity",children:i.jsxs("p",{children:["Given any three distinct points on   ","{","","}"," and any other three distinct points on   ","{","","}",", there is a unique Mbius transformation mapping the first triple to the second."]})}),i.jsx("p",{children:'This means the group of Mbius transformations acts "triply transitively" on the boundary of the hyperbolic plane, just as the group of isometries acts transitively on oriented triangles in Euclidean geometry.'}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the composition of two conformal maps is conformal."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  z is conformal except at z = 0. What happens to angles at the origin?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the angle between the imaginary axis and the semicircle centered at 1 with radius 1, at their point of intersection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  -z preserves angle magnitudes but reverses orientation (clockwise angles become counterclockwise)."})]}),i.jsx(fK,{className:"my-6"}),i.jsx(Re,{sectionId:61,questions:$e[61]||[],title:"Preserving Angle Quiz"})]})}function vK(){return i.jsxs(qe,{sectionId:62,children:[i.jsx("h2",{children:"Non-Euclidean Distance"}),i.jsxs("p",{children:["So far, we have seen that Mbius transformations preserve angles and non-Euclidean lines. But what about distance? In this section, we define a notion of ",i.jsx("strong",{children:"hyperbolic distance"})," that Mbius transformations preserve."]}),i.jsx("h3",{children:"Distance on the Imaginary Axis"}),i.jsx("p",{children:"We start by defining distance along the imaginary axis, which is the simplest non-Euclidean line."}),i.jsxs(xe,{title:"Non-Euclidean Distance on the Imaginary Axis",children:[i.jsxs("p",{children:["For two points pi and qi on the positive imaginary axis (where 0 < p < q), the ",i.jsx("strong",{children:"non-Euclidean distance"})," is:"]}),i.jsx(Y,{children:"\\text{ndist}(pi, qi) = \\left| \\log \\frac{q}{p} \\right| = \\log \\frac{q}{p}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Examples"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"ndist(i, 2i) = log(2/1) = log 2  0.693"}),i.jsx("li",{children:"ndist(i, ei) = log(e/1) = 1"}),i.jsx("li",{children:"ndist(2i, 4i) = log(4/2) = log 2"}),i.jsx("li",{children:"ndist(i, 10i) = log 10  2.303"})]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Logarithmic Scale:"})," Notice that equal Euclidean distances become unequal hyperbolic distances depending on height. The distance from i to 2i equals the distance from 2i to 4i, even though 4i - 2i = 2i is twice as large as 2i - i = i in Euclidean terms."]}),i.jsx("h3",{children:"Why This Formula?"}),i.jsx("p",{children:"The logarithmic formula is motivated by the requirement that certain Mbius transformations preserve distance."}),i.jsxs(ue,{title:"Scaling Preserves Distance",children:[i.jsx("p",{children:"The transformation z  kz (for k > 0) preserves non-Euclidean distance on the imaginary axis:"}),i.jsx(Y,{children:"\\text{ndist}(kpi, kqi) = \\log \\frac{kq}{kp} = \\log \\frac{q}{p} = \\text{ndist}(pi, qi)"})]}),i.jsx("h3",{children:"Distance via the Cross-Ratio"}),i.jsx("p",{children:"The general formula for non-Euclidean distance uses the cross-ratio, connecting hyperbolic geometry back to projective geometry."}),i.jsxs(xe,{title:"General Non-Euclidean Distance",children:[i.jsxs("p",{children:["For two points P and Q in the upper half plane, let L be the unique non-Euclidean line through them. Let A and B be the endpoints of L on   ","{","","}",". Then:"]}),i.jsx(Y,{children:"\\text{ndist}(P, Q) = \\left| \\log \\text{CR}(A, P, Q, B) \\right|"}),i.jsx("p",{className:"mt-2",children:"where CR(A, P, Q, B) is the cross-ratio of the four points A, P, Q, B."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Recall: Cross-Ratio"}),i.jsx("p",{className:"text-slate-300",children:"The cross-ratio of four points z, z, z, z on a line is:"}),i.jsx(Y,{children:"\\text{CR}(z_1, z_2, z_3, z_4) = \\frac{(z_1 - z_3)(z_2 - z_4)}{(z_1 - z_4)(z_2 - z_3)}"})]}),i.jsx("h3",{children:"Properties of Non-Euclidean Distance"}),i.jsxs(ue,{title:"Metric Properties",children:[i.jsx("p",{children:"Non-Euclidean distance is a genuine metric:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"ndist(P, Q)  0, with equality iff P = Q"}),i.jsx("li",{children:"ndist(P, Q) = ndist(Q, P) (symmetry)"}),i.jsx("li",{children:"ndist(P, R)  ndist(P, Q) + ndist(Q, R) (triangle inequality)"})]})]}),i.jsxs(ue,{title:"Mbius Transformations Preserve Distance",children:[i.jsx("p",{children:"If f is a Mbius transformation of the upper half plane, then:"}),i.jsx(Y,{children:"\\text{ndist}(f(P), f(Q)) = \\text{ndist}(P, Q)"}),i.jsx("p",{className:"mt-2",children:"This follows from the fact that Mbius transformations preserve the cross-ratio."})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Isometries:"})," Since Mbius transformations preserve both lines and distances, they are the ",i.jsx("em",{children:"isometries"})," of hyperbolic geometry  the analogues of rigid motions in Euclidean geometry."]}),i.jsx("h3",{children:"Geodesics Minimize Distance"}),i.jsx("p",{children:"Just as straight lines minimize Euclidean distance, non-Euclidean lines minimize hyperbolic distance."}),i.jsx(ue,{title:"Geodesic Property",children:i.jsx("p",{children:"If P and Q are two points in the upper half plane, the shortest path between them (in the hyperbolic metric) is the arc of the non-Euclidean line through P and Q."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Visualization"}),i.jsx("p",{className:"text-slate-300",children:'Imagine the hyperbolic plane as a surface where distances become larger and larger as you approach the boundary (the x-axis). The "straight" paths curve upward to avoid the high-cost region near the boundary. These curved paths are the non-Euclidean lines.'})]}),i.jsx(uK,{className:"my-6"}),i.jsx("h3",{children:"Distance to the Boundary"}),i.jsx("p",{children:'An important feature of hyperbolic geometry is that the boundary is "infinitely far away."'}),i.jsxs(ue,{title:"Boundary at Infinity",children:[i.jsxs("p",{children:["For any point P in the upper half plane and any point A on the boundary   ","{","","}",":"]}),i.jsx(Y,{children:"\\text{ndist}(P, A) = \\infty"}),i.jsx("p",{className:"mt-2",children:"The boundary is at infinite hyperbolic distance from every interior point."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Intuition"}),i.jsx("p",{className:"text-slate-300",children:'On the imaginary axis, as we move from pi toward the origin (p  0), the hyperbolic distance grows without bound: ndist(pi, i) = log(p/)   as   0. This makes the x-axis "unreachable" in finite hyperbolic time.'})]}),i.jsx("h3",{children:"The Hyperbolic Length Element"}),i.jsx("p",{children:"The distance formula can be expressed using a Riemannian metric:"}),i.jsxs(xe,{title:"Hyperbolic Metric",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"hyperbolic line element"})," at point z = x + iy is:"]}),i.jsx(Y,{children:"ds = \\frac{|dz|}{y} = \\frac{\\sqrt{dx^2 + dy^2}}{y}"}),i.jsx("p",{className:"mt-2",children:"The hyperbolic distance between two points is the infimum of the hyperbolic lengths of paths connecting them."})]}),i.jsx("p",{children:'This formula shows that distances are measured in units of "height above the x-axis." Near the x-axis (small y), even small Euclidean movements correspond to large hyperbolic distances.'}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Calculate the non-Euclidean distance from i to 10i."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that ndist(pi, qi) + ndist(qi, ri) = ndist(pi, ri) when p < q < r."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the hyperbolic length of the arc from i to 1 + i along the semicircle centered at 1/2 with radius (5)/2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  2z preserves hyperbolic distance using the metric ds = |dz|/y."})]}),i.jsx(Re,{sectionId:62,questions:$e[62]||[],title:"Non-Euclidean Distance Quiz"})]})}function jK(){return i.jsxs(qe,{sectionId:63,children:[i.jsx("h2",{children:"Non-Euclidean Translations and Rotations"}),i.jsxs("p",{children:["In Euclidean geometry, the orientation-preserving isometries are translations and rotations. Hyperbolic geometry has analogous transformations, but they behave quite differently. In addition, hyperbolic geometry has a third type called ",i.jsx("strong",{children:"limit rotations"}),"or ",i.jsx("strong",{children:"parabolic transformations"}),"."]}),i.jsx("h3",{children:"Classification of Mbius Transformations"}),i.jsxs("p",{children:["Every orientation-preserving Mbius transformation f(z) = (az + b)/(cz + d) can be classified by its fixed points on   ","{","","}","."]}),i.jsxs(xe,{title:"Types of Mbius Transformations",children:[i.jsx("p",{children:"An orientation-preserving Mbius transformation is:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hyperbolic (translation)"})," if it has two fixed points on   ","{","","}"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Elliptic (rotation)"})," if it has one fixed point in the upper half plane (and its conjugate below)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Parabolic (limit rotation)"})," if it has exactly one fixed point, on   ","{","","}"]})]})]}),i.jsx("h3",{children:"Hyperbolic Translations"}),i.jsx("p",{children:"A hyperbolic translation moves points along a non-Euclidean line, just as a Euclidean translation moves points along a straight line."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: z  kz"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The transformation z  kz (for k > 1) is a hyperbolic translation along the imaginary axis."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Fixed points: 0 and  (both on the boundary)"}),i.jsx("li",{children:'The imaginary axis is the "axis" of the translation'}),i.jsx("li",{children:"Points are moved away from 0 toward "}),i.jsx("li",{children:"The translation distance is log k"})]})]}),i.jsx(ue,{title:"Axes of Translations",children:i.jsxs("p",{children:["Every hyperbolic translation has an ",i.jsx("strong",{children:"axis"}),": the unique non-Euclidean line connecting its two fixed points. Points on the axis are moved along the axis. Points off the axis move along curves called",i.jsx("strong",{children:" hypercycles"})," (equidistant curves from the axis)."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"General Hyperbolic Translation"}),i.jsx("p",{className:"text-slate-300",children:"A hyperbolic translation with axis L (connecting points a and b on the boundary) and translation distance d can be written as:"}),i.jsx(Y,{children:"f(z) = \\frac{e^d(z-a) - e^{-d}(z-b)\\cdot k}{(z-a) - (z-b)\\cdot k}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"for appropriate constants. The key property is that f moves each point on L by hyperbolic distance d along L."})]}),i.jsx("h3",{children:"Elliptic Rotations"}),i.jsx("p",{children:"An elliptic transformation (hyperbolic rotation) has a fixed point in the upper half plane and rotates other points around it."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: Rotation about i"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The transformation"}),i.jsx(Y,{children:"f(z) = \\frac{z\\cos\\theta - \\sin\\theta}{z\\sin\\theta + \\cos\\theta}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"is a rotation by angle 2 about the point i. This can be verified by checking that f(i) = i."})]}),i.jsx(ue,{title:"Hyperbolic Circles",children:i.jsxs("p",{children:["Under a hyperbolic rotation about center P, points move along",i.jsx("strong",{children:" hyperbolic circles"})," centered at P. A hyperbolic circle looks like a Euclidean circle, but its Euclidean center is generally not at P."]})}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Angle Preservation:"})," Since Mbius transformations are conformal, the angle of rotation is well-defined: it equals the Euclidean angle of rotation at the fixed point."]}),i.jsx("h3",{children:"Parabolic Transformations (Limit Rotations)"}),i.jsx("p",{children:'The third type of isometry is unique to hyperbolic geometry. It has a single fixed point on the boundary and can be thought of as a "rotation about a point at infinity."'}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: z  z + 1"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The horizontal translation z  z + 1 is a parabolic transformation."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Fixed point: only "}),i.jsx("li",{children:"Points move along horocycles (horizontal lines y = c)"}),i.jsx("li",{children:"No axis connects to a second fixed point"})]})]}),i.jsxs(xe,{title:"Horocycles",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"horocycle"})," is a curve in the hyperbolic plane that is tangent to the boundary at a single point. In the upper half plane model:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Horocycles tangent to  are horizontal lines y = c"}),i.jsx("li",{children:"Horocycles tangent to a point a   are circles tangent to  at a (lying entirely in the upper half plane)"})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Neither Circles nor Lines:"})," Horocycles are neither hyperbolic circles (which have a center in the interior) nor hyperbolic lines (which meet the boundary at two points or one point orthogonally). They are a third type of curve unique to hyperbolic geometry."]}),i.jsx("h3",{children:"Comparison with Euclidean Geometry"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Euclidean"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Hyperbolic"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Translation along a line"}),i.jsx("td",{className:"py-2",children:"Hyperbolic translation along a geodesic"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Rotation about a point"}),i.jsx("td",{className:"py-2",children:"Elliptic transformation (rotation about interior point)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Parabolic transformation (no Euclidean analogue)"})]})]})]})}),i.jsx(dK,{className:"my-6"}),i.jsx("h3",{children:"The Trace Criterion"}),i.jsx("p",{children:"There's an elegant algebraic way to classify Mbius transformations."}),i.jsxs(ue,{title:"Classification by Trace",children:[i.jsx("p",{children:"For f(z) = (az + b)/(cz + d) with ad - bc = 1, let  = a + d (the trace). Then:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"|| > 2: hyperbolic (translation)"}),i.jsx("li",{children:"|| < 2: elliptic (rotation)"}),i.jsx("li",{children:"|| = 2: parabolic (limit rotation)"})]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  2z has fixed points 0 and , making it a hyperbolic translation."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  z + 1 has only one fixed point (), making it parabolic."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the fixed points of f(z) = (z cos  - sin )/(z sin  + cos ) and verify that i is fixed."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that horizontal lines y = c are horocycles by verifying they are orthogonal to all vertical non-Euclidean lines."})]}),i.jsx(Re,{sectionId:63,questions:$e[63]||[],title:"Non-Euclidean Translations and Rotations Quiz"})]})}function wK(){return i.jsxs(qe,{sectionId:64,children:[i.jsx("h2",{children:"Three Reflections or Two Involutions"}),i.jsxs("p",{children:[`In Euclidean geometry, we proved the "three reflections theorem": every isometry is a composition of at most three reflections. The same theorem holds in hyperbolic geometry, and there's an elegant related result involving `,i.jsx("strong",{children:"involutions"}),"."]}),i.jsx("h3",{children:"The Three Reflections Theorem"}),i.jsx(ue,{title:"Three Reflections Theorem (Hyperbolic)",children:i.jsx("p",{children:"Every Mbius transformation of the upper half plane (orientation-preserving or orientation-reversing) is a composition of at most three reflections in non-Euclidean lines."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The Count"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"One reflection:"})," Orientation-reversing, fixes a line"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Two reflections:"})," Orientation-preserving (translation, rotation, or limit rotation)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Three reflections:"})," Orientation-reversing, no fixed line (glide reflection)"]})]})]}),i.jsx("h3",{children:"Involutions"}),i.jsx("p",{children:"An involution is a transformation that is its own inverse  applying it twice returns to the original."}),i.jsx(xe,{title:"Involution",children:i.jsxs("p",{children:["A transformation f is an ",i.jsx("strong",{children:"involution"})," if f  f = id, that is, f(f(z)) = z for all z."]})}),i.jsx("p",{children:"Every reflection is an involution. But there are orientation-preserving involutions as well."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Half-Turns"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["A ",i.jsx("strong",{children:"half-turn"})," (rotation by , or 180) is an orientation-preserving involution. For example:"]}),i.jsx(Y,{children:"f(z) = \\frac{-z + 2i}{1} = -z + 2i"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"is a half-turn about the point i. Applying it twice gives f(f(z)) = -(-z + 2i) + 2i = z."})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Fixed Points:"})," A reflection fixes every point on a line. A half-turn fixes a single point (its center). These are the two types of orientation-preserving involutions in hyperbolic geometry."]}),i.jsx("h3",{children:"The Two Involutions Theorem"}),i.jsx("p",{children:"There's a beautiful theorem stating that orientation-preserving Mbius transformations can always be decomposed into two involutions (either half-turns or compositions)."}),i.jsx(ue,{title:"Two Involutions Theorem",children:i.jsx("p",{children:"Every orientation-preserving Mbius transformation is a product of two involutions."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Case Analysis"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hyperbolic translation:"})," Product of two half-turns about points on the axis of translation"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Elliptic rotation:"})," Product of two half-turns, one at the center and one at an appropriate point"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Parabolic transformation:"})," Product of two half-turns about points on the same horocycle"]})]})]}),i.jsx("h3",{children:"Translations as Products of Half-Turns"}),i.jsx("p",{children:"Let's verify this for hyperbolic translations along the imaginary axis."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Consider the translation z  kz for k > 1. Let P = i and P = k  i. The half-turn about i is h(z) = -z + 2i... actually, for the correct formula, the half-turn about Pi on the imaginary axis is:"}),i.jsx(Y,{children:"h_P(z) = \\frac{-P^2}{z}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Then h  h(z) = h(-1/z) maps i to ki, giving the translation."})]}),i.jsx("h3",{children:"Connection to Projective Geometry"}),i.jsx("p",{children:"The two involutions theorem is related to the projective line. Recall that Mbius transformations are the transformations of P (the projective line). An involution on P swaps pairs of points, and any Mbius transformation can be written as a composition of two such swaps."}),i.jsxs(ue,{title:"Involutions on the Projective Line",children:[i.jsx("p",{children:"An involution on P either:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Fixes two points (and swaps the rest in pairs), or"}),i.jsx("li",{children:"Has no fixed points (swaps all points in pairs)"})]}),i.jsx("p",{className:"mt-2",children:'The first type corresponds to half-turns, the second to certain "point-free" involutions.'})]}),i.jsx("h3",{children:"Generating the Isometry Group"}),i.jsx("p",{children:"These decomposition theorems show that the isometry group of the hyperbolic plane is generated by a simple class of transformations."}),i.jsxs(ue,{title:"Generators",children:[i.jsx("p",{children:"The group of all Mbius transformations of the upper half plane is generated by:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Reflections in non-Euclidean lines, or equivalently"}),i.jsx("li",{children:"Half-turns about points"})]})]}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Minimal Generators:"})," In fact, reflections in just two non-Euclidean lines that intersect at any angle generate a dense subgroup. If the angle is a rational multiple of , they generate a discrete (triangle) group."]}),i.jsx("h3",{children:"Comparison of Decomposition Theorems"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Theorem"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Building Blocks"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Maximum Count"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Three Reflections"}),i.jsx("td",{className:"py-2",children:"Reflections (orientation-reversing)"}),i.jsx("td",{className:"py-2",children:"3"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Two Involutions"}),i.jsx("td",{className:"py-2",children:"Involutions (incl. half-turns)"}),i.jsx("td",{className:"py-2",children:"2"})]})]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the composition of two reflections in parallel non-Euclidean lines (lines with the same endpoint at infinity) is a parabolic transformation."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that the composition of two reflections in intersecting non-Euclidean lines is an elliptic transformation (rotation) about their intersection point."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that the half-turn about i is given by h(z) = -1/z, and verify that h(h(z)) = z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Express the translation z  z + 2 as a product of two half-turns."})]}),i.jsx(Re,{sectionId:64,questions:$e[64]||[],title:"Three Reflections or Two Involutions Quiz"})]})}function TK(){return i.jsxs(qe,{sectionId:65,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"The discovery of non-Euclidean geometry in the 19th century was one of the most profound developments in the history of mathematics. For over two thousand years, Euclid's geometry was considered the absolute truth about physical space. The realization that alternative geometries exist fundamentally changed our understanding of mathematics, physics, and the nature of truth itself."}),i.jsx("h3",{children:"The Parallel Postulate Problem"}),i.jsx("p",{children:`Euclid's fifth postulate  the parallel postulate  had always seemed different from the other four. It was longer, more complicated, and less "self-evident."`}),i.jsx(xe,{title:"Euclid's Fifth Postulate",children:i.jsx("p",{children:"If a straight line falling on two straight lines makes the interior angles on the same side less than two right angles, the two straight lines, if produced indefinitely, meet on that side on which the angles are less than two right angles."})}),i.jsx("p",{children:"For centuries, mathematicians tried to prove this postulate from the other four, believing it was a theorem rather than an axiom. Their failure led to one of mathematics' greatest discoveries."}),i.jsx("h3",{children:"The Discovery of Non-Euclidean Geometry"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Figures"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Girolamo Saccheri (1733):"})," Attempted to prove the parallel postulate by contradiction. He derived many theorems of hyperbolic geometry but couldn't accept the conclusion."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Carl Friedrich Gauss (c. 1816):"})," Developed non-Euclidean geometry privately but never published, fearing controversy."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Jnos Bolyai (1832):"}),` Published his discoveries in an appendix to his father's book, calling it "a new world created out of nothing."`]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Nikolai Lobachevsky (1829):"}),' Published independently in Russian, earning the name "the Copernicus of geometry."']})]})]}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Simultaneous Discovery:"})," Bolyai and Lobachevsky discovered non-Euclidean geometry independently around the same time. When Bolyai's father sent his son's work to Gauss, Gauss replied that he had already made these discoveries himself  a response that devastated the young Bolyai."]}),i.jsx("h3",{children:"Models of Hyperbolic Geometry"}),i.jsxs("p",{children:["The consistency of hyperbolic geometry was proven by constructing",i.jsx("strong",{children:" models"}),"  concrete mathematical objects where the hyperbolic axioms hold."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Major Models"}),i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2",children:"Model"}),i.jsx("th",{className:"text-left py-2",children:"Description"}),i.jsx("th",{className:"text-left py-2",children:"Creator"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Upper Half Plane"}),i.jsxs("td",{className:"py-2",children:[" = ","{","z : Im(z) > 0","}"]}),i.jsx("td",{className:"py-2",children:"Beltrami (1868)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Poincar Disk"}),i.jsx("td",{className:"py-2",children:"Open unit disk |z| < 1"}),i.jsx("td",{className:"py-2",children:"Beltrami/Poincar"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Klein Disk"}),i.jsx("td",{className:"py-2",children:"Projective model in disk"}),i.jsx("td",{className:"py-2",children:"Klein (1871)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Hyperboloid"}),i.jsx("td",{className:"py-2",children:"Sheet of x + y - z = -1"}),i.jsx("td",{className:"py-2",children:"Minkowski"})]})]})]})]}),i.jsx("p",{children:'Our development used the upper half plane model. The existence of multiple models shows that "hyperbolic geometry" is a single abstract structure that can be realized in various concrete ways.'}),i.jsx("h3",{children:"Connections to Other Mathematics"}),i.jsx("p",{children:"Non-Euclidean geometry connects to many other areas of mathematics:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Complex Analysis:"})," Mbius transformations are fundamental objects in complex analysis, and the hyperbolic plane is the natural setting for automorphic functions."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Group Theory:"})," The isometry group PSL(2,) of the hyperbolic plane is a fundamental Lie group with deep connections to representation theory."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Topology:"})," Most surfaces of negative Euler characteristic have hyperbolic structures. Understanding hyperbolic surfaces is key to the classification of surfaces."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Number Theory:"})," The modular group PSL(2,) acts on the hyperbolic plane, connecting hyperbolic geometry to modular forms and elliptic curves."]})]})}),i.jsx("h3",{children:"Physical Significance"}),i.jsx(ue,{title:"Einstein's General Relativity",children:i.jsx("p",{children:"In Einstein's theory of general relativity (1915), spacetime is curved, and its geometry is determined by the distribution of matter and energy. Non-Euclidean geometry is essential for understanding gravity."})}),i.jsx("p",{children:"The discovery that geometry could be non-Euclidean prepared the way for Einstein's revolutionary insight that physical space itself might not be Euclidean."}),i.jsxs(me,{type:"warning",children:[i.jsx("strong",{children:"Spherical Geometry:"})," Besides hyperbolic geometry, there is another non-Euclidean geometry: spherical (or elliptic) geometry, where there are ",i.jsx("em",{children:"no"})," parallel lines. The surface of the Earth approximates this geometry, which is why meridians of longitude appear parallel at the equator but meet at the poles."]}),i.jsx("h3",{children:"The Three Constant-Curvature Geometries"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Geometry"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Curvature"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Parallels"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Angle Sum"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Spherical"}),i.jsx("td",{className:"py-2",children:"K > 0"}),i.jsx("td",{className:"py-2",children:"None"}),i.jsx("td",{className:"py-2",children:"> "})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Euclidean"}),i.jsx("td",{className:"py-2",children:"K = 0"}),i.jsx("td",{className:"py-2",children:"One"}),i.jsx("td",{className:"py-2",children:"= "})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Hyperbolic"}),i.jsx("td",{className:"py-2",children:"K < 0"}),i.jsx("td",{className:"py-2",children:"Many"}),i.jsx("td",{className:"py-2",children:"< "})]})]})]})}),i.jsx("h3",{children:"The Four Pillars Revisited"}),i.jsx("p",{children:"We have now completed our journey through the four pillars of geometry. Let us reflect on how they connect:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Euclidean constructions"})," showed what can be built with straightedge and compass, and led to the axiomatization of geometry."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Coordinates"})," connected geometry to algebra, enabling the analytic approach."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Vectors"})," provided the language of linear algebra, essential for higher-dimensional and abstract geometry."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective geometry"})," unified parallel and intersecting lines, and its linear fractional transformations led naturally to non-Euclidean geometry."]})]})}),i.jsxs(me,{type:"info",children:[i.jsx("strong",{children:"Klein's Erlangen Program:"})," Felix Klein's 1872 program proposed that each geometry is characterized by its group of transformations. Euclidean geometry studies invariants of the isometry group; affine geometry, the affine group; projective geometry, the projective group; and hyperbolic geometry, the group of Mbius transformations."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain why Saccheri's attempt to prove the parallel postulate by contradiction failed to achieve its goal."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.2"}),i.jsx("p",{className:"text-slate-300",children:'In spherical geometry, every pair of "lines" (great circles) intersects in two points. How does this violate the Euclidean axiom that two points determine a unique line?'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.3"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the existence of a model proves that hyperbolic geometry is consistent (assuming Euclidean geometry is consistent)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.4"}),i.jsx("p",{className:"text-slate-300",children:"Describe how the four pillars of geometry (constructions, coordinates, vectors, projective methods) each contributed to the development of non-Euclidean geometry."})]}),i.jsx(Re,{sectionId:65,questions:$e[65]||[],title:"Discussion Quiz"})]})}const SK={0:SZ,1:CZ,2:MZ,3:zZ,4:DZ,5:PZ,6:IZ,7:RZ,8:_Z,9:OZ,10:LZ,11:FZ,12:UZ,13:HZ,14:VZ,15:GZ,16:JZ,17:eQ,18:tQ,19:nQ,20:iQ,21:sQ,22:rQ,23:mQ,24:fQ,25:pQ,26:xQ,27:gQ,28:yQ,29:bQ,30:vQ,31:EQ,32:CQ,33:MQ,34:zQ,35:DQ,36:PQ,37:IQ,38:RQ,39:_Q,40:BQ,41:OQ,42:LQ,43:FQ,44:UQ,45:HQ,46:VQ,47:GQ,48:eK,49:tK,50:nK,51:iK,52:sK,53:rK,54:aK,55:lK,56:oK,57:pK,58:xK,59:gK,60:yK,61:bK,62:vK,63:jK,64:wK,65:TK};function NK({children:t}){const[e,n]=q.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(Mf,{sidebarOpen:e,onToggleSidebar:()=>n(!e)}),i.jsx(zf,{isOpen:e,onClose:()=>n(!1)}),i.jsx("main",{className:"pt-16 lg:pl-72",children:t})]})}function AK(){return i.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),i.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function kK(){return i.jsxs(i.Fragment,{children:[i.jsx(NK,{children:i.jsxs(sz,{children:[i.jsx(fa,{path:"/",element:i.jsx(K6,{})}),i.jsx(fa,{path:"/leaderboard",element:i.jsx(lW,{})}),i.jsx(fa,{path:"/theorems",element:i.jsx(hX,{})}),i.jsx(fa,{path:"/interactive",element:i.jsx(uX,{})}),Object.entries(SK).map(([t,e])=>i.jsx(fa,{path:`/section/${t}`,element:i.jsx(e,{})},t)),i.jsx(fa,{path:"/section/:id",element:i.jsx(AK,{})}),i.jsx(fa,{path:"*",element:i.jsx(K6,{})})]})}),i.jsx(JG,{})]})}function EK(){return i.jsx(dz,{children:i.jsx(gF,{children:i.jsx(kK,{})})})}mM.createRoot(document.getElementById("root")).render(i.jsx(q.StrictMode,{children:i.jsx(EK,{})}));
