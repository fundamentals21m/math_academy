import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L,D as C,C as E,T as F,q as I}from"./index-Di3Gbot4.js";import{M as m}from"./MathBlock-DHMt0FrA.js";import{S as D}from"./SectionQuiz-CpRFyxwe.js";import{r as j}from"./vendor-react-Drj8qL0h.js";import"./index-IQqYxXMM.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-core-BXWtuYvb.js";function W({className:N=""}){const T=j.useRef(null),[i,v]=j.useState("parallel"),[c,P]=j.useState(1.5),[h,w]=j.useState(!0),o=550,f=400;return j.useEffect(()=>{const b=T.current;if(!b)return;const t=b.getContext("2d");if(!t)return;t.fillStyle="#0f172a",t.fillRect(0,0,o,f),t.strokeStyle="#1e293b",t.lineWidth=1;for(let s=0;s<=o;s+=40)t.beginPath(),t.moveTo(s,0),t.lineTo(s,f),t.stroke();for(let s=0;s<=f;s+=40)t.beginPath(),t.moveTo(0,s),t.lineTo(o,s),t.stroke();const x=280,r=120,p=o/2;t.strokeStyle="#60a5fa",t.lineWidth=3,t.beginPath(),t.moveTo(20,x),t.lineTo(o-20,x),t.stroke(),t.strokeStyle="#34d399",t.lineWidth=3,t.beginPath(),t.moveTo(20,r),t.lineTo(o-20,r),t.stroke(),t.font="bold 14px sans-serif",t.fillStyle="#60a5fa",t.fillText("Lâ‚ (source)",30,x+25),t.fillStyle="#34d399",t.fillText("Lâ‚‚ (image)",30,r-10);const d=[-3,-2,-1,0,1,2,3].map(s=>({x:p+s*50,y:x,value:s}));let a=[],l=null;if(i==="parallel"){const s=(c-1.5)*100;a=d.map(n=>({x:n.x+s,y:r,value:n.value+s/50}))}else if(i==="central"){const s=c;l={x:p,y:(x+r)/2-50},a=d.map(n=>{const g=n.x-l.x,S=n.y-l.y,k=(r-l.y)/S;return{x:l.x+k*g,y:r,value:n.value*s}})}else{l={x:p,y:(x+r)/2};const s=[-3,-2,-1,1,2,3].map(n=>({x:p+n*50,y:x,value:n}));a=s.map(n=>{const g=1/n.value;return{x:p+g*100,y:r,value:g}}),d.length=0,d.push(...s)}l&&i!=="parallel"&&(t.fillStyle="#f472b6",t.beginPath(),t.arc(l.x,l.y,8,0,Math.PI*2),t.fill(),t.font="bold 14px sans-serif",t.fillText("O",l.x+12,l.y+5),t.font="11px sans-serif",t.fillText("(projection center)",l.x-55,l.y-15)),h&&l?(t.strokeStyle="rgba(251, 191, 36, 0.4)",t.lineWidth=1,t.setLineDash([4,4]),d.forEach((s,n)=>{a[n]&&a[n].x>20&&a[n].x<o-20&&(t.beginPath(),i==="parallel"?(t.moveTo(s.x,s.y),t.lineTo(a[n].x,a[n].y)):(t.moveTo(s.x,s.y),t.lineTo(l.x,l.y),t.lineTo(a[n].x,a[n].y)),t.stroke())}),t.setLineDash([])):h&&i==="parallel"&&(t.strokeStyle="rgba(251, 191, 36, 0.4)",t.lineWidth=1,t.setLineDash([4,4]),d.forEach((s,n)=>{a[n]&&a[n].x>20&&a[n].x<o-20&&(t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(a[n].x,a[n].y),t.stroke())}),t.setLineDash([])),d.forEach(s=>{t.fillStyle="#60a5fa",t.beginPath(),t.arc(s.x,s.y,5,0,Math.PI*2),t.fill(),t.font="11px sans-serif",t.fillText(s.value.toString(),s.x-5,s.y+20)}),a.forEach(s=>{s.x>20&&s.x<o-20&&(t.fillStyle="#34d399",t.beginPath(),t.arc(s.x,s.y,5,0,Math.PI*2),t.fill(),t.font="11px sans-serif",t.fillText(s.value.toFixed(1),s.x-10,s.y-10))}),t.fillStyle="#e2e8f0",t.font="bold 16px sans-serif";let u="",y="";i==="parallel"?(u=`x â†’ x + ${((c-1.5)*2).toFixed(1)}`,y="Translation (from point at infinity)"):i==="central"?(u=`x â†’ ${c.toFixed(1)}x`,y="Scaling (from finite point)"):(u="x â†’ 1/x",y="Reciprocal (non-parallel lines)"),t.fillText(u,o-150,40),t.font="12px sans-serif",t.fillStyle="#94a3b8",t.fillText(y,o-200,60),t.fillStyle="#c084fc",t.font="12px sans-serif",t.fillText("General form: f(x) = (ax + b)/(cx + d)",20,f-20)},[i,c,h]),e.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${N}`,children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Projection and Linear Fractional Transformations"}),e.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[e.jsx("button",{onClick:()=>{v("parallel"),P(1.5)},className:`px-3 py-2 text-sm rounded transition ${i==="parallel"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Translation (x + l)"}),e.jsx("button",{onClick:()=>{v("central"),P(1.5)},className:`px-3 py-2 text-sm rounded transition ${i==="central"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Scaling (kx)"}),e.jsx("button",{onClick:()=>v("reciprocal"),className:`px-3 py-2 text-sm rounded transition ${i==="reciprocal"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Reciprocal (1/x)"})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("canvas",{ref:T,width:o,height:f,className:"border border-slate-700 rounded"})}),i!=="reciprocal"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:i==="parallel"?`Translation: l = ${((c-1.5)*2).toFixed(1)}`:`Scale factor: k = ${c.toFixed(1)}`}),e.jsx("input",{type:"range",min:"0.5",max:"2.5",step:"0.1",value:c,onChange:b=>P(parseFloat(b.target.value)),className:"w-full"})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("button",{onClick:()=>w(!h),className:`px-4 py-2 rounded transition ${h?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:h?"Hide Projection Lines":"Show Projection Lines"})}),e.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[e.jsx("p",{children:e.jsx("strong",{children:"Projection types:"})}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-blue-400",children:"Translation"}),": x â†’ x + l (parallel projection)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-green-400",children:"Scaling"}),": x â†’ kx (central projection, parallel lines)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-pink-400",children:"Reciprocal"}),": x â†’ 1/x (non-parallel lines)"]})]}),e.jsx("p",{className:"mt-2 text-purple-400",children:"All combinations give functions f(x) = (ax + b)/(cx + d) with ad âˆ’ bc â‰  0."})]})]})}function G(){return e.jsxs(L,{sectionId:35,children:[e.jsx("h2",{children:"Projection"}),e.jsxs("p",{children:['The three-dimensional Euclidean space â„Â³, in which lines through O are "points" of â„PÂ² and planes through O are "lines" of â„PÂ², also contains many other planes. Each plane ğ’« not passing through O can be regarded as a ',e.jsx("strong",{children:"perspective view"})," of the projective plane â„PÂ²."]}),e.jsx("h3",{children:"Perspective Views"}),e.jsx("p",{children:'Each point P of ğ’« corresponds to a line ("of sight") through O, and hence to a "point" of â„PÂ². The only lines through O that do not meet ğ’« are those parallel to ğ’«â€”these make up the line at infinity or horizon of ğ’«.'}),e.jsx(C,{title:"Projection Between Planes",children:e.jsxs("p",{children:["If ğ’«â‚ and ğ’«â‚‚ are any two planes not passing through O, we can",e.jsx("strong",{children:" project"})," ğ’«â‚ to ğ’«â‚‚ by sending each point Pâ‚ in ğ’«â‚ to the point Pâ‚‚ in ğ’«â‚‚ lying on the same line through O as Pâ‚."]})}),e.jsx("p",{children:'The geometry of â„PÂ² is called "projective" because it encapsulates the geometry of a whole family of planes related by projection.'}),e.jsx("h3",{children:"Projections of Projective Lines"}),e.jsx("p",{children:"Projection of one plane ğ’«â‚ onto another plane ğ’«â‚‚ produces an image that is generally distorted. For example, a grid of squares may be mapped to a perspective view that looks very different. Nevertheless, straight lines remain straight under projection."}),e.jsxs(E,{type:"info",children:[e.jsx("strong",{children:"Key Property:"})," To understand projective distortion, we analyze the mappings of the projective line obtainable by projection."]}),e.jsx("h3",{children:"Types of Projections"}),e.jsx("h4",{children:"Projection from Infinity (Parallel Lines)"}),e.jsx("p",{children:"When ğ“›â‚ and ğ“›â‚‚ are parallel, projection from a point at infinity means the lines from dots on ğ“›â‚ to their images on ğ“›â‚‚ are parallel. The dots are simply translated a constant distance l:"}),e.jsx(m,{children:"x \\mapsto x + l"}),e.jsx("h4",{children:"Projection from a Finite Point (Parallel Lines)"}),e.jsx("p",{children:"When ğ“›â‚ is projected from a finite point P onto parallel line ğ“›â‚‚, the distance between dots is magnified by a constant factor k â‰  0:"}),e.jsx(m,{children:"x \\mapsto kx"}),e.jsx("h4",{children:"Projection onto Non-Parallel Lines"}),e.jsx("p",{children:"When ğ“›â‚ and ğ“›â‚‚ are not parallel, the distortion is more extreme. Consider projection from a point O equidistant from both lines, with ğ“›â‚ parallel to the x-axis and ğ“›â‚‚ parallel to the y-axis. The map from ğ“›â‚ to ğ“›â‚‚ is:"}),e.jsx(m,{children:"x \\mapsto \\frac{1}{x}"}),e.jsxs(F,{title:"Generating Transformations",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We show that composing translations, scalings, and reciprocation yields all linear fractional functions, and conversely."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Forward direction:"})," Consider f(x) = (ax + b)/(cx + d) with ad - bc â‰  0."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Case 1:"})," If c = 0, then f(x) = (a/d)x + (b/d). This is a scaling by a/d followed by translation by b/d."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Case 2:"})," If c â‰  0, we perform polynomial division:"]}),e.jsx(m,{math:"\\frac{ax + b}{cx + d} = \\frac{a}{c} + \\frac{b - ad/c}{cx + d} = \\frac{a}{c} + \\frac{bc - ad}{c(cx + d)}"}),e.jsx("p",{className:"mt-2",children:"This can be composed as follows:"}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Start with x"}),e.jsx("li",{children:"Scale: x â†’ cx"}),e.jsx("li",{children:"Translate: cx â†’ cx + d"}),e.jsx("li",{children:"Reciprocate: (cx + d) â†’ 1/(cx + d)"}),e.jsx("li",{children:"Scale: 1/(cx + d) â†’ (bc - ad)/c Â· 1/(cx + d)"}),e.jsx("li",{children:"Translate: add a/c to get the final result"})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Converse direction:"})," We verify that composing two linear fractional functions yields another. If fâ‚(x) = (aâ‚x + bâ‚)/(câ‚x + dâ‚) and fâ‚‚(x) = (aâ‚‚x + bâ‚‚)/(câ‚‚x + dâ‚‚), then fâ‚(fâ‚‚(x)) has the form (Ax + B)/(Cx + D) where the coefficients are determined by matrix multiplication, and AD - BC = (aâ‚dâ‚ - bâ‚câ‚)(aâ‚‚dâ‚‚ - bâ‚‚câ‚‚) â‰  0."]})]}),children:[e.jsxs("p",{children:["Any combination of projections is a combination of these three",e.jsx("strong",{children:" generating transformations"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[e.jsx("li",{children:"x â†’ x + l (translation)"}),e.jsx("li",{children:"x â†’ kx (scaling)"}),e.jsx("li",{children:"x â†’ 1/x (reciprocation)"})]}),e.jsx("p",{className:"mt-2",children:"The combinations of these are precisely the functions of the form:"}),e.jsx(m,{children:"f(x) = \\frac{ax + b}{cx + d}, \\quad \\text{where } ad - bc \\neq 0"})]}),e.jsx("h3",{children:"Exercises"}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.1"}),e.jsx("p",{className:"text-slate-300",children:"If fâ‚(x) = aâ‚x + bâ‚ with aâ‚ â‰  0 and fâ‚‚(x) = aâ‚‚x + bâ‚‚ with aâ‚‚ â‰  0, show that fâ‚(fâ‚‚(x)) = Ax + B with A â‰  0, and find the constants A and B."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.2"}),e.jsx("p",{className:"text-slate-300",children:"Deduce from Exercise 5.5.1 that composing any number of functions x â†’ x + l or x â†’ kx (for k â‰  0) gives a function of the form f(x) = ax + b with a â‰  0."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.3"}),e.jsx("p",{className:"text-slate-300",children:"Show that projection of a line, from any finite point P, onto a parallel line is represented by a function of the form f(x) = ax + b."})]}),e.jsx(W,{className:"my-6"}),e.jsx(D,{sectionId:35,questions:I[35]||[],title:"Projection Quiz"})]})}export{G as default};
