const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-e3gVHbSN.js","./vendor-animation-0o8UKZ_1.js","./vendor-react-Drj8qL0h.js","./vendor-math-p018AHG0.js","./vendor-firebase-core-BXWtuYvb.js","./Theorems-CsfVsgRb.js","./Sidebar-BkLiezVW.js","./MathBlock-DHMt0FrA.js","./InteractiveModules-C2ZB7R_p.js","./SectionQuizPage-iFkKTd2C.js","./SectionQuiz-CpRFyxwe.js","./ProblemsIndex-qkeqKI-H.js","./useProblemProgress-BXHNV670.js","./part-01-Bmc64pGA.js","./part-02-o-imK2LK.js","./part-03-B6ljCl_U.js","./part-04-DZ7op8e2.js","./part-05-v-taAL3U.js","./part-06-okazlHRi.js","./part-07-CFfAXBwD.js","./part-08-DRxUR3mf.js","./ProblemsPart01-BEXAUxR7.js","./ProblemSet-7P9sfOWC.js","./ProblemsPart02-JAGL6s0p.js","./ProblemsPart03-fN4xvAv9.js","./ProblemsPart04-CRnSsNnV.js","./ProblemsPart05-CO4l1jzz.js","./ProblemsPart06-CpRIrfW6.js","./ProblemsPart07-KqcRFYEP.js","./ProblemsPart08-DAsMrH_q.js","./Section00-CLo_2-0V.js","./index-Di3Gbot4.js","./Section01-D3EI5REO.js","./Section02-CDUstiqA.js","./Section03-VupjPO8E.js","./Section04-DIsbSI0c.js","./Section05-B8grdNzs.js","./Section06-OjyyKniD.js","./Section07-BpTVmaQd.js","./Section08-BAbTjXPi.js","./Section09-CET9ZwBa.js","./Section10-CCqFZGpN.js","./Section11-q74QRkDt.js","./Section12-PTfdsVP_.js","./CircleAngleTheorem-ByWMeS-B.js","./Section13-D37pLEa0.js","./Section14-DPupDrlv.js","./Section15-BSxPp7bx.js","./Section16-Qm8CEg2x.js","./Section17-l2YQhAS2.js","./Section18-CY2CYWp6.js","./Section19-DLvrvtof.js","./Section20-BYHkz1Qp.js","./Section21-LvQz4ERY.js","./Section22-BbbNIuuP.js","./Section23-w87AD5kS.js","./Section24-CwKleqpi.js","./Section25-CwyHRJPH.js","./Section26-C_gBdF70.js","./Section27-CxKWskth.js","./Section28-TBMLBVmQ.js","./Section29-C0HdqOO9.js","./Section30-DhmwBifq.js","./Section31-kCqQwR06.js","./Section32-GgXVhKH_.js","./Section33-d675iiRW.js","./Section34-CIxU64y1.js","./Section35-BI4JyyB7.js","./Section36-DutuQHXy.js","./Section37-DTqHilC0.js","./Section38-Bi1nHq6j.js","./Section39-Cyu1j792.js","./Section40-DqtOtP_A.js","./Section41-BWz5iZlD.js","./Section42-lAWYfTr-.js","./Section43-BZYe1JHc.js","./Section44-D875Bc3H.js","./Section45-DA1fMxQU.js","./Section46-DBu_CpQw.js","./Section47-DHtnJRIp.js","./Section48-C3PLGgb1.js","./Section49-Ord1vt8v.js","./Section50-B9mpxSEY.js","./Section51-lfGu-N0-.js","./Section52-CXgRSbkP.js","./Section53-ZQWK4zB3.js","./Section54-eAkM7W-I.js","./Section55-Bb6lshcB.js","./Section56-IV_BNPdz.js","./Section57-BWqsF-Bq.js","./Section58-BoDiZnw2.js","./Section59-D6iXWT57.js","./Section60-WLf9T8TB.js","./Section61-BNFPUheH.js","./Section62-CCzKRaBV.js","./Section63-BcC6AVU7.js","./Section64-CkTGvS0d.js","./Section65-BWydCH7w.js"])))=>i.map(i=>d[i]);
import{j as S,m as zo,A as hh}from"./vendor-animation-0o8UKZ_1.js";import{r as H,a as xE,L as Or,N as jl,H as RE,R as DE,b as _t,u as IE}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import{o as kE}from"./vendor-firebase-core-BXWtuYvb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var g_={exports:{}},wc={},y_={exports:{}},__={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,Y){var F=V.length;V.push(Y);e:for(;0<F;){var de=F-1>>>1,we=V[de];if(0<s(we,Y))V[de]=Y,V[F]=we,F=de;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var Y=V[0],F=V.pop();if(F!==Y){V[0]=F;e:for(var de=0,we=V.length,be=we>>>1;de<be;){var yt=2*(de+1)-1,Re=V[yt],vt=yt+1,me=V[vt];if(0>s(Re,F))vt<we&&0>s(me,Re)?(V[de]=me,V[vt]=F,de=vt):(V[de]=Re,V[yt]=F,de=yt);else if(vt<we&&0>s(me,F))V[de]=me,V[vt]=F,de=vt;else break e}}return Y}function s(V,Y){var F=V.sortIndex-Y.sortIndex;return F!==0?F:V.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,p=null,m=3,b=!1,D=!1,z=!1,U=!1,O=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var Y=n(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=V)i(h),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=n(h)}}function j(V){if(z=!1,R(V),!D)if(n(c)!==null)D=!0,Z||(Z=!0,x());else{var Y=n(h);Y!==null&&oe(j,Y.startTime-V)}}var Z=!1,E=-1,y=5,_=-1;function v(){return U?!0:!(e.unstable_now()-_<y)}function T(){if(U=!1,Z){var V=e.unstable_now();_=V;var Y=!0;try{e:{D=!1,z&&(z=!1,w(E),E=-1),b=!0;var F=m;try{t:{for(R(V),p=n(c);p!==null&&!(p.expirationTime>V&&v());){var de=p.callback;if(typeof de=="function"){p.callback=null,m=p.priorityLevel;var we=de(p.expirationTime<=V);if(V=e.unstable_now(),typeof we=="function"){p.callback=we,R(V),Y=!0;break t}p===n(c)&&i(c),R(V)}else i(c);p=n(c)}if(p!==null)Y=!0;else{var be=n(h);be!==null&&oe(j,be.startTime-V),Y=!1}}break e}finally{p=null,m=F,b=!1}Y=void 0}}finally{Y?x():Z=!1}}}var x;if(typeof C=="function")x=function(){C(T)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ae=A.port2;A.port1.onmessage=T,x=function(){ae.postMessage(null)}}else x=function(){O(T,0)};function oe(V,Y){E=O(function(){V(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(V){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var F=m;m=Y;try{return V()}finally{m=F}},e.unstable_requestPaint=function(){U=!0},e.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=m;m=V;try{return Y()}finally{m=F}},e.unstable_scheduleCallback=function(V,Y,F){var de=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?de+F:de):F=de,V){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=F+we,V={id:d++,callback:Y,priorityLevel:V,startTime:F,expirationTime:we,sortIndex:-1},F>de?(V.sortIndex=F,t(h,V),n(c)===null&&V===n(h)&&(z?(w(E),E=-1):z=!0,oe(j,F-de))):(V.sortIndex=we,t(c,V),D||b||(D=!0,Z||(Z=!0,x()))),V},e.unstable_shouldYield=v,e.unstable_wrapCallback=function(V){var Y=m;return function(){var F=m;m=Y;try{return V.apply(this,arguments)}finally{m=F}}}})(__);y_.exports=__;var zE=y_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=zE,v_=H,ME=xE;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function b_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _p(e){if(tl(e)!==e)throw Error(L(188))}function LE(e){var t=e.alternate;if(!t){if(t=tl(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return _p(s),e;if(r===i)return _p(s),t;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function T_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T_(e),t!==null)return t;e=e.sibling}return null}var xe=Object.assign,UE=Symbol.for("react.element"),Pl=Symbol.for("react.transitional.element"),lo=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),w_=Symbol.for("react.consumer"),ci=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),gh=Symbol.for("react.activity"),jE=Symbol.for("react.memo_cache_sentinel"),vp=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=vp&&e[vp]||e["@@iterator"],typeof e=="function"?e:null)}var PE=Symbol.for("react.client.reference");function yh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===PE?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case dh:return"Profiler";case A_:return"StrictMode";case mh:return"Suspense";case ph:return"SuspenseList";case gh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case lo:return"Portal";case ci:return e.displayName||"Context";case w_:return(e._context.displayName||"Context")+".Consumer";case Nd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cd:return t=e.displayName||null,t!==null?t:yh(e.type)||"Memo";case ji:t=e._payload,e=e._init;try{return yh(e(t))}catch{}}return null}var uo=Array.isArray,K=v_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=ME.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$s={pending:!1,data:null,method:null,action:null},_h=[],Rr=-1;function $n(e){return{current:e}}function ot(e){0>Rr||(e.current=_h[Rr],_h[Rr]=null,Rr--)}function Ae(e,t){Rr++,_h[Rr]=e.current,e.current=t}var Bn=$n(null),Mo=$n(null),Wi=$n(null),Iu=$n(null);function ku(e,t){switch(Ae(Wi,t),Ae(Mo,e),Ae(Bn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wg(t),e=qv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(Bn),Ae(Bn,e)}function na(){ot(Bn),ot(Mo),ot(Wi)}function vh(e){e.memoizedState!==null&&Ae(Iu,e);var t=Bn.current,n=qv(t,e.type);t!==n&&(Ae(Mo,e),Ae(Bn,n))}function zu(e){Mo.current===e&&(ot(Bn),ot(Mo)),Iu.current===e&&(ot(Iu),$o._currentValue=$s)}var cf,Sp;function js(e){if(cf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cf=t&&t[1]||"",Sp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cf+e+Sp}var ff=!1;function hf(e,t){if(!e||ff)return"";ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(b){var m=b}Reflect.construct(e,[],p)}else{try{p.call()}catch(b){m=b}e.call(p.prototype)}}else{try{throw Error()}catch(b){m=b}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(b){if(b&&m&&typeof b.stack=="string")return[b.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var c=a.split(`
`),h=l.split(`
`);for(s=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===c.length||s===h.length)for(i=c.length-1,s=h.length-1;1<=i&&0<=s&&c[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(c[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||c[i]!==h[s]){var d=`
`+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=s);break}}}finally{ff=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?js(n):""}function VE(e,t){switch(e.tag){case 26:case 27:case 5:return js(e.type);case 16:return js("Lazy");case 13:return e.child!==t&&t!==null?js("Suspense Fallback"):js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return hf(e.type,!1);case 11:return hf(e.type.render,!1);case 1:return hf(e.type,!0);case 31:return js("Activity");default:return""}}function bp(e){try{var t="",n=null;do t+=VE(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Sh=Object.prototype.hasOwnProperty,xd=nt.unstable_scheduleCallback,df=nt.unstable_cancelCallback,HE=nt.unstable_shouldYield,BE=nt.unstable_requestPaint,Xt=nt.unstable_now,GE=nt.unstable_getCurrentPriorityLevel,O_=nt.unstable_ImmediatePriority,N_=nt.unstable_UserBlockingPriority,Mu=nt.unstable_NormalPriority,ZE=nt.unstable_LowPriority,C_=nt.unstable_IdlePriority,qE=nt.log,$E=nt.unstable_setDisableYieldValue,nl=null,Yt=null;function Yi(e){if(typeof qE=="function"&&$E(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(nl,e)}catch{}}var Ft=Math.clz32?Math.clz32:FE,XE=Math.log,YE=Math.LN2;function FE(e){return e>>>=0,e===0?32:31-(XE(e)/YE|0)|0}var Vl=256,Hl=262144,Bl=4194304;function Ps(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=Ps(i):(a&=l,a!==0?s=Ps(a):n||(n=l&~e,n!==0&&(s=Ps(n))))):(l=i&~r,l!==0?s=Ps(l):a!==0?s=Ps(a):n||(n=i&~e,n!==0&&(s=Ps(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function il(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function KE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x_(){var e=Bl;return Bl<<=1,!(Bl&62914560)&&(Bl=4194304),e}function mf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function JE(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Ft(n),p=1<<d;l[d]=0,c[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var b=m[d];b!==null&&(b.lane&=-536870913)}n&=~p}i!==0&&R_(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function R_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ft(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function D_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ft(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function I_(e,t){var n=t&-t;return n=n&42?1:Rd(n),n&(e.suspendedLanes|t)?0:n}function Rd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function k_(){var e=he.p;return e!==0?e:(e=window.event,e===void 0?32:nS(e.type))}function Ep(e,t){var n=he.p;try{return he.p=e,t()}finally{he.p=n}}var _s=Math.random().toString(36).slice(2),dt="__reactFiber$"+_s,zt="__reactProps$"+_s,ya="__reactContainer$"+_s,bh="__reactEvents$"+_s,QE="__reactListeners$"+_s,WE="__reactHandles$"+_s,Tp="__reactResources$"+_s,rl="__reactMarker$"+_s;function Id(e){delete e[dt],delete e[zt],delete e[bh],delete e[QE],delete e[WE]}function Dr(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ya]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rg(e);e!==null;){if(n=e[dt])return n;e=Rg(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[dt]||e[ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function co(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Zr(e){var t=e[Tp];return t||(t=e[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[rl]=!0}var z_=new Set,M_={};function ur(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(M_[e]=t,e=0;e<t.length;e++)z_.add(t[e])}var e1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ap={},wp={};function t1(e){return Sh.call(wp,e)?!0:Sh.call(Ap,e)?!1:e1.test(e)?wp[e]=!0:(Ap[e]=!0,!1)}function fu(e,t,n){if(t1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Gl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ei(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n1(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eh(e){if(!e._valueTracker){var t=L_(e)?"checked":"value";e._valueTracker=n1(e,t,""+e[t])}}function U_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=L_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Lu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i1=/[\n"\\]/g;function an(e){return e.replace(i1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Th(e,t,n,i,s,r,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+nn(t)):e.value!==""+nn(t)&&(e.value=""+nn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Ah(e,a,nn(t)):n!=null?Ah(e,a,nn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+nn(l):e.removeAttribute("name")}function j_(e,t,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Eh(e);return}n=n!=null?""+nn(n):"",t=t!=null?""+nn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Eh(e)}function Ah(e,t,n){t==="number"&&Lu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function qr(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function P_(e,t,n){if(t!=null&&(t=""+nn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+nn(n):""}function V_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(uo(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=nn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Eh(e)}function sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||s1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function H_(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Op(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Op(e,r,t[r])}function kd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hu(e){return a1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var wh=null;function zd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ir=null,$r=null;function Np(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Th(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[zt]||null;if(!s)throw Error(L(90));Th(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&U_(i)}break e;case"textarea":P_(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&qr(e,!!n.multiple,t,!1)}}}var pf=!1;function B_(e,t,n){if(pf)return e(t,n);pf=!0;try{var i=e(t);return i}finally{if(pf=!1,(Ir!==null||$r!==null)&&(jc(),Ir&&(t=Ir,e=$r,$r=Ir=null,Np(t),e)))for(t=0;t<e.length;t++)Np(e[t])}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[zt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(_i)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{Oh=!1}var Fi=null,Md=null,du=null;function G_(){if(du)return du;var e,t=Md,n=t.length,i,s="value"in Fi?Fi.value:Fi.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return du=s.slice(e,1<i?1-i:void 0)}function mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zl(){return!0}function Cp(){return!1}function Mt(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Zl:Cp,this.isPropagationStopped=Cp,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=Mt(cr),al=xe({},cr,{view:0,detail:0}),o1=Mt(al),gf,yf,Ka,Cc=xe({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(gf=e.screenX-Ka.screenX,yf=e.screenY-Ka.screenY):yf=gf=0,Ka=e),gf)},movementY:function(e){return"movementY"in e?e.movementY:yf}}),xp=Mt(Cc),l1=xe({},Cc,{dataTransfer:0}),u1=Mt(l1),c1=xe({},al,{relatedTarget:0}),_f=Mt(c1),f1=xe({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),h1=Mt(f1),d1=xe({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Mt(d1),p1=xe({},cr,{data:0}),Rp=Mt(p1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_1[e])?!!t[e]:!1}function Ld(){return v1}var S1=xe({},al,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(e){return e.type==="keypress"?mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b1=Mt(S1),E1=xe({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=Mt(E1),T1=xe({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),A1=Mt(T1),w1=xe({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O1=Mt(w1),N1=xe({},Cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C1=Mt(N1),x1=xe({},cr,{newState:0,oldState:0}),R1=Mt(x1),D1=[9,13,27,32],Ud=_i&&"CompositionEvent"in window,po=null;_i&&"documentMode"in document&&(po=document.documentMode);var I1=_i&&"TextEvent"in window&&!po,Z_=_i&&(!Ud||po&&8<po&&11>=po),Ip=" ",kp=!1;function q_(e,t){switch(e){case"keyup":return D1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kr=!1;function k1(e,t){switch(e){case"compositionend":return $_(t);case"keypress":return t.which!==32?null:(kp=!0,Ip);case"textInput":return e=t.data,e===Ip&&kp?null:e;default:return null}}function z1(e,t){if(kr)return e==="compositionend"||!Ud&&q_(e,t)?(e=G_(),du=Md=Fi=null,kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z_&&t.locale!=="ko"?null:t.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M1[e.type]:t==="textarea"}function X_(e,t,n,i){Ir?$r?$r.push(i):$r=[i]:Ir=i,t=ec(t,"onChange"),0<t.length&&(n=new Nc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var go=null,Uo=null;function L1(e){Bv(e,0)}function xc(e){var t=co(e);if(U_(t))return e}function Mp(e,t){if(e==="change")return t}var Y_=!1;if(_i){var vf;if(_i){var Sf="oninput"in document;if(!Sf){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Sf=typeof Lp.oninput=="function"}vf=Sf}else vf=!1;Y_=vf&&(!document.documentMode||9<document.documentMode)}function Up(){go&&(go.detachEvent("onpropertychange",F_),Uo=go=null)}function F_(e){if(e.propertyName==="value"&&xc(Uo)){var t=[];X_(t,Uo,e,zd(e)),B_(L1,t)}}function U1(e,t,n){e==="focusin"?(Up(),go=t,Uo=n,go.attachEvent("onpropertychange",F_)):e==="focusout"&&Up()}function j1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(Uo)}function P1(e,t){if(e==="click")return xc(t)}function V1(e,t){if(e==="input"||e==="change")return xc(t)}function H1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:H1;function jo(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Sh.call(t,s)||!Jt(e[s],t[s]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pp(e,t){var n=jp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jp(n)}}function K_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?K_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lu(e.document)}return t}function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var B1=_i&&"documentMode"in document&&11>=document.documentMode,zr=null,Nh=null,yo=null,Ch=!1;function Vp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||zr==null||zr!==Lu(i)||(i=zr,"selectionStart"in i&&jd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),yo&&jo(yo,i)||(yo=i,i=ec(Nh,"onSelect"),0<i.length&&(t=new Nc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=zr)))}function Us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},bf={},Q_={};_i&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function fr(e){if(bf[e])return bf[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Q_)return bf[e]=t[n];return e}var W_=fr("animationend"),e0=fr("animationiteration"),t0=fr("animationstart"),G1=fr("transitionrun"),Z1=fr("transitionstart"),q1=fr("transitioncancel"),n0=fr("transitionend"),i0=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function Nn(e,t){i0.set(e,t),ur(t,[e])}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],Lr=0,Pd=0;function Rc(){for(var e=Lr,t=Pd=Lr=0;t<e;){var n=tn[t];tn[t++]=null;var i=tn[t];tn[t++]=null;var s=tn[t];tn[t++]=null;var r=tn[t];if(tn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&s0(n,s,r)}}function Dc(e,t,n,i){tn[Lr++]=e,tn[Lr++]=t,tn[Lr++]=n,tn[Lr++]=i,Pd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Vd(e,t,n,i){return Dc(e,t,n,i),ju(e)}function hr(e,t){return Dc(e,null,null,t),ju(e)}function s0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-Ft(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function ju(e){if(50<Oo)throw Oo=0,Kh=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ur={};function $1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,i){return new $1(e,t,n,i)}function Hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pi(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function r0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pu(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")Hd(e)&&(a=1);else if(typeof e=="string")a=JT(e,n,Bn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case gh:return e=qt(31,n,t,s),e.elementType=gh,e.lanes=r,e;case xr:return Xs(n.children,s,r,t);case A_:a=8,s|=24;break;case dh:return e=qt(12,n,t,s|2),e.elementType=dh,e.lanes=r,e;case mh:return e=qt(13,n,t,s),e.elementType=mh,e.lanes=r,e;case ph:return e=qt(19,n,t,s),e.elementType=ph,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ci:a=10;break e;case w_:a=9;break e;case Nd:a=11;break e;case Cd:a=14;break e;case ji:a=16,i=null;break e}a=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=qt(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Xs(e,t,n,i){return e=qt(7,e,i,t),e.lanes=n,e}function Ef(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function a0(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Tf(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hp=new WeakMap;function on(e,t){if(typeof e=="object"&&e!==null){var n=Hp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:bp(t)},Hp.set(e,t),t)}return{value:e,source:t,stack:bp(t)}}var jr=[],Pr=0,Pu=null,Po=0,sn=[],rn=0,cs=null,jn=1,Pn="";function oi(e,t){jr[Pr++]=Po,jr[Pr++]=Pu,Pu=e,Po=t}function o0(e,t,n){sn[rn++]=jn,sn[rn++]=Pn,sn[rn++]=cs,cs=e;var i=jn;e=Pn;var s=32-Ft(i)-1;i&=~(1<<s),n+=1;var r=32-Ft(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,jn=1<<32-Ft(t)+s|n<<s|i,Pn=r+e}else jn=1<<r|n<<s|i,Pn=e}function Bd(e){e.return!==null&&(oi(e,1),o0(e,1,0))}function Gd(e){for(;e===Pu;)Pu=jr[--Pr],jr[Pr]=null,Po=jr[--Pr],jr[Pr]=null;for(;e===cs;)cs=sn[--rn],sn[rn]=null,Pn=sn[--rn],sn[rn]=null,jn=sn[--rn],sn[rn]=null}function l0(e,t){sn[rn++]=jn,sn[rn++]=Pn,sn[rn++]=cs,jn=t.id,Pn=t.overflow,cs=e}var mt=null,Ce=null,se=!1,es=null,ln=!1,Rh=Error(L(519));function fs(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(on(t,e)),Rh}function Bp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[dt]=e,t[zt]=i,n){case"dialog":te("cancel",t),te("close",t);break;case"iframe":case"object":case"embed":te("load",t);break;case"video":case"audio":for(n=0;n<Zo.length;n++)te(Zo[n],t);break;case"source":te("error",t);break;case"img":case"image":case"link":te("error",t),te("load",t);break;case"details":te("toggle",t);break;case"input":te("invalid",t),j_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":te("invalid",t);break;case"textarea":te("invalid",t),V_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Zv(t.textContent,n)?(i.popover!=null&&(te("beforetoggle",t),te("toggle",t)),i.onScroll!=null&&te("scroll",t),i.onScrollEnd!=null&&te("scrollend",t),i.onClick!=null&&(t.onclick=fi),t=!0):t=!1,t||fs(e,!0)}function Gp(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:mt=mt.return}}function Tr(e){if(e!==mt)return!1;if(!se)return Gp(e),se=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||td(e.type,e.memoizedProps)),n=!n),n&&Ce&&fs(e),Gp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Ce=xg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Ce=xg(e)}else t===27?(t=Ce,vs(e.type)?(e=rd,rd=null,Ce=e):Ce=t):Ce=mt?hn(e.stateNode.nextSibling):null;return!0}function Ws(){Ce=mt=null,se=!1}function Af(){var e=es;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),es=null),e}function Vo(e){es===null?es=[e]:es.push(e)}var Dh=$n(null),dr=null,hi=null;function Vi(e,t,n){Ae(Dh,t._currentValue),t._currentValue=n}function gi(e){e._currentValue=Dh.current,ot(Dh)}function Ih(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function kh(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Ih(r.return,n,e),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(L(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Ih(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function va(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=s.type;Jt(s.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(s===Iu.current){if(a=s.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push($o):e=[$o])}s=s.return}e!==null&&kh(t,e,n,i),t.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!Jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function er(e){dr=e,hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return u0(dr,e)}function ql(e,t){return dr===null&&er(e),u0(e,t)}function u0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},hi===null){if(e===null)throw Error(L(308));hi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hi=hi.next=t;return n}var X1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Y1=nt.unstable_scheduleCallback,F1=nt.unstable_NormalPriority,Fe={$$typeof:ci,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new X1,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&Y1(F1,function(){e.controller.abort()})}var _o=null,zh=0,ra=0,Xr=null;function K1(e,t){if(_o===null){var n=_o=[];zh=0,ra=pm(),Xr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return zh++,t.then(Zp,Zp),t}function Zp(){if(--zh===0&&_o!==null){Xr!==null&&(Xr.status="fulfilled");var e=_o;_o=null,ra=0,Xr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function J1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var qp=K.S;K.S=function(e,t){Tv=Xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&K1(e,t),qp!==null&&qp(e,t)};var Ys=$n(null);function qd(){var e=Ys.current;return e!==null?e:Te.pooledCache}function gu(e,t){t===null?Ae(Ys,Ys.current):Ae(Ys,t.pool)}function c0(){var e=qd();return e===null?null:{parent:Fe._currentValue,pool:e}}var Sa=Error(L(460)),$d=Error(L(474)),Ic=Error(L(542)),Hu={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function f0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fi,fi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yp(e),e;default:if(typeof t.status=="string")t.then(fi,fi);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yp(e),e}throw Fs=t,Sa}}function Vs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Fs=n,Sa):n}}var Fs=null;function Xp(){if(Fs===null)throw Error(L(459));var e=Fs;return Fs=null,e}function Yp(e){if(e===Sa||e===Ic)throw Error(L(483))}var Yr=null,Ho=0;function $l(e){var t=Ho;return Ho+=1,Yr===null&&(Yr=[]),f0(Yr,e,t)}function Ja(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xl(e,t){throw t.$$typeof===UE?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function h0(e){function t(O,w){if(e){var C=O.deletions;C===null?(O.deletions=[w],O.flags|=16):C.push(w)}}function n(O,w){if(!e)return null;for(;w!==null;)t(O,w),w=w.sibling;return null}function i(O){for(var w=new Map;O!==null;)O.key!==null?w.set(O.key,O):w.set(O.index,O),O=O.sibling;return w}function s(O,w){return O=pi(O,w),O.index=0,O.sibling=null,O}function r(O,w,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<w?(O.flags|=67108866,w):C):(O.flags|=67108866,w)):(O.flags|=1048576,w)}function a(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function l(O,w,C,R){return w===null||w.tag!==6?(w=Ef(C,O.mode,R),w.return=O,w):(w=s(w,C),w.return=O,w)}function c(O,w,C,R){var j=C.type;return j===xr?d(O,w,C.props.children,R,C.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ji&&Vs(j)===w.type)?(w=s(w,C.props),Ja(w,C),w.return=O,w):(w=pu(C.type,C.key,C.props,null,O.mode,R),Ja(w,C),w.return=O,w)}function h(O,w,C,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Tf(C,O.mode,R),w.return=O,w):(w=s(w,C.children||[]),w.return=O,w)}function d(O,w,C,R,j){return w===null||w.tag!==7?(w=Xs(C,O.mode,R,j),w.return=O,w):(w=s(w,C),w.return=O,w)}function p(O,w,C){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Ef(""+w,O.mode,C),w.return=O,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pl:return C=pu(w.type,w.key,w.props,null,O.mode,C),Ja(C,w),C.return=O,C;case lo:return w=Tf(w,O.mode,C),w.return=O,w;case ji:return w=Vs(w),p(O,w,C)}if(uo(w)||Ya(w))return w=Xs(w,O.mode,C,null),w.return=O,w;if(typeof w.then=="function")return p(O,$l(w),C);if(w.$$typeof===ci)return p(O,ql(O,w),C);Xl(O,w)}return null}function m(O,w,C,R){var j=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return j!==null?null:l(O,w,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Pl:return C.key===j?c(O,w,C,R):null;case lo:return C.key===j?h(O,w,C,R):null;case ji:return C=Vs(C),m(O,w,C,R)}if(uo(C)||Ya(C))return j!==null?null:d(O,w,C,R,null);if(typeof C.then=="function")return m(O,w,$l(C),R);if(C.$$typeof===ci)return m(O,w,ql(O,C),R);Xl(O,C)}return null}function b(O,w,C,R,j){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return O=O.get(C)||null,l(w,O,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Pl:return O=O.get(R.key===null?C:R.key)||null,c(w,O,R,j);case lo:return O=O.get(R.key===null?C:R.key)||null,h(w,O,R,j);case ji:return R=Vs(R),b(O,w,C,R,j)}if(uo(R)||Ya(R))return O=O.get(C)||null,d(w,O,R,j,null);if(typeof R.then=="function")return b(O,w,C,$l(R),j);if(R.$$typeof===ci)return b(O,w,C,ql(w,R),j);Xl(w,R)}return null}function D(O,w,C,R){for(var j=null,Z=null,E=w,y=w=0,_=null;E!==null&&y<C.length;y++){E.index>y?(_=E,E=null):_=E.sibling;var v=m(O,E,C[y],R);if(v===null){E===null&&(E=_);break}e&&E&&v.alternate===null&&t(O,E),w=r(v,w,y),Z===null?j=v:Z.sibling=v,Z=v,E=_}if(y===C.length)return n(O,E),se&&oi(O,y),j;if(E===null){for(;y<C.length;y++)E=p(O,C[y],R),E!==null&&(w=r(E,w,y),Z===null?j=E:Z.sibling=E,Z=E);return se&&oi(O,y),j}for(E=i(E);y<C.length;y++)_=b(E,O,y,C[y],R),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?y:_.key),w=r(_,w,y),Z===null?j=_:Z.sibling=_,Z=_);return e&&E.forEach(function(T){return t(O,T)}),se&&oi(O,y),j}function z(O,w,C,R){if(C==null)throw Error(L(151));for(var j=null,Z=null,E=w,y=w=0,_=null,v=C.next();E!==null&&!v.done;y++,v=C.next()){E.index>y?(_=E,E=null):_=E.sibling;var T=m(O,E,v.value,R);if(T===null){E===null&&(E=_);break}e&&E&&T.alternate===null&&t(O,E),w=r(T,w,y),Z===null?j=T:Z.sibling=T,Z=T,E=_}if(v.done)return n(O,E),se&&oi(O,y),j;if(E===null){for(;!v.done;y++,v=C.next())v=p(O,v.value,R),v!==null&&(w=r(v,w,y),Z===null?j=v:Z.sibling=v,Z=v);return se&&oi(O,y),j}for(E=i(E);!v.done;y++,v=C.next())v=b(E,O,y,v.value,R),v!==null&&(e&&v.alternate!==null&&E.delete(v.key===null?y:v.key),w=r(v,w,y),Z===null?j=v:Z.sibling=v,Z=v);return e&&E.forEach(function(x){return t(O,x)}),se&&oi(O,y),j}function U(O,w,C,R){if(typeof C=="object"&&C!==null&&C.type===xr&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Pl:e:{for(var j=C.key;w!==null;){if(w.key===j){if(j=C.type,j===xr){if(w.tag===7){n(O,w.sibling),R=s(w,C.props.children),R.return=O,O=R;break e}}else if(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ji&&Vs(j)===w.type){n(O,w.sibling),R=s(w,C.props),Ja(R,C),R.return=O,O=R;break e}n(O,w);break}else t(O,w);w=w.sibling}C.type===xr?(R=Xs(C.props.children,O.mode,R,C.key),R.return=O,O=R):(R=pu(C.type,C.key,C.props,null,O.mode,R),Ja(R,C),R.return=O,O=R)}return a(O);case lo:e:{for(j=C.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(O,w.sibling),R=s(w,C.children||[]),R.return=O,O=R;break e}else{n(O,w);break}else t(O,w);w=w.sibling}R=Tf(C,O.mode,R),R.return=O,O=R}return a(O);case ji:return C=Vs(C),U(O,w,C,R)}if(uo(C))return D(O,w,C,R);if(Ya(C)){if(j=Ya(C),typeof j!="function")throw Error(L(150));return C=j.call(C),z(O,w,C,R)}if(typeof C.then=="function")return U(O,w,$l(C),R);if(C.$$typeof===ci)return U(O,w,ql(O,C),R);Xl(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,w!==null&&w.tag===6?(n(O,w.sibling),R=s(w,C),R.return=O,O=R):(n(O,w),R=Ef(C,O.mode,R),R.return=O,O=R),a(O)):n(O,w)}return function(O,w,C,R){try{Ho=0;var j=U(O,w,C,R);return Yr=null,j}catch(E){if(E===Sa||E===Ic)throw E;var Z=qt(29,E,null,O.mode);return Z.lanes=R,Z.return=O,Z}finally{}}}var tr=h0(!0),d0=h0(!1),Pi=!1;function Xd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ns(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=ju(e),s0(e,null,n),t}return Dc(e,i,t,n),ju(e)}function vo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,D_(e,n)}}function wf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lh=!1;function So(){if(Lh){var e=Xr;if(e!==null)throw e}}function bo(e,t,n,i){Lh=!1;var s=e.updateQueue;Pi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?r=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(r!==null){var p=s.baseState;a=0,d=h=c=null,l=r;do{var m=l.lane&-536870913,b=m!==l.lane;if(b?(ie&m)===m:(i&m)===m){m!==0&&m===ra&&(Lh=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var D=e,z=l;m=t;var U=n;switch(z.tag){case 1:if(D=z.payload,typeof D=="function"){p=D.call(U,p,m);break e}p=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=z.payload,m=typeof D=="function"?D.call(U,p,m):D,m==null)break e;p=xe({},p,m);break e;case 2:Pi=!0}}m=l.callback,m!==null&&(e.flags|=64,b&&(e.flags|=8192),b=s.callbacks,b===null?s.callbacks=[m]:b.push(m))}else b={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=b,c=p):d=d.next=b,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;b=l,l=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),ds|=a,e.lanes=a,e.memoizedState=p}}function m0(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function p0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)m0(n[e],t)}var aa=$n(null),Bu=$n(0);function Fp(e,t){e=Ei,Ae(Bu,e),Ae(aa,t),Ei=e|t.baseLanes}function Uh(){Ae(Bu,Ei),Ae(aa,aa.current)}function Yd(){Ei=Bu.current,ot(aa),ot(Bu)}var Qt=$n(null),fn=null;function Hi(e){var t=e.alternate;Ae(Ge,Ge.current&1),Ae(Qt,e),fn===null&&(t===null||aa.current!==null||t.memoizedState!==null)&&(fn=e)}function jh(e){Ae(Ge,Ge.current),Ae(Qt,e),fn===null&&(fn=e)}function g0(e){e.tag===22?(Ae(Ge,Ge.current),Ae(Qt,e),fn===null&&(fn=e)):Bi()}function Bi(){Ae(Ge,Ge.current),Ae(Qt,Qt.current)}function Zt(e){ot(Qt),fn===e&&(fn=null),ot(Ge)}var Ge=$n(0);function Gu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||id(n)||sd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vi=0,Q=null,Se=null,Xe=null,Zu=!1,Fr=!1,nr=!1,qu=0,Bo=0,Kr=null,Q1=0;function Me(){throw Error(L(321))}function Fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Kd(e,t,n,i,s,r){return vi=r,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?X0:om,nr=!1,r=n(i,s),nr=!1,Fr&&(r=_0(t,n,i,s)),y0(e),r}function y0(e){K.H=Go;var t=Se!==null&&Se.next!==null;if(vi=0,Xe=Se=Q=null,Zu=!1,Bo=0,Kr=null,t)throw Error(L(300));e===null||Ke||(e=e.dependencies,e!==null&&Vu(e)&&(Ke=!0))}function _0(e,t,n,i){Q=e;var s=0;do{if(Fr&&(Kr=null),Bo=0,Fr=!1,25<=s)throw Error(L(301));if(s+=1,Xe=Se=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}K.H=Y0,r=t(n,i)}while(Fr);return r}function W1(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?ll(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(Q.flags|=1024),t}function Jd(){var e=qu!==0;return qu=0,e}function Qd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Wd(e){if(Zu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zu=!1}vi=0,Xe=Se=Q=null,Fr=!1,Bo=qu=0,Kr=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Q.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ze(){if(Se===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Xe===null?Q.memoizedState:Xe.next;if(t!==null)Xe=t,Se=e;else{if(e===null)throw Q.alternate===null?Error(L(467)):Error(L(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Xe===null?Q.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var t=Bo;return Bo+=1,Kr===null&&(Kr=[]),e=f0(Kr,e,t),t=Q,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?X0:om),e}function zc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===ci)return pt(e)}throw Error(L(438,String(e)))}function em(e){var t=null,n=Q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=kc(),Q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=jE;return t.index++,n}function Si(e,t){return typeof t=="function"?t(e):t}function yu(e){var t=Ze();return tm(t,Se,e)}function tm(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var l=a=null,c=null,h=t,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(ie&p)===p:(vi&p)===p){var m=h.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===ra&&(d=!0);else if((vi&m)===m){h=h.next,m===ra&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=p,a=r):c=c.next=p,Q.lanes|=m,ds|=m;p=h.action,nr&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else m={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=m,a=r):c=c.next=m,Q.lanes|=p,ds|=p;h=h.next}while(h!==null&&h!==t);if(c===null?a=r:c.next=l,!Jt(r,e.memoizedState)&&(Ke=!0,d&&(n=Xr,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=c,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Of(e){var t=Ze(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);Jt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function v0(e,t,n){var i=Q,s=Ze(),r=se;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=t();var a=!Jt((Se||s).memoizedState,n);if(a&&(s.memoizedState=n,Ke=!0),s=s.queue,nm(E0.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,oa(9,{destroy:void 0},b0.bind(null,i,s,n,t),null),Te===null)throw Error(L(349));r||vi&127||S0(i,t,n)}return n}function S0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t=kc(),Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function b0(e,t,n,i){t.value=n,t.getSnapshot=i,T0(t)&&A0(e)}function E0(e,t,n){return n(function(){T0(t)&&A0(e)})}function T0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function A0(e){var t=hr(e,2);t!==null&&kt(t,e,2)}function Ph(e){var t=Et();if(typeof e=="function"){var n=e;if(e=n(),nr){Yi(!0);try{n()}finally{Yi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t}function w0(e,t,n,i){return e.baseState=n,tm(e,Se,typeof i=="function"?i:Si)}function eT(e,t,n,i,s){if(Lc(e))throw Error(L(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};K.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,O0(t,r)):(r.next=n.next,t.pending=n.next=r)}}function O0(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=K.T,a={};K.T=a;try{var l=n(s,i),c=K.S;c!==null&&c(a,l),Kp(e,t,l)}catch(h){Vh(e,t,h)}finally{r!==null&&a.types!==null&&(r.types=a.types),K.T=r}}else try{r=n(s,i),Kp(e,t,r)}catch(h){Vh(e,t,h)}}function Kp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Jp(e,t,i)},function(i){return Vh(e,t,i)}):Jp(e,t,n)}function Jp(e,t,n){t.status="fulfilled",t.value=n,N0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,O0(e,n)))}function Vh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,N0(t),t=t.next;while(t!==i)}e.action=null}function N0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function C0(e,t){return t}function Qp(e,t){if(se){var n=Te.formState;if(n!==null){e:{var i=Q;if(se){if(Ce){t:{for(var s=Ce,r=ln;s.nodeType!==8;){if(!r){s=null;break t}if(s=hn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Ce=hn(s.nextSibling),i=s.data==="F!";break e}}fs(i)}i=!1}i&&(t=n[0])}}return n=Et(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:t},n.queue=i,n=Z0.bind(null,Q,i),i.dispatch=n,i=Ph(!1),r=am.bind(null,Q,!1,i.queue),i=Et(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=eT.bind(null,Q,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function Wp(e){var t=Ze();return x0(t,Se,e)}function x0(e,t,n){if(t=tm(e,t,C0)[0],e=yu(Si)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ll(t)}catch(a){throw a===Sa?Ic:a}else i=t;t=Ze();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(Q.flags|=2048,oa(9,{destroy:void 0},tT.bind(null,s,n),null)),[i,r,e]}function tT(e,t){e.action=t}function eg(e){var t=Ze(),n=Se;if(n!==null)return x0(t,n,e);Ze(),t=t.memoizedState,n=Ze();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function oa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Q.updateQueue,t===null&&(t=kc(),Q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function R0(){return Ze().memoizedState}function _u(e,t,n,i){var s=Et();Q.flags|=e,s.memoizedState=oa(1|t,{destroy:void 0},n,i===void 0?null:i)}function Mc(e,t,n,i){var s=Ze();i=i===void 0?null:i;var r=s.memoizedState.inst;Se!==null&&i!==null&&Fd(i,Se.memoizedState.deps)?s.memoizedState=oa(t,r,n,i):(Q.flags|=e,s.memoizedState=oa(1|t,r,n,i))}function tg(e,t){_u(8390656,8,e,t)}function nm(e,t){Mc(2048,8,e,t)}function nT(e){Q.flags|=4;var t=Q.updateQueue;if(t===null)t=kc(),Q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function D0(e){var t=Ze().memoizedState;return nT({ref:t,nextImpl:e}),function(){if(fe&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function I0(e,t){return Mc(4,2,e,t)}function k0(e,t){return Mc(4,4,e,t)}function z0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M0(e,t,n){n=n!=null?n.concat([e]):null,Mc(4,4,z0.bind(null,t,e),n)}function im(){}function L0(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Fd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function U0(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Fd(t,i[1]))return i[0];if(i=e(),nr){Yi(!0);try{e()}finally{Yi(!1)}}return n.memoizedState=[i,t],i}function sm(e,t,n){return n===void 0||vi&1073741824&&!(ie&261930)?e.memoizedState=t:(e.memoizedState=n,e=wv(),Q.lanes|=e,ds|=e,n)}function j0(e,t,n,i){return Jt(n,t)?n:aa.current!==null?(e=sm(e,n,i),Jt(e,t)||(Ke=!0),e):!(vi&42)||vi&1073741824&&!(ie&261930)?(Ke=!0,e.memoizedState=n):(e=wv(),Q.lanes|=e,ds|=e,t)}function P0(e,t,n,i,s){var r=he.p;he.p=r!==0&&8>r?r:8;var a=K.T,l={};K.T=l,am(e,!1,t,n);try{var c=s(),h=K.S;if(h!==null&&h(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=J1(c,i);Eo(e,t,d,Kt(e))}else Eo(e,t,i,Kt(e))}catch(p){Eo(e,t,{then:function(){},status:"rejected",reason:p},Kt())}finally{he.p=r,a!==null&&l.types!==null&&(a.types=l.types),K.T=a}}function iT(){}function Hh(e,t,n,i){if(e.tag!==5)throw Error(L(476));var s=V0(e).queue;P0(e,s,t,$s,n===null?iT:function(){return H0(e),n(i)})}function V0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$s,baseState:$s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:$s},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function H0(e){var t=V0(e);t.next===null&&(t=e.alternate.memoizedState),Eo(e,t.next.queue,{},Kt())}function rm(){return pt($o)}function B0(){return Ze().memoizedState}function G0(){return Ze().memoizedState}function sT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Kt();e=ts(n);var i=ns(t,e,n);i!==null&&(kt(i,t,n),vo(i,t,n)),t={cache:Zd()},e.payload=t;return}t=t.return}}function rT(e,t,n){var i=Kt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lc(e)?q0(t,n):(n=Vd(e,t,n,i),n!==null&&(kt(n,e,i),$0(n,t,i)))}function Z0(e,t,n){var i=Kt();Eo(e,t,n,i)}function Eo(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lc(e))q0(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,Jt(l,a))return Dc(e,t,s,0),Te===null&&Rc(),!1}catch{}finally{}if(n=Vd(e,t,s,i),n!==null)return kt(n,e,i),$0(n,t,i),!0}return!1}function am(e,t,n,i){if(i={lane:2,revertLane:pm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Lc(e)){if(t)throw Error(L(479))}else t=Vd(e,n,i,2),t!==null&&kt(t,e,2)}function Lc(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function q0(e,t){Fr=Zu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,D_(e,n)}}var Go={readContext:pt,use:zc,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Go.useEffectEvent=Me;var X0={readContext:pt,use:zc,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:tg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_u(4194308,4,z0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){_u(4,2,e,t)},useMemo:function(e,t){var n=Et();t=t===void 0?null:t;var i=e();if(nr){Yi(!0);try{e()}finally{Yi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Et();if(n!==void 0){var s=n(t);if(nr){Yi(!0);try{n(t)}finally{Yi(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=rT.bind(null,Q,e),[i.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=Ph(e);var t=e.queue,n=Z0.bind(null,Q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:im,useDeferredValue:function(e,t){var n=Et();return sm(n,e,t)},useTransition:function(){var e=Ph(!1);return e=P0.bind(null,Q,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Q,s=Et();if(se){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Te===null)throw Error(L(349));ie&127||S0(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,tg(E0.bind(null,i,r,e),[e]),i.flags|=2048,oa(9,{destroy:void 0},b0.bind(null,i,r,n,t),null),n},useId:function(){var e=Et(),t=Te.identifierPrefix;if(se){var n=Pn,i=jn;n=(i&~(1<<32-Ft(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Q1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rm,useFormState:Qp,useActionState:Qp,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=am.bind(null,Q,!0,n),n.dispatch=t,[e,t]},useMemoCache:em,useCacheRefresh:function(){return Et().memoizedState=sT.bind(null,Q)},useEffectEvent:function(e){var t=Et(),n={impl:e};return t.memoizedState=n,function(){if(fe&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},om={readContext:pt,use:zc,useCallback:L0,useContext:pt,useEffect:nm,useImperativeHandle:M0,useInsertionEffect:I0,useLayoutEffect:k0,useMemo:U0,useReducer:yu,useRef:R0,useState:function(){return yu(Si)},useDebugValue:im,useDeferredValue:function(e,t){var n=Ze();return j0(n,Se.memoizedState,e,t)},useTransition:function(){var e=yu(Si)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:ll(e),t]},useSyncExternalStore:v0,useId:B0,useHostTransitionStatus:rm,useFormState:Wp,useActionState:Wp,useOptimistic:function(e,t){var n=Ze();return w0(n,Se,e,t)},useMemoCache:em,useCacheRefresh:G0};om.useEffectEvent=D0;var Y0={readContext:pt,use:zc,useCallback:L0,useContext:pt,useEffect:nm,useImperativeHandle:M0,useInsertionEffect:I0,useLayoutEffect:k0,useMemo:U0,useReducer:Of,useRef:R0,useState:function(){return Of(Si)},useDebugValue:im,useDeferredValue:function(e,t){var n=Ze();return Se===null?sm(n,e,t):j0(n,Se.memoizedState,e,t)},useTransition:function(){var e=Of(Si)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:ll(e),t]},useSyncExternalStore:v0,useId:B0,useHostTransitionStatus:rm,useFormState:eg,useActionState:eg,useOptimistic:function(e,t){var n=Ze();return Se!==null?w0(n,Se,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:em,useCacheRefresh:G0};Y0.useEffectEvent=D0;function Nf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Kt(),s=ts(i);s.payload=t,n!=null&&(s.callback=n),t=ns(e,s,i),t!==null&&(kt(t,e,i),vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Kt(),s=ts(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ns(e,s,i),t!==null&&(kt(t,e,i),vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),i=ts(n);i.tag=2,t!=null&&(i.callback=t),t=ns(e,i,n),t!==null&&(kt(t,e,n),vo(t,e,n))}};function ng(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!jo(n,i)||!jo(s,r):!0}function ig(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bh.enqueueReplaceState(t,t.state,null)}function ir(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=xe({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function F0(e){Uu(e)}function K0(e){console.error(e)}function J0(e){Uu(e)}function $u(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function sg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Gh(e,t,n){return n=ts(n),n.tag=3,n.payload={element:null},n.callback=function(){$u(e,t)},n}function Q0(e){return e=ts(e),e.tag=3,e}function W0(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){sg(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){sg(t,n,i),typeof s!="function"&&(is===null?is=new Set([this]):is.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function aT(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&va(t,n,s,!0),n=Qt.current,n!==null){switch(n.tag){case 31:case 13:return fn===null?Ju():n.alternate===null&&Le===0&&(Le=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Hu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),jf(e,i,s)),!1;case 22:return n.flags|=65536,i===Hu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),jf(e,i,s)),!1}throw Error(L(435,n.tag))}return jf(e,i,s),Ju(),!1}if(se)return t=Qt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==Rh&&(e=Error(L(422),{cause:i}),Vo(on(e,n)))):(i!==Rh&&(t=Error(L(423),{cause:i}),Vo(on(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=on(i,n),s=Gh(e.stateNode,i,s),wf(e,s),Le!==4&&(Le=2)),!1;var r=Error(L(520),{cause:i});if(r=on(r,n),wo===null?wo=[r]:wo.push(r),Le!==4&&(Le=2),t===null)return!0;i=on(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Gh(n.stateNode,i,e),wf(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Q0(s),W0(s,e,n,i),wf(n,s),!1}n=n.return}while(n!==null);return!1}var lm=Error(L(461)),Ke=!1;function ft(e,t,n,i){t.child=e===null?d0(t,null,n,i):tr(t,e.child,n,i)}function rg(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return er(t),i=Kd(e,t,n,a,r,s),l=Jd(),e!==null&&!Ke?(Qd(e,t,s),bi(e,t,s)):(se&&l&&Bd(t),t.flags|=1,ft(e,t,i,s),t.child)}function ag(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Hd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,ev(e,t,r,i,s)):(e=pu(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!um(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(a,i)&&e.ref===t.ref)return bi(e,t,s)}return t.flags|=1,e=pi(r,i),e.ref=t.ref,e.return=t,t.child=e}function ev(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(jo(r,i)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=i=r,um(e,s))e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,bi(e,t,s)}return Zh(e,t,n,i,s)}function tv(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return og(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(t,r!==null?r.cachePool:null),r!==null?Fp(t,r):Uh(),g0(t);else return i=t.lanes=536870912,og(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(gu(t,r.cachePool),Fp(t,r),Bi(),t.memoizedState=null):(e!==null&&gu(t,null),Uh(),Bi());return ft(e,t,s,n),t.child}function fo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function og(e,t,n,i,s){var r=qd();return r=r===null?null:{parent:Fe._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&gu(t,null),Uh(),g0(t),e!==null&&va(e,t,i,!0),t.childLanes=s,null}function vu(e,t){return t=Xu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function lg(e,t,n){return tr(t,e.child,null,n),e=vu(t,t.pendingProps),e.flags|=2,Zt(t),t.memoizedState=null,e}function oT(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(se){if(i.mode==="hidden")return e=vu(t,i),t.lanes=536870912,fo(null,e);if(jh(t),(e=Ce)?(e=Xv(e,ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:cs!==null?{id:jn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=a0(e),n.return=t,t.child=n,mt=t,Ce=null)):e=null,e===null)throw fs(t);return t.lanes=536870912,null}return vu(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(jh(t),s)if(t.flags&256)t.flags&=-257,t=lg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Ke||va(e,t,n,!1),s=(n&e.childLanes)!==0,Ke||s){if(i=Te,i!==null&&(a=I_(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,hr(e,a),kt(i,e,a),lm;Ju(),t=lg(e,t,n)}else e=r.treeContext,Ce=hn(a.nextSibling),mt=t,se=!0,es=null,ln=!1,e!==null&&l0(t,e),t=vu(t,i),t.flags|=4096;return t}return e=pi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Su(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Zh(e,t,n,i,s){return er(t),n=Kd(e,t,n,i,void 0,s),i=Jd(),e!==null&&!Ke?(Qd(e,t,s),bi(e,t,s)):(se&&i&&Bd(t),t.flags|=1,ft(e,t,n,s),t.child)}function ug(e,t,n,i,s,r){return er(t),t.updateQueue=null,n=_0(t,i,n,s),y0(e),i=Jd(),e!==null&&!Ke?(Qd(e,t,r),bi(e,t,r)):(se&&i&&Bd(t),t.flags|=1,ft(e,t,n,r),t.child)}function cg(e,t,n,i,s){if(er(t),t.stateNode===null){var r=Ur,a=n.contextType;typeof a=="object"&&a!==null&&(r=pt(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Bh,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Xd(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?pt(a):Ur,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Nf(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Bh.enqueueReplaceState(r,r.state,null),bo(t,i,r,s),So(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var l=t.memoizedProps,c=ir(n,l);r.props=c;var h=r.context,d=n.contextType;a=Ur,typeof d=="object"&&d!==null&&(a=pt(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&ig(t,r,i,a),Pi=!1;var m=t.memoizedState;r.state=m,bo(t,i,r,s),So(),h=t.memoizedState,l||m!==h||Pi?(typeof p=="function"&&(Nf(t,n,p,i),h=t.memoizedState),(c=Pi||ng(t,n,c,i,m,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=a,i=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Mh(e,t),a=t.memoizedProps,d=ir(n,a),r.props=d,p=t.pendingProps,m=r.context,h=n.contextType,c=Ur,typeof h=="object"&&h!==null&&(c=pt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==p||m!==c)&&ig(t,r,i,c),Pi=!1,m=t.memoizedState,r.state=m,bo(t,i,r,s),So();var b=t.memoizedState;a!==p||m!==b||Pi||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof l=="function"&&(Nf(t,n,l,i),b=t.memoizedState),(d=Pi||ng(t,n,d,i,m,b,c)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,b,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,b,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=b),r.props=i,r.state=b,r.context=c,i=d):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Su(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=tr(t,e.child,null,s),t.child=tr(t,null,n,s)):ft(e,t,n,s),t.memoizedState=r.state,e=t.child):e=bi(e,t,s),e}function fg(e,t,n,i){return Ws(),t.flags|=256,ft(e,t,n,i),t.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:c0()}}function Rf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$t),e}function nv(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(se){if(s?Hi(t):Bi(),(e=Ce)?(e=Xv(e,ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:cs!==null?{id:jn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=a0(e),n.return=t,t.child=n,mt=t,Ce=null)):e=null,e===null)throw fs(t);return sd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Bi(),s=t.mode,l=Xu({mode:"hidden",children:l},s),i=Xs(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=xf(n),i.childLanes=Rf(e,a,n),t.memoizedState=Cf,fo(null,i)):(Hi(t),qh(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(r)t.flags&256?(Hi(t),t.flags&=-257,t=Df(e,t,n)):t.memoizedState!==null?(Bi(),t.child=e.child,t.flags|=128,t=null):(Bi(),l=i.fallback,s=t.mode,i=Xu({mode:"visible",children:i.children},s),l=Xs(l,s,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,tr(t,e.child,null,n),i=t.child,i.memoizedState=xf(n),i.childLanes=Rf(e,a,n),t.memoizedState=Cf,t=fo(null,i));else if(Hi(t),sd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(L(419)),i.stack="",i.digest=a,Vo({value:i,source:null,stack:null}),t=Df(e,t,n)}else if(Ke||va(e,t,n,!1),a=(n&e.childLanes)!==0,Ke||a){if(a=Te,a!==null&&(i=I_(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,hr(e,i),kt(a,e,i),lm;id(l)||Ju(),t=Df(e,t,n)}else id(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ce=hn(l.nextSibling),mt=t,se=!0,es=null,ln=!1,e!==null&&l0(t,e),t=qh(t,i.children),t.flags|=4096);return t}return s?(Bi(),l=i.fallback,s=t.mode,c=e.child,h=c.sibling,i=pi(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,h!==null?l=pi(h,l):(l=Xs(l,s,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,fo(null,i),i=t.child,l=e.child.memoizedState,l===null?l=xf(n):(s=l.cachePool,s!==null?(c=Fe._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=c0(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Rf(e,a,n),t.memoizedState=Cf,fo(e.child,i)):(Hi(t),n=e.child,e=n.sibling,n=pi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function qh(e,t){return t=Xu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xu(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function Df(e,t,n){return tr(t,e.child,null,n),e=qh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ih(e.return,t,n)}function If(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function iv(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=Ge.current,l=(a&2)!==0;if(l?(a=a&1|2,t.flags|=128):a&=1,Ae(Ge,a),ft(e,t,i,n),i=se?Po:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hg(e,n,t);else if(e.tag===19)hg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),If(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}If(t,!0,n,null,r,i);break;case"together":If(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function bi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ds|=t.lanes,!(n&t.childLanes))if(e!==null){if(va(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function um(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function lT(e,t,n){switch(t.tag){case 3:ku(t,t.stateNode.containerInfo),Vi(t,Fe,e.memoizedState.cache),Ws();break;case 27:case 5:vh(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:Vi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Hi(t),t.flags|=128,null):n&t.child.childLanes?nv(e,t,n):(Hi(t),e=bi(e,t,n),e!==null?e.sibling:null);Hi(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(va(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return iv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(Ge,Ge.current),i)break;return null;case 22:return t.lanes=0,tv(e,t,n,t.pendingProps);case 24:Vi(t,Fe,e.memoizedState.cache)}return bi(e,t,n)}function sv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!um(e,n)&&!(t.flags&128))return Ke=!1,lT(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,se&&t.flags&1048576&&o0(t,Po,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Vs(t.elementType),t.type=e,typeof e=="function")Hd(e)?(i=ir(e,i),t.tag=1,t=cg(null,t,e,i,n)):(t.tag=0,t=Zh(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Nd){t.tag=11,t=rg(null,t,e,i,n);break e}else if(s===Cd){t.tag=14,t=ag(null,t,e,i,n);break e}}throw t=yh(e)||e,Error(L(306,t,""))}}return t;case 0:return Zh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=ir(i,t.pendingProps),cg(e,t,i,s,n);case 3:e:{if(ku(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Mh(e,t),bo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Vi(t,Fe,i),i!==r.cache&&kh(t,[Fe],n,!0),So(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=fg(e,t,i,n);break e}else if(i!==s){s=on(Error(L(424)),t),Vo(s),t=fg(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=hn(e.firstChild),mt=t,se=!0,es=null,ln=!0,n=d0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ws(),i===s){t=bi(e,t,n);break e}ft(e,t,i,n)}t=t.child}return t;case 26:return Su(e,t),e===null?(n=Ig(t.type,null,t.pendingProps,null))?t.memoizedState=n:se||(n=t.type,e=t.pendingProps,i=tc(Wi.current).createElement(n),i[dt]=t,i[zt]=e,gt(i,n,e),at(i),t.stateNode=i):t.memoizedState=Ig(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vh(t),e===null&&se&&(i=t.stateNode=Yv(t.type,t.pendingProps,Wi.current),mt=t,ln=!0,s=Ce,vs(t.type)?(rd=s,Ce=hn(i.firstChild)):Ce=s),ft(e,t,t.pendingProps.children,n),Su(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&se&&((s=i=Ce)&&(i=jT(i,t.type,t.pendingProps,ln),i!==null?(t.stateNode=i,mt=t,Ce=hn(i.firstChild),ln=!1,s=!0):s=!1),s||fs(t)),vh(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,td(s,r)?i=null:a!==null&&td(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=Kd(e,t,W1,null,null,n),$o._currentValue=s),Su(e,t),ft(e,t,i,n),t.child;case 6:return e===null&&se&&((e=n=Ce)&&(n=PT(n,t.pendingProps,ln),n!==null?(t.stateNode=n,mt=t,Ce=null,e=!0):e=!1),e||fs(t)),null;case 13:return nv(e,t,n);case 4:return ku(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=tr(t,null,i,n):ft(e,t,i,n),t.child;case 11:return rg(e,t,t.type,t.pendingProps,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Vi(t,t.type,i.value),ft(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,er(t),s=pt(s),i=i(s),t.flags|=1,ft(e,t,i,n),t.child;case 14:return ag(e,t,t.type,t.pendingProps,n);case 15:return ev(e,t,t.type,t.pendingProps,n);case 19:return iv(e,t,n);case 31:return oT(e,t,n);case 22:return tv(e,t,n,t.pendingProps);case 24:return er(t),i=pt(Fe),e===null?(s=qd(),s===null&&(s=Te,r=Zd(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Xd(t),Vi(t,Fe,s)):(e.lanes&n&&(Mh(e,t),bo(t,null,null,n),So()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Vi(t,Fe,i)):(i=r.cache,Vi(t,Fe,i),i!==s.cache&&kh(t,[Fe],n,!0))),ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function ti(e){e.flags|=4}function kf(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Cv())e.flags|=8192;else throw Fs=Hu,$d}else e.flags&=-16777217}function dg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Jv(t))if(Cv())e.flags|=8192;else throw Fs=Hu,$d}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?x_():536870912,e.lanes|=t,la|=t)}function Qa(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function uT(e,t,n){var i=t.pendingProps;switch(Gd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),gi(Fe),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tr(t)?ti(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Af())),Ne(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(ti(t),r!==null?(Ne(t),dg(t,r)):(Ne(t),kf(t,s,null,i,n))):r?r!==e.memoizedState?(ti(t),Ne(t),dg(t,r)):(Ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ti(t),Ne(t),kf(t,s,e,i,n)),null;case 27:if(zu(t),n=Wi.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Ne(t),null}e=Bn.current,Tr(t)?Bp(t):(e=Yv(s,i,n),t.stateNode=e,ti(t))}return Ne(t),null;case 5:if(zu(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Ne(t),null}if(r=Bn.current,Tr(t))Bp(t);else{var a=tc(Wi.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[dt]=t,r[zt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;e:switch(gt(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ti(t)}}return Ne(t),kf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=Wi.current,Tr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=mt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[dt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Zv(e.nodeValue,n)),e||fs(t,!0)}else e=tc(e).createTextNode(i),e[dt]=t,t.stateNode=e}return Ne(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Tr(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[dt]=t}else Ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),e=!1}else n=Af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Zt(t),t):(Zt(t),null);if(t.flags&128)throw Error(L(558))}return Ne(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Tr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[dt]=t}else Ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),s=!1}else s=Af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Zt(t),t):(Zt(t),null)}return Zt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),Ne(t),null);case 4:return na(),e===null&&gm(t.stateNode.containerInfo),Ne(t),null;case 10:return gi(t.type),Ne(t),null;case 19:if(ot(Ge),i=t.memoizedState,i===null)return Ne(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Qa(i,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Gu(e),r!==null){for(t.flags|=128,Qa(i,!1),e=r.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)r0(n,e),n=n.sibling;return Ae(Ge,Ge.current&1|2),se&&oi(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Xt()>Fu&&(t.flags|=128,s=!0,Qa(i,!1),t.lanes=4194304)}else{if(!s)if(e=Gu(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!se)return Ne(t),null}else 2*Xt()-i.renderingStartTime>Fu&&n!==536870912&&(t.flags|=128,s=!0,Qa(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xt(),e.sibling=null,n=Ge.current,Ae(Ge,s?n&1|2:n&1),se&&oi(t,i.treeForkCount),e):(Ne(t),null);case 22:case 23:return Zt(t),Yd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),n=t.updateQueue,n!==null&&Yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ot(Ys),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gi(Fe),Ne(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function cT(e,t){switch(Gd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(Fe),na(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zu(t),null;case 31:if(t.memoizedState!==null){if(Zt(t),t.alternate===null)throw Error(L(340));Ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(Ge),null;case 4:return na(),null;case 10:return gi(t.type),null;case 22:case 23:return Zt(t),Yd(),e!==null&&ot(Ys),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gi(Fe),null;case 25:return null;default:return null}}function rv(e,t){switch(Gd(t),t.tag){case 3:gi(Fe),na();break;case 26:case 27:case 5:zu(t);break;case 4:na();break;case 31:t.memoizedState!==null&&Zt(t);break;case 13:Zt(t);break;case 19:ot(Ge);break;case 10:gi(t.type);break;case 22:case 23:Zt(t),Yd(),e!==null&&ot(Ys);break;case 24:gi(Fe)}}function ul(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){ye(t,t.return,l)}}function hs(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=t;var c=n,h=l;try{h()}catch(d){ye(s,c,d)}}}i=i.next}while(i!==r)}}catch(d){ye(t,t.return,d)}}function av(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{p0(t,n)}catch(i){ye(e,e.return,i)}}}function ov(e,t,n){n.props=ir(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ye(e,t,i)}}function To(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){ye(e,t,s)}}function Vn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){ye(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function lv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){ye(e,e.return,s)}}function zf(e,t,n){try{var i=e.stateNode;IT(i,e.type,n,t),i[zt]=t}catch(s){ye(e,e.return,s)}}function uv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vs(e.type)||e.tag===4}function Mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $h(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fi));else if(i!==4&&(i===27&&vs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for($h(e,t,n),e=e.sibling;e!==null;)$h(e,t,n),e=e.sibling}function Yu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&vs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Yu(e,t,n),e=e.sibling;e!==null;)Yu(e,t,n),e=e.sibling}function cv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);gt(t,i,n),t[dt]=e,t[zt]=n}catch(r){ye(e,e.return,r)}}var li=!1,Ye=!1,Lf=!1,mg=typeof WeakSet=="function"?WeakSet:Set,rt=null;function fT(e,t){if(e=e.containerInfo,Wh=rc,e=J_(e),jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,p=e,m=null;t:for(;;){for(var b;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==r||i!==0&&p.nodeType!==3||(c=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(b=p.firstChild)!==null;)m=p,p=b;for(;;){if(p===e)break t;if(m===n&&++h===s&&(l=a),m===r&&++d===i&&(c=a),(b=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=b}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ed={focusedElem:e,selectionRange:n},rc=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var D=ir(n.type,s);e=i.getSnapshotBeforeUpdate(D,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(z){ye(n,n.return,z)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)nd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function fv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n),i&4&&ul(5,n);break;case 1:if(ii(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){ye(n,n.return,a)}else{var s=ir(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ye(n,n.return,a)}}i&64&&av(n),i&512&&To(n,n.return);break;case 3:if(ii(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{p0(e,t)}catch(a){ye(n,n.return,a)}}break;case 27:t===null&&i&4&&cv(n);case 26:case 5:ii(e,n),t===null&&i&4&&lv(n),i&512&&To(n,n.return);break;case 12:ii(e,n);break;case 31:ii(e,n),i&4&&mv(e,n);break;case 13:ii(e,n),i&4&&pv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ST.bind(null,n),VT(e,n))));break;case 22:if(i=n.memoizedState!==null||li,!i){t=t!==null&&t.memoizedState!==null||Ye,s=li;var r=Ye;li=i,(Ye=t)&&!r?ai(e,n,(n.subtreeFlags&8772)!==0):ii(e,n),li=s,Ye=r}break;case 30:break;default:ii(e,n)}}function hv(e){var t=e.alternate;t!==null&&(e.alternate=null,hv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Id(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,Rt=!1;function ni(e,t,n){for(n=n.child;n!==null;)dv(e,t,n),n=n.sibling}function dv(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(nl,n)}catch{}switch(n.tag){case 26:Ye||Vn(n,t),ni(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ye||Vn(n,t);var i=De,s=Rt;vs(n.type)&&(De=n.stateNode,Rt=!1),ni(e,t,n),No(n.stateNode),De=i,Rt=s;break;case 5:Ye||Vn(n,t);case 6:if(i=De,s=Rt,De=null,ni(e,t,n),De=i,Rt=s,De!==null)if(Rt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(n.stateNode)}catch(r){ye(n,t,r)}else try{De.removeChild(n.stateNode)}catch(r){ye(n,t,r)}break;case 18:De!==null&&(Rt?(e=De,Ng(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ha(e)):Ng(De,n.stateNode));break;case 4:i=De,s=Rt,De=n.stateNode.containerInfo,Rt=!0,ni(e,t,n),De=i,Rt=s;break;case 0:case 11:case 14:case 15:hs(2,n,t),Ye||hs(4,n,t),ni(e,t,n);break;case 1:Ye||(Vn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ov(n,t,i)),ni(e,t,n);break;case 21:ni(e,t,n);break;case 22:Ye=(i=Ye)||n.memoizedState!==null,ni(e,t,n),Ye=i;break;default:ni(e,t,n)}}function mv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ha(e)}catch(n){ye(t,t.return,n)}}}function pv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ha(e)}catch(n){ye(t,t.return,n)}}function hT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mg),t;default:throw Error(L(435,e.tag))}}function Fl(e,t){var n=hT(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=bT.bind(null,e,i);i.then(s,s)}})}function Nt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(vs(l.type)){De=l.stateNode,Rt=!1;break e}break;case 5:De=l.stateNode,Rt=!1;break e;case 3:case 4:De=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(De===null)throw Error(L(160));dv(r,a,s),De=null,Rt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)gv(t,e),t=t.sibling}var bn=null;function gv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Ct(e),i&4&&(hs(3,e,e.return),ul(3,e),hs(5,e,e.return));break;case 1:Nt(t,e),Ct(e),i&512&&(Ye||n===null||Vn(n,n.return)),i&64&&li&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=bn;if(Nt(t,e),Ct(e),i&512&&(Ye||n===null||Vn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[rl]||r[dt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),gt(r,i,n),r[dt]=e,at(r),i=r;break e;case"link":var a=zg("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),gt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=zg("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),gt(r,i,n),s.head.appendChild(r);break;default:throw Error(L(468,i))}r[dt]=e,at(r),i=r}e.stateNode=i}else Mg(s,e.type,e.stateNode);else e.stateNode=kg(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Mg(s,e.type,e.stateNode):kg(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&zf(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nt(t,e),Ct(e),i&512&&(Ye||n===null||Vn(n,n.return)),n!==null&&i&4&&zf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nt(t,e),Ct(e),i&512&&(Ye||n===null||Vn(n,n.return)),e.flags&32){s=e.stateNode;try{sa(s,"")}catch(D){ye(e,e.return,D)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,zf(e,s,n!==null?n.memoizedProps:s)),i&1024&&(Lf=!0);break;case 6:if(Nt(t,e),Ct(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(D){ye(e,e.return,D)}}break;case 3:if(Tu=null,s=bn,bn=nc(t.containerInfo),Nt(t,e),bn=s,Ct(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(D){ye(e,e.return,D)}Lf&&(Lf=!1,yv(e));break;case 4:i=bn,bn=nc(e.stateNode.containerInfo),Nt(t,e),Ct(e),bn=i;break;case 12:Nt(t,e),Ct(e);break;case 31:Nt(t,e),Ct(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Fl(e,i)));break;case 13:Nt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Uc=Xt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Fl(e,i)));break;case 22:s=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=li,d=Ye;if(li=h||s,Ye=d||c,Nt(t,e),Ye=d,li=h,Ct(e),i&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||c||li||Ye||Hs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(r=c.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(D){ye(c,c.return,D)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(D){ye(c,c.return,D)}}}else if(t.tag===18){if(n===null){c=t;try{var b=c.stateNode;s?Cg(b,!0):Cg(c.stateNode,!1)}catch(D){ye(c,c.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Fl(e,n))));break;case 19:Nt(t,e),Ct(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Fl(e,i)));break;case 30:break;case 21:break;default:Nt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(uv(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var s=n.stateNode,r=Mf(e);Yu(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(sa(a,""),n.flags&=-33);var l=Mf(e);Yu(e,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,h=Mf(e);$h(e,h,c);break;default:throw Error(L(161))}}catch(d){ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ii(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fv(e,t.alternate,t),t=t.sibling}function Hs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hs(4,t,t.return),Hs(t);break;case 1:Vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ov(t,t.return,n),Hs(t);break;case 27:No(t.stateNode);case 26:case 5:Vn(t,t.return),Hs(t);break;case 22:t.memoizedState===null&&Hs(t);break;case 30:Hs(t);break;default:Hs(t)}e=e.sibling}}function ai(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:ai(s,r,n),ul(4,r);break;case 1:if(ai(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){ye(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)m0(c[s],l)}catch(h){ye(i,i.return,h)}}n&&a&64&&av(r),To(r,r.return);break;case 27:cv(r);case 26:case 5:ai(s,r,n),n&&i===null&&a&4&&lv(r),To(r,r.return);break;case 12:ai(s,r,n);break;case 31:ai(s,r,n),n&&a&4&&mv(s,r);break;case 13:ai(s,r,n),n&&a&4&&pv(s,r);break;case 22:r.memoizedState===null&&ai(s,r,n),To(r,r.return);break;case 30:break;default:ai(s,r,n)}t=t.sibling}}function cm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ol(n))}function fm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e))}function vn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_v(e,t,n,i),t=t.sibling}function _v(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:vn(e,t,n,i),s&2048&&ul(9,t);break;case 1:vn(e,t,n,i);break;case 3:vn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e)));break;case 12:if(s&2048){vn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ye(t,t.return,c)}}else vn(e,t,n,i);break;case 31:vn(e,t,n,i);break;case 13:vn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?vn(e,t,n,i):Ao(e,t):r._visibility&2?vn(e,t,n,i):(r._visibility|=2,Nr(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&cm(a,t);break;case 24:vn(e,t,n,i),s&2048&&fm(t.alternate,t);break;default:vn(e,t,n,i)}}function Nr(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,l=n,c=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(r,a,l,c,s),ul(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Nr(r,a,l,c,s):Ao(r,a):(d._visibility|=2,Nr(r,a,l,c,s)),s&&h&2048&&cm(a.alternate,a);break;case 24:Nr(r,a,l,c,s),s&&h&2048&&fm(a.alternate,a);break;default:Nr(r,a,l,c,s)}t=t.sibling}}function Ao(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:Ao(n,i),s&2048&&cm(i.alternate,i);break;case 24:Ao(n,i),s&2048&&fm(i.alternate,i);break;default:Ao(n,i)}t=t.sibling}}var ho=8192;function Ar(e,t,n){if(e.subtreeFlags&ho)for(e=e.child;e!==null;)vv(e,t,n),e=e.sibling}function vv(e,t,n){switch(e.tag){case 26:Ar(e,t,n),e.flags&ho&&e.memoizedState!==null&&QT(n,bn,e.memoizedState,e.memoizedProps);break;case 5:Ar(e,t,n);break;case 3:case 4:var i=bn;bn=nc(e.stateNode.containerInfo),Ar(e,t,n),bn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ho,ho=16777216,Ar(e,t,n),ho=i):Ar(e,t,n));break;default:Ar(e,t,n)}}function Sv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,Ev(i,e)}Sv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bv(e),e=e.sibling}function bv(e){switch(e.tag){case 0:case 11:case 15:Wa(e),e.flags&2048&&hs(9,e,e.return);break;case 3:Wa(e);break;case 12:Wa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bu(e)):Wa(e);break;default:Wa(e)}}function bu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,Ev(i,e)}Sv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hs(8,t,t.return),bu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,bu(t));break;default:bu(t)}e=e.sibling}}function Ev(e,t){for(;rt!==null;){var n=rt;switch(n.tag){case 0:case 11:case 15:hs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ol(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,rt=i;else e:for(n=e;rt!==null;){i=rt;var s=i.sibling,r=i.return;if(hv(i),i===n){rt=null;break e}if(s!==null){s.return=r,rt=s;break e}rt=r}}}var dT={getCacheForType:function(e){var t=pt(Fe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return pt(Fe).controller.signal}},mT=typeof WeakMap=="function"?WeakMap:Map,fe=0,Te=null,ne=null,ie=0,pe=0,Bt=null,Ki=!1,ba=!1,hm=!1,Ei=0,Le=0,ds=0,Ks=0,dm=0,$t=0,la=0,wo=null,Dt=null,Xh=!1,Uc=0,Tv=0,Fu=1/0,Ku=null,is=null,et=0,ss=null,ua=null,yi=0,Yh=0,Fh=null,Av=null,Oo=0,Kh=null;function Kt(){return fe&2&&ie!==0?ie&-ie:K.T!==null?pm():k_()}function wv(){if($t===0)if(!(ie&536870912)||se){var e=Hl;Hl<<=1,!(Hl&3932160)&&(Hl=262144),$t=e}else $t=536870912;return e=Qt.current,e!==null&&(e.flags|=32),$t}function kt(e,t,n){(e===Te&&(pe===2||pe===9)||e.cancelPendingCommit!==null)&&(ca(e,0),Ji(e,ie,$t,!1)),sl(e,n),(!(fe&2)||e!==Te)&&(e===Te&&(!(fe&2)&&(Ks|=n),Le===4&&Ji(e,ie,$t,!1)),Xn(e))}function Ov(e,t,n){if(fe&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||il(e,t),s=i?yT(e,t):Uf(e,t,!0),r=i;do{if(s===0){ba&&!i&&Ji(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!pT(n)){s=Uf(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var l=e;s=wo;var c=l.current.memoizedState.isDehydrated;if(c&&(ca(l,a).flags|=256),a=Uf(l,a,!1),a!==2){if(hm&&!c){l.errorRecoveryDisabledLanes|=r,Ks|=r,s=4;break e}r=Dt,Dt=s,r!==null&&(Dt===null?Dt=r:Dt.push.apply(Dt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){ca(e,0),Ji(e,t,0,!0);break}e:{switch(i=e,r=s,r){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:Ji(i,t,$t,!Ki);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(s=Uc+300-Xt(),10<s)){if(Ji(i,t,$t,!Ki),Oc(i,0,!0)!==0)break e;yi=t,i.timeoutHandle=$v(pg.bind(null,i,n,Dt,Ku,Xh,t,$t,Ks,la,Ki,r,"Throttled",-0,0),s);break e}pg(i,n,Dt,Ku,Xh,t,$t,Ks,la,Ki,r,null,-0,0)}}break}while(!0);Xn(e)}function pg(e,t,n,i,s,r,a,l,c,h,d,p,m,b){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},vv(t,r,p);var D=(r&62914560)===r?Uc-Xt():(r&4194048)===r?Tv-Xt():0;if(D=WT(p,D),D!==null){yi=r,e.cancelPendingCommit=D(yg.bind(null,e,t,r,n,i,s,a,l,c,d,p,null,m,b)),Ji(e,r,a,!h);return}}yg(e,t,r,n,i,s,a,l,c)}function pT(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Jt(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ji(e,t,n,i){t&=~dm,t&=~Ks,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-Ft(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&R_(e,n,t)}function jc(){return fe&6?!0:(cl(0),!1)}function mm(){if(ne!==null){if(pe===0)var e=ne.return;else e=ne,hi=dr=null,Wd(e),Yr=null,Ho=0,e=ne;for(;e!==null;)rv(e.alternate,e),e=e.return;ne=null}}function ca(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,MT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yi=0,mm(),Te=e,ne=n=pi(e.current,null),ie=t,pe=0,Bt=null,Ki=!1,ba=il(e,t),hm=!1,la=$t=dm=Ks=ds=Le=0,Dt=wo=null,Xh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Ft(i),r=1<<s;t|=e[s],i&=~r}return Ei=t,Rc(),n}function Nv(e,t){Q=null,K.H=Go,t===Sa||t===Ic?(t=Xp(),pe=3):t===$d?(t=Xp(),pe=4):pe=t===lm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,ne===null&&(Le=1,$u(e,on(t,e.current)))}function Cv(){var e=Qt.current;return e===null?!0:(ie&4194048)===ie?fn===null:(ie&62914560)===ie||ie&536870912?e===fn:!1}function xv(){var e=K.H;return K.H=Go,e===null?Go:e}function Rv(){var e=K.A;return K.A=dT,e}function Ju(){Le=4,Ki||(ie&4194048)!==ie&&Qt.current!==null||(ba=!0),!(ds&134217727)&&!(Ks&134217727)||Te===null||Ji(Te,ie,$t,!1)}function Uf(e,t,n){var i=fe;fe|=2;var s=xv(),r=Rv();(Te!==e||ie!==t)&&(Ku=null,ca(e,t)),t=!1;var a=Le;e:do try{if(pe!==0&&ne!==null){var l=ne,c=Bt;switch(pe){case 8:mm(),a=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(t=!0);var h=pe;if(pe=0,Bt=null,Vr(e,l,c,h),n&&ba){a=0;break e}break;default:h=pe,pe=0,Bt=null,Vr(e,l,c,h)}}gT(),a=Le;break}catch(d){Nv(e,d)}while(!0);return t&&e.shellSuspendCounter++,hi=dr=null,fe=i,K.H=s,K.A=r,ne===null&&(Te=null,ie=0,Rc()),a}function gT(){for(;ne!==null;)Dv(ne)}function yT(e,t){var n=fe;fe|=2;var i=xv(),s=Rv();Te!==e||ie!==t?(Ku=null,Fu=Xt()+500,ca(e,t)):ba=il(e,t);e:do try{if(pe!==0&&ne!==null){t=ne;var r=Bt;t:switch(pe){case 1:pe=0,Bt=null,Vr(e,t,r,1);break;case 2:case 9:if($p(r)){pe=0,Bt=null,gg(t);break}t=function(){pe!==2&&pe!==9||Te!==e||(pe=7),Xn(e)},r.then(t,t);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:$p(r)?(pe=0,Bt=null,gg(t)):(pe=0,Bt=null,Vr(e,t,r,7));break;case 5:var a=null;switch(ne.tag){case 26:a=ne.memoizedState;case 5:case 27:var l=ne;if(a?Jv(a):l.stateNode.complete){pe=0,Bt=null;var c=l.sibling;if(c!==null)ne=c;else{var h=l.return;h!==null?(ne=h,Pc(h)):ne=null}break t}}pe=0,Bt=null,Vr(e,t,r,5);break;case 6:pe=0,Bt=null,Vr(e,t,r,6);break;case 8:mm(),Le=6;break e;default:throw Error(L(462))}}_T();break}catch(d){Nv(e,d)}while(!0);return hi=dr=null,K.H=i,K.A=s,fe=n,ne!==null?0:(Te=null,ie=0,Rc(),Le)}function _T(){for(;ne!==null&&!HE();)Dv(ne)}function Dv(e){var t=sv(e.alternate,e,Ei);e.memoizedProps=e.pendingProps,t===null?Pc(e):ne=t}function gg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ug(n,t,t.pendingProps,t.type,void 0,ie);break;case 11:t=ug(n,t,t.pendingProps,t.type.render,t.ref,ie);break;case 5:Wd(t);default:rv(n,t),t=ne=r0(t,Ei),t=sv(n,t,Ei)}e.memoizedProps=e.pendingProps,t===null?Pc(e):ne=t}function Vr(e,t,n,i){hi=dr=null,Wd(t),Yr=null,Ho=0;var s=t.return;try{if(aT(e,s,t,n,ie)){Le=1,$u(e,on(n,e.current)),ne=null;return}}catch(r){if(s!==null)throw ne=s,r;Le=1,$u(e,on(n,e.current)),ne=null;return}t.flags&32768?(se||i===1?e=!0:ba||ie&536870912?e=!1:(Ki=e=!0,(i===2||i===9||i===3||i===6)&&(i=Qt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Iv(t,e)):Pc(t)}function Pc(e){var t=e;do{if(t.flags&32768){Iv(t,Ki);return}e=t.return;var n=uT(t.alternate,t,Ei);if(n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);Le===0&&(Le=5)}function Iv(e,t){do{var n=cT(e.alternate,e);if(n!==null){n.flags&=32767,ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ne=e;return}ne=e=n}while(e!==null);Le=6,ne=null}function yg(e,t,n,i,s,r,a,l,c){e.cancelPendingCommit=null;do Vc();while(et!==0);if(fe&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(r=t.lanes|t.childLanes,r|=Pd,JE(e,n,r,a,l,c),e===Te&&(ne=Te=null,ie=0),ua=t,ss=e,yi=n,Yh=r,Fh=s,Av=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ET(Mu,function(){return Uv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,s=he.p,he.p=2,a=fe,fe|=4;try{fT(e,t,n)}finally{fe=a,he.p=s,K.T=i}}et=1,kv(),zv(),Mv()}}function kv(){if(et===1){et=0;var e=ss,t=ua,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=he.p;he.p=2;var s=fe;fe|=4;try{gv(t,e);var r=ed,a=J_(e.containerInfo),l=r.focusedElem,c=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&K_(l.ownerDocument.documentElement,l)){if(c!==null&&jd(l)){var h=c.start,d=c.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var b=m.getSelection(),D=l.textContent.length,z=Math.min(c.start,D),U=c.end===void 0?z:Math.min(c.end,D);!b.extend&&z>U&&(a=U,U=z,z=a);var O=Pp(l,z),w=Pp(l,U);if(O&&w&&(b.rangeCount!==1||b.anchorNode!==O.node||b.anchorOffset!==O.offset||b.focusNode!==w.node||b.focusOffset!==w.offset)){var C=p.createRange();C.setStart(O.node,O.offset),b.removeAllRanges(),z>U?(b.addRange(C),b.extend(w.node,w.offset)):(C.setEnd(w.node,w.offset),b.addRange(C))}}}}for(p=[],b=l;b=b.parentNode;)b.nodeType===1&&p.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var R=p[l];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}rc=!!Wh,ed=Wh=null}finally{fe=s,he.p=i,K.T=n}}e.current=t,et=2}}function zv(){if(et===2){et=0;var e=ss,t=ua,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=he.p;he.p=2;var s=fe;fe|=4;try{fv(e,t.alternate,t)}finally{fe=s,he.p=i,K.T=n}}et=3}}function Mv(){if(et===4||et===3){et=0,BE();var e=ss,t=ua,n=yi,i=Av;t.subtreeFlags&10256||t.flags&10256?et=5:(et=0,ua=ss=null,Lv(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(is=null),Dd(n),t=t.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(nl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,s=he.p,he.p=2,K.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{K.T=t,he.p=s}}yi&3&&Vc(),Xn(e),s=e.pendingLanes,n&261930&&s&42?e===Kh?Oo++:(Oo=0,Kh=e):Oo=0,cl(0)}}function Lv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ol(t)))}function Vc(){return kv(),zv(),Mv(),Uv()}function Uv(){if(et!==5)return!1;var e=ss,t=Yh;Yh=0;var n=Dd(yi),i=K.T,s=he.p;try{he.p=32>n?32:n,K.T=null,n=Fh,Fh=null;var r=ss,a=yi;if(et=0,ua=ss=null,yi=0,fe&6)throw Error(L(331));var l=fe;if(fe|=4,bv(r.current),_v(r,r.current,a,n),fe=l,cl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(nl,r)}catch{}return!0}finally{he.p=s,K.T=i,Lv(e,t)}}function _g(e,t,n){t=on(n,t),t=Gh(e.stateNode,t,2),e=ns(e,t,2),e!==null&&(sl(e,2),Xn(e))}function ye(e,t,n){if(e.tag===3)_g(e,e,n);else for(;t!==null;){if(t.tag===3){_g(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(is===null||!is.has(i))){e=on(n,e),n=Q0(2),i=ns(t,n,2),i!==null&&(W0(n,i,t,e),sl(i,2),Xn(i));break}}t=t.return}}function jf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new mT;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(hm=!0,s.add(n),e=vT.bind(null,e,t,n),t.then(e,e))}function vT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Te===e&&(ie&n)===n&&(Le===4||Le===3&&(ie&62914560)===ie&&300>Xt()-Uc?!(fe&2)&&ca(e,0):dm|=n,la===ie&&(la=0)),Xn(e)}function jv(e,t){t===0&&(t=x_()),e=hr(e,t),e!==null&&(sl(e,t),Xn(e))}function ST(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jv(e,n)}function bT(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),jv(e,n)}function ET(e,t){return xd(e,t)}var Qu=null,Cr=null,Jh=!1,Wu=!1,Pf=!1,Qi=0;function Xn(e){e!==Cr&&e.next===null&&(Cr===null?Qu=Cr=e:Cr=Cr.next=e),Wu=!0,Jh||(Jh=!0,AT())}function cl(e,t){if(!Pf&&Wu){Pf=!0;do for(var n=!1,i=Qu;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-Ft(42|e)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,vg(i,r))}else r=ie,r=Oc(i,i===Te?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||il(i,r)||(n=!0,vg(i,r));i=i.next}while(n);Pf=!1}}function TT(){Pv()}function Pv(){Wu=Jh=!1;var e=0;Qi!==0&&zT()&&(e=Qi);for(var t=Xt(),n=null,i=Qu;i!==null;){var s=i.next,r=Vv(i,t);r===0?(i.next=null,n===null?Qu=s:n.next=s,s===null&&(Cr=n)):(n=i,(e!==0||r&3)&&(Wu=!0)),i=s}et!==0&&et!==5||cl(e),Qi!==0&&(Qi=0)}function Vv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-Ft(r),l=1<<a,c=s[a];c===-1?(!(l&n)||l&i)&&(s[a]=KE(l,t)):c<=t&&(e.expiredLanes|=l),r&=~l}if(t=Te,n=ie,n=Oc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(pe===2||pe===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&df(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||il(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&df(i),Dd(n)){case 2:case 8:n=N_;break;case 32:n=Mu;break;case 268435456:n=C_;break;default:n=Mu}return i=Hv.bind(null,e),n=xd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&df(i),e.callbackPriority=2,e.callbackNode=null,2}function Hv(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vc()&&e.callbackNode!==n)return null;var i=ie;return i=Oc(e,e===Te?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ov(e,i,t),Vv(e,Xt()),e.callbackNode!=null&&e.callbackNode===n?Hv.bind(null,e):null)}function vg(e,t){if(Vc())return null;Ov(e,t,!0)}function AT(){LT(function(){fe&6?xd(O_,TT):Pv()})}function pm(){if(Qi===0){var e=ra;e===0&&(e=Vl,Vl<<=1,!(Vl&261888)&&(Vl=256)),Qi=e}return Qi}function Sg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hu(""+e)}function bg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function wT(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=Sg((s[zt]||null).action),a=i.submitter;a&&(t=(t=a[zt]||null)?Sg(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var l=new Nc("action","action",null,i,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qi!==0){var c=a?bg(s,a):new FormData(s);Hh(n,{pending:!0,data:c,method:s.method,action:r},null,c)}}else typeof r=="function"&&(l.preventDefault(),c=a?bg(s,a):new FormData(s),Hh(n,{pending:!0,data:c,method:s.method,action:r},r,c))},currentTarget:s}]})}}for(var Vf=0;Vf<xh.length;Vf++){var Hf=xh[Vf],OT=Hf.toLowerCase(),NT=Hf[0].toUpperCase()+Hf.slice(1);Nn(OT,"on"+NT)}Nn(W_,"onAnimationEnd");Nn(e0,"onAnimationIteration");Nn(t0,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(G1,"onTransitionRun");Nn(Z1,"onTransitionStart");Nn(q1,"onTransitionCancel");Nn(n0,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function Bv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){Uu(d)}s.currentTarget=null,r=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){Uu(d)}s.currentTarget=null,r=c}}}}function te(e,t){var n=t[bh];n===void 0&&(n=t[bh]=new Set);var i=e+"__bubble";n.has(i)||(Gv(t,e,2,!1),n.add(i))}function Bf(e,t,n){var i=0;t&&(i|=4),Gv(n,e,i,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Kl]){e[Kl]=!0,z_.forEach(function(n){n!=="selectionchange"&&(CT.has(n)||Bf(n,!1,e),Bf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,Bf("selectionchange",!1,t))}}function Gv(e,t,n,i){switch(nS(t)){case 2:var s=nA;break;case 8:s=iA;break;default:s=Sm}n=s.bind(null,t,n,e),s=void 0,!Oh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gf(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=Dr(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=r=a;continue e}l=l.parentNode}}i=i.return}B_(function(){var h=r,d=zd(n),p=[];e:{var m=i0.get(e);if(m!==void 0){var b=Nc,D=e;switch(e){case"keypress":if(mu(n)===0)break e;case"keydown":case"keyup":b=b1;break;case"focusin":D="focus",b=_f;break;case"focusout":D="blur",b=_f;break;case"beforeblur":case"afterblur":b=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=A1;break;case W_:case e0:case t0:b=h1;break;case n0:b=O1;break;case"scroll":case"scrollend":b=o1;break;case"wheel":b=C1;break;case"copy":case"cut":case"paste":b=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Dp;break;case"toggle":case"beforetoggle":b=R1}var z=(t&4)!==0,U=!z&&(e==="scroll"||e==="scrollend"),O=z?m!==null?m+"Capture":null:m;z=[];for(var w=h,C;w!==null;){var R=w;if(C=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||C===null||O===null||(R=Lo(w,O),R!=null&&z.push(qo(w,R,C))),U)break;w=w.return}0<z.length&&(m=new b(m,D,null,n,d),p.push({event:m,listeners:z}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",m&&n!==wh&&(D=n.relatedTarget||n.fromElement)&&(Dr(D)||D[ya]))break e;if((b||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,b?(D=n.relatedTarget||n.toElement,b=h,D=D?Dr(D):null,D!==null&&(U=tl(D),z=D.tag,D!==U||z!==5&&z!==27&&z!==6)&&(D=null)):(b=null,D=h),b!==D)){if(z=xp,R="onMouseLeave",O="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(z=Dp,R="onPointerLeave",O="onPointerEnter",w="pointer"),U=b==null?m:co(b),C=D==null?m:co(D),m=new z(R,w+"leave",b,n,d),m.target=U,m.relatedTarget=C,R=null,Dr(d)===h&&(z=new z(O,w+"enter",D,n,d),z.target=C,z.relatedTarget=U,R=z),U=R,b&&D)t:{for(z=xT,O=b,w=D,C=0,R=O;R;R=z(R))C++;R=0;for(var j=w;j;j=z(j))R++;for(;0<C-R;)O=z(O),C--;for(;0<R-C;)w=z(w),R--;for(;C--;){if(O===w||w!==null&&O===w.alternate){z=O;break t}O=z(O),w=z(w)}z=null}else z=null;b!==null&&Eg(p,m,b,z,!1),D!==null&&U!==null&&Eg(p,U,D,z,!0)}}e:{if(m=h?co(h):window,b=m.nodeName&&m.nodeName.toLowerCase(),b==="select"||b==="input"&&m.type==="file")var Z=Mp;else if(zp(m))if(Y_)Z=V1;else{Z=j1;var E=U1}else b=m.nodeName,!b||b.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&kd(h.elementType)&&(Z=Mp):Z=P1;if(Z&&(Z=Z(e,h))){X_(p,Z,n,d);break e}E&&E(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Ah(m,"number",m.value)}switch(E=h?co(h):window,e){case"focusin":(zp(E)||E.contentEditable==="true")&&(zr=E,Nh=h,yo=null);break;case"focusout":yo=Nh=zr=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Vp(p,n,d);break;case"selectionchange":if(B1)break;case"keydown":case"keyup":Vp(p,n,d)}var y;if(Ud)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else kr?q_(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Z_&&n.locale!=="ko"&&(kr||_!=="onCompositionStart"?_==="onCompositionEnd"&&kr&&(y=G_()):(Fi=d,Md="value"in Fi?Fi.value:Fi.textContent,kr=!0)),E=ec(h,_),0<E.length&&(_=new Rp(_,e,null,n,d),p.push({event:_,listeners:E}),y?_.data=y:(y=$_(n),y!==null&&(_.data=y)))),(y=I1?k1(e,n):z1(e,n))&&(_=ec(h,"onBeforeInput"),0<_.length&&(E=new Rp("onBeforeInput","beforeinput",null,n,d),p.push({event:E,listeners:_}),E.data=y)),wT(p,e,h,n,d)}Bv(p,t)})}function qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ec(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Lo(e,n),s!=null&&i.unshift(qo(e,s,r)),s=Lo(e,t),s!=null&&i.push(qo(e,s,r))),e.tag===3)return i;e=e.return}return[]}function xT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eg(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var l=n,c=l.alternate,h=l.stateNode;if(l=l.tag,c!==null&&c===i)break;l!==5&&l!==26&&l!==27||h===null||(c=h,s?(h=Lo(n,r),h!=null&&a.unshift(qo(n,h,c))):s||(h=Lo(n,r),h!=null&&a.push(qo(n,h,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var RT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function Tg(e){return(typeof e=="string"?e:""+e).replace(RT,`
`).replace(DT,"")}function Zv(e,t){return t=Tg(t),Tg(e)===t}function ve(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||sa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&sa(e,""+i);break;case"className":Gl(e,"class",i);break;case"tabIndex":Gl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Gl(e,n,i);break;case"style":H_(e,i,r);break;case"data":if(t!=="object"){Gl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=hu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&ve(e,t,"name",s.name,s,null),ve(e,t,"formEncType",s.formEncType,s,null),ve(e,t,"formMethod",s.formMethod,s,null),ve(e,t,"formTarget",s.formTarget,s,null)):(ve(e,t,"encType",s.encType,s,null),ve(e,t,"method",s.method,s,null),ve(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=hu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=fi);break;case"onScroll":i!=null&&te("scroll",e);break;case"onScrollEnd":i!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=hu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":te("beforetoggle",e),te("toggle",e),fu(e,"popover",i);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,fu(e,n,i))}}function Qh(e,t,n,i,s,r){switch(n){case"style":H_(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?sa(e,i):(typeof i=="number"||typeof i=="bigint")&&sa(e,""+i);break;case"onScroll":i!=null&&te("scroll",e);break;case"onScrollEnd":i!=null&&te("scrollend",e);break;case"onClick":i!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!M_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[zt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):fu(e,n,i)}}}function gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:ve(e,t,r,a,n,null)}}s&&ve(e,t,"srcSet",n.srcSet,n,null),i&&ve(e,t,"src",n.src,n,null);return;case"input":te("invalid",e);var l=r=a=s=null,c=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,t));break;default:ve(e,t,i,d,n,null)}}j_(e,r,l,c,h,a,s,!1);return;case"select":te("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ve(e,t,s,l,n,null)}t=r,n=a,e.multiple=!!i,t!=null?qr(e,!!i,t,!1):n!=null&&qr(e,!!i,n,!0);return;case"textarea":te("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:ve(e,t,a,l,n,null)}V_(e,i,s,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ve(e,t,c,i,n,null)}return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(i=0;i<Zo.length;i++)te(Zo[i],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:ve(e,t,h,i,n,null)}return;default:if(kd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Qh(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ve(e,t,l,i,n,null))}function IT(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,c=null,h=null,d=null;for(b in n){var p=n[b];if(n.hasOwnProperty(b)&&p!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":c=p;default:i.hasOwnProperty(b)||ve(e,t,b,null,i,p)}}for(var m in i){var b=i[m];if(p=n[m],i.hasOwnProperty(m)&&(b!=null||p!=null))switch(m){case"type":r=b;break;case"name":s=b;break;case"checked":h=b;break;case"defaultChecked":d=b;break;case"value":a=b;break;case"defaultValue":l=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(L(137,t));break;default:b!==p&&ve(e,t,m,b,i,p)}}Th(e,a,l,c,h,d,r,s);return;case"select":b=a=l=m=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":b=c;default:i.hasOwnProperty(r)||ve(e,t,r,null,i,c)}for(s in i)if(r=i[s],c=n[s],i.hasOwnProperty(s)&&(r!=null||c!=null))switch(s){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==c&&ve(e,t,s,r,i,c)}t=l,n=a,i=b,m!=null?qr(e,!!n,m,!1):!!i!=!!n&&(t!=null?qr(e,!!n,t,!0):qr(e,!!n,n?[]:"",!1));return;case"textarea":b=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ve(e,t,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":b=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(L(91));break;default:s!==r&&ve(e,t,a,s,i,r)}P_(e,m,b);return;case"option":for(var D in n)if(m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D))switch(D){case"selected":e.selected=!1;break;default:ve(e,t,D,null,i,m)}for(c in i)if(m=i[c],b=n[c],i.hasOwnProperty(c)&&m!==b&&(m!=null||b!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ve(e,t,c,m,i,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var z in n)m=n[z],n.hasOwnProperty(z)&&m!=null&&!i.hasOwnProperty(z)&&ve(e,t,z,null,i,m);for(h in i)if(m=i[h],b=n[h],i.hasOwnProperty(h)&&m!==b&&(m!=null||b!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:ve(e,t,h,m,i,b)}return;default:if(kd(t)){for(var U in n)m=n[U],n.hasOwnProperty(U)&&m!==void 0&&!i.hasOwnProperty(U)&&Qh(e,t,U,void 0,i,m);for(d in i)m=i[d],b=n[d],!i.hasOwnProperty(d)||m===b||m===void 0&&b===void 0||Qh(e,t,d,m,i,b);return}}for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O)&&ve(e,t,O,null,i,m);for(p in i)m=i[p],b=n[p],!i.hasOwnProperty(p)||m===b||m==null&&b==null||ve(e,t,p,m,i,b)}function Ag(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,l=s.duration;if(r&&l&&Ag(a)){for(a=0,l=s.responseEnd,i+=1;i<n.length;i++){var c=n[i],h=c.startTime;if(h>l)break;var d=c.transferSize,p=c.initiatorType;d&&Ag(p)&&(c=c.responseEnd,a+=d*(c<l?1:(l-h)/(c-h)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wh=null,ed=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zf=null;function zT(){var e=window.event;return e&&e.type==="popstate"?e===Zf?!1:(Zf=e,!0):(Zf=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(UT)}:$v;function UT(e){setTimeout(function(){throw e})}function vs(e){return e==="head"}function Ng(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),ha(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")No(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,No(n);for(var r=n.firstChild;r;){var a=r.nextSibling,l=r.nodeName;r[rl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&No(e.ownerDocument.body);n=s}while(n);ha(t)}function Cg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function nd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":nd(n),Id(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jT(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[rl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function PT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function Xv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=hn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rd=null;function xg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return hn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Rg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Yv(e,t,n){switch(t=tc(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function No(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Id(e)}var dn=new Map,Dg=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oi=he.d;he.d={f:HT,r:BT,D:GT,C:ZT,L:qT,m:$T,X:YT,S:XT,M:FT};function HT(){var e=Oi.f(),t=jc();return e||t}function BT(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?H0(t):Oi.r(e)}var Ea=typeof document>"u"?null:document;function Fv(e,t,n){var i=Ea;if(i&&typeof t=="string"&&t){var s=an(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Dg.has(s)||(Dg.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),gt(t,"link",e),at(t),i.head.appendChild(t)))}}function GT(e){Oi.D(e),Fv("dns-prefetch",e,null)}function ZT(e,t){Oi.C(e,t),Fv("preconnect",e,t)}function qT(e,t,n){Oi.L(e,t,n);var i=Ea;if(i&&e&&t){var s='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+an(n.imageSizes)+'"]')):s+='[href="'+an(e)+'"]';var r=s;switch(t){case"style":r=fa(e);break;case"script":r=Ta(e)}dn.has(r)||(e=xe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),dn.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(fl(r))||t==="script"&&i.querySelector(hl(r))||(t=i.createElement("link"),gt(t,"link",e),at(t),i.head.appendChild(t)))}}function $T(e,t){Oi.m(e,t);var n=Ea;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+an(i)+'"][href="'+an(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ta(e)}if(!dn.has(r)&&(e=xe({rel:"modulepreload",href:e},t),dn.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(r)))return}i=n.createElement("link"),gt(i,"link",e),at(i),n.head.appendChild(i)}}}function XT(e,t,n){Oi.S(e,t,n);var i=Ea;if(i&&e){var s=Zr(i).hoistableStyles,r=fa(e);t=t||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(fl(r)))l.loading=5;else{e=xe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=dn.get(r))&&ym(e,n);var c=a=i.createElement("link");at(c),gt(c,"link",e),c._p=new Promise(function(h,d){c.onload=h,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Eu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function YT(e,t){Oi.X(e,t);var n=Ea;if(n&&e){var i=Zr(n).hoistableScripts,s=Ta(e),r=i.get(s);r||(r=n.querySelector(hl(s)),r||(e=xe({src:e,async:!0},t),(t=dn.get(s))&&_m(e,t),r=n.createElement("script"),at(r),gt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function FT(e,t){Oi.M(e,t);var n=Ea;if(n&&e){var i=Zr(n).hoistableScripts,s=Ta(e),r=i.get(s);r||(r=n.querySelector(hl(s)),r||(e=xe({src:e,async:!0,type:"module"},t),(t=dn.get(s))&&_m(e,t),r=n.createElement("script"),at(r),gt(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Ig(e,t,n,i){var s=(s=Wi.current)?nc(s):null;if(!s)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fa(n.href),n=Zr(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fa(n.href);var r=Zr(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(fl(e)))&&!r._p&&(a.instance=r,a.state.loading=5),dn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dn.set(e,n),r||KT(s,e,n,a.state))),t&&i===null)throw Error(L(528,""));return a}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ta(n),n=Zr(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function fa(e){return'href="'+an(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function Kv(e){return xe({},e,{"data-precedence":e.precedence,precedence:null})}function KT(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),gt(t,"link",n),at(t),e.head.appendChild(t))}function Ta(e){return'[src="'+an(e)+'"]'}function hl(e){return"script[async]"+e}function kg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+an(n.href)+'"]');if(i)return t.instance=i,at(i),i;var s=xe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),at(i),gt(i,"style",s),Eu(i,n.precedence,e),t.instance=i;case"stylesheet":s=fa(n.href);var r=e.querySelector(fl(s));if(r)return t.state.loading|=4,t.instance=r,at(r),r;i=Kv(n),(s=dn.get(s))&&ym(i,s),r=(e.ownerDocument||e).createElement("link"),at(r);var a=r;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),gt(r,"link",i),t.state.loading|=4,Eu(r,n.precedence,e),t.instance=r;case"script":return r=Ta(n.src),(s=e.querySelector(hl(r)))?(t.instance=s,at(s),s):(i=n,(s=dn.get(r))&&(i=xe({},n),_m(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),at(s),gt(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Eu(i,n.precedence,e));return t.instance}function Eu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ym(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _m(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Tu=null;function zg(e,t,n){if(Tu===null){var i=new Map,s=Tu=new Map;s.set(n,i)}else s=Tu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[rl]||r[dt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function Mg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function JT(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function QT(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=fa(i.href),r=t.querySelector(fl(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ic.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,at(r);return}r=t.ownerDocument||t,i=Kv(i),(s=dn.get(s))&&ym(i,s),r=r.createElement("link"),at(r);var a=r;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),gt(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ic.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var qf=0;function WT(e,t){return e.stylesheets&&e.count===0&&Au(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Au(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&qf===0&&(qf=62500*kT());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Au(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>qf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function Au(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,t.forEach(eA,e),sc=null,ic.call(e))}function eA(e,t){if(!(t.state.loading&4)){var n=sc.get(e);if(n)var i=n.get(null);else{n=new Map,sc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=ic.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var $o={$$typeof:ci,Provider:null,Consumer:null,_currentValue:$s,_currentValue2:$s,_threadCount:0};function tA(e,t,n,i,s,r,a,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.hiddenUpdates=mf(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Qv(e,t,n,i,s,r,a,l,c,h,d,p){return e=new tA(e,t,n,a,c,h,d,p,l),t=1,r===!0&&(t|=24),r=qt(3,null,null,t),e.current=r,r.stateNode=e,t=Zd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Xd(r),e}function Wv(e){return e?(e=Ur,e):Ur}function eS(e,t,n,i,s,r){s=Wv(s),i.context===null?i.context=s:i.pendingContext=s,i=ts(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ns(e,i,t),n!==null&&(kt(n,e,t),vo(n,e,t))}function Lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vm(e,t){Lg(e,t),(e=e.alternate)&&Lg(e,t)}function tS(e){if(e.tag===13||e.tag===31){var t=hr(e,67108864);t!==null&&kt(t,e,67108864),vm(e,67108864)}}function Ug(e){if(e.tag===13||e.tag===31){var t=Kt();t=Rd(t);var n=hr(e,t);n!==null&&kt(n,e,t),vm(e,t)}}var rc=!0;function nA(e,t,n,i){var s=K.T;K.T=null;var r=he.p;try{he.p=2,Sm(e,t,n,i)}finally{he.p=r,K.T=s}}function iA(e,t,n,i){var s=K.T;K.T=null;var r=he.p;try{he.p=8,Sm(e,t,n,i)}finally{he.p=r,K.T=s}}function Sm(e,t,n,i){if(rc){var s=ad(i);if(s===null)Gf(e,t,i,ac,n),jg(e,i);else if(rA(s,e,t,n,i))i.stopPropagation();else if(jg(e,i),t&4&&-1<sA.indexOf(e)){for(;s!==null;){var r=_a(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Ps(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-Ft(a);l.entanglements[1]|=c,a&=~c}Xn(r),!(fe&6)&&(Fu=Xt()+500,cl(0))}}break;case 31:case 13:l=hr(r,2),l!==null&&kt(l,r,2),jc(),vm(r,2)}if(r=ad(i),r===null&&Gf(e,t,i,ac,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Gf(e,t,i,null,n)}}function ad(e){return e=zd(e),bm(e)}var ac=null;function bm(e){if(ac=null,e=Dr(e),e!==null){var t=tl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=b_(t),e!==null)return e;e=null}else if(n===31){if(e=E_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ac=e,null}function nS(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(GE()){case O_:return 2;case N_:return 8;case Mu:case ZE:return 32;case C_:return 268435456;default:return 32}default:return 32}}var od=!1,rs=null,as=null,os=null,Xo=new Map,Yo=new Map,Gi=[],sA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jg(e,t){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function eo(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=_a(t),t!==null&&tS(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rA(e,t,n,i,s){switch(t){case"focusin":return rs=eo(rs,e,t,n,i,s),!0;case"dragenter":return as=eo(as,e,t,n,i,s),!0;case"mouseover":return os=eo(os,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Xo.set(r,eo(Xo.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Yo.set(r,eo(Yo.get(r)||null,e,t,n,i,s)),!0}return!1}function iS(e){var t=Dr(e.target);if(t!==null){var n=tl(t);if(n!==null){if(t=n.tag,t===13){if(t=b_(n),t!==null){e.blockedOn=t,Ep(e.priority,function(){Ug(n)});return}}else if(t===31){if(t=E_(n),t!==null){e.blockedOn=t,Ep(e.priority,function(){Ug(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);wh=i,n.target.dispatchEvent(i),wh=null}else return t=_a(n),t!==null&&tS(t),e.blockedOn=n,!1;t.shift()}return!0}function Pg(e,t,n){wu(e)&&n.delete(t)}function aA(){od=!1,rs!==null&&wu(rs)&&(rs=null),as!==null&&wu(as)&&(as=null),os!==null&&wu(os)&&(os=null),Xo.forEach(Pg),Yo.forEach(Pg)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,od||(od=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,aA)))}var Ql=null;function Vg(e){Ql!==e&&(Ql=e,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,function(){Ql===e&&(Ql=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(bm(i||n)===null)continue;break}var r=_a(n);r!==null&&(e.splice(t,3),t-=3,Hh(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function ha(e){function t(c){return Jl(c,e)}rs!==null&&Jl(rs,e),as!==null&&Jl(as,e),os!==null&&Jl(os,e),Xo.forEach(t),Yo.forEach(t);for(var n=0;n<Gi.length;n++){var i=Gi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)iS(n),n.blockedOn===null&&Gi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[zt]||null;if(typeof r=="function")a||Vg(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[zt]||null)l=a.formAction;else if(bm(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Vg(n)}}}function sS(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Em(e){this._internalRoot=e}Hc.prototype.render=Em.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Kt();eS(n,i,e,t,null,null)};Hc.prototype.unmount=Em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eS(e.current,2,null,e,null,null),jc(),t[ya]=null}};function Hc(e){this._internalRoot=e}Hc.prototype.unstable_scheduleHydration=function(e){if(e){var t=k_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gi.length&&t!==0&&t<Gi[n].priority;n++);Gi.splice(n,0,e),n===0&&iS(e)}};var Hg=v_.version;if(Hg!=="19.2.3")throw Error(L(527,Hg,"19.2.3"));he.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=LE(t),e=e!==null?T_(e):null,e=e===null?null:e.stateNode,e};var oA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{nl=Wl.inject(oA),Yt=Wl}catch{}}wc.createRoot=function(e,t){if(!S_(e))throw Error(L(299));var n=!1,i="",s=F0,r=K0,a=J0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Qv(e,1,!1,null,null,n,i,null,s,r,a,sS),e[ya]=t.current,gm(e),new Em(t)};wc.hydrateRoot=function(e,t,n){if(!S_(e))throw Error(L(299));var i=!1,s="",r=F0,a=K0,l=J0,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=Qv(e,1,!0,t,n??null,i,s,c,r,a,l,sS),t.context=Wv(null),n=t.current,i=Kt(),i=Rd(i),s=ts(i),s.callback=null,ns(n,s,i),n=i,t.current.lanes=n,sl(t,n),Xn(t),e[ya]=t.current,gm(e),new Hc(t)};wc.version="19.2.3";function rS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rS)}catch(e){console.error(e)}}rS(),g_.exports=wc;var lA=g_.exports;const uA="modulepreload",cA=function(e,t){return new URL(e,t).href},Bg={},G=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=cA(h,i),h in Bg)return;Bg[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!i)for(let D=a.length-1;D>=0;D--){const z=a[D];if(z.href===h&&(!d||z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":uA,d||(b.as="script"),b.crossOrigin="",b.href=h,c&&b.setAttribute("nonce",c),document.head.appendChild(b),d)return new Promise((D,z)=>{b.addEventListener("load",D),b.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},Fo="four_pillars",aS="Advanced Geometry",fA="An interactive course in advanced geometry",oS="",hA="https://mathacademy-cyan.vercel.app",Tn={gamification:!0,leaderboard:!0,nostrAuth:!1,quizzes:!0,interactiveModules:!0,theoremIndex:!0,problems:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:lS,setPrototypeOf:Gg,isFrozen:dA,getPrototypeOf:mA,getOwnPropertyDescriptor:pA}=Object;let{freeze:Tt,seal:mn,create:ld}=Object,{apply:ud,construct:cd}=typeof Reflect<"u"&&Reflect;Tt||(Tt=function(t){return t});mn||(mn=function(t){return t});ud||(ud=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return t.apply(n,s)});cd||(cd=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new t(...i)});const eu=At(Array.prototype.forEach),gA=At(Array.prototype.lastIndexOf),Zg=At(Array.prototype.pop),to=At(Array.prototype.push),yA=At(Array.prototype.splice),Ou=At(String.prototype.toLowerCase),$f=At(String.prototype.toString),Xf=At(String.prototype.match),no=At(String.prototype.replace),_A=At(String.prototype.indexOf),vA=At(String.prototype.trim),Sn=At(Object.prototype.hasOwnProperty),St=At(RegExp.prototype.test),io=SA(TypeError);function At(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return ud(e,t,i)}}function SA(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return cd(e,n)}}function ee(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ou;Gg&&Gg(e,null);let i=t.length;for(;i--;){let s=t[i];if(typeof s=="string"){const r=n(s);r!==s&&(dA(t)||(t[i]=r),s=r)}e[s]=!0}return e}function bA(e){for(let t=0;t<e.length;t++)Sn(e,t)||(e[t]=null);return e}function zn(e){const t=ld(null);for(const[n,i]of lS(e))Sn(e,n)&&(Array.isArray(i)?t[n]=bA(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=zn(i):t[n]=i);return t}function so(e,t){for(;e!==null;){const i=pA(e,t);if(i){if(i.get)return At(i.get);if(typeof i.value=="function")return At(i.value)}e=mA(e)}function n(){return null}return n}const qg=Tt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yf=Tt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ff=Tt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),EA=Tt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Kf=Tt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),TA=Tt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$g=Tt(["#text"]),Xg=Tt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Jf=Tt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yg=Tt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tu=Tt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),AA=mn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wA=mn(/<%[\w\W]*|[\w\W]*%>/gm),OA=mn(/\$\{[\w\W]*/gm),NA=mn(/^data-[\-\w.\u00B7-\uFFFF]+$/),CA=mn(/^aria-[\-\w]+$/),uS=mn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xA=mn(/^(?:\w+script|data):/i),RA=mn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cS=mn(/^html$/i),DA=mn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Fg=Object.freeze({__proto__:null,ARIA_ATTR:CA,ATTR_WHITESPACE:RA,CUSTOM_ELEMENT:DA,DATA_ATTR:NA,DOCTYPE_NAME:cS,ERB_EXPR:wA,IS_ALLOWED_URI:uS,IS_SCRIPT_OR_DATA:xA,MUSTACHE_EXPR:AA,TMPLIT_EXPR:OA});const ro={element:1,text:3,progressingInstruction:7,comment:8,document:9},IA=function(){return typeof window>"u"?null:window},kA=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},Kg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function fS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:IA();const t=$=>fS($);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==ro.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:b}=e,D=c.prototype,z=so(D,"cloneNode"),U=so(D,"remove"),O=so(D,"nextSibling"),w=so(D,"childNodes"),C=so(D,"parentNode");if(typeof a=="function"){const $=n.createElement("template");$.content&&$.content.ownerDocument&&(n=$.content.ownerDocument)}let R,j="";const{implementation:Z,createNodeIterator:E,createDocumentFragment:y,getElementsByTagName:_}=n,{importNode:v}=i;let T=Kg();t.isSupported=typeof lS=="function"&&typeof C=="function"&&Z&&Z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:x,ERB_EXPR:A,TMPLIT_EXPR:ae,DATA_ATTR:oe,ARIA_ATTR:V,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:de}=Fg;let{IS_ALLOWED_URI:we}=Fg,be=null;const yt=ee({},[...qg,...Yf,...Ff,...Kf,...$g]);let Re=null;const vt=ee({},[...Xg,...Jf,...Yg,...tu]);let me=Object.seal(ld(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fn=null,Ts=null;const Cn=Object.seal(ld(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let xa=!0,Ra=!0,vl=!1,Da=!0,xn=!1,As=!0,Kn=!1,ws=!1,Os=!1,Jn=!1,Pe=!1,qe=!1,Ns=!0,Sl=!1;const bl="user-content-";let Ia=!0,yn=!1,Qn={},Ut=null;const Cs=ee({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let El=null;const Tl=ee({},["audio","video","img","source","image","track"]);let gr=null;const Al=ee({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rn="http://www.w3.org/1998/Math/MathML",Ni="http://www.w3.org/2000/svg",jt="http://www.w3.org/1999/xhtml";let Pt=jt,yr=!1,xs=null;const wl=ee({},[Rn,Ni,jt],$f);let Dn=ee({},["mi","mo","mn","ms","mtext"]),Rs=ee({},["annotation-xml"]);const ut=ee({},["title","style","font","a","script"]);let Ci=null;const Ds=["application/xhtml+xml","text/html"],Is="text/html";let Ve=null,xi=null;const Ri=n.createElement("form"),Ol=function(N){return N instanceof RegExp||N instanceof Function},ka=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(xi&&xi===N)){if((!N||typeof N!="object")&&(N={}),N=zn(N),Ci=Ds.indexOf(N.PARSER_MEDIA_TYPE)===-1?Is:N.PARSER_MEDIA_TYPE,Ve=Ci==="application/xhtml+xml"?$f:Ou,be=Sn(N,"ALLOWED_TAGS")?ee({},N.ALLOWED_TAGS,Ve):yt,Re=Sn(N,"ALLOWED_ATTR")?ee({},N.ALLOWED_ATTR,Ve):vt,xs=Sn(N,"ALLOWED_NAMESPACES")?ee({},N.ALLOWED_NAMESPACES,$f):wl,gr=Sn(N,"ADD_URI_SAFE_ATTR")?ee(zn(Al),N.ADD_URI_SAFE_ATTR,Ve):Al,El=Sn(N,"ADD_DATA_URI_TAGS")?ee(zn(Tl),N.ADD_DATA_URI_TAGS,Ve):Tl,Ut=Sn(N,"FORBID_CONTENTS")?ee({},N.FORBID_CONTENTS,Ve):Cs,Fn=Sn(N,"FORBID_TAGS")?ee({},N.FORBID_TAGS,Ve):zn({}),Ts=Sn(N,"FORBID_ATTR")?ee({},N.FORBID_ATTR,Ve):zn({}),Qn=Sn(N,"USE_PROFILES")?N.USE_PROFILES:!1,xa=N.ALLOW_ARIA_ATTR!==!1,Ra=N.ALLOW_DATA_ATTR!==!1,vl=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Da=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xn=N.SAFE_FOR_TEMPLATES||!1,As=N.SAFE_FOR_XML!==!1,Kn=N.WHOLE_DOCUMENT||!1,Jn=N.RETURN_DOM||!1,Pe=N.RETURN_DOM_FRAGMENT||!1,qe=N.RETURN_TRUSTED_TYPE||!1,Os=N.FORCE_BODY||!1,Ns=N.SANITIZE_DOM!==!1,Sl=N.SANITIZE_NAMED_PROPS||!1,Ia=N.KEEP_CONTENT!==!1,yn=N.IN_PLACE||!1,we=N.ALLOWED_URI_REGEXP||uS,Pt=N.NAMESPACE||jt,Dn=N.MATHML_TEXT_INTEGRATION_POINTS||Dn,Rs=N.HTML_INTEGRATION_POINTS||Rs,me=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Ol(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(me.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Ol(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(me.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(me.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xn&&(Ra=!1),Pe&&(Jn=!0),Qn&&(be=ee({},$g),Re=[],Qn.html===!0&&(ee(be,qg),ee(Re,Xg)),Qn.svg===!0&&(ee(be,Yf),ee(Re,Jf),ee(Re,tu)),Qn.svgFilters===!0&&(ee(be,Ff),ee(Re,Jf),ee(Re,tu)),Qn.mathMl===!0&&(ee(be,Kf),ee(Re,Yg),ee(Re,tu))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?Cn.tagCheck=N.ADD_TAGS:(be===yt&&(be=zn(be)),ee(be,N.ADD_TAGS,Ve))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?Cn.attributeCheck=N.ADD_ATTR:(Re===vt&&(Re=zn(Re)),ee(Re,N.ADD_ATTR,Ve))),N.ADD_URI_SAFE_ATTR&&ee(gr,N.ADD_URI_SAFE_ATTR,Ve),N.FORBID_CONTENTS&&(Ut===Cs&&(Ut=zn(Ut)),ee(Ut,N.FORBID_CONTENTS,Ve)),N.ADD_FORBID_CONTENTS&&(Ut===Cs&&(Ut=zn(Ut)),ee(Ut,N.ADD_FORBID_CONTENTS,Ve)),Ia&&(be["#text"]=!0),Kn&&ee(be,["html","head","body"]),be.table&&(ee(be,["tbody"]),delete Fn.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw io('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw io('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=N.TRUSTED_TYPES_POLICY,j=R.createHTML("")}else R===void 0&&(R=kA(b,s)),R!==null&&typeof j=="string"&&(j=R.createHTML(""));Tt&&Tt(N),xi=N}},_r=ee({},[...Yf,...Ff,...EA]),Nl=ee({},[...Kf,...TA]),Cl=function(N){let P=C(N);(!P||!P.tagName)&&(P={namespaceURI:Pt,tagName:"template"});const q=Ou(N.tagName),le=Ou(P.tagName);return xs[N.namespaceURI]?N.namespaceURI===Ni?P.namespaceURI===jt?q==="svg":P.namespaceURI===Rn?q==="svg"&&(le==="annotation-xml"||Dn[le]):!!_r[q]:N.namespaceURI===Rn?P.namespaceURI===jt?q==="math":P.namespaceURI===Ni?q==="math"&&Rs[le]:!!Nl[q]:N.namespaceURI===jt?P.namespaceURI===Ni&&!Rs[le]||P.namespaceURI===Rn&&!Dn[le]?!1:!Nl[q]&&(ut[q]||!_r[q]):!!(Ci==="application/xhtml+xml"&&xs[N.namespaceURI]):!1},Ot=function(N){to(t.removed,{element:N});try{C(N).removeChild(N)}catch{U(N)}},Vt=function(N,P){try{to(t.removed,{attribute:P.getAttributeNode(N),from:P})}catch{to(t.removed,{attribute:null,from:P})}if(P.removeAttribute(N),N==="is")if(Jn||Pe)try{Ot(P)}catch{}else try{P.setAttribute(N,"")}catch{}},xl=function(N){let P=null,q=null;if(Os)N="<remove></remove>"+N;else{const ze=Xf(N,/^[\r\n\t ]+/);q=ze&&ze[0]}Ci==="application/xhtml+xml"&&Pt===jt&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const le=R?R.createHTML(N):N;if(Pt===jt)try{P=new m().parseFromString(le,Ci)}catch{}if(!P||!P.documentElement){P=Z.createDocument(Pt,"template",null);try{P.documentElement.innerHTML=yr?j:le}catch{}}const $e=P.body||P.documentElement;return N&&q&&$e.insertBefore(n.createTextNode(q),$e.childNodes[0]||null),Pt===jt?_.call(P,Kn?"html":"body")[0]:Kn?P.documentElement:$e},_n=function(N){return E.call(N.ownerDocument||N,N,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},vr=function(N){return N instanceof p&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof d)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},za=function(N){return typeof l=="function"&&N instanceof l};function Ht($,N,P){eu($,q=>{q.call(t,N,P,xi)})}const Sr=function(N){let P=null;if(Ht(T.beforeSanitizeElements,N,null),vr(N))return Ot(N),!0;const q=Ve(N.nodeName);if(Ht(T.uponSanitizeElement,N,{tagName:q,allowedTags:be}),As&&N.hasChildNodes()&&!za(N.firstElementChild)&&St(/<[/\w!]/g,N.innerHTML)&&St(/<[/\w!]/g,N.textContent)||N.nodeType===ro.progressingInstruction||As&&N.nodeType===ro.comment&&St(/<[/\w]/g,N.data))return Ot(N),!0;if(!(Cn.tagCheck instanceof Function&&Cn.tagCheck(q))&&(!be[q]||Fn[q])){if(!Fn[q]&&Rl(q)&&(me.tagNameCheck instanceof RegExp&&St(me.tagNameCheck,q)||me.tagNameCheck instanceof Function&&me.tagNameCheck(q)))return!1;if(Ia&&!Ut[q]){const le=C(N)||N.parentNode,$e=w(N)||N.childNodes;if($e&&le){const ze=$e.length;for(let ct=ze-1;ct>=0;--ct){const Wt=z($e[ct],!0);Wt.__removalCount=(N.__removalCount||0)+1,le.insertBefore(Wt,O(N))}}}return Ot(N),!0}return N instanceof c&&!Cl(N)||(q==="noscript"||q==="noembed"||q==="noframes")&&St(/<\/no(script|embed|frames)/i,N.innerHTML)?(Ot(N),!0):(xn&&N.nodeType===ro.text&&(P=N.textContent,eu([x,A,ae],le=>{P=no(P,le," ")}),N.textContent!==P&&(to(t.removed,{element:N.cloneNode()}),N.textContent=P)),Ht(T.afterSanitizeElements,N,null),!1)},Ma=function(N,P,q){if(Ns&&(P==="id"||P==="name")&&(q in n||q in Ri))return!1;if(!(Ra&&!Ts[P]&&St(oe,P))){if(!(xa&&St(V,P))){if(!(Cn.attributeCheck instanceof Function&&Cn.attributeCheck(P,N))){if(!Re[P]||Ts[P]){if(!(Rl(N)&&(me.tagNameCheck instanceof RegExp&&St(me.tagNameCheck,N)||me.tagNameCheck instanceof Function&&me.tagNameCheck(N))&&(me.attributeNameCheck instanceof RegExp&&St(me.attributeNameCheck,P)||me.attributeNameCheck instanceof Function&&me.attributeNameCheck(P,N))||P==="is"&&me.allowCustomizedBuiltInElements&&(me.tagNameCheck instanceof RegExp&&St(me.tagNameCheck,q)||me.tagNameCheck instanceof Function&&me.tagNameCheck(q))))return!1}else if(!gr[P]){if(!St(we,no(q,F,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&N!=="script"&&_A(q,"data:")===0&&El[N])){if(!(vl&&!St(Y,no(q,F,"")))){if(q)return!1}}}}}}}return!0},Rl=function(N){return N!=="annotation-xml"&&Xf(N,de)},La=function(N){Ht(T.beforeSanitizeAttributes,N,null);const{attributes:P}=N;if(!P||vr(N))return;const q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Re,forceKeepAttr:void 0};let le=P.length;for(;le--;){const $e=P[le],{name:ze,namespaceURI:ct,value:Wt}=$e,Wn=Ve(ze),ks=Wt;let He=ze==="value"?ks:vA(ks);if(q.attrName=Wn,q.attrValue=He,q.keepAttr=!0,q.forceKeepAttr=void 0,Ht(T.uponSanitizeAttribute,N,q),He=q.attrValue,Sl&&(Wn==="id"||Wn==="name")&&(Vt(ze,N),He=bl+He),As&&St(/((--!?|])>)|<\/(style|title|textarea)/i,He)){Vt(ze,N);continue}if(Wn==="attributename"&&Xf(He,"href")){Vt(ze,N);continue}if(q.forceKeepAttr)continue;if(!q.keepAttr){Vt(ze,N);continue}if(!Da&&St(/\/>/i,He)){Vt(ze,N);continue}xn&&eu([x,A,ae],ja=>{He=no(He,ja," ")});const Ua=Ve(N.nodeName);if(!Ma(Ua,Wn,He)){Vt(ze,N);continue}if(R&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!ct)switch(b.getAttributeType(Ua,Wn)){case"TrustedHTML":{He=R.createHTML(He);break}case"TrustedScriptURL":{He=R.createScriptURL(He);break}}if(He!==ks)try{ct?N.setAttributeNS(ct,ze,He):N.setAttribute(ze,He),vr(N)?Ot(N):Zg(t.removed)}catch{Vt(ze,N)}}Ht(T.afterSanitizeAttributes,N,null)},tf=function $(N){let P=null;const q=_n(N);for(Ht(T.beforeSanitizeShadowDOM,N,null);P=q.nextNode();)Ht(T.uponSanitizeShadowNode,P,null),Sr(P),La(P),P.content instanceof r&&$(P.content);Ht(T.afterSanitizeShadowDOM,N,null)};return t.sanitize=function($){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,q=null,le=null,$e=null;if(yr=!$,yr&&($="<!-->"),typeof $!="string"&&!za($))if(typeof $.toString=="function"){if($=$.toString(),typeof $!="string")throw io("dirty is not a string, aborting")}else throw io("toString is not a function");if(!t.isSupported)return $;if(ws||ka(N),t.removed=[],typeof $=="string"&&(yn=!1),yn){if($.nodeName){const Wt=Ve($.nodeName);if(!be[Wt]||Fn[Wt])throw io("root node is forbidden and cannot be sanitized in-place")}}else if($ instanceof l)P=xl("<!---->"),q=P.ownerDocument.importNode($,!0),q.nodeType===ro.element&&q.nodeName==="BODY"||q.nodeName==="HTML"?P=q:P.appendChild(q);else{if(!Jn&&!xn&&!Kn&&$.indexOf("<")===-1)return R&&qe?R.createHTML($):$;if(P=xl($),!P)return Jn?null:qe?j:""}P&&Os&&Ot(P.firstChild);const ze=_n(yn?$:P);for(;le=ze.nextNode();)Sr(le),La(le),le.content instanceof r&&tf(le.content);if(yn)return $;if(Jn){if(Pe)for($e=y.call(P.ownerDocument);P.firstChild;)$e.appendChild(P.firstChild);else $e=P;return(Re.shadowroot||Re.shadowrootmode)&&($e=v.call(i,$e,!0)),$e}let ct=Kn?P.outerHTML:P.innerHTML;return Kn&&be["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&St(cS,P.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+ct),xn&&eu([x,A,ae],Wt=>{ct=no(ct,Wt," ")}),R&&qe?R.createHTML(ct):ct},t.setConfig=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ka($),ws=!0},t.clearConfig=function(){xi=null,ws=!1},t.isValidAttribute=function($,N,P){xi||ka({});const q=Ve($),le=Ve(N);return Ma(q,le,P)},t.addHook=function($,N){typeof N=="function"&&to(T[$],N)},t.removeHook=function($,N){if(N!==void 0){const P=gA(T[$],N);return P===-1?void 0:yA(T[$],P,1)[0]}return Zg(T[$])},t.removeHooks=function($){T[$]=[]},t.removeAllHooks=function(){T=Kg()},t}var zk=fS();const zA=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function MA(e){return zA.includes(e)}const lt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},si={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},Co=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],hS=50;class LA{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const s=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const r=console[t]||console.log;i!==void 0?r(s,i):r(s)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const Qf={};function Ss(e){const t=e||"__default__";return Qf[t]||(Qf[t]=new LA(e)),Qf[t]}const un=Ss("Storage"),fd="magic-internet-math-progress",Wf=2;function dS(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function mS(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function sr(){if(!dS())return un.warn("localStorage is not available"),null;try{const e=localStorage.getItem(fd);if(!e)return null;const t=JSON.parse(e);return mS(t)?(t.version!==Wf&&(un.info(`Migrating state from v${t.version} to v${Wf}`),t.version=Wf),t):(un.warn("Invalid gamification state structure in localStorage"),null)}catch(e){un.error("Failed to load gamification state:",e);try{localStorage.removeItem(fd),un.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Bc(e){if(!dS()){un.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(fd,JSON.stringify(e))}catch(t){un.error("Failed to save gamification state:",t)}}const UA=1;function jA(){const e=sr();if(!e){un.warn("No progress data to export");return}const t={version:UA,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),un.info("Progress exported successfully")}function PA(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!mS(t.state))}async function VA(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var s;try{const r=(s=i.target)==null?void 0:s.result;if(typeof r!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(r);if(!PA(a)){t({success:!1,message:"Invalid backup file format"});return}const l=sr(),c=(l==null?void 0:l.user.totalXP)??0,h=a.state.user.totalXP;if(c>h){t({success:!1,message:`Current progress (${c} XP) is higher than backup (${h} XP). Import cancelled.`});return}Bc(a.state),un.info(`Progress imported: ${h} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${h} XP!`,xpImported:h})}catch(r){un.error("Failed to parse backup file:",r),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function HA(){const e=sr();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function BA(){const e=sr();e&&(e.migratedToServer=!0,Bc(e),un.info("Marked progress as migrated to server"))}function GA(){const e=sr();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function pS(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:ZA(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:hS,completed:!1},lastUpdated:e}}function ZA(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const qA=50;function Jg(e){return Math.round(e/qA*100)}const $A=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>Jg(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>Jg(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function XA(e){const t=[];for(const n of $A){const i=e.achievements.find(r=>r.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function Aa(e){for(let t=Co.length-1;t>=0;t--)if(e>=Co[t])return t+1;return 1}function gS(e,t){if(t>=Co.length)return 100;const n=Co[t-1],i=Co[t],s=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,s))}function YA(e,t){const n={easy:lt.QUIZ_EASY,medium:lt.QUIZ_MEDIUM,hard:lt.QUIZ_HARD}[e];return Math.round(n*(t/100))}const FA=1e3*60*60*24;function KA(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:hS,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const s=new Date(i),r=Math.floor((t.getTime()-s.getTime())/FA);if(r===0)return e;if(r===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return r===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function yS(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(s=>s.score)),i=t.reduce((s,r)=>s+r.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function JA(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Gc=Ss("GamificationReducer");function QA(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const s=e.user.totalXP+lt.SECTION_VISIT;return{...e,user:{...e.user,totalXP:s,level:Aa(s)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.SECTION_VISIT},lastUpdated:n}}function WA(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return Gc.warn(`Attempted to complete unvisited section: ${t}`),e;const s=e.user.totalXP+lt.SECTION_COMPLETE,r=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:s,level:Aa(s),sectionsCompleted:r},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:yS(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.SECTION_COMPLETE},lastUpdated:n}}function e2(e,t,n){const{sectionId:i,difficulty:s,score:r,correctAnswers:a,totalQuestions:l}=t,c=e.sections[i];if(!c)return Gc.warn(`Section ${i} was not visited before quiz`),e;const h=YA(s,r),d=a===l,p=d?Math.round(h*(1+lt.QUIZ_PERFECT_BONUS)):h,m=e.user.totalXP+p,b={timestamp:n,difficulty:s,score:r,correctAnswers:a,totalQuestions:l,xpEarned:p},D=[...c.quizAttempts,b],z={...c,quizAttempts:D},U=yS(z),O=r>=80&&!c.completedAt,w=O&&!e.user.sectionsCompleted.includes(i),C=w?lt.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:m+C,level:Aa(m+C),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:d?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:w?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...z,masteryLevel:U,completedAt:O?c.completedAt||n:c.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+p+C},lastUpdated:n}}function t2(e,t,n,i){const s=e.sections[t];if(s!=null&&s.visualizationsInteracted.includes(n))return e;if(!s)return Gc.warn(`Section ${t} was not visited before visualization`),e;const r=e.user.totalXP+lt.VISUALIZATION_USE,a=[...s.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:r,level:Aa(r),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...s,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.VISUALIZATION_USE},lastUpdated:i}}function n2(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+lt.PART_COMPLETE_BONUS;return Gc.info(`Part ${t} completed, awarding ${lt.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:Aa(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.PART_COMPLETE_BONUS},lastUpdated:n}}function i2(e,t,n){let i=si.GAME_PARTICIPATION;const s=si.TIER_MULTIPLIER[t.tier],r=Math.floor(Math.max(0,t.score)/si.POINTS_PER_XP_UNIT*lt.QUIZ_MEDIUM*s);if(i+=r,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=si.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=si.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=si.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=si.FIRST_PLACE_BONUS;break;case 2:i+=si.SECOND_PLACE_BONUS;break;case 3:i+=si.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,l=e.racingStats,c=t.score>((l==null?void 0:l.highScore)??0),h=t.isMultiplayer&&t.placement===1,d={gamesPlayed:((l==null?void 0:l.gamesPlayed)??0)+1,multiplayerGamesPlayed:((l==null?void 0:l.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((l==null?void 0:l.totalPoints)??0)+Math.max(0,t.score),highScore:c?t.score:(l==null?void 0:l.highScore)??0,highestTierUnlocked:Math.max((l==null?void 0:l.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((l==null?void 0:l.longestStreak)??0,t.maxStreak),fastAnswers:((l==null?void 0:l.fastAnswers)??0)+t.fastAnswers,totalCorrect:((l==null?void 0:l.totalCorrect)??0)+t.correctAnswers,totalAttempted:((l==null?void 0:l.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((l==null?void 0:l.multiplayerWins)??0)+(h?1:0),lastPlayedAt:n},p=e.achievements.map(m=>{if(m.unlockedAt)return m;switch(m.id){case"racing-rookie":if(d.gamesPlayed>=1)return{...m,progress:1,unlockedAt:n};break;case"speed-demon":return d.fastAnswers>=50?{...m,progress:50,unlockedAt:n}:{...m,progress:Math.min(d.fastAnswers,50)};case"streak-legend":return d.longestStreak>=20?{...m,progress:20,unlockedAt:n}:{...m,progress:Math.min(d.longestStreak,20)};case"tier-climber":return d.highestTierUnlocked>=6?{...m,progress:6,unlockedAt:n}:{...m,progress:d.highestTierUnlocked};case"modular-master":return d.totalPoints>=1e4?{...m,progress:1e4,unlockedAt:n}:{...m,progress:Math.min(d.totalPoints,1e4)};case"multiplayer-champion":return d.multiplayerWins>=5?{...m,progress:5,unlockedAt:n}:{...m,progress:Math.min(d.multiplayerWins,5)}}return m});return{...e,user:{...e.user,totalXP:a,level:Aa(a)},racingStats:d,achievements:p,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function s2(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return QA(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return WA(e,t.payload.sectionId,n);case"COMPLETE_PART":return n2(e,t.payload.partId,n);case"RECORD_QUIZ":return e2(e,t.payload,n);case"USE_VISUALIZATION":return t2(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return KA(e);case"RESET_PROGRESS":return pS();case"RECORD_RACE_GAME":return i2(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=()=>{};var Qg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},a2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],l=e[n++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,h=c?e[s+2]:0,d=r>>2,p=(r&3)<<4|l>>4;let m=(l&15)<<2|h>>6,b=h&63;c||(b=64,a||(m=64)),i.push(n[d],n[p],n[m],n[b])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_S(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||l==null||h==null||p==null)throw new o2;const m=r<<2|l>>4;if(i.push(m),h!==64){const b=l<<4&240|h>>2;if(i.push(b),p!==64){const D=h<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l2=function(e){const t=_S(e);return vS.encodeByteArray(t,!0)},SS=function(e){return l2(e).replace(/\./g,"")},bS=function(e){try{return vS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=()=>u2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof process>"u"||typeof Qg>"u")return;const e=Qg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},h2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bS(e[1]);return t&&JSON.parse(t)},Tm=()=>{try{return r2()||c2()||f2()||h2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ES=e=>{var t,n;return(n=(t=Tm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},d2=e=>{const t=ES(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},TS=()=>{var e;return(e=Tm())==null?void 0:e.config},AS=e=>{var t;return(t=Tm())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wS(e){return(await fetch(e,{credentials:"include"})).ok}const xo={};function p2(){const e={prod:[],emulator:[]};for(const t of Object.keys(xo))xo[t]?e.emulator.push(t):e.prod.push(t);return e}function g2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Wg=!1;function OS(e,t){if(typeof window>"u"||typeof document>"u"||!wa(window.location.host)||xo[e]===t||xo[e]||Wg)return;xo[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=p2().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,b){m.setAttribute("width","24"),m.setAttribute("id",b),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Wg=!0,a()},m}function d(m,b){m.setAttribute("id",b),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=g2(i),b=n("text"),D=document.getElementById(b)||document.createElement("span"),z=n("learnmore"),U=document.getElementById(z)||document.createElement("a"),O=n("preprendIcon"),w=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const C=m.element;l(C),d(U,z);const R=h();c(w,O),C.append(w,D,U,R),document.body.appendChild(C)}r?(D.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function _2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function S2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const e=wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E2(){try{return typeof indexedDB=="object"}catch{return!1}}function T2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="FirebaseError";class Yn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=A2,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?w2(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Yn(s,l,i)}}function w2(e,t){return e.replace(O2,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const O2=/\{\$([^}]+)}/g;function N2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function da(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(ey(r)&&ey(a)){if(!da(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ey(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function C2(e,t){const n=new x2(e,t);return n.subscribe.bind(n)}class x2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");R2(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=eh),s.error===void 0&&(s.error=eh),s.complete===void 0&&(s.complete=eh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function eh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e&&e._delegate?e._delegate:e}class ms{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new m2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k2(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:I2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I2(e){return e===Bs?void 0:e}function k2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new D2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));const M2={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},L2=ge.INFO,U2={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},j2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=U2[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=L2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?M2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function V2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hd="@firebase/app",ty="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Am("@firebase/app"),H2="@firebase/app-compat",B2="@firebase/analytics-compat",G2="@firebase/analytics",Z2="@firebase/app-check-compat",q2="@firebase/app-check",$2="@firebase/auth",X2="@firebase/auth-compat",Y2="@firebase/database",F2="@firebase/data-connect",K2="@firebase/database-compat",J2="@firebase/functions",Q2="@firebase/functions-compat",W2="@firebase/installations",ew="@firebase/installations-compat",tw="@firebase/messaging",nw="@firebase/messaging-compat",iw="@firebase/performance",sw="@firebase/performance-compat",rw="@firebase/remote-config",aw="@firebase/remote-config-compat",ow="@firebase/storage",lw="@firebase/storage-compat",uw="@firebase/firestore",cw="@firebase/ai",fw="@firebase/firestore-compat",hw="firebase",dw="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",mw={[hd]:"fire-core",[H2]:"fire-core-compat",[G2]:"fire-analytics",[B2]:"fire-analytics-compat",[q2]:"fire-app-check",[Z2]:"fire-app-check-compat",[$2]:"fire-auth",[X2]:"fire-auth-compat",[Y2]:"fire-rtdb",[F2]:"fire-data-connect",[K2]:"fire-rtdb-compat",[J2]:"fire-fn",[Q2]:"fire-fn-compat",[W2]:"fire-iid",[ew]:"fire-iid-compat",[tw]:"fire-fcm",[nw]:"fire-fcm-compat",[iw]:"fire-perf",[sw]:"fire-perf-compat",[rw]:"fire-rc",[aw]:"fire-rc-compat",[ow]:"fire-gcs",[lw]:"fire-gcs-compat",[uw]:"fire-fst",[fw]:"fire-fst-compat",[cw]:"fire-vertex","fire-js":"fire-js",[hw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,pw=new Map,md=new Map;function ny(e,t){try{e.container.addComponent(t)}catch(n){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function rr(e){const t=e.name;if(md.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;md.set(t,e);for(const n of Ko.values())ny(n,e);for(const n of pw.values())ny(n,e);return!0}function wm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new dl("app","Firebase",gw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=dw;function NS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:dd,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=TS()),!n)throw ls.create("no-options");const r=Ko.get(s);if(r){if(da(n,r.options)&&da(i,r.config))return r;throw ls.create("duplicate-app",{appName:s})}const a=new z2(s);for(const c of md.values())a.addComponent(c);const l=new yw(n,i,a);return Ko.set(s,l),l}function CS(e=dd){const t=Ko.get(e);if(!t&&e===dd&&TS())return NS();if(!t)throw ls.create("no-app",{appName:e});return t}function _w(){return Array.from(Ko.values())}function Gn(e,t,n){let i=mw[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ti.warn(a.join(" "));return}rr(new ms(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebase-heartbeat-database",Sw=1,Jo="firebase-heartbeat-store";let th=null;function xS(){return th||(th=kE(vw,Sw,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(e=>{throw ls.create("idb-open",{originalErrorMessage:e.message})})),th}async function bw(e){try{const n=(await xS()).transaction(Jo),i=await n.objectStore(Jo).get(RS(e));return await n.done,i}catch(t){if(t instanceof Yn)Ti.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ti.warn(n.message)}}}async function iy(e,t){try{const i=(await xS()).transaction(Jo,"readwrite");await i.objectStore(Jo).put(t,RS(e)),await i.done}catch(n){if(n instanceof Yn)Ti.warn(n.message);else{const i=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(i.message)}}}function RS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=1024,Tw=30;class Aw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ow(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>Tw){const a=Nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ti.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sy(),{heartbeatsToSend:i,unsentEntries:s}=ww(this._heartbeatsCache.heartbeats),r=SS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ti.warn(n),""}}}function sy(){return new Date().toISOString().substring(0,10)}function ww(e,t=Ew){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),ry(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ry(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ow{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E2()?T2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return iy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return iy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ry(e){return SS(JSON.stringify({version:2,heartbeats:e})).length}function Nw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(e){rr(new ms("platform-logger",t=>new P2(t),"PRIVATE")),rr(new ms("heartbeat",t=>new Aw(t),"PRIVATE")),Gn(hd,ty,e),Gn(hd,ty,"esm2020"),Gn("fire-js","")}Cw("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="type.googleapis.com/google.protobuf.Int64Value",Rw="type.googleapis.com/google.protobuf.UInt64Value";function DS(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function oc(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>oc(t));if(typeof e=="function"||typeof e=="object")return DS(e,t=>oc(t));throw new Error("Data cannot be encoded in JSON: "+e)}function ma(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case xw:case Rw:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>ma(t)):typeof e=="function"||typeof e=="object"?DS(e,t=>ma(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends Yn{constructor(t,n,i){super(`${Om}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,It.prototype)}}function Dw(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function lc(e,t){let n=Dw(e),i=n,s;try{const r=t&&t.error;if(r){const a=r.status;if(typeof a=="string"){if(!ay[a])return new It("internal","internal");n=ay[a],i=a}const l=r.message;typeof l=="string"&&(i=l),s=r.details,s!==void 0&&(s=ma(s))}}catch{}return n==="ok"?null:new It(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,n,i,s){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,cn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="us-central1",kw=/^data: (.*?)(?:\n|$)/;function zw(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new It("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Mw{constructor(t,n,i,s,r=pd,a=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Iw(t,n,i,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(r);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=pd}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Lw(e,t,n){const i=wa(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(wS(e.emulatorOrigin+"/backends"),OS("Functions",!0))}function Uw(e,t,n){const i=s=>Pw(e,t,s,{});return i.stream=(s,r)=>Hw(e,t,s,r),i}function IS(e){return e.emulatorOrigin&&wa(e.emulatorOrigin)?"include":void 0}async function jw(e,t,n,i,s){n["Content-Type"]="application/json";let r;try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:IS(s)})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}async function kS(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function Pw(e,t,n,i){const s=e._url(t);return Vw(e,s,n,i)}async function Vw(e,t,n,i){n=oc(n);const s={data:n},r=await kS(e,i),a=i.timeout||7e4,l=zw(a),c=await Promise.race([jw(t,s,r,e.fetchImpl,e),l.promise,e.cancelAllRequests]);if(l.cancel(),!c)throw new It("cancelled","Firebase Functions instance was deleted.");const h=lc(c.status,c.json);if(h)throw h;if(!c.json)throw new It("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new It("internal","Response is missing data field.");return{data:ma(d)}}function Hw(e,t,n,i){const s=e._url(t);return Bw(e,s,n,i||{})}async function Bw(e,t,n,i){var m;n=oc(n);const s={data:n},r=await kS(e,i);r["Content-Type"]="application/json",r.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(s),headers:r,signal:i==null?void 0:i.signal,credentials:IS(e)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const z=new It("cancelled","Request was cancelled.");return{data:Promise.reject(z),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(z)}}}}}}const D=lc(0,null);return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}let l,c;const h=new Promise((b,D)=>{l=b,c=D});(m=i==null?void 0:i.signal)==null||m.addEventListener("abort",()=>{const b=new It("cancelled","Request was cancelled.");c(b)});const d=a.body.getReader(),p=Gw(d,l,c,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const b=p.getReader();return{async next(){const{value:D,done:z}=await b.read();return{value:D,done:z}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:h}}function Gw(e,t,n,i){const s=(a,l)=>{const c=a.match(kw);if(!c)return;const h=c[1];try{const d=JSON.parse(h);if("result"in d){t(ma(d.result));return}if("message"in d){l.enqueue(ma(d.message));return}if("error"in d){const p=lc(0,d);l.error(p),n(p);return}}catch(d){if(d instanceof It){l.error(d),n(d);return}}},r=new TextDecoder;return new ReadableStream({start(a){let l="";return c();async function c(){if(i!=null&&i.aborted){const h=new It("cancelled","Request was cancelled");return a.error(h),n(h),Promise.resolve()}try{const{value:h,done:d}=await e.read();if(d){l.trim()&&s(l.trim(),a),a.close();return}if(i!=null&&i.aborted){const m=new It("cancelled","Request was cancelled");a.error(m),n(m),await e.cancel();return}l+=r.decode(h,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const m of p)m.trim()&&s(m.trim(),a);return c()}catch(h){const d=h instanceof It?h:lc(0,null);a.error(d),n(d)}}},cancel(){return e.cancel()}})}const oy="@firebase/functions",ly="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="auth-internal",qw="app-check-internal",$w="messaging-internal";function Xw(e){const t=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),r=n.getProvider(Zw),a=n.getProvider($w),l=n.getProvider(qw);return new Mw(s,r,a,l,i)};rr(new ms(Om,t,"PUBLIC").setMultipleInstances(!0)),Gn(oy,ly,e),Gn(oy,ly,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(e=CS(),t=pd){const i=wm(pn(e),Om).getImmediate({identifier:t}),s=d2("functions");return s&&zS(i,...s),i}function zS(e,t,n){Lw(pn(e),t,n)}function Qo(e,t,n){return Uw(pn(e),t)}Xw();var Fw="firebase",Kw="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(Fw,Kw,"app");function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jw=MS,LS=new dl("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Am("@firebase/auth");function Qw(e,...t){uc.logLevel<=ge.WARN&&uc.warn(`Auth (${Oa}): ${e}`,...t)}function Nu(e,...t){uc.logLevel<=ge.ERROR&&uc.error(`Auth (${Oa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e,...t){throw Nm(e,...t)}function Zn(e,...t){return Nm(e,...t)}function US(e,t,n){const i={...Jw(),[t]:n};return new dl("auth","Firebase",i).create(t,{appName:e.name})}function us(e){return US(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return LS.create(e,...t)}function J(e,t,...n){if(!e)throw Nm(t,...n)}function di(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nu(t),new Error(t)}function wi(e,t){e||di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function Ww(){return uy()==="http:"||uy()==="https:"}function uy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ww()||v2()||"connection"in navigator)?navigator.onLine:!0}function tO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,n){this.shortDelay=t,this.longDelay=n,wi(n>t,"Short delay should be less than long delay!"),this.isMobile=y2()||S2()}get(){return eO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e,t){wi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sO=new pl(3e4,6e4);function Zc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Na(e,t,n,i,s={}){return PS(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const l=ml({key:e.config.apiKey,...a}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:c,...r};return _2()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&wa(e.emulatorConfig.host)&&(h.credentials="include"),jS.fetch()(await HS(e,e.config.apiHost,n,l),h)})}async function PS(e,t,n){e._canInitEmulator=!1;const i={...nO,...t};try{const s=new rO(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw nu(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw nu(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw nu(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw nu(e,"user-disabled",a);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw US(e,d,h);Ai(e,d)}}catch(s){if(s instanceof Yn)throw s;Ai(e,"network-request-failed",{message:String(s)})}}async function VS(e,t,n,i,s={}){const r=await Na(e,t,n,i,s);return"mfaPendingCredential"in r&&Ai(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function HS(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?Cm(e.config,s):`${e.config.apiScheme}://${s}`;return iO.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class rO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Zn(this.auth,"network-request-failed")),sO.get())})}}function nu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Zn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(e,t){return Na(e,"POST","/v1/accounts:delete",t)}async function cc(e,t){return Na(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oO(e,t=!1){const n=pn(e),i=await n.getIdToken(t),s=xm(i);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Ro(nh(s.auth_time)),issuedAtTime:Ro(nh(s.iat)),expirationTime:Ro(nh(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function nh(e){return Number(e)*1e3}function xm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{const s=bS(n);return s?JSON.parse(s):(Nu("Failed to decode base64 JWT payload"),null)}catch(s){return Nu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cy(e){const t=xm(e);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Yn&&lO(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function lO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(e){var p;const t=e.auth,n=await e.getIdToken(),i=await Wo(e,cc(t,{idToken:n}));J(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(p=s.providerUserInfo)!=null&&p.length?BS(s.providerUserInfo):[],a=fO(e.providerData,r),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yd(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function cO(e){const t=pn(e);await fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fO(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function BS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(e,t){const n=await PS(e,{},async()=>{const i=ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await HS(e,s,"/v1/token",`key=${r}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:i};return e.emulatorConfig&&wa(e.emulatorConfig.host)&&(c.credentials="include"),jS.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dO(e,t){return Na(e,"POST","/v2/accounts:revokeToken",Zc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){J(t.length!==0,"internal-error");const n=cy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await hO(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Jr;return i&&(J(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(J(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(J(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Jr,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e,t){J(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class An{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new uO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,t));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oO(this,t)}reload(){return cO(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new An({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await fc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await Wo(this,aO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:b,providerData:D,stsTokenManager:z}=n;J(p&&z,t,"internal-error");const U=Jr.fromJSON(this.name,z);J(typeof p=="string",t,"internal-error"),Li(i,t.name),Li(s,t.name),J(typeof m=="boolean",t,"internal-error"),J(typeof b=="boolean",t,"internal-error"),Li(r,t.name),Li(a,t.name),Li(l,t.name),Li(c,t.name),Li(h,t.name),Li(d,t.name);const O=new An({uid:p,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:b,photoURL:a,phoneNumber:r,tenantId:l,stsTokenManager:U,createdAt:h,lastLoginAt:d});return D&&Array.isArray(D)&&(O.providerData=D.map(w=>({...w}))),c&&(O._redirectEventId=c),O}static async _fromIdTokenResponse(t,n,i=!1){const s=new Jr;s.updateFromServerResponse(n);const r=new An({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await fc(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];J(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?BS(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Jr;l.updateFromIdToken(i);const c=new An({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new yd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;function mi(e){wi(e instanceof Function,"Expected a class definition");let t=fy.get(e);return t?(wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}GS.type="NONE";const hy=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e,t,n){return`firebase:${e}:${t}:${n}`}class Qr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Cu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Cu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await cc(this.auth,{idToken:t}).catch(()=>{});return n?An._fromGetAccountInfoResponse(this.auth,n,t):null}return An._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Qr(mi(hy),t,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||mi(hy);const a=Cu(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const m=await cc(t,{idToken:d}).catch(()=>{});if(!m)break;p=await An._fromGetAccountInfoResponse(t,m,d)}else p=An._fromJSON(t,d);h!==r&&(l=p),r=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new Qr(r,t,i):(r=c[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Qr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FS(t))return"Blackberry";if(KS(t))return"Webos";if(qS(t))return"Safari";if((t.includes("chrome/")||$S(t))&&!t.includes("edge/"))return"Chrome";if(YS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ZS(e=wt()){return/firefox\//i.test(e)}function qS(e=wt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $S(e=wt()){return/crios\//i.test(e)}function XS(e=wt()){return/iemobile/i.test(e)}function YS(e=wt()){return/android/i.test(e)}function FS(e=wt()){return/blackberry/i.test(e)}function KS(e=wt()){return/webos/i.test(e)}function Rm(e=wt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mO(e=wt()){var t;return Rm(e)&&!!((t=window.navigator)!=null&&t.standalone)}function pO(){return b2()&&document.documentMode===10}function JS(e=wt()){return Rm(e)||YS(e)||KS(e)||FS(e)||/windows phone/i.test(e)||XS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(e,t=[]){let n;switch(e){case"Browser":n=dy(wt());break;case"Worker":n=`${dy(wt())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,l)=>{try{const c=t(r);a(c)}catch(c){l(c)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(e,t={}){return Na(e,"GET","/v2/passwordPolicy",Zc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=6;class vO{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_O,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new my(this),this.idTokenSubscription=new my(this),this.beforeStateQueue=new gO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Qr.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await cc(this,{idToken:t}),i=await An._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await fc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(us(this));const n=t?pn(t):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yO(this),n=new vO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new dl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await dO(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&mi(t)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Qr.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,i,s);return()=>{a=!0,c()}}else{const c=t.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&Qw(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qc(e){return pn(e)}class my{constructor(t){this.auth=t,this.observer=null,this.addObserver=C2(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bO(e){Dm=e}function EO(e){return Dm.loadJS(e)}function TO(){return Dm.gapiScript}function AO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(e,t){const n=wm(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(da(r,t??{}))return s;Ai(s,"already-initialized")}return n.initialize({options:t})}function OO(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(mi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function NO(e,t,n){const i=qc(e);J(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=WS(t),{host:a,port:l}=CO(t),c=l===null?"":`:${l}`,h={url:`${r}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){J(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),J(da(h,i.config.emulator)&&da(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,wa(a)?(wS(`${r}//${a}${c}`),OS("Auth",!0)):xO()}function WS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function CO(e){const t=WS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:py(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:py(a)}}}function py(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function xO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(t){return di("not implemented")}_linkToIdToken(t,n){return di("not implemented")}_getReauthenticationResolver(t){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wr(e,t){return VS(e,"POST","/v1/accounts:signInWithIdp",Zc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="http://localhost";class ar extends eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ar(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new ar(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Wr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Wr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wr(t,n)}buildRequest(){const t={requestUri:RO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends tb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends gl{constructor(){super("facebook.com")}static credential(t){return ar._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zi.credential(t.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ar._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends gl{constructor(){super("github.com")}static credential(t){return ar._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $i.credential(t.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends gl{constructor(){super("twitter.com")}static credential(t,n){return ar._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await An._fromIdTokenResponse(t,i,s),a=gy(i);return new or({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=gy(i);return new or({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function gy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Yn{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new hc(t,n,i,s)}}function nb(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?hc._fromErrorAndOperation(e,r,t,i):r})}async function DO(e,t,n=!1){const i=await Wo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return or._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(e,t,n=!1){const{auth:i}=e;if(cn(i.app))return Promise.reject(us(i));const s="reauthenticate";try{const r=await Wo(e,nb(i,s,t,e),n);J(r.idToken,i,"internal-error");const a=xm(r.idToken);J(a,i,"internal-error");const{sub:l}=a;return J(e.uid===l,i,"user-mismatch"),or._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Ai(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(e,t,n=!1){if(cn(e.app))return Promise.reject(us(e));const i="signIn",s=await nb(e,i,t),r=await or._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(e,t){return VS(e,"POST","/v1/accounts:signInWithCustomToken",Zc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(e,t){if(cn(e.app))return Promise.reject(us(e));const n=qc(e),i=await zO(n,{token:t,returnSecureToken:!0}),s=await or._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function LO(e,t,n,i){return pn(e).onIdTokenChanged(t,n,i)}function UO(e,t,n){return pn(e).beforeAuthStateChanged(t,n)}function jO(e,t,n,i){return pn(e).onAuthStateChanged(t,n,i)}function PO(e){return pn(e).signOut()}const dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dc,"1"),this.storage.removeItem(dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=1e3,HO=10;class sb extends ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);pO()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,HO):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}sb.type="LOCAL";const BO=sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}rb.type="SESSION";const ab=rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new $c(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),c=await GO(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,c)=>{const h=Im("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(m.data.response);break;default:clearTimeout(d),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function qO(e){qn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function $O(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function YO(){return ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",FO=1,mc="firebaseLocalStorage",ub="fbase_key";class yl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(e,t){return e.transaction([mc],t?"readwrite":"readonly").objectStore(mc)}function KO(){const e=indexedDB.deleteDatabase(lb);return new yl(e).toPromise()}function _d(){const e=indexedDB.open(lb,FO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(mc,{keyPath:ub})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(mc)?t(i):(i.close(),await KO(),t(await _d()))})})}async function yy(e,t,n){const i=Xc(e,!0).put({[ub]:t,value:n});return new yl(i).toPromise()}async function JO(e,t){const n=Xc(e,!1).get(t),i=await new yl(n).toPromise();return i===void 0?null:i.value}function _y(e,t){const n=Xc(e,!0).delete(t);return new yl(n).toPromise()}const QO=800,WO=3;class cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _d(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>WO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(YO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await $O(),!this.activeServiceWorker)return;this.sender=new ZO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _d();return await yy(t,dc,"1"),await _y(t,dc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>yy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>JO(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_y(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Xc(s,!1).getAll();return new yl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cb.type="LOCAL";const eN=cb;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e,t){return t?mi(t):(J(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends eb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function nN(e){return kO(e.auth,new km(e),e.bypassAuthState)}function iN(e){const{auth:t,user:n}=e;return J(n,t,"internal-error"),IO(n,new km(e),e.bypassAuthState)}async function sN(e){const{auth:t,user:n}=e;return J(n,t,"internal-error"),DO(n,new km(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nN;case"linkViaPopup":case"linkViaRedirect":return sN;case"reauthViaPopup":case"reauthViaRedirect":return iN;default:Ai(this.auth,"internal-error")}}resolve(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new pl(2e3,1e4);class Hr extends fb{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rN.get())};t()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="pendingRedirect",xu=new Map;class oN extends fb{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=xu.get(this.auth._key());if(!t){try{const i=await lN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}xu.set(this.auth._key(),t)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lN(e,t){const n=fN(t),i=cN(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function uN(e,t){xu.set(e._key(),t)}function cN(e){return mi(e._redirectPersistence)}function fN(e){return Cu(aN,e.config.apiKey,e.name)}async function hN(e,t,n=!1){if(cn(e.app))return Promise.reject(us(e));const i=qc(e),s=tN(i,t),a=await new oN(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=10*60*1e3;class mN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!hb(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dN&&this.cachedEventUids.clear(),this.cachedEventUids.has(vy(t))}saveEventToCache(t){this.cachedEventUids.add(vy(t)),this.lastProcessedEventTime=Date.now()}}function vy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function hb({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hb(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t={}){return Na(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_N=/^https?/;async function vN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gN(e);for(const n of t)try{if(SN(n))return}catch{}Ai(e,"unauthorized-domain")}function SN(e){const t=gd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!_N.test(n))return!1;if(yN.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new pl(3e4,6e4);function Sy(){const e=qn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function EN(e){return new Promise((t,n)=>{var s,r,a;function i(){Sy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sy(),n(Zn(e,"network-request-failed"))},timeout:bN.get()})}if((r=(s=qn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=qn().gapi)!=null&&a.load)i();else{const l=AO("iframefcb");return qn()[l]=()=>{gapi.load?i():n(Zn(e,"network-request-failed"))},EO(`${TO()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Ru=null,t})}let Ru=null;function TN(e){return Ru=Ru||EN(e),Ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new pl(5e3,15e3),wN="__/auth/iframe",ON="emulator/auth/iframe",NN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xN(e){const t=e.config;J(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cm(t,ON):`https://${e.config.authDomain}/${wN}`,i={apiKey:t.apiKey,appName:e.name,v:Oa},s=CN.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ml(i).slice(1)}`}async function RN(e){const t=await TN(e),n=qn().gapi;return J(n,e,"internal-error"),t.open({where:document.body,url:xN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NN,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Zn(e,"network-request-failed"),l=qn().setTimeout(()=>{r(a)},AN.get());function c(){qn().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IN=500,kN=600,zN="_blank",MN="http://localhost";class by{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(e,t,n,i=IN,s=kN){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c={...DN,width:i.toString(),height:s.toString(),top:r,left:a},h=wt().toLowerCase();n&&(l=$S(h)?zN:n),ZS(h)&&(t=t||MN,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[b,D])=>`${m}${b}=${D},`,"");if(mO(h)&&l!=="_self")return UN(t||"",l),new by(null);const p=window.open(t||"",l,d);J(p,e,"popup-blocked");try{p.focus()}catch{}return new by(p)}function UN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",PN="emulator/auth/handler",VN=encodeURIComponent("fac");async function Ey(e,t,n,i,s,r){J(e.config.authDomain,e,"auth-domain-config-required"),J(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Oa,eventId:s};if(t instanceof tb){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",N2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(t instanceof gl){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),h=c?`#${VN}=${encodeURIComponent(c)}`:"";return`${HN(e)}?${ml(l).slice(1)}${h}`}function HN({config:e}){return e.emulator?Cm(e,PN):`https://${e.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ab,this._completeRedirectFn=hN,this._overrideRedirectResult=uN}async _openPopup(t,n,i,s){var a;wi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await Ey(t,n,i,gd(),s);return LN(t,r,Im())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await Ey(t,n,i,gd(),s);return qO(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(wi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await RN(t),i=new mN(t);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ih,{type:ih},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[ih];r!==void 0&&n(!!r),Ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return JS()||qS()||Rm()}}const GN=BN;var Ty="@firebase/auth",Ay="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $N(e){rr(new ms("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(e)},h=new SO(i,s,r,c);return OO(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),rr(new ms("auth-internal",t=>{const n=qc(t.getProvider("auth").getImmediate());return(i=>new ZN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(Ty,Ay,qN(e)),Gn(Ty,Ay,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=5*60,YN=AS("authIdTokenMaxAge")||XN;let wy=null;const FN=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>YN)return;const s=n==null?void 0:n.token;wy!==s&&(wy=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function KN(e=CS()){const t=wm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=wO(e,{popupRedirectResolver:GN,persistence:[eN,BO,ab]}),i=AS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=FN(r.toString());UO(n,a,()=>a(n.currentUser)),LO(n,l=>a(l))}}const s=ES("auth");return s&&NO(n,`http://${s}`),n}function JN(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}bO({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Zn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",JN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$N("Browser");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zm;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function _(){}_.prototype=y.prototype,E.F=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.D=function(v,T,x){for(var A=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)A[ae-2]=arguments[ae];return y.prototype[T].apply(v,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,y,_){_||(_=0);const v=Array(16);if(typeof y=="string")for(var T=0;T<16;++T)v[T]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(T=0;T<16;++T)v[T]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],T=E.g[2];let x=E.g[3],A;A=y+(x^_&(T^x))+v[0]+3614090360&4294967295,y=_+(A<<7&4294967295|A>>>25),A=x+(T^y&(_^T))+v[1]+3905402710&4294967295,x=y+(A<<12&4294967295|A>>>20),A=T+(_^x&(y^_))+v[2]+606105819&4294967295,T=x+(A<<17&4294967295|A>>>15),A=_+(y^T&(x^y))+v[3]+3250441966&4294967295,_=T+(A<<22&4294967295|A>>>10),A=y+(x^_&(T^x))+v[4]+4118548399&4294967295,y=_+(A<<7&4294967295|A>>>25),A=x+(T^y&(_^T))+v[5]+1200080426&4294967295,x=y+(A<<12&4294967295|A>>>20),A=T+(_^x&(y^_))+v[6]+2821735955&4294967295,T=x+(A<<17&4294967295|A>>>15),A=_+(y^T&(x^y))+v[7]+4249261313&4294967295,_=T+(A<<22&4294967295|A>>>10),A=y+(x^_&(T^x))+v[8]+1770035416&4294967295,y=_+(A<<7&4294967295|A>>>25),A=x+(T^y&(_^T))+v[9]+2336552879&4294967295,x=y+(A<<12&4294967295|A>>>20),A=T+(_^x&(y^_))+v[10]+4294925233&4294967295,T=x+(A<<17&4294967295|A>>>15),A=_+(y^T&(x^y))+v[11]+2304563134&4294967295,_=T+(A<<22&4294967295|A>>>10),A=y+(x^_&(T^x))+v[12]+1804603682&4294967295,y=_+(A<<7&4294967295|A>>>25),A=x+(T^y&(_^T))+v[13]+4254626195&4294967295,x=y+(A<<12&4294967295|A>>>20),A=T+(_^x&(y^_))+v[14]+2792965006&4294967295,T=x+(A<<17&4294967295|A>>>15),A=_+(y^T&(x^y))+v[15]+1236535329&4294967295,_=T+(A<<22&4294967295|A>>>10),A=y+(T^x&(_^T))+v[1]+4129170786&4294967295,y=_+(A<<5&4294967295|A>>>27),A=x+(_^T&(y^_))+v[6]+3225465664&4294967295,x=y+(A<<9&4294967295|A>>>23),A=T+(y^_&(x^y))+v[11]+643717713&4294967295,T=x+(A<<14&4294967295|A>>>18),A=_+(x^y&(T^x))+v[0]+3921069994&4294967295,_=T+(A<<20&4294967295|A>>>12),A=y+(T^x&(_^T))+v[5]+3593408605&4294967295,y=_+(A<<5&4294967295|A>>>27),A=x+(_^T&(y^_))+v[10]+38016083&4294967295,x=y+(A<<9&4294967295|A>>>23),A=T+(y^_&(x^y))+v[15]+3634488961&4294967295,T=x+(A<<14&4294967295|A>>>18),A=_+(x^y&(T^x))+v[4]+3889429448&4294967295,_=T+(A<<20&4294967295|A>>>12),A=y+(T^x&(_^T))+v[9]+568446438&4294967295,y=_+(A<<5&4294967295|A>>>27),A=x+(_^T&(y^_))+v[14]+3275163606&4294967295,x=y+(A<<9&4294967295|A>>>23),A=T+(y^_&(x^y))+v[3]+4107603335&4294967295,T=x+(A<<14&4294967295|A>>>18),A=_+(x^y&(T^x))+v[8]+1163531501&4294967295,_=T+(A<<20&4294967295|A>>>12),A=y+(T^x&(_^T))+v[13]+2850285829&4294967295,y=_+(A<<5&4294967295|A>>>27),A=x+(_^T&(y^_))+v[2]+4243563512&4294967295,x=y+(A<<9&4294967295|A>>>23),A=T+(y^_&(x^y))+v[7]+1735328473&4294967295,T=x+(A<<14&4294967295|A>>>18),A=_+(x^y&(T^x))+v[12]+2368359562&4294967295,_=T+(A<<20&4294967295|A>>>12),A=y+(_^T^x)+v[5]+4294588738&4294967295,y=_+(A<<4&4294967295|A>>>28),A=x+(y^_^T)+v[8]+2272392833&4294967295,x=y+(A<<11&4294967295|A>>>21),A=T+(x^y^_)+v[11]+1839030562&4294967295,T=x+(A<<16&4294967295|A>>>16),A=_+(T^x^y)+v[14]+4259657740&4294967295,_=T+(A<<23&4294967295|A>>>9),A=y+(_^T^x)+v[1]+2763975236&4294967295,y=_+(A<<4&4294967295|A>>>28),A=x+(y^_^T)+v[4]+1272893353&4294967295,x=y+(A<<11&4294967295|A>>>21),A=T+(x^y^_)+v[7]+4139469664&4294967295,T=x+(A<<16&4294967295|A>>>16),A=_+(T^x^y)+v[10]+3200236656&4294967295,_=T+(A<<23&4294967295|A>>>9),A=y+(_^T^x)+v[13]+681279174&4294967295,y=_+(A<<4&4294967295|A>>>28),A=x+(y^_^T)+v[0]+3936430074&4294967295,x=y+(A<<11&4294967295|A>>>21),A=T+(x^y^_)+v[3]+3572445317&4294967295,T=x+(A<<16&4294967295|A>>>16),A=_+(T^x^y)+v[6]+76029189&4294967295,_=T+(A<<23&4294967295|A>>>9),A=y+(_^T^x)+v[9]+3654602809&4294967295,y=_+(A<<4&4294967295|A>>>28),A=x+(y^_^T)+v[12]+3873151461&4294967295,x=y+(A<<11&4294967295|A>>>21),A=T+(x^y^_)+v[15]+530742520&4294967295,T=x+(A<<16&4294967295|A>>>16),A=_+(T^x^y)+v[2]+3299628645&4294967295,_=T+(A<<23&4294967295|A>>>9),A=y+(T^(_|~x))+v[0]+4096336452&4294967295,y=_+(A<<6&4294967295|A>>>26),A=x+(_^(y|~T))+v[7]+1126891415&4294967295,x=y+(A<<10&4294967295|A>>>22),A=T+(y^(x|~_))+v[14]+2878612391&4294967295,T=x+(A<<15&4294967295|A>>>17),A=_+(x^(T|~y))+v[5]+4237533241&4294967295,_=T+(A<<21&4294967295|A>>>11),A=y+(T^(_|~x))+v[12]+1700485571&4294967295,y=_+(A<<6&4294967295|A>>>26),A=x+(_^(y|~T))+v[3]+2399980690&4294967295,x=y+(A<<10&4294967295|A>>>22),A=T+(y^(x|~_))+v[10]+4293915773&4294967295,T=x+(A<<15&4294967295|A>>>17),A=_+(x^(T|~y))+v[1]+2240044497&4294967295,_=T+(A<<21&4294967295|A>>>11),A=y+(T^(_|~x))+v[8]+1873313359&4294967295,y=_+(A<<6&4294967295|A>>>26),A=x+(_^(y|~T))+v[15]+4264355552&4294967295,x=y+(A<<10&4294967295|A>>>22),A=T+(y^(x|~_))+v[6]+2734768916&4294967295,T=x+(A<<15&4294967295|A>>>17),A=_+(x^(T|~y))+v[13]+1309151649&4294967295,_=T+(A<<21&4294967295|A>>>11),A=y+(T^(_|~x))+v[4]+4149444226&4294967295,y=_+(A<<6&4294967295|A>>>26),A=x+(_^(y|~T))+v[11]+3174756917&4294967295,x=y+(A<<10&4294967295|A>>>22),A=T+(y^(x|~_))+v[2]+718787259&4294967295,T=x+(A<<15&4294967295|A>>>17),A=_+(x^(T|~y))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(T+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+x&4294967295}i.prototype.v=function(E,y){y===void 0&&(y=E.length);const _=y-this.blockSize,v=this.C;let T=this.h,x=0;for(;x<y;){if(T==0)for(;x<=_;)s(this,E,x),x+=this.blockSize;if(typeof E=="string"){for(;x<y;)if(v[T++]=E.charCodeAt(x++),T==this.blockSize){s(this,v),T=0;break}}else for(;x<y;)if(v[T++]=E[x++],T==this.blockSize){s(this,v),T=0;break}}this.h=T,this.o+=y},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;y=this.o*8;for(var _=E.length-8;_<E.length;++_)E[_]=y&255,y/=256;for(this.v(E),E=Array(16),y=0,_=0;_<4;++_)for(let v=0;v<32;v+=8)E[y++]=this.g[_]>>>v&255;return E};function r(E,y){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function a(E,y){this.h=y;const _=[];let v=!0;for(let T=E.length-1;T>=0;T--){const x=E[T]|0;v&&x==y||(_[T]=x,v=!1)}this.g=_}var l={};function c(E){return-128<=E&&E<128?r(E,function(y){return new a([y|0],y<0?-1:0)}):new a([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return U(h(-E));const y=[];let _=1;for(let v=0;E>=_;v++)y[v]=E/_|0,_*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return U(d(E.substring(1),y));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(y,8));let v=p;for(let x=0;x<E.length;x+=8){var T=Math.min(8,E.length-x);const A=parseInt(E.substring(x,x+T),y);T<8?(T=h(Math.pow(y,T)),v=v.j(T).add(h(A))):(v=v.j(_),v=v.add(h(A)))}return v}var p=c(0),m=c(1),b=c(16777216);e=a.prototype,e.m=function(){if(z(this))return-U(this).m();let E=0,y=1;for(let _=0;_<this.g.length;_++){const v=this.i(_);E+=(v>=0?v:4294967296+v)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(z(this))return"-"+U(this).toString(E);const y=h(Math.pow(E,6));var _=this;let v="";for(;;){const T=R(_,y).g;_=O(_,T.j(y));let x=((_.g.length>0?_.g[0]:_.h)>>>0).toString(E);if(_=T,D(_))return x+v;for(;x.length<6;)x="0"+x;v=x+v}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(let y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function z(E){return E.h==-1}e.l=function(E){return E=O(this,E),z(E)?-1:D(E)?0:1};function U(E){const y=E.g.length,_=[];for(let v=0;v<y;v++)_[v]=~E.g[v];return new a(_,~E.h).add(m)}e.abs=function(){return z(this)?U(this):this},e.add=function(E){const y=Math.max(this.g.length,E.g.length),_=[];let v=0;for(let T=0;T<=y;T++){let x=v+(this.i(T)&65535)+(E.i(T)&65535),A=(x>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);v=A>>>16,x&=65535,A&=65535,_[T]=A<<16|x}return new a(_,_[_.length-1]&-2147483648?-1:0)};function O(E,y){return E.add(U(y))}e.j=function(E){if(D(this)||D(E))return p;if(z(this))return z(E)?U(this).j(U(E)):U(U(this).j(E));if(z(E))return U(this.j(U(E)));if(this.l(b)<0&&E.l(b)<0)return h(this.m()*E.m());const y=this.g.length+E.g.length,_=[];for(var v=0;v<2*y;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(let T=0;T<E.g.length;T++){const x=this.i(v)>>>16,A=this.i(v)&65535,ae=E.i(T)>>>16,oe=E.i(T)&65535;_[2*v+2*T]+=A*oe,w(_,2*v+2*T),_[2*v+2*T+1]+=x*oe,w(_,2*v+2*T+1),_[2*v+2*T+1]+=A*ae,w(_,2*v+2*T+1),_[2*v+2*T+2]+=x*ae,w(_,2*v+2*T+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new a(_,0)};function w(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function C(E,y){this.g=E,this.h=y}function R(E,y){if(D(y))throw Error("division by zero");if(D(E))return new C(p,p);if(z(E))return y=R(U(E),y),new C(U(y.g),U(y.h));if(z(y))return y=R(E,U(y)),new C(U(y.g),y.h);if(E.g.length>30){if(z(E)||z(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,v=y;v.l(E)<=0;)_=j(_),v=j(v);var T=Z(_,1),x=Z(v,1);for(v=Z(v,2),_=Z(_,2);!D(v);){var A=x.add(v);A.l(E)<=0&&(T=T.add(_),x=A),v=Z(v,1),_=Z(_,1)}return y=O(E,T.j(y)),new C(T,y)}for(T=p;E.l(y)>=0;){for(_=Math.max(1,Math.floor(E.m()/y.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=v<=48?1:Math.pow(2,v-48),x=h(_),A=x.j(y);z(A)||A.l(E)>0;)_-=v,x=h(_),A=x.j(y);D(x)&&(x=m),T=T.add(x),E=O(E,A)}return new C(T,E)}e.B=function(E){return R(this,E).h},e.and=function(E){const y=Math.max(this.g.length,E.g.length),_=[];for(let v=0;v<y;v++)_[v]=this.i(v)&E.i(v);return new a(_,this.h&E.h)},e.or=function(E){const y=Math.max(this.g.length,E.g.length),_=[];for(let v=0;v<y;v++)_[v]=this.i(v)|E.i(v);return new a(_,this.h|E.h)},e.xor=function(E){const y=Math.max(this.g.length,E.g.length),_=[];for(let v=0;v<y;v++)_[v]=this.i(v)^E.i(v);return new a(_,this.h^E.h)};function j(E){const y=E.g.length+1,_=[];for(let v=0;v<y;v++)_[v]=E.i(v)<<1|E.i(v-1)>>>31;return new a(_,E.h)}function Z(E,y){const _=y>>5;y%=32;const v=E.g.length-_,T=[];for(let x=0;x<v;x++)T[x]=y>0?E.i(x+_)>>>y|E.i(x+_+1)<<32-y:E.i(x+_);return new a(T,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,zm=a}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(o,u){if(u)e:{var f=i;o=o.split(".");for(var g=0;g<o.length-1;g++){var I=o[g];if(!(I in f))break e;f=f[I]}o=o[o.length-1],g=f[o],u=u(g),u!=g&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(u){var f=[],g;for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&f.push([g,u[g]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,f){return o.call.apply(o.bind,arguments)}function h(o,u,f){return h=c,h.apply(null,arguments)}function d(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function p(o,u){function f(){}f.prototype=u.prototype,o.Z=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(g,I,k){for(var B=Array(arguments.length-2),W=2;W<arguments.length;W++)B[W-2]=arguments[W];return u.prototype[I].apply(g,B)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function b(o){const u=o.length;if(u>0){const f=Array(u);for(let g=0;g<u;g++)f[g]=o[g];return f}return[]}function D(o,u){for(let g=1;g<arguments.length;g++){const I=arguments[g];var f=typeof I;if(f=f!="object"?f:I?Array.isArray(I)?"array":f:"null",f=="array"||f=="object"&&typeof I.length=="number"){f=o.length||0;const k=I.length||0;o.length=f+k;for(let B=0;B<k;B++)o[f+B]=I[B]}else o.push(I)}}class z{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function U(o){a.setTimeout(()=>{throw o},0)}function O(){var o=E;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class w{constructor(){this.h=this.g=null}add(u,f){const g=C.get();g.set(u,f),this.h?this.h.next=g:this.g=g,this.h=g}}var C=new z(()=>new R,o=>o.reset());class R{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let j,Z=!1,E=new w,y=()=>{const o=Promise.resolve(void 0);j=()=>{o.then(_)}};function _(){for(var o;o=O();){try{o.h.call(o.g)}catch(f){U(f)}var u=C;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}Z=!1}function v(){this.u=this.u,this.C=this.C}v.prototype.u=!1,v.prototype.dispose=function(){this.u||(this.u=!0,this.N())},v.prototype[Symbol.dispose]=function(){this.dispose()},v.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var x=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};a.addEventListener("test",f,u),a.removeEventListener("test",f,u)}catch{}return o}();function A(o){return/^[\s\xa0]*$/.test(o)}function ae(o,u){T.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}p(ae,T),ae.prototype.init=function(o,u){const f=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),V=0;function Y(o,u,f,g,I){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!g,this.ha=I,this.key=++V,this.da=this.fa=!1}function F(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function de(o,u,f){for(const g in o)u.call(f,o[g],g,o)}function we(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function be(o){const u={};for(const f in o)u[f]=o[f];return u}const yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(o,u){let f,g;for(let I=1;I<arguments.length;I++){g=arguments[I];for(f in g)o[f]=g[f];for(let k=0;k<yt.length;k++)f=yt[k],Object.prototype.hasOwnProperty.call(g,f)&&(o[f]=g[f])}}function vt(o){this.src=o,this.g={},this.h=0}vt.prototype.add=function(o,u,f,g,I){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const B=Fn(o,u,g,I);return B>-1?(u=o[B],f||(u.fa=!1)):(u=new Y(u,this.src,k,!!g,I),u.fa=f,o.push(u)),u};function me(o,u){const f=u.type;if(f in o.g){var g=o.g[f],I=Array.prototype.indexOf.call(g,u,void 0),k;(k=I>=0)&&Array.prototype.splice.call(g,I,1),k&&(F(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Fn(o,u,f,g){for(let I=0;I<o.length;++I){const k=o[I];if(!k.da&&k.listener==u&&k.capture==!!f&&k.ha==g)return I}return-1}var Ts="closure_lm_"+(Math.random()*1e6|0),Cn={};function xa(o,u,f,g,I){if(Array.isArray(u)){for(let k=0;k<u.length;k++)xa(o,u[k],f,g,I);return null}return f=Jn(f),o&&o[oe]?o.J(u,f,l(g)?!!g.capture:!1,I):Ra(o,u,f,!1,g,I)}function Ra(o,u,f,g,I,k){if(!u)throw Error("Invalid event type");const B=l(I)?!!I.capture:!!I;let W=ws(o);if(W||(o[Ts]=W=new vt(o)),f=W.add(u,f,g,B,k),f.proxy)return f;if(g=vl(),f.proxy=g,g.src=o,g.listener=f,o.addEventListener)x||(I=B),I===void 0&&(I=!1),o.addEventListener(u.toString(),g,I);else if(o.attachEvent)o.attachEvent(As(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function vl(){function o(f){return u.call(o.src,o.listener,f)}const u=Kn;return o}function Da(o,u,f,g,I){if(Array.isArray(u))for(var k=0;k<u.length;k++)Da(o,u[k],f,g,I);else g=l(g)?!!g.capture:!!g,f=Jn(f),o&&o[oe]?(o=o.i,k=String(u).toString(),k in o.g&&(u=o.g[k],f=Fn(u,f,g,I),f>-1&&(F(u[f]),Array.prototype.splice.call(u,f,1),u.length==0&&(delete o.g[k],o.h--)))):o&&(o=ws(o))&&(u=o.g[u.toString()],o=-1,u&&(o=Fn(u,f,g,I)),(f=o>-1?u[o]:null)&&xn(f))}function xn(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[oe])me(u.i,o);else{var f=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(f,g,o.capture):u.detachEvent?u.detachEvent(As(f),g):u.addListener&&u.removeListener&&u.removeListener(g),(f=ws(u))?(me(f,o),f.h==0&&(f.src=null,u[Ts]=null)):F(o)}}}function As(o){return o in Cn?Cn[o]:Cn[o]="on"+o}function Kn(o,u){if(o.da)o=!0;else{u=new ae(u,this);const f=o.listener,g=o.ha||o.src;o.fa&&xn(o),o=f.call(g,u)}return o}function ws(o){return o=o[Ts],o instanceof vt?o:null}var Os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jn(o){return typeof o=="function"?o:(o[Os]||(o[Os]=function(u){return o.handleEvent(u)}),o[Os])}function Pe(){v.call(this),this.i=new vt(this),this.M=this,this.G=null}p(Pe,v),Pe.prototype[oe]=!0,Pe.prototype.removeEventListener=function(o,u,f,g){Da(this,o,u,f,g)};function qe(o,u){var f,g=o.G;if(g)for(f=[];g;g=g.G)f.push(g);if(o=o.M,g=u.type||u,typeof u=="string")u=new T(u,o);else if(u instanceof T)u.target=u.target||o;else{var I=u;u=new T(g,o),Re(u,I)}I=!0;let k,B;if(f)for(B=f.length-1;B>=0;B--)k=u.g=f[B],I=Ns(k,g,!0,u)&&I;if(k=u.g=o,I=Ns(k,g,!0,u)&&I,I=Ns(k,g,!1,u)&&I,f)for(B=0;B<f.length;B++)k=u.g=f[B],I=Ns(k,g,!1,u)&&I}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const f=o.g[u];for(let g=0;g<f.length;g++)F(f[g]);delete o.g[u],o.h--}}this.G=null},Pe.prototype.J=function(o,u,f,g){return this.i.add(String(o),u,!1,f,g)},Pe.prototype.K=function(o,u,f,g){return this.i.add(String(o),u,!0,f,g)};function Ns(o,u,f,g){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let I=!0;for(let k=0;k<u.length;++k){const B=u[k];if(B&&!B.da&&B.capture==f){const W=B.listener,We=B.ha||B.src;B.fa&&me(o.i,B),I=W.call(We,g)!==!1&&I}}return I&&!g.defaultPrevented}function Sl(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function bl(o){o.g=Sl(()=>{o.g=null,o.i&&(o.i=!1,bl(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class Ia extends v{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:bl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(o){v.call(this),this.h=o,this.g={}}p(yn,v);var Qn=[];function Ut(o){de(o.g,function(u,f){this.g.hasOwnProperty(f)&&xn(u)},o),o.g={}}yn.prototype.N=function(){yn.Z.N.call(this),Ut(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=a.JSON.stringify,El=a.JSON.parse,Tl=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function gr(){}function Al(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ni(){T.call(this,"d")}p(Ni,T);function jt(){T.call(this,"c")}p(jt,T);var Pt={},yr=null;function xs(){return yr=yr||new Pe}Pt.Ia="serverreachability";function wl(o){T.call(this,Pt.Ia,o)}p(wl,T);function Dn(o){const u=xs();qe(u,new wl(u))}Pt.STAT_EVENT="statevent";function Rs(o,u){T.call(this,Pt.STAT_EVENT,o),this.stat=u}p(Rs,T);function ut(o){const u=xs();qe(u,new Rs(u,o))}Pt.Ja="timingevent";function Ci(o,u){T.call(this,Pt.Ja,o),this.size=u}p(Ci,T);function Ds(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function Is(){this.g=!0}Is.prototype.ua=function(){this.g=!1};function Ve(o,u,f,g,I,k){o.info(function(){if(o.g)if(k){var B="",W=k.split("&");for(let Ee=0;Ee<W.length;Ee++){var We=W[Ee].split("=");if(We.length>1){const it=We[0];We=We[1];const kn=it.split("_");B=kn.length>=2&&kn[1]=="type"?B+(it+"="+We+"&"):B+(it+"=redacted&")}}}else B=null;else B=k;return"XMLHTTP REQ ("+g+") [attempt "+I+"]: "+u+`
`+f+`
`+B})}function xi(o,u,f,g,I,k,B){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+I+"]: "+u+`
`+f+`
`+k+" "+B})}function Ri(o,u,f,g){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+ka(o,f)+(g?" "+g:"")})}function Ol(o,u){o.info(function(){return"TIMEOUT: "+u})}Is.prototype.info=function(){};function ka(o,u){if(!o.g)return u;if(!u)return null;try{const k=JSON.parse(u);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var f=k[o];if(!(f.length<2)){var g=f[1];if(Array.isArray(g)&&!(g.length<1)){var I=g[0];if(I!="noop"&&I!="stop"&&I!="close")for(let B=1;B<g.length;B++)g[B]=""}}}}return Cs(k)}catch{return u}}var _r={NO_ERROR:0,TIMEOUT:8},Nl={},Cl;function Ot(){}p(Ot,gr),Ot.prototype.g=function(){return new XMLHttpRequest},Cl=new Ot;function Vt(o){return encodeURIComponent(String(o))}function xl(o){var u=1;o=o.split(":");const f=[];for(;u>0&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function _n(o,u,f,g){this.j=o,this.i=u,this.l=f,this.S=g||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}var za={},Ht={};function Sr(o,u,f){o.M=1,o.A=Dl(In(u)),o.u=f,o.R=!0,Ma(o,null)}function Ma(o,u){o.F=Date.now(),$(o),o.B=In(o.A);var f=o.B,g=o.S;Array.isArray(g)||(g=[String(g)]),Km(f.i,"t",g),o.C=0,f=o.j.L,o.h=new vr,o.g=mp(o.j,f?u:null,!o.u),o.P>0&&(o.O=new Ia(h(o.Y,o,o.g),o.P)),u=o.V,f=o.g,g=o.ba;var I="readystatechange";Array.isArray(I)||(I&&(Qn[0]=I.toString()),I=Qn);for(let k=0;k<I.length;k++){const B=xa(f,I[k],g||u.handleEvent,!1,u.h||u);if(!B)break;u.g[B.key]=B}u=o.J?be(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),Dn(),Ve(o.i,o.v,o.B,o.l,o.S,o.u)}_n.prototype.ba=function(o){o=o.target;const u=this.O;u&&ki(o)==3?u.j():this.Y(o)},_n.prototype.Y=function(o){try{if(o==this.g)e:{const W=ki(this.g),We=this.g.ya(),Ee=this.g.ca();if(!(W<3)&&(W!=3||this.g&&(this.h.h||this.g.la()||ip(this.g)))){this.K||W!=4||We==7||(We==8||Ee<=0?Dn(3):Dn(2)),P(this);var u=this.g.ca();this.X=u;var f=Rl(this);if(this.o=u==200,xi(this.i,this.v,this.B,this.l,this.S,W,u),this.o){if(this.U&&!this.L){t:{if(this.g){var g,I=this.g;if((g=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(g)){var k=g;break t}}k=null}if(o=k)Ri(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,o);else{this.o=!1,this.m=3,ut(12),le(this),q(this);break e}}if(this.R){o=!0;let it;for(;!this.K&&this.C<f.length;)if(it=tf(this,f),it==Ht){W==4&&(this.m=4,ut(14),o=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(it==za){this.m=4,ut(15),Ri(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Ri(this.i,this.l,it,null),$e(this,it);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),W!=4||f.length!=0||this.h.h||(this.m=1,ut(16),o=!1),this.o=this.o&&o,!o)Ri(this.i,this.l,f,"[Invalid Chunked Response]"),le(this),q(this);else if(f.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),lf(B),B.P=!0,ut(11))}}else Ri(this.i,this.l,f,null),$e(this,f);W==4&&le(this),this.o&&!this.K&&(W==4?cp(this.j,this):(this.o=!1,$(this)))}else NE(this.g),u==400&&f.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),le(this),q(this)}}}catch{}finally{}};function Rl(o){if(!La(o))return o.g.la();const u=ip(o.g);if(u==="")return"";let f="";const g=u.length,I=ki(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return le(o),q(o),"";o.h.i=new a.TextDecoder}for(let k=0;k<g;k++)o.h.h=!0,f+=o.h.i.decode(u[k],{stream:!(I&&k==g-1)});return u.length=0,o.h.g+=f,o.C=0,o.h.g}function La(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function tf(o,u){var f=o.C,g=u.indexOf(`
`,f);return g==-1?Ht:(f=Number(u.substring(f,g)),isNaN(f)?za:(g+=1,g+f>u.length?Ht:(u=u.slice(g,g+f),o.C=g+f,u)))}_n.prototype.cancel=function(){this.K=!0,le(this)};function $(o){o.T=Date.now()+o.H,N(o,o.H)}function N(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ds(h(o.aa,o),u)}function P(o){o.D&&(a.clearTimeout(o.D),o.D=null)}_n.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ol(this.i,this.B),this.M!=2&&(Dn(),ut(17)),le(this),this.m=2,q(this)):N(this,this.T-o)};function q(o){o.j.I==0||o.K||cp(o.j,o)}function le(o){P(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,Ut(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function $e(o,u){try{var f=o.j;if(f.I!=0&&(f.g==o||ks(f.h,o))){if(!o.L&&ks(f.h,o)&&f.I==3){try{var g=f.Ba.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var I=g;if(I[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)Ll(f),zl(f);else break e;of(f),ut(18)}}else f.xa=I[1],0<f.xa-f.K&&I[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Ds(h(f.Va,f),6e3));Wn(f.h)<=1&&f.ta&&(f.ta=void 0)}else Ms(f,11)}else if((o.L||f.g==o)&&Ll(f),!A(u))for(I=f.Ba.g.parse(u),u=0;u<I.length;u++){let Ee=I[u];const it=Ee[0];if(!(it<=f.K))if(f.K=it,Ee=Ee[1],f.I==2)if(Ee[0]=="c"){f.M=Ee[1],f.ba=Ee[2];const kn=Ee[3];kn!=null&&(f.ka=kn,f.j.info("VER="+f.ka));const Ls=Ee[4];Ls!=null&&(f.za=Ls,f.j.info("SVER="+f.za));const zi=Ee[5];zi!=null&&typeof zi=="number"&&zi>0&&(g=1.5*zi,f.O=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const Mi=o.g;if(Mi){const Ul=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var k=g.h;k.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(He(k,k.h),k.h=null))}if(g.G){const uf=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(g.wa=uf,Oe(g.J,g.G,uf))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),g=f;var B=o;if(g.na=dp(g,g.L?g.ba:null,g.W),B.L){Ua(g.h,B);var W=B,We=g.O;We&&(W.H=We),W.D&&(P(W),$(W)),g.g=B}else lp(g);f.i.length>0&&Ml(f)}else Ee[0]!="stop"&&Ee[0]!="close"||Ms(f,7);else f.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ms(f,7):af(f):Ee[0]!="noop"&&f.l&&f.l.qa(Ee),f.A=0)}}Dn(4)}catch{}}var ze=class{constructor(o,u){this.g=o,this.map=u}};function ct(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wt(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wn(o){return o.h?1:o.g?o.g.size:0}function ks(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function He(o,u){o.g?o.g.add(u):o.h=u}function Ua(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}ct.prototype.cancel=function(){if(this.i=ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ja(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.G);return u}return b(o.i)}var qm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pE(o,u){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const g=o[f].indexOf("=");let I,k=null;g>=0?(I=o[f].substring(0,g),k=o[f].substring(g+1)):I=o[f],u(I,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Di(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof Di?(this.l=o.l,Pa(this,o.j),this.o=o.o,this.g=o.g,Va(this,o.u),this.h=o.h,nf(this,Jm(o.i)),this.m=o.m):o&&(u=String(o).match(qm))?(this.l=!1,Pa(this,u[1]||"",!0),this.o=Ha(u[2]||""),this.g=Ha(u[3]||"",!0),Va(this,u[4]),this.h=Ha(u[5]||"",!0),nf(this,u[6]||"",!0),this.m=Ha(u[7]||"")):(this.l=!1,this.i=new Ga(null,this.l))}Di.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(Ba(u,$m,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Ba(u,$m,!0),"@"),o.push(Vt(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ba(f,f.charAt(0)=="/"?_E:yE,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ba(f,SE)),o.join("")},Di.prototype.resolve=function(o){const u=In(this);let f=!!o.j;f?Pa(u,o.j):f=!!o.o,f?u.o=o.o:f=!!o.g,f?u.g=o.g:f=o.u!=null;var g=o.h;if(f)Va(u,o.u);else if(f=!!o.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var I=u.h.lastIndexOf("/");I!=-1&&(g=u.h.slice(0,I+1)+g)}if(I=g,I==".."||I==".")g="";else if(I.indexOf("./")!=-1||I.indexOf("/.")!=-1){g=I.lastIndexOf("/",0)==0,I=I.split("/");const k=[];for(let B=0;B<I.length;){const W=I[B++];W=="."?g&&B==I.length&&k.push(""):W==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),g&&B==I.length&&k.push("")):(k.push(W),g=!0)}g=k.join("/")}else g=I}return f?u.h=g:f=o.i.toString()!=="",f?nf(u,Jm(o.i)):f=!!o.m,f&&(u.m=o.m),u};function In(o){return new Di(o)}function Pa(o,u,f){o.j=f?Ha(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Va(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function nf(o,u,f){u instanceof Ga?(o.i=u,bE(o.i,o.l)):(f||(u=Ba(u,vE)),o.i=new Ga(u,o.l))}function Oe(o,u,f){o.i.set(u,f)}function Dl(o){return Oe(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ha(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ba(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,gE),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function gE(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var $m=/[#\/\?@]/g,yE=/[#\?:]/g,_E=/[#\?]/g,vE=/[#\?@]/g,SE=/#/g;function Ga(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function zs(o){o.g||(o.g=new Map,o.h=0,o.i&&pE(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}e=Ga.prototype,e.add=function(o,u){zs(this),this.i=null,o=br(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function Xm(o,u){zs(o),u=br(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Ym(o,u){return zs(o),u=br(o,u),o.g.has(u)}e.forEach=function(o,u){zs(this),this.g.forEach(function(f,g){f.forEach(function(I){o.call(u,I,g,this)},this)},this)};function Fm(o,u){zs(o);let f=[];if(typeof u=="string")Ym(o,u)&&(f=f.concat(o.g.get(br(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)f=f.concat(o[u]);return f}e.set=function(o,u){return zs(this),this.i=null,o=br(this,o),Ym(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=Fm(this,o),o.length>0?String(o[0]):u):u};function Km(o,u,f){Xm(o,u),f.length>0&&(o.i=null,o.g.set(br(o,u),b(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let g=0;g<u.length;g++){var f=u[g];const I=Vt(f);f=Fm(this,f);for(let k=0;k<f.length;k++){let B=I;f[k]!==""&&(B+="="+Vt(f[k])),o.push(B)}}return this.i=o.join("&")};function Jm(o){const u=new Ga;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function br(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function bE(o,u){u&&!o.j&&(zs(o),o.i=null,o.g.forEach(function(f,g){const I=g.toLowerCase();g!=I&&(Xm(this,g),Km(this,I,f))},o)),o.j=u}function EE(o,u){const f=new Is;if(a.Image){const g=new Image;g.onload=d(Ii,f,"TestLoadImage: loaded",!0,u,g),g.onerror=d(Ii,f,"TestLoadImage: error",!1,u,g),g.onabort=d(Ii,f,"TestLoadImage: abort",!1,u,g),g.ontimeout=d(Ii,f,"TestLoadImage: timeout",!1,u,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else u(!1)}function TE(o,u){const f=new Is,g=new AbortController,I=setTimeout(()=>{g.abort(),Ii(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:g.signal}).then(k=>{clearTimeout(I),k.ok?Ii(f,"TestPingServer: ok",!0,u):Ii(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(I),Ii(f,"TestPingServer: error",!1,u)})}function Ii(o,u,f,g,I){try{I&&(I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null),g(f)}catch{}}function AE(){this.g=new Tl}function sf(o){this.i=o.Sb||null,this.h=o.ab||!1}p(sf,gr),sf.prototype.g=function(){return new Il(this.i,this.h)};function Il(o,u){Pe.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Il,Pe),e=Il.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,qa(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qm(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qm(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Za(this):qa(this),this.readyState==3&&Qm(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,Za(this))},e.Na=function(o){this.g&&(this.response=o,Za(this))},e.ga=function(){this.g&&Za(this)};function Za(o){o.readyState=4,o.l=null,o.j=null,o.B=null,qa(o)}e.setRequestHeader=function(o,u){this.A.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function qa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Wm(o){let u="";return de(o,function(f,g){u+=g,u+=":",u+=f,u+=`\r
`}),u}function rf(o,u,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Wm(f),typeof o=="string"?f!=null&&Vt(f):Oe(o,u,f))}function Be(o){Pe.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Be,Pe);var wE=/^https?$/i,OE=["POST","PUT"];e=Be.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,u,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(k){ep(this,k);return}if(o=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var I in g)f.set(I,g[I]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const k of g.keys())f.set(k,g.get(k));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),I=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(OE,u,void 0)>=0)||g||I||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,B]of f)this.g.setRequestHeader(k,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){ep(this,k)}};function ep(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,tp(o),kl(o)}function tp(o){o.A||(o.A=!0,qe(o,"complete"),qe(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,qe(this,"complete"),qe(this,"abort"),kl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kl(this,!0)),Be.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?np(this):this.Xa())},e.Xa=function(){np(this)};function np(o){if(o.h&&typeof r<"u"){if(o.v&&ki(o)==4)setTimeout(o.Ca.bind(o),0);else if(qe(o,"readystatechange"),ki(o)==4){o.h=!1;try{const k=o.ca();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var g;if(g=k===0){let B=String(o.D).match(qm)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),g=!wE.test(B?B.toLowerCase():"")}f=g}if(f)qe(o,"complete"),qe(o,"success");else{o.o=6;try{var I=ki(o)>2?o.g.statusText:""}catch{I=""}o.l=I+" ["+o.ca()+"]",tp(o)}}finally{kl(o)}}}}function kl(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,u||qe(o,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ki(o){return o.g?o.g.readyState:0}e.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),El(u)}};function ip(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function NE(o){const u={};o=(o.g&&ki(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(A(o[g]))continue;var f=xl(o[g]);const I=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const k=u[I]||[];u[I]=k,k.push(f)}we(u,function(g){return g.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function sp(o){this.za=0,this.i=[],this.j=new Is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,o),this.Za=$a("retryDelaySeedMs",1e4,o),this.Ta=$a("forwardChannelMaxRetries",2,o),this.va=$a("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new ct(o&&o.concurrentRequestLimit),this.Ba=new AE,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=sp.prototype,e.ka=8,e.I=1,e.connect=function(o,u,f,g){ut(0),this.W=o,this.H=u||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.J=dp(this,null,this.W),Ml(this)};function af(o){if(rp(o),o.I==3){var u=o.V++,f=In(o.J);if(Oe(f,"SID",o.M),Oe(f,"RID",u),Oe(f,"TYPE","terminate"),Xa(o,f),u=new _n(o,o.j,u),u.M=2,u.A=Dl(In(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=u.A,f=!0),f||(u.g=mp(u.j,null),u.g.ea(u.A)),u.F=Date.now(),$(u)}hp(o)}function zl(o){o.g&&(lf(o),o.g.cancel(),o.g=null)}function rp(o){zl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Ll(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ml(o){if(!Wt(o.h)&&!o.m){o.m=!0;var u=o.Ea;j||y(),Z||(j(),Z=!0),E.add(u,o),o.D=0}}function CE(o,u){return Wn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ds(h(o.Ea,o,u),fp(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const I=new _n(this,this.j,o);let k=this.o;if(this.U&&(k?(k=be(k),Re(k,this.U)):k=this.U),this.u!==null||this.R||(I.J=k,k=null),this.S)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,u>4096){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=op(this,I,u),f=In(this.J),Oe(f,"RID",o),Oe(f,"CVER",22),this.G&&Oe(f,"X-HTTP-Session-Id",this.G),Xa(this,f),k&&(this.R?u="headers="+Vt(Wm(k))+"&"+u:this.u&&rf(f,this.u,k)),He(this.h,I),this.Ra&&Oe(f,"TYPE","init"),this.S?(Oe(f,"$req",u),Oe(f,"SID","null"),I.U=!0,Sr(I,f,null)):Sr(I,f,u),this.I=2}}else this.I==3&&(o?ap(this,o):this.i.length==0||Wt(this.h)||ap(this))};function ap(o,u){var f;u?f=u.l:f=o.V++;const g=In(o.J);Oe(g,"SID",o.M),Oe(g,"RID",f),Oe(g,"AID",o.K),Xa(o,g),o.u&&o.o&&rf(g,o.u,o.o),f=new _n(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),u&&(o.i=u.G.concat(o.i)),u=op(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),He(o.h,f),Sr(f,g,u)}function Xa(o,u){o.H&&de(o.H,function(f,g){Oe(u,g,f)}),o.l&&de({},function(f,g){Oe(u,g,f)})}function op(o,u,f){f=Math.min(o.i.length,f);const g=o.l?h(o.l.Ka,o.l,o):null;e:{var I=o.i;let W=-1;for(;;){const We=["count="+f];W==-1?f>0?(W=I[0].g,We.push("ofs="+W)):W=0:We.push("ofs="+W);let Ee=!0;for(let it=0;it<f;it++){var k=I[it].g;const kn=I[it].map;if(k-=W,k<0)W=Math.max(0,I[it].g-100),Ee=!1;else try{k="req"+k+"_"||"";try{var B=kn instanceof Map?kn:Object.entries(kn);for(const[Ls,zi]of B){let Mi=zi;l(zi)&&(Mi=Cs(zi)),We.push(k+Ls+"="+encodeURIComponent(Mi))}}catch(Ls){throw We.push(k+"type="+encodeURIComponent("_badmap")),Ls}}catch{g&&g(kn)}}if(Ee){B=We.join("&");break e}}B=void 0}return o=o.i.splice(0,f),u.G=o,B}function lp(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;j||y(),Z||(j(),Z=!0),E.add(u,o),o.A=0}}function of(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ds(h(o.Da,o),fp(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,up(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ds(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),zl(this),up(this))};function lf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function up(o){o.g=new _n(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=In(o.na);Oe(u,"RID","rpc"),Oe(u,"SID",o.M),Oe(u,"AID",o.K),Oe(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&Oe(u,"TO",o.ia),Oe(u,"TYPE","xmlhttp"),Xa(o,u),o.u&&o.o&&rf(u,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=Dl(In(u)),f.u=null,f.R=!0,Ma(f,o)}e.Va=function(){this.C!=null&&(this.C=null,zl(this),of(this),ut(19))};function Ll(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function cp(o,u){var f=null;if(o.g==u){Ll(o),lf(o),o.g=null;var g=2}else if(ks(o.h,u))f=u.G,Ua(o.h,u),g=1;else return;if(o.I!=0){if(u.o)if(g==1){f=u.u?u.u.length:0,u=Date.now()-u.F;var I=o.D;g=xs(),qe(g,new Ci(g,f)),Ml(o)}else lp(o);else if(I=u.m,I==3||I==0&&u.X>0||!(g==1&&CE(o,u)||g==2&&of(o)))switch(f&&f.length>0&&(u=o.h,u.i=u.i.concat(f)),I){case 1:Ms(o,5);break;case 4:Ms(o,10);break;case 3:Ms(o,6);break;default:Ms(o,2)}}}function fp(o,u){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*u}function Ms(o,u){if(o.j.info("Error code "+u),u==2){var f=h(o.bb,o),g=o.Ua;const I=!g;g=new Di(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pa(g,"https"),Dl(g),I?EE(g.toString(),f):TE(g.toString(),f)}else ut(2);o.I=0,o.l&&o.l.pa(u),hp(o),rp(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function hp(o){if(o.I=0,o.ja=[],o.l){const u=ja(o.h);(u.length!=0||o.i.length!=0)&&(D(o.ja,u),D(o.ja,o.i),o.h.i.length=0,b(o.i),o.i.length=0),o.l.oa()}}function dp(o,u,f){var g=f instanceof Di?In(f):new Di(f);if(g.g!="")u&&(g.g=u+"."+g.g),Va(g,g.u);else{var I=a.location;g=I.protocol,u=u?u+"."+I.hostname:I.hostname,I=+I.port;const k=new Di(null);g&&Pa(k,g),u&&(k.g=u),I&&Va(k,I),f&&(k.h=f),g=k}return f=o.G,u=o.wa,f&&u&&Oe(g,f,u),Oe(g,"VER",o.ka),Xa(o,g),g}function mp(o,u,f){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new Be(new sf({ab:f})):new Be(o.ma),u.Fa(o.L),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function pp(){}e=pp.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function en(o,u){Pe.call(this),this.g=new sp(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!A(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!A(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Er(this)}p(en,Pe),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){af(this.g)},en.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=Cs(o),o=f);u.i.push(new ze(u.Ya++,o)),u.I==3&&Ml(u)},en.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,en.Z.N.call(this)};function gp(o){Ni.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const f in u){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}p(gp,Ni);function yp(){jt.call(this),this.status=1}p(yp,jt);function Er(o){this.g=o}p(Er,pp),Er.prototype.ra=function(){qe(this.g,"a")},Er.prototype.qa=function(o){qe(this.g,new gp(o))},Er.prototype.pa=function(o){qe(this.g,new yp)},Er.prototype.oa=function(){qe(this.g,"b")},en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Nl.COMPLETE="complete",Al.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc="12.8.0";function QN(e){Yc=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Am("@firebase/firestore");function wn(e,...t){if(pc.logLevel<=ge.DEBUG){const n=t.map(mb);pc.debug(`Firestore (${Yc}): ${e}`,...n)}}function db(e,...t){if(pc.logLevel<=ge.ERROR){const n=t.map(mb);pc.error(`Firestore (${Yc}): ${e}`,...n)}}function mb(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,pb(e,i,n)}function pb(e,t,n){let i=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw db(i),new Error(i)}function Do(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||pb(t,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ce extends Yn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class e4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class t4{constructor(t){this.t=t,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Do(this.o===void 0,42304);let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let r=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Io,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=r;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{wn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(wn("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Io)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(wn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Do(typeof i.accessToken=="string",31837,{l:i}),new WN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Do(t===null||typeof t=="string",2055,{h:t}),new Gt(t)}}class n4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class i4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new n4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ny{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Do(this.o===void 0,3512);const i=r=>{r.error!=null&&wn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,wn("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{wn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):wn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ny(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Do(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ny(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=r4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function ps(e,t){return e<t?-1:e>t?1:0}function o4(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return sh(s)===sh(r)?ps(s,r):sh(s)?1:-1}return ps(e.length,t.length)}const l4=55296,u4=57343;function sh(e){const t=e.charCodeAt(0);return t>=l4&&t<=u4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class Mn{constructor(t,n,i){n===void 0?n=0:n>t.length&&gc(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&gc(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Mn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Mn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return ps(t.length,n.length)}static compareSegments(t,n){const i=Mn.isNumericId(t),s=Mn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Mn.extractNumericId(t).compare(Mn.extractNumericId(n)):o4(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zm.fromString(t.substring(4,t.length-2))}}class En extends Mn{construct(t,n,i){return new En(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ce(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new En(n)}static emptyPath(){return new En([])}}const c4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gs extends Mn{construct(t,n,i){return new Gs(t,n,i)}static isValidIdentifier(t){return c4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new Gs([Cy])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new ce(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new ce(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new ce(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gs(n)}static emptyPath(){return new Gs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this.path=t}static fromPath(t){return new Zs(En.fromString(t))}static fromName(t){return new Zs(En.fromString(t).popFirst(5))}static empty(){return new Zs(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&En.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return En.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zs(new En(t.slice()))}}function f4(e,t,n,i){if(t===!0&&i===!0)throw new ce(ue.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function h4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(e,t){const n={typeString:e};return t&&(n.value=t),n}function _l(e,t){if(!h4(e))throw new ce(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new ce(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-62135596800,Ry=1e6;class Un{static now(){return Un.fromMillis(Date.now())}static fromDate(t){return Un.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Ry);return new Un(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<xy)throw new ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ry}_compareTo(t){return this.seconds===t.seconds?ps(this.nanoseconds,t.nanoseconds):ps(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Un._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_l(t,Un._jsonSchema))return new Un(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Un._jsonSchemaVersion="firestore/timestamp/1.0",Un._jsonSchema={type:Je("string",Un._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};function d4(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new m4("Invalid base64 string: "+r):r}}(t);return new lr(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new lr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ps(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const Dy="(default)";class yc{constructor(t,n){this.projectId=t,this.database=n||Dy}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===Dy}isEqual(t){return t instanceof yc&&t.projectId===this.projectId&&t.database===this.database}}function p4(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ce(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t,n=null,i=[],s=[],r=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function y4(e){return new g4(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iy,re;(re=Iy||(Iy={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zm([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=1048576;function rh(){return typeof document<"u"?document:null}class S4{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&wn("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,l=new Mm(t,n,a,s,r);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var ky,zy;(zy=ky||(ky={})).Ma="default",zy.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="ComponentProvider",My=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="firestore.googleapis.com",Ly=!0;class Uy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ce(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T4,this.ssl=Ly}else this.host=t.host,this.ssl=t.ssl??Ly;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<v4)throw new ce(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}f4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b4(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class A4{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new e4;switch(i.type){case"firstParty":return new i4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=My.get(n);i&&(wn(E4,"Removing Datastore"),My.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Lm(this.firestore,t,this._query)}}class Hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Um(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}toJSON(){return{type:Hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(_l(n,Hn._jsonSchema))return new Hn(t,i||null,new Zs(En.fromString(n.referencePath)))}}Hn._jsonSchemaVersion="firestore/documentReference/1.0",Hn._jsonSchema={type:Je("string",Hn._jsonSchemaVersion),referencePath:Je("string")};class Um extends Lm{constructor(t,n,i){super(t,n,y4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new Zs(t))}withConverter(t){return new Um(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="AsyncQueue";class Py{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S4(this,"async_queue_retry"),this._c=()=>{const i=rh();i&&wn(jy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=rh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Io;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!d4(t))throw t;wn(jy,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,db("INTERNAL UNHANDLED ERROR: ",Vy(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Mm.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&gc(47125,{Pc:Vy(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Vy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class w4 extends A4{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new Py,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Py(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ui(lr.fromBase64String(t))}catch(n){throw new ce(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ui(lr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_l(t,ui._jsonSchema))return ui.fromBase64String(t.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Je("string",ui._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ce(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ce(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ce(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ps(this._lat,t._lat)||ps(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(t){if(_l(t,Js._jsonSchema))return new Js(t.latitude,t.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:Je("string",Js._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_l(t,Qs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Qs(t.vectorValues);throw new ce(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:Je("string",Qs._jsonSchemaVersion),vectorValues:Je("object")};function yb(e,t,n){if((t=pn(t))instanceof gb)return t._internalPath;if(typeof t=="string")return N4(e,t);throw vd("Field path arguments must be of type string or ",e)}const O4=new RegExp("[~\\*/\\[\\]]");function N4(e,t,n){if(t.search(O4)>=0)throw vd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new gb(...t.split("."))._internalPath}catch{throw vd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function vd(e,t,n,i,s){let r=`Function ${t}() called with invalid data`;r+=". ";let a="";return new ce(ue.INVALID_ARGUMENT,r+e+a)}const Hy="@firebase/firestore",By="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new C4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(yb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C4 extends _b{data(){return super.data()}}class su{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ea extends _b{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(yb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Je("string",ea._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Du extends ea{data(t={}){return super.data(t)}}class ko{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new su(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Du(this._firestore,this._userDataWriter,i.key,i,new su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Du(s._firestore,s._userDataWriter,l.doc.key,l.doc,new su(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new Du(s._firestore,s._userDataWriter,l.doc.key,l.doc,new su(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:x4(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ko._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=a4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function x4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gc(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:Je("string",ko._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};(function(t,n=!0){QN(Oa),rr(new ms("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new w4(new t4(i.getProvider("auth-internal")),new s4(a,i.getProvider("app-check-internal")),p4(a,s),a);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Gn(Hy,By,t),Gn(Hy,By,"esm2020")})();const vb={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},R4=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let ru=null,ah=null,au=null;function Sb(){if(!ru){const e=_w();e.length>0?ru=e[0]:ru=NS(vb)}return ru}function oh(){return ah||(ah=KN(Sb())),ah}function _c(){if(!au&&(au=Yw(Sb()),R4&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{zS(au,"localhost",5001)}catch{}return au}function qs(){const e=vb.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const D4=5e3,I4=2e3,bb=3e4,Mk=3e4,Eb=30*1e3,Tb=2e3,Lk=60*60*1e3,Ab=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],k4=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],z4=["none","learning","familiar","mastered"];function Gy(e){return z4.indexOf(e)}function M4(e,t){return Gy(e)>=Gy(t)?e:t}function Sd(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function L4(e,t){const n=new Set,i=[];for(const s of[...e,...t]){const r=`${s.timestamp}-${s.difficulty}-${s.score}`;n.has(r)||(n.add(r),i.push(s))}return i.sort((s,r)=>new Date(s.timestamp).getTime()-new Date(r.timestamp).getTime())}function U4(e,t){return e?t?{sectionId:e.sectionId,visitedAt:Sd(e.visitedAt,t.visitedAt),completedAt:Sd(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:L4(e.quizAttempts,t.quizAttempts),masteryLevel:M4(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function j4(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const s of n){const r=U4(e[s],t[s]);r&&(i[s]=r)}return i}function P4(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:Sd(e.joinedAt,t.joinedAt)||e.joinedAt}}function V4(e,t){const n=new Map;for(const i of[...t,...e]){const s=n.get(i.id);s?(i.unlockedAt&&!s.unlockedAt||!i.unlockedAt&&!s.unlockedAt&&i.progress>s.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function H4(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function B4(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function G4(e,t){return{version:Math.max(e.version,t.version),user:P4(e.user,t.user),sections:j4(e.sections,t.sections),achievements:V4(e.achievements,t.achievements),streak:H4(e.streak,t.streak),dailyGoals:B4(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const ri=Ss("ProgressSync");class Z4{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!qs())return ri.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=_c(),i=await Qo(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,ri.info("Fetched progress from server")),i.data}catch(t){return ri.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};ri.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(ri.info("Server has existing progress, merging with local"),i=G4(t,n.progress)):i=t;const s=await this.syncNow(i);return s.success?(ri.info("Migration complete"),{success:!0,state:s.state||i,merged:n.found}):s}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},Eb),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},Tb))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!qs())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<bb)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=_c(),r=await Qo(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=r.data.lastSyncedAt,this.pendingState=null,r.data.merged&&r.data.serverProgress?(ri.info("Server merged states due to conflict"),Bc(r.data.serverProgress),this.setStatus("success"),{success:!0,state:r.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return ri.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const s=await this.syncNow(t);if(s.success||s.error==="Not authenticated"||s.error==="Firebase not configured")return s;if(i<n-1){const r=1e3*Math.pow(2,i);ri.debug(`Sync retry ${i+1}/${n} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let lh=null;function Zy(){return lh||(lh=new Z4),lh}const Ln=Ss("NostrUtils"),bd="qpzry9x8gf2tvdw0s3jn54khce6mua7l",q4=[996825010,642813549,513874426,1027748829,705979059];function wb(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let s=0;s<5;s++)i>>s&1&&(t^=q4[s])}return t}function Ob(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function $4(e,t){return wb([...Ob(e),...t])===1}function X4(e,t){const n=[...Ob(e),...t,0,0,0,0,0,0],i=wb(n)^1,s=[];for(let r=0;r<6;r++)s.push(i>>5*(5-r)&31);return s}function Nb(e,t,n,i){let s=0,r=0;const a=[],l=(1<<n)-1;for(const c of e){if(c<0||c>>t)return null;for(s=s<<t|c,r+=t;r>=n;)r-=n,a.push(s>>r&l)}if(i)r>0&&a.push(s<<n-r&l);else if(r>=t||s<<n-r&l)return null;return a}function Y4(e,t){const n=Nb(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=X4(e,n);let s=e+"1";for(const r of n)s+=bd[r];for(const r of i)s+=bd[r];return s}function F4(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,s=i.lastIndexOf("1");if(s<1||s+7>i.length||i.length>90)return null;const r=i.slice(0,s),a=i.slice(s+1),l=[];for(const d of a){const p=bd.indexOf(d);if(p===-1)return null;l.push(p)}if(!$4(r,l))return null;const c=l.slice(0,-6),h=Nb(new Uint8Array(c),5,8,!1);return h?{hrp:r,data:new Uint8Array(h)}:null}function K4(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function J4(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function Q4(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=K4(e);return Y4("npub",t)}function Cb(e){const t=F4(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return J4(t.data)}async function W4(e){try{const t=Cb(e),n=eC(),i=n.map(async a=>{try{return await Promise.race([xb(a,t),new Promise(c=>setTimeout(()=>c(null),2e3))])}catch(l){return Ln.debug(`Failed to fetch profile from relay ${a}:`,l),null}}),r=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return r.length>0?r[0]:(Ln.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return Ln.debug("Failed to convert npub to hex:",t),null}}function eC(){return[...Ab,...k4]}function Uk(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function vc(){return typeof window<"u"&&typeof window.nostr<"u"}function tC(e=3e3){return new Promise(t=>{if(vc()){t(!0);return}const n=Date.now(),i=setInterval(()=>{vc()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function xb(e,t){return new Promise(n=>{let i=!1,s=null,r=null;const a=()=>{if(!i&&(i=!0,r&&(clearTimeout(r),r=null),s&&s.readyState!==WebSocket.CLOSED&&s.readyState!==WebSocket.CLOSING))try{s.close()}catch(c){Ln.debug(`Error closing WebSocket for ${e}:`,c)}};r=setTimeout(()=>{Ln.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},D4);try{s=new WebSocket(e)}catch(c){Ln.debug(`Failed to create WebSocket for relay ${e}:`,c),a(),n(null);return}const l=Math.random().toString(36).substring(2,15);s.onopen=()=>{if(!(i||!s))try{const c=JSON.stringify(["REQ",l,{kinds:[0],authors:[t],limit:1}]);s.send(c)}catch(c){Ln.debug(`Failed to send subscription to ${e}:`,c),a(),n(null)}},s.onmessage=c=>{if(!i)try{const h=JSON.parse(c.data);if(h[0]==="EVENT"&&h[1]===l){const d=JSON.parse(h[2].content);a(),n({name:d.name||d.display_name,display_name:d.display_name,nip05:d.nip05,picture:d.picture,about:d.about})}else h[0]==="EOSE"&&(a(),n(null))}catch(h){Ln.debug(`Failed to parse WebSocket message from ${e}:`,h)}},s.onerror=c=>{Ln.debug(`WebSocket error for relay ${e}:`,c),a(),n(null)},s.onclose=c=>{i||(Ln.debug(`WebSocket closed for ${e}, code: ${c.code}, reason: ${c.reason}`),a(),n(null))}})}async function jk(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const r=e.slice(i,i+n).map(async a=>{const l=await W4(a);l&&t.set(a,l)});await Promise.all(r)}return t}const nC=22242;function M(e,t,n){function i(l,c){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,c);const h=a.prototype,d=Object.keys(h);for(let p=0;p<d.length;p++){const m=d[p];m in l||(l[m]=h[m].bind(l))}}const s=(n==null?void 0:n.Parent)??Object;class r extends s{}Object.defineProperty(r,"name",{value:e});function a(l){var c;const h=n!=null&&n.Parent?new r:this;i(h,l),(c=h._zod).deferred??(c.deferred=[]);for(const d of h._zod.deferred)d();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var c,h;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(h=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:h.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class ta extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Rb extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Db={};function gs(e){return Db}function Ib(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function Ed(e,t){return typeof t=="bigint"?t.toString():t}function jm(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Pm(e){return e==null}function Vm(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function iC(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let s=(i.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(i)){const c=i.match(/\d?e-(\d?)/);c!=null&&c[1]&&(s=Number.parseInt(c[1]))}const r=n>s?n:s,a=Number.parseInt(e.toFixed(r).replace(".","")),l=Number.parseInt(t.toFixed(r).replace(".",""));return a%l/10**r}const qy=Symbol("evaluating");function _e(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==qy)return i===void 0&&(i=qy,i=n()),i},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function mr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function bs(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function $y(e){return JSON.stringify(e)}function sC(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const kb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Sc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const rC=jm(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function pa(e){if(Sc(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Sc(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function zb(e){return pa(e)?{...e}:Array.isArray(e)?[...e]:e}const aC=new Set(["string","number","symbol"]);function Fc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Es(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function X(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function oC(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const lC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function uC(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const r=bs(e._zod.def,{get shape(){const a={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(a[l]=n.shape[l])}return mr(this,"shape",a),a},checks:[]});return Es(e,r)}function cC(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const r=bs(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete a[l]}return mr(this,"shape",a),a},checks:[]});return Es(e,r)}function fC(e,t){if(!pa(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const r=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(r,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=bs(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return mr(this,"shape",r),r}});return Es(e,s)}function hC(e,t){if(!pa(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=bs(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return mr(this,"shape",i),i}});return Es(e,n)}function dC(e,t){const n=bs(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return mr(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return Es(e,n)}function mC(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=bs(t._zod.def,{get shape(){const l=t._zod.def.shape,c={...l};if(n)for(const h in n){if(!(h in l))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(c[h]=e?new e({type:"optional",innerType:l[h]}):l[h])}else for(const h in l)c[h]=e?new e({type:"optional",innerType:l[h]}):l[h];return mr(this,"shape",c),c},checks:[]});return Es(t,a)}function pC(e,t,n){const i=bs(t._zod.def,{get shape(){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)r[a]=new e({type:"nonoptional",innerType:s[a]});return mr(this,"shape",r),r}});return Es(t,i)}function Br(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Gr(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function ou(e){return typeof e=="string"?e:e==null?void 0:e.message}function ys(e,t,n){var s,r,a,l,c,h;const i={...e,path:e.path??[]};if(!e.message){const d=ou((a=(r=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:r.error)==null?void 0:a.call(r,e))??ou((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??ou((c=n.customError)==null?void 0:c.call(n,e))??ou((h=n.localeError)==null?void 0:h.call(n,e))??"Invalid input";i.message=d}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function Hm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function el(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const Mb=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ed,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Lb=M("$ZodError",Mb),Ub=M("$ZodError",Mb,{Parent:Error});function gC(e,t=n=>n.message){const n={},i=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}function yC(e,t=n=>n.message){const n={_errors:[]},i=s=>{for(const r of s.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(a=>i({issues:a}));else if(r.code==="invalid_key")i({issues:r.issues});else if(r.code==="invalid_element")i({issues:r.issues});else if(r.path.length===0)n._errors.push(t(r));else{let a=n,l=0;for(;l<r.path.length;){const c=r.path[l];l===r.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(r))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(e),n}const Bm=e=>(t,n,i,s)=>{const r=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new ta;if(a.issues.length){const l=new((s==null?void 0:s.Err)??e)(a.issues.map(c=>ys(c,r,gs())));throw kb(l,s==null?void 0:s.callee),l}return a.value},Gm=e=>async(t,n,i,s)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((s==null?void 0:s.Err)??e)(a.issues.map(c=>ys(c,r,gs())));throw kb(l,s==null?void 0:s.callee),l}return a.value},Kc=e=>(t,n,i)=>{const s=i?{...i,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},s);if(r instanceof Promise)throw new ta;return r.issues.length?{success:!1,error:new(e??Lb)(r.issues.map(a=>ys(a,s,gs())))}:{success:!0,data:r.value}},_C=Kc(Ub),Jc=e=>async(t,n,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},s);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(a=>ys(a,s,gs())))}:{success:!0,data:r.value}},vC=Jc(Ub),SC=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Bm(e)(t,n,s)},bC=e=>(t,n,i)=>Bm(e)(t,n,i),EC=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gm(e)(t,n,s)},TC=e=>async(t,n,i)=>Gm(e)(t,n,i),AC=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Kc(e)(t,n,s)},wC=e=>(t,n,i)=>Kc(e)(t,n,i),OC=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Jc(e)(t,n,s)},NC=e=>async(t,n,i)=>Jc(e)(t,n,i),CC=/^[cC][^\s-]{8,}$/,xC=/^[0-9a-z]+$/,RC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,DC=/^[0-9a-vA-V]{20}$/,IC=/^[A-Za-z0-9]{27}$/,kC=/^[a-zA-Z0-9_-]{21}$/,zC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,MC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xy=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,LC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,UC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function jC(){return new RegExp(UC,"u")}const PC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,HC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,BC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,jb=/^[A-Za-z0-9_-]*$/,ZC=/^\+[1-9]\d{6,14}$/,Pb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",qC=new RegExp(`^${Pb}$`);function Vb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function $C(e){return new RegExp(`^${Vb(e)}$`)}function XC(e){const t=Vb({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${Pb}T(?:${i})$`)}const YC=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},FC=/^-?\d+$/,Hb=/^-?\d+(?:\.\d+)?$/,KC=/^(?:true|false)$/i,JC=/^[^A-Z]*$/,QC=/^[^a-z]*$/,Lt=M("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Bb={number:"number",bigint:"bigint",object:"date"},Gb=M("$ZodCheckLessThan",(e,t)=>{Lt.init(e,t);const n=Bb[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Zb=M("$ZodCheckGreaterThan",(e,t)=>{Lt.init(e,t);const n=Bb[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),WC=M("$ZodCheckMultipleOf",(e,t)=>{Lt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):iC(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),ex=M("$ZodCheckNumberFormat",(e,t)=>{var a;Lt.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[s,r]=lC[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=s,c.maximum=r,n&&(c.pattern=FC)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}c<s&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>r&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),tx=M("$ZodCheckMaxLength",(e,t)=>{var n;Lt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Pm(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=Hm(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),nx=M("$ZodCheckMinLength",(e,t)=>{var n;Lt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Pm(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=Hm(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),ix=M("$ZodCheckLengthEquals",(e,t)=>{var n;Lt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Pm(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=i=>{const s=i.value,r=s.length;if(r===t.length)return;const a=Hm(s),l=r>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),Qc=M("$ZodCheckStringFormat",(e,t)=>{var n,i;Lt.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),sx=M("$ZodCheckRegex",(e,t)=>{Qc.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),rx=M("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=JC),Qc.init(e,t)}),ax=M("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=QC),Qc.init(e,t)}),ox=M("$ZodCheckIncludes",(e,t)=>{Lt.init(e,t);const n=Fc(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(i)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),lx=M("$ZodCheckStartsWith",(e,t)=>{Lt.init(e,t);const n=new RegExp(`^${Fc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),ux=M("$ZodCheckEndsWith",(e,t)=>{Lt.init(e,t);const n=new RegExp(`.*${Fc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),cx=M("$ZodCheckOverwrite",(e,t)=>{Lt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class fx{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),r=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of r)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new t(...n,s.join(`
`))}}const hx={major:4,minor:3,patch:5},Ue=M("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=hx;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const r of i)for(const a of r._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const r=(l,c,h)=>{let d=Br(l),p;for(const m of c){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(d)continue;const b=l.issues.length,D=m._zod.check(l);if(D instanceof Promise&&(h==null?void 0:h.async)===!1)throw new ta;if(p||D instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await D,l.issues.length!==b&&(d||(d=Br(l,b)))});else{if(l.issues.length===b)continue;d||(d=Br(l,b))}}return p?p.then(()=>l):l},a=(l,c,h)=>{if(Br(l))return l.aborted=!0,l;const d=r(c,i,h);if(d instanceof Promise){if(h.async===!1)throw new ta;return d.then(p=>e._zod.parse(p,h))}return e._zod.parse(d,h)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(p=>a(p,l,c)):a(d,l,c)}const h=e._zod.parse(l,c);if(h instanceof Promise){if(c.async===!1)throw new ta;return h.then(d=>r(d,i,c))}return r(h,i,c)}}_e(e,"~standard",()=>({validate:r=>{var a;try{const l=_C(e,r);return l.success?{value:l.data}:{issues:(a=l.error)==null?void 0:a.issues}}catch{return vC(e,r).then(c=>{var h;return c.success?{value:c.data}:{issues:(h=c.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}))}),Zm=M("$ZodString",(e,t)=>{var n;Ue.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??YC(e._zod.bag),e._zod.parse=(i,s)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),Ie=M("$ZodStringFormat",(e,t)=>{Qc.init(e,t),Zm.init(e,t)}),dx=M("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=MC),Ie.init(e,t)}),mx=M("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Xy(i))}else t.pattern??(t.pattern=Xy());Ie.init(e,t)}),px=M("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=LC),Ie.init(e,t)}),gx=M("$ZodURL",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),s=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),yx=M("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=jC()),Ie.init(e,t)}),_x=M("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=kC),Ie.init(e,t)}),vx=M("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=CC),Ie.init(e,t)}),Sx=M("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=xC),Ie.init(e,t)}),bx=M("$ZodULID",(e,t)=>{t.pattern??(t.pattern=RC),Ie.init(e,t)}),Ex=M("$ZodXID",(e,t)=>{t.pattern??(t.pattern=DC),Ie.init(e,t)}),Tx=M("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=IC),Ie.init(e,t)}),Ax=M("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=XC(t)),Ie.init(e,t)}),wx=M("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=qC),Ie.init(e,t)}),Ox=M("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=$C(t)),Ie.init(e,t)}),Nx=M("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=zC),Ie.init(e,t)}),Cx=M("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=PC),Ie.init(e,t),e._zod.bag.format="ipv4"}),xx=M("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=VC),Ie.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Rx=M("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=HC),Ie.init(e,t)}),Dx=M("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=BC),Ie.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[s,r]=i;if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function qb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Ix=M("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=GC),Ie.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{qb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function kx(e){if(!jb.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return qb(n)}const zx=M("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=jb),Ie.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{kx(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Mx=M("$ZodE164",(e,t)=>{t.pattern??(t.pattern=ZC),Ie.init(e,t)});function Lx(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Ux=M("$ZodJWT",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{Lx(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),$b=M("$ZodNumber",(e,t)=>{Ue.init(e,t),e._zod.pattern=e._zod.bag.pattern??Hb,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const r=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...r?{received:r}:{}}),n}}),jx=M("$ZodNumberFormat",(e,t)=>{ex.init(e,t),$b.init(e,t)}),Px=M("$ZodBoolean",(e,t)=>{Ue.init(e,t),e._zod.pattern=KC,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),Vx=M("$ZodUnknown",(e,t)=>{Ue.init(e,t),e._zod.parse=n=>n}),Hx=M("$ZodNever",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Yy(e,t,n){e.issues.length&&t.issues.push(...Gr(n,e.issues)),t.value[n]=e.value}const Bx=M("$ZodArray",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const r=[];for(let a=0;a<s.length;a++){const l=s[a],c=t.element._zod.run({value:l,issues:[]},i);c instanceof Promise?r.push(c.then(h=>Yy(h,n,a))):Yy(c,n,a)}return r.length?Promise.all(r).then(()=>n):n}});function bc(e,t,n,i,s){if(e.issues.length){if(s&&!(n in i))return;t.issues.push(...Gr(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function Xb(e){var i,s,r,a;const t=Object.keys(e.shape);for(const l of t)if(!((a=(r=(s=(i=e.shape)==null?void 0:i[l])==null?void 0:s._zod)==null?void 0:r.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=oC(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Yb(e,t,n,i,s,r){const a=[],l=s.keySet,c=s.catchall._zod,h=c.def.type,d=c.optout==="optional";for(const p in t){if(l.has(p))continue;if(h==="never"){a.push(p);continue}const m=c.run({value:t[p],issues:[]},i);m instanceof Promise?e.push(m.then(b=>bc(b,n,p,t,d))):bc(m,n,p,t,d)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:r}),e.length?Promise.all(e).then(()=>n):n}const Gx=M("$ZodObject",(e,t)=>{Ue.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...l};return Object.defineProperty(t,"shape",{value:c}),c}})}const i=jm(()=>Xb(t));_e(e._zod,"propValues",()=>{const l=t.shape,c={};for(const h in l){const d=l[h]._zod;if(d.values){c[h]??(c[h]=new Set);for(const p of d.values)c[h].add(p)}}return c});const s=Sc,r=t.catchall;let a;e._zod.parse=(l,c)=>{a??(a=i.value);const h=l.value;if(!s(h))return l.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),l;l.value={};const d=[],p=a.shape;for(const m of a.keys){const b=p[m],D=b._zod.optout==="optional",z=b._zod.run({value:h[m],issues:[]},c);z instanceof Promise?d.push(z.then(U=>bc(U,l,m,h,D))):bc(z,l,m,h,D)}return r?Yb(d,h,l,c,i.value,e):d.length?Promise.all(d).then(()=>l):l}}),Zx=M("$ZodObjectJIT",(e,t)=>{Gx.init(e,t);const n=e._zod.parse,i=jm(()=>Xb(t)),s=m=>{var C;const b=new fx(["shape","payload","ctx"]),D=i.value,z=R=>{const j=$y(R);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};b.write("const input = payload.value;");const U=Object.create(null);let O=0;for(const R of D.keys)U[R]=`key_${O++}`;b.write("const newResult = {};");for(const R of D.keys){const j=U[R],Z=$y(R),E=m[R],y=((C=E==null?void 0:E._zod)==null?void 0:C.optout)==="optional";b.write(`const ${j} = ${z(R)};`),y?b.write(`
        if (${j}.issues.length) {
          if (${Z} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Z}, ...iss.path] : [${Z}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${j}.value;
        }
        
      `):b.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${j}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const w=b.compile();return(R,j)=>w(m,R,j)};let r;const a=Sc,l=!Db.jitless,h=l&&rC.value,d=t.catchall;let p;e._zod.parse=(m,b)=>{p??(p=i.value);const D=m.value;return a(D)?l&&h&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(r||(r=s(t.shape)),m=r(m,b),d?Yb([],D,m,b,p,e):m):n(m,b):(m.issues.push({expected:"object",code:"invalid_type",input:D,inst:e}),m)}});function Fy(e,t,n,i){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;const s=e.filter(r=>!Br(r));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(a=>ys(a,i,gs())))}),t)}const qx=M("$ZodUnion",(e,t)=>{Ue.init(e,t),_e(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),_e(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),_e(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),_e(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${s.map(r=>Vm(r.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(s,r)=>{if(n)return i(s,r);let a=!1;const l=[];for(const c of t.options){const h=c._zod.run({value:s.value,issues:[]},r);if(h instanceof Promise)l.push(h),a=!0;else{if(h.issues.length===0)return h;l.push(h)}}return a?Promise.all(l).then(c=>Fy(c,s,e,r)):Fy(l,s,e,r)}}),$x=M("$ZodIntersection",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const s=n.value,r=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return r instanceof Promise||a instanceof Promise?Promise.all([r,a]).then(([c,h])=>Ky(n,c,h)):Ky(n,r,a)}});function Td(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(pa(e)&&pa(t)){const n=Object.keys(t),i=Object.keys(e).filter(r=>n.indexOf(r)!==-1),s={...e,...t};for(const r of i){const a=Td(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};s[r]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const s=e[i],r=t[i],a=Td(s,r);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ky(e,t,n){const i=new Map;let s;for(const l of t.issues)if(l.code==="unrecognized_keys"){s??(s=l);for(const c of l.keys)i.has(c)||i.set(c,{}),i.get(c).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const c of l.keys)i.has(c)||i.set(c,{}),i.get(c).r=!0;else e.issues.push(l);const r=[...i].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(r.length&&s&&e.issues.push({...s,keys:r}),Br(e))return e;const a=Td(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const Xx=M("$ZodRecord",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!pa(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const r=[],a=t.keyType._zod.values;if(a){n.value={};const l=new Set;for(const h of a)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){l.add(typeof h=="number"?h.toString():h);const d=t.valueType._zod.run({value:s[h],issues:[]},i);d instanceof Promise?r.push(d.then(p=>{p.issues.length&&n.issues.push(...Gr(h,p.issues)),n.value[h]=p.value})):(d.issues.length&&n.issues.push(...Gr(h,d.issues)),n.value[h]=d.value)}let c;for(const h in s)l.has(h)||(c=c??[],c.push(h));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:c})}else{n.value={};for(const l of Reflect.ownKeys(s)){if(l==="__proto__")continue;let c=t.keyType._zod.run({value:l,issues:[]},i);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&Hb.test(l)&&c.issues.length&&c.issues.some(p=>p.code==="invalid_type"&&p.expected==="number")){const p=t.keyType._zod.run({value:Number(l),issues:[]},i);if(p instanceof Promise)throw new Error("Async schemas not supported in object keys currently");p.issues.length===0&&(c=p)}if(c.issues.length){t.mode==="loose"?n.value[l]=s[l]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(p=>ys(p,i,gs())),input:l,path:[l],inst:e});continue}const d=t.valueType._zod.run({value:s[l],issues:[]},i);d instanceof Promise?r.push(d.then(p=>{p.issues.length&&n.issues.push(...Gr(l,p.issues)),n.value[c.value]=p.value})):(d.issues.length&&n.issues.push(...Gr(l,d.issues)),n.value[c.value]=d.value)}}return r.length?Promise.all(r).then(()=>n):n}}),Yx=M("$ZodEnum",(e,t)=>{Ue.init(e,t);const n=Ib(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(s=>aC.has(typeof s)).map(s=>typeof s=="string"?Fc(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return i.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:e}),s}}),Fx=M("$ZodTransform",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Rb(e.constructor.name);const s=t.transform(n.value,n);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(n.value=a,n));if(s instanceof Promise)throw new ta;return n.value=s,n}});function Jy(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Fb=M("$ZodOptional",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",e._zod.optout="optional",_e(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),_e(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Vm(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>Jy(r,n.value)):Jy(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),Kx=M("$ZodExactOptional",(e,t)=>{Fb.init(e,t),_e(e._zod,"values",()=>t.innerType._zod.values),_e(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),Jx=M("$ZodNullable",(e,t)=>{Ue.init(e,t),_e(e._zod,"optin",()=>t.innerType._zod.optin),_e(e._zod,"optout",()=>t.innerType._zod.optout),_e(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Vm(n.source)}|null)$`):void 0}),_e(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),Qx=M("$ZodDefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>Qy(r,t)):Qy(s,t)}});function Qy(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Wx=M("$ZodPrefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),eR=M("$ZodNonOptional",(e,t)=>{Ue.init(e,t),_e(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>Wy(r,e)):Wy(s,e)}});function Wy(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const tR=M("$ZodCatch",(e,t)=>{Ue.init(e,t),_e(e._zod,"optin",()=>t.innerType._zod.optin),_e(e._zod,"optout",()=>t.innerType._zod.optout),_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>ys(a,i,gs()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(r=>ys(r,i,gs()))},input:n.value}),n.issues=[]),n)}}),nR=M("$ZodPipe",(e,t)=>{Ue.init(e,t),_e(e._zod,"values",()=>t.in._zod.values),_e(e._zod,"optin",()=>t.in._zod.optin),_e(e._zod,"optout",()=>t.out._zod.optout),_e(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const r=t.out._zod.run(n,i);return r instanceof Promise?r.then(a=>lu(a,t.in,i)):lu(r,t.in,i)}const s=t.in._zod.run(n,i);return s instanceof Promise?s.then(r=>lu(r,t.out,i)):lu(s,t.out,i)}});function lu(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const iR=M("$ZodReadonly",(e,t)=>{Ue.init(e,t),_e(e._zod,"propValues",()=>t.innerType._zod.propValues),_e(e._zod,"values",()=>t.innerType._zod.values),_e(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),_e(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(e_):e_(s)}});function e_(e){return e.value=Object.freeze(e.value),e}const sR=M("$ZodCustom",(e,t)=>{Lt.init(e,t),Ue.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,s=t.fn(i);if(s instanceof Promise)return s.then(r=>t_(r,n,i,e));t_(s,n,i,e)}});function t_(e,t,n,i){if(!e){const s={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(el(s))}}var n_;class rR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const s={...i,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function aR(){return new rR}(n_=globalThis).__zod_globalRegistry??(n_.__zod_globalRegistry=aR());const mo=globalThis.__zod_globalRegistry;function oR(e,t){return new e({type:"string",...X(t)})}function lR(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...X(t)})}function i_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...X(t)})}function uR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...X(t)})}function cR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...X(t)})}function fR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...X(t)})}function hR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...X(t)})}function dR(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...X(t)})}function mR(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...X(t)})}function pR(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...X(t)})}function gR(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...X(t)})}function yR(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...X(t)})}function _R(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...X(t)})}function vR(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...X(t)})}function SR(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...X(t)})}function bR(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...X(t)})}function ER(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...X(t)})}function TR(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...X(t)})}function AR(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...X(t)})}function wR(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...X(t)})}function OR(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...X(t)})}function NR(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...X(t)})}function CR(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...X(t)})}function xR(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...X(t)})}function RR(e,t){return new e({type:"string",format:"date",check:"string_format",...X(t)})}function DR(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...X(t)})}function IR(e,t){return new e({type:"string",format:"duration",check:"string_format",...X(t)})}function kR(e,t){return new e({type:"number",checks:[],...X(t)})}function zR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...X(t)})}function MR(e,t){return new e({type:"boolean",...X(t)})}function LR(e){return new e({type:"unknown"})}function UR(e,t){return new e({type:"never",...X(t)})}function s_(e,t){return new Gb({check:"less_than",...X(t),value:e,inclusive:!1})}function uh(e,t){return new Gb({check:"less_than",...X(t),value:e,inclusive:!0})}function r_(e,t){return new Zb({check:"greater_than",...X(t),value:e,inclusive:!1})}function ch(e,t){return new Zb({check:"greater_than",...X(t),value:e,inclusive:!0})}function a_(e,t){return new WC({check:"multiple_of",...X(t),value:e})}function Kb(e,t){return new tx({check:"max_length",...X(t),maximum:e})}function Ec(e,t){return new nx({check:"min_length",...X(t),minimum:e})}function Jb(e,t){return new ix({check:"length_equals",...X(t),length:e})}function jR(e,t){return new sx({check:"string_format",format:"regex",...X(t),pattern:e})}function PR(e){return new rx({check:"string_format",format:"lowercase",...X(e)})}function VR(e){return new ax({check:"string_format",format:"uppercase",...X(e)})}function HR(e,t){return new ox({check:"string_format",format:"includes",...X(t),includes:e})}function BR(e,t){return new lx({check:"string_format",format:"starts_with",...X(t),prefix:e})}function GR(e,t){return new ux({check:"string_format",format:"ends_with",...X(t),suffix:e})}function Ca(e){return new cx({check:"overwrite",tx:e})}function ZR(e){return Ca(t=>t.normalize(e))}function qR(){return Ca(e=>e.trim())}function $R(){return Ca(e=>e.toLowerCase())}function XR(){return Ca(e=>e.toUpperCase())}function YR(){return Ca(e=>sC(e))}function FR(e,t,n){return new e({type:"array",element:t,...X(n)})}function KR(e,t,n){return new e({type:"custom",check:"custom",fn:t,...X(n)})}function JR(e){const t=QR(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(el(i,n.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(el(s))}},e(n.value,n)));return t}function QR(e,t){const n=new Lt({check:"custom",...X(t)});return n._zod.check=e,n}function Qb(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??mo,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Qe(e,t,n={path:[],schemaPath:[]}){var d,p;var i;const s=e._zod.def,r=t.seen.get(e);if(r)return r.count++,n.schemaPath.includes(e)&&(r.cycle=n.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const l=(p=(d=e._zod).toJSONSchema)==null?void 0:p.call(d);if(l)a.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,m);else{const D=a.schema,z=t.processors[s.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);z(e,t,D,m)}const b=e._zod.parent;b&&(a.ref||(a.ref=b),Qe(b,t,m),t.seen.get(b).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),t.io==="input"&&bt(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function Wb(e,t){var a,l,c,h;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const d of e.seen.entries()){const p=(a=e.metadataRegistry.get(d[0]))==null?void 0:a.id;if(p){const m=i.get(p);if(m&&m!==d[0])throw new Error(`Duplicate schema id "${p}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(p,d[0])}}const s=d=>{var z;const p=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const U=(z=e.external.registry.get(d[0]))==null?void 0:z.id,O=e.external.uri??(C=>C);if(U)return{ref:O(U)};const w=d[1].defId??d[1].schema.id??`schema${e.counter++}`;return d[1].defId=w,{defId:w,ref:`${O("__shared")}#/${p}/${w}`}}if(d[1]===n)return{ref:"#"};const b=`#/${p}/`,D=d[1].schema.id??`__schema${e.counter++}`;return{defId:D,ref:b+D}},r=d=>{if(d[1].schema.$ref)return;const p=d[1],{ref:m,defId:b}=s(d);p.def={...p.schema},b&&(p.defId=b);const D=p.schema;for(const z in D)delete D[z];D.$ref=m};if(e.cycles==="throw")for(const d of e.seen.entries()){const p=d[1];if(p.cycle)throw new Error(`Cycle detected: #/${(l=p.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of e.seen.entries()){const p=d[1];if(t===d[0]){r(d);continue}if(e.external){const b=(c=e.external.registry.get(d[0]))==null?void 0:c.id;if(t!==d[0]&&b){r(d);continue}}if((h=e.metadataRegistry.get(d[0]))==null?void 0:h.id){r(d);continue}if(p.cycle){r(d);continue}if(p.count>1&&e.reused==="ref"){r(d);continue}}}function eE(e,t){var a,l,c;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=h=>{const d=e.seen.get(h);if(d.ref===null)return;const p=d.def??d.schema,m={...p},b=d.ref;if(d.ref=null,b){i(b);const z=e.seen.get(b),U=z.schema;if(U.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(U)):Object.assign(p,U),Object.assign(p,m),h._zod.parent===b)for(const w in p)w==="$ref"||w==="allOf"||w in m||delete p[w];if(U.$ref)for(const w in p)w==="$ref"||w==="allOf"||w in z.def&&JSON.stringify(p[w])===JSON.stringify(z.def[w])&&delete p[w]}const D=h._zod.parent;if(D&&D!==b){i(D);const z=e.seen.get(D);if(z!=null&&z.schema.$ref&&(p.$ref=z.schema.$ref,z.def))for(const U in p)U==="$ref"||U==="allOf"||U in z.def&&JSON.stringify(p[U])===JSON.stringify(z.def[U])&&delete p[U]}e.override({zodSchema:h,jsonSchema:p,path:d.path??[]})};for(const h of[...e.seen.entries()].reverse())i(h[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const h=(l=e.external.registry.get(t))==null?void 0:l.id;if(!h)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(h)}Object.assign(s,n.def??n.schema);const r=((c=e.external)==null?void 0:c.defs)??{};for(const h of e.seen.entries()){const d=h[1];d.def&&d.defId&&(r[d.defId]=d.def)}e.external||Object.keys(r).length>0&&(e.target==="draft-2020-12"?s.$defs=r:s.definitions=r);try{const h=JSON.parse(JSON.stringify(s));return Object.defineProperty(h,"~standard",{value:{...t["~standard"],jsonSchema:{input:Tc(t,"input",e.processors),output:Tc(t,"output",e.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function bt(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return bt(i.element,n);if(i.type==="set")return bt(i.valueType,n);if(i.type==="lazy")return bt(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return bt(i.innerType,n);if(i.type==="intersection")return bt(i.left,n)||bt(i.right,n);if(i.type==="record"||i.type==="map")return bt(i.keyType,n)||bt(i.valueType,n);if(i.type==="pipe")return bt(i.in,n)||bt(i.out,n);if(i.type==="object"){for(const s in i.shape)if(bt(i.shape[s],n))return!0;return!1}if(i.type==="union"){for(const s of i.options)if(bt(s,n))return!0;return!1}if(i.type==="tuple"){for(const s of i.items)if(bt(s,n))return!0;return!!(i.rest&&bt(i.rest,n))}return!1}const WR=(e,t={})=>n=>{const i=Qb({...n,processors:t});return Qe(e,i),Wb(i,e),eE(i,e)},Tc=(e,t,n={})=>i=>{const{libraryOptions:s,target:r}=i??{},a=Qb({...s??{},target:r,io:t,processors:n});return Qe(e,a),Wb(a,e),eE(a,e)},eD={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},tD=(e,t,n,i)=>{const s=n;s.type="string";const{minimum:r,maximum:a,format:l,patterns:c,contentEncoding:h}=e._zod.bag;if(typeof r=="number"&&(s.minLength=r),typeof a=="number"&&(s.maxLength=a),l&&(s.format=eD[l]??l,s.format===""&&delete s.format,l==="time"&&delete s.format),h&&(s.contentEncoding=h),c&&c.size>0){const d=[...c];d.length===1?s.pattern=d[0].source:d.length>1&&(s.allOf=[...d.map(p=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},nD=(e,t,n,i)=>{const s=n,{minimum:r,maximum:a,format:l,multipleOf:c,exclusiveMaximum:h,exclusiveMinimum:d}=e._zod.bag;typeof l=="string"&&l.includes("int")?s.type="integer":s.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=d,s.exclusiveMinimum=!0):s.exclusiveMinimum=d),typeof r=="number"&&(s.minimum=r,typeof d=="number"&&t.target!=="draft-04"&&(d>=r?delete s.minimum:delete s.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=h,s.exclusiveMaximum=!0):s.exclusiveMaximum=h),typeof a=="number"&&(s.maximum=a,typeof h=="number"&&t.target!=="draft-04"&&(h<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof c=="number"&&(s.multipleOf=c)},iD=(e,t,n,i)=>{n.type="boolean"},sD=(e,t,n,i)=>{n.not={}},rD=(e,t,n,i)=>{},aD=(e,t,n,i)=>{const s=e._zod.def,r=Ib(s.entries);r.every(a=>typeof a=="number")&&(n.type="number"),r.every(a=>typeof a=="string")&&(n.type="string"),n.enum=r},oD=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},lD=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},uD=(e,t,n,i)=>{const s=n,r=e._zod.def,{minimum:a,maximum:l}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof l=="number"&&(s.maxItems=l),s.type="array",s.items=Qe(r.element,t,{...i,path:[...i.path,"items"]})},cD=(e,t,n,i)=>{var h;const s=n,r=e._zod.def;s.type="object",s.properties={};const a=r.shape;for(const d in a)s.properties[d]=Qe(a[d],t,{...i,path:[...i.path,"properties",d]});const l=new Set(Object.keys(a)),c=new Set([...l].filter(d=>{const p=r.shape[d]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));c.size>0&&(s.required=Array.from(c)),((h=r.catchall)==null?void 0:h._zod.def.type)==="never"?s.additionalProperties=!1:r.catchall?r.catchall&&(s.additionalProperties=Qe(r.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},fD=(e,t,n,i)=>{const s=e._zod.def,r=s.inclusive===!1,a=s.options.map((l,c)=>Qe(l,t,{...i,path:[...i.path,r?"oneOf":"anyOf",c]}));r?n.oneOf=a:n.anyOf=a},hD=(e,t,n,i)=>{const s=e._zod.def,r=Qe(s.left,t,{...i,path:[...i.path,"allOf",0]}),a=Qe(s.right,t,{...i,path:[...i.path,"allOf",1]}),l=h=>"allOf"in h&&Object.keys(h).length===1,c=[...l(r)?r.allOf:[r],...l(a)?a.allOf:[a]];n.allOf=c},dD=(e,t,n,i)=>{const s=n,r=e._zod.def;s.type="object";const a=r.keyType,l=a._zod.bag,c=l==null?void 0:l.patterns;if(r.mode==="loose"&&c&&c.size>0){const d=Qe(r.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});s.patternProperties={};for(const p of c)s.patternProperties[p.source]=d}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=Qe(r.keyType,t,{...i,path:[...i.path,"propertyNames"]})),s.additionalProperties=Qe(r.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const h=a._zod.values;if(h){const d=[...h].filter(p=>typeof p=="string"||typeof p=="number");d.length>0&&(s.required=d)}},mD=(e,t,n,i)=>{const s=e._zod.def,r=Qe(s.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,n.nullable=!0):n.anyOf=[r,{type:"null"}]},pD=(e,t,n,i)=>{const s=e._zod.def;Qe(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},gD=(e,t,n,i)=>{const s=e._zod.def;Qe(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},yD=(e,t,n,i)=>{const s=e._zod.def;Qe(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},_D=(e,t,n,i)=>{const s=e._zod.def;Qe(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},vD=(e,t,n,i)=>{const s=e._zod.def,r=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Qe(r,t,i);const a=t.seen.get(e);a.ref=r},SD=(e,t,n,i)=>{const s=e._zod.def;Qe(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.readOnly=!0},tE=(e,t,n,i)=>{const s=e._zod.def;Qe(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},bD=M("ZodISODateTime",(e,t)=>{Ax.init(e,t),ke.init(e,t)});function ED(e){return xR(bD,e)}const TD=M("ZodISODate",(e,t)=>{wx.init(e,t),ke.init(e,t)});function AD(e){return RR(TD,e)}const wD=M("ZodISOTime",(e,t)=>{Ox.init(e,t),ke.init(e,t)});function OD(e){return DR(wD,e)}const ND=M("ZodISODuration",(e,t)=>{Nx.init(e,t),ke.init(e,t)});function CD(e){return IR(ND,e)}const xD=(e,t)=>{Lb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>yC(e,n)},flatten:{value:n=>gC(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Ed,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Ed,2)}},isEmpty:{get(){return e.issues.length===0}}})},gn=M("ZodError",xD,{Parent:Error}),RD=Bm(gn),DD=Gm(gn),ID=Kc(gn),kD=Jc(gn),zD=SC(gn),MD=bC(gn),LD=EC(gn),UD=TC(gn),jD=AC(gn),PD=wC(gn),VD=OC(gn),HD=NC(gn),je=M("ZodType",(e,t)=>(Ue.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Tc(e,"input"),output:Tc(e,"output")}}),e.toJSONSchema=WR(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(bs(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>Es(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>RD(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>ID(e,n,i),e.parseAsync=async(n,i)=>DD(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>kD(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>zD(e,n,i),e.decode=(n,i)=>MD(e,n,i),e.encodeAsync=async(n,i)=>LD(e,n,i),e.decodeAsync=async(n,i)=>UD(e,n,i),e.safeEncode=(n,i)=>jD(e,n,i),e.safeDecode=(n,i)=>PD(e,n,i),e.safeEncodeAsync=async(n,i)=>VD(e,n,i),e.safeDecodeAsync=async(n,i)=>HD(e,n,i),e.refine=(n,i)=>e.check(zI(n,i)),e.superRefine=n=>e.check(MI(n)),e.overwrite=n=>e.check(Ca(n)),e.optional=()=>u_(e),e.exactOptional=()=>bI(e),e.nullable=()=>c_(e),e.nullish=()=>u_(c_(e)),e.nonoptional=n=>NI(e,n),e.array=()=>ga(e),e.or=n=>sE([e,n]),e.and=n=>gI(e,n),e.transform=n=>f_(e,vI(n)),e.default=n=>AI(e,n),e.prefault=n=>OI(e,n),e.catch=n=>xI(e,n),e.pipe=n=>f_(e,n),e.readonly=()=>II(e),e.describe=n=>{const i=e.clone();return mo.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=mo.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return mo.get(e);const i=e.clone();return mo.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),nE=M("_ZodString",(e,t)=>{Zm.init(e,t),je.init(e,t),e._zod.processJSONSchema=(i,s,r)=>tD(e,i,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(jR(...i)),e.includes=(...i)=>e.check(HR(...i)),e.startsWith=(...i)=>e.check(BR(...i)),e.endsWith=(...i)=>e.check(GR(...i)),e.min=(...i)=>e.check(Ec(...i)),e.max=(...i)=>e.check(Kb(...i)),e.length=(...i)=>e.check(Jb(...i)),e.nonempty=(...i)=>e.check(Ec(1,...i)),e.lowercase=i=>e.check(PR(i)),e.uppercase=i=>e.check(VR(i)),e.trim=()=>e.check(qR()),e.normalize=(...i)=>e.check(ZR(...i)),e.toLowerCase=()=>e.check($R()),e.toUpperCase=()=>e.check(XR()),e.slugify=()=>e.check(YR())}),BD=M("ZodString",(e,t)=>{Zm.init(e,t),nE.init(e,t),e.email=n=>e.check(lR(GD,n)),e.url=n=>e.check(dR(ZD,n)),e.jwt=n=>e.check(CR(rI,n)),e.emoji=n=>e.check(mR(qD,n)),e.guid=n=>e.check(i_(o_,n)),e.uuid=n=>e.check(uR(uu,n)),e.uuidv4=n=>e.check(cR(uu,n)),e.uuidv6=n=>e.check(fR(uu,n)),e.uuidv7=n=>e.check(hR(uu,n)),e.nanoid=n=>e.check(pR($D,n)),e.guid=n=>e.check(i_(o_,n)),e.cuid=n=>e.check(gR(XD,n)),e.cuid2=n=>e.check(yR(YD,n)),e.ulid=n=>e.check(_R(FD,n)),e.base64=n=>e.check(wR(nI,n)),e.base64url=n=>e.check(OR(iI,n)),e.xid=n=>e.check(vR(KD,n)),e.ksuid=n=>e.check(SR(JD,n)),e.ipv4=n=>e.check(bR(QD,n)),e.ipv6=n=>e.check(ER(WD,n)),e.cidrv4=n=>e.check(TR(eI,n)),e.cidrv6=n=>e.check(AR(tI,n)),e.e164=n=>e.check(NR(sI,n)),e.datetime=n=>e.check(ED(n)),e.date=n=>e.check(AD(n)),e.time=n=>e.check(OD(n)),e.duration=n=>e.check(CD(n))});function tt(e){return oR(BD,e)}const ke=M("ZodStringFormat",(e,t)=>{Ie.init(e,t),nE.init(e,t)}),GD=M("ZodEmail",(e,t)=>{px.init(e,t),ke.init(e,t)}),o_=M("ZodGUID",(e,t)=>{dx.init(e,t),ke.init(e,t)}),uu=M("ZodUUID",(e,t)=>{mx.init(e,t),ke.init(e,t)}),ZD=M("ZodURL",(e,t)=>{gx.init(e,t),ke.init(e,t)}),qD=M("ZodEmoji",(e,t)=>{yx.init(e,t),ke.init(e,t)}),$D=M("ZodNanoID",(e,t)=>{_x.init(e,t),ke.init(e,t)}),XD=M("ZodCUID",(e,t)=>{vx.init(e,t),ke.init(e,t)}),YD=M("ZodCUID2",(e,t)=>{Sx.init(e,t),ke.init(e,t)}),FD=M("ZodULID",(e,t)=>{bx.init(e,t),ke.init(e,t)}),KD=M("ZodXID",(e,t)=>{Ex.init(e,t),ke.init(e,t)}),JD=M("ZodKSUID",(e,t)=>{Tx.init(e,t),ke.init(e,t)}),QD=M("ZodIPv4",(e,t)=>{Cx.init(e,t),ke.init(e,t)}),WD=M("ZodIPv6",(e,t)=>{xx.init(e,t),ke.init(e,t)}),eI=M("ZodCIDRv4",(e,t)=>{Rx.init(e,t),ke.init(e,t)}),tI=M("ZodCIDRv6",(e,t)=>{Dx.init(e,t),ke.init(e,t)}),nI=M("ZodBase64",(e,t)=>{Ix.init(e,t),ke.init(e,t)}),iI=M("ZodBase64URL",(e,t)=>{zx.init(e,t),ke.init(e,t)}),sI=M("ZodE164",(e,t)=>{Mx.init(e,t),ke.init(e,t)}),rI=M("ZodJWT",(e,t)=>{Ux.init(e,t),ke.init(e,t)}),iE=M("ZodNumber",(e,t)=>{$b.init(e,t),je.init(e,t),e._zod.processJSONSchema=(i,s,r)=>nD(e,i,s),e.gt=(i,s)=>e.check(r_(i,s)),e.gte=(i,s)=>e.check(ch(i,s)),e.min=(i,s)=>e.check(ch(i,s)),e.lt=(i,s)=>e.check(s_(i,s)),e.lte=(i,s)=>e.check(uh(i,s)),e.max=(i,s)=>e.check(uh(i,s)),e.int=i=>e.check(l_(i)),e.safe=i=>e.check(l_(i)),e.positive=i=>e.check(r_(0,i)),e.nonnegative=i=>e.check(ch(0,i)),e.negative=i=>e.check(s_(0,i)),e.nonpositive=i=>e.check(uh(0,i)),e.multipleOf=(i,s)=>e.check(a_(i,s)),e.step=(i,s)=>e.check(a_(i,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function ht(e){return kR(iE,e)}const aI=M("ZodNumberFormat",(e,t)=>{jx.init(e,t),iE.init(e,t)});function l_(e){return zR(aI,e)}const oI=M("ZodBoolean",(e,t)=>{Px.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>iD(e,n,i)});function lI(e){return MR(oI,e)}const uI=M("ZodUnknown",(e,t)=>{Vx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>rD()});function Ad(){return LR(uI)}const cI=M("ZodNever",(e,t)=>{Hx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>sD(e,n,i)});function fI(e){return UR(cI,e)}const hI=M("ZodArray",(e,t)=>{Bx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>uD(e,n,i,s),e.element=t.element,e.min=(n,i)=>e.check(Ec(n,i)),e.nonempty=n=>e.check(Ec(1,n)),e.max=(n,i)=>e.check(Kb(n,i)),e.length=(n,i)=>e.check(Jb(n,i)),e.unwrap=()=>e.element});function ga(e,t){return FR(hI,e,t)}const dI=M("ZodObject",(e,t)=>{Zx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>cD(e,n,i,s),_e(e,"shape",()=>t.shape),e.keyof=()=>Od(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ad()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ad()}),e.strict=()=>e.clone({...e._zod.def,catchall:fI()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>fC(e,n),e.safeExtend=n=>hC(e,n),e.merge=n=>dC(e,n),e.pick=n=>uC(e,n),e.omit=n=>cC(e,n),e.partial=(...n)=>mC(aE,e,n[0]),e.required=(...n)=>pC(oE,e,n[0])});function On(e,t){const n={type:"object",shape:e??{},...X(t)};return new dI(n)}const mI=M("ZodUnion",(e,t)=>{qx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>fD(e,n,i,s),e.options=t.options});function sE(e,t){return new mI({type:"union",options:e,...X(t)})}const pI=M("ZodIntersection",(e,t)=>{$x.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>hD(e,n,i,s)});function gI(e,t){return new pI({type:"intersection",left:e,right:t})}const yI=M("ZodRecord",(e,t)=>{Xx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>dD(e,n,i,s),e.keyType=t.keyType,e.valueType=t.valueType});function rE(e,t,n){return new yI({type:"record",keyType:e,valueType:t,...X(n)})}const wd=M("ZodEnum",(e,t)=>{Yx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(i,s,r)=>aD(e,i,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,s)=>{const r={};for(const a of i)if(n.has(a))r[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new wd({...t,checks:[],...X(s),entries:r})},e.exclude=(i,s)=>{const r={...t.entries};for(const a of i)if(n.has(a))delete r[a];else throw new Error(`Key ${a} not found in enum`);return new wd({...t,checks:[],...X(s),entries:r})}});function Od(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new wd({type:"enum",entries:n,...X(t)})}const _I=M("ZodTransform",(e,t)=>{Fx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>lD(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Rb(e.constructor.name);n.addIssue=r=>{if(typeof r=="string")n.issues.push(el(r,n.value,t));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(el(a))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(r=>(n.value=r,n)):(n.value=s,n)}});function vI(e){return new _I({type:"transform",transform:e})}const aE=M("ZodOptional",(e,t)=>{Fb.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>tE(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function u_(e){return new aE({type:"optional",innerType:e})}const SI=M("ZodExactOptional",(e,t)=>{Kx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>tE(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function bI(e){return new SI({type:"optional",innerType:e})}const EI=M("ZodNullable",(e,t)=>{Jx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>mD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function c_(e){return new EI({type:"nullable",innerType:e})}const TI=M("ZodDefault",(e,t)=>{Qx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>gD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function AI(e,t){return new TI({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():zb(t)}})}const wI=M("ZodPrefault",(e,t)=>{Wx.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>yD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function OI(e,t){return new wI({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():zb(t)}})}const oE=M("ZodNonOptional",(e,t)=>{eR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>pD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function NI(e,t){return new oE({type:"nonoptional",innerType:e,...X(t)})}const CI=M("ZodCatch",(e,t)=>{tR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>_D(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function xI(e,t){return new CI({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const RI=M("ZodPipe",(e,t)=>{nR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>vD(e,n,i,s),e.in=t.in,e.out=t.out});function f_(e,t){return new RI({type:"pipe",in:e,out:t})}const DI=M("ZodReadonly",(e,t)=>{iR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>SD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function II(e){return new DI({type:"readonly",innerType:e})}const kI=M("ZodCustom",(e,t)=>{sR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,s)=>oD(e,n)});function zI(e,t={}){return KR(kI,e,t)}function MI(e){return JR(e)}Ss("Validation");const h_=tt().min(1).max(100);tt().regex(/^[a-fA-F0-9]{64}$/);const Wc=tt().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),lE=tt().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);tt().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);On({challenge:tt().min(10).max(200),expiresAt:ht().int().positive()});On({kind:ht().int(),created_at:ht().int().nonnegative(),tags:ga(ga(tt())),content:tt()});const LI=On({npub:Wc,displayName:lE.nullable()}),uE=On({visitedAt:tt().nullable().optional(),completedAt:tt().nullable().optional(),quizAttempts:ga(On({xpEarned:ht().int().min(0).optional(),score:ht().min(0).max(100).optional(),timestamp:tt().optional(),difficulty:Od(["easy","medium","hard"]).optional(),correctAnswers:ht().int().min(0).optional(),totalQuestions:ht().int().min(1).optional()})).optional(),visualizationsInteracted:ga(tt().max(100)).optional(),masteryLevel:sE([ht().int().min(0).max(3),Od(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:tt().optional(),timeSpentSeconds:ht().int().min(0).optional()});On({user:On({totalXP:ht().int().min(0),level:ht().int().min(1).max(10),sectionsCompleted:ga(h_)}),sections:rE(h_,uE),dailyGoals:On({lastResetDate:tt().nullable(),currentStreak:ht().int().min(0),xpEarned:ht().int().min(0),xpGoal:ht().int().min(0)}),lastUpdated:ht().int().nonnegative()});On({success:lI(),totalXP:ht().int().min(0)});On({npub:Wc,displayName:lE.nullable(),xp:ht().int().min(0),lastSync:tt()});On({timestamp:tt(),action:tt(),targetNpub:Wc.nullable(),performedBy:tt(),details:rE(tt(),Ad()).nullable()});function Pk(e){return Wc.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function UI(e){const t=uE.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function jI(e){const t=LI.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const Ac=Ss("SyncManager"),PI="magic-internet-math-progress";function d_(){try{const e=localStorage.getItem(PI);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[s,r]of Object.entries(t.sections)){const[a]=s.split(":");if(!MA(a))continue;const l=a,c=UI(r);if(!c.valid||!c.data){Ac.warn(`Invalid section data for ${s}, skipping`);continue}const h=c.data;if(h.quizAttempts)for(const d of h.quizAttempts)d.xpEarned&&(i[l]+=d.xpEarned);h.visitedAt&&(i[l]+=lt.SECTION_VISIT),h.completedAt&&(i[l]+=lt.SECTION_COMPLETE),h.visualizationsInteracted&&(i[l]+=h.visualizationsInteracted.length*lt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return Ac.error("Error extracting scores from storage:",e),null}}class VI{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},Eb),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},Tb))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!qs())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<bb)return{success:!1,error:"Rate limited"};try{const n=d_();if(!n)return{success:!1,error:"No scores to sync"};const i=_c(),s=Qo(i,"syncScores"),r={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(r.displayName=this.displayName);const a=await s(r);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return Ac.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const s=1e3*Math.pow(2,n);Ac.debug(`Sync retry ${n+1}/${t} in ${s}ms`),await new Promise(r=>setTimeout(r,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=d_();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let fh=null;function ao(){return fh||(fh=new VI),fh}const st=Ss("NostrAuth"),cE=H.createContext(null),oo="magic-internet-math-nostr-auth";function HI({children:e}){const[t,n]=H.useState(!1),[i,s]=H.useState(null),[r,a]=H.useState(null),[l,c]=H.useState(null),[h,d]=H.useState(!1),[p,m]=H.useState(null),[b,D]=H.useState(!1),[z,U]=H.useState(!1),[O,w]=H.useState(null);H.useEffect(()=>{(async()=>{const v=await tC(I4);D(v),U(!0)})()},[]);const C=H.useCallback(async _=>{for(const v of Ab)try{const T=await xb(v,_);if(T){T.nip05&&c(T.nip05);const x=T.display_name||T.name;if(x){a(x);const A=ao();A.setDisplayName(x),A.requestSync()}return}}catch(T){st.warn(`Failed to fetch profile from ${v}:`,T)}},[]);H.useEffect(()=>{if(!qs())return;const _=oh(),v=jO(_,async T=>{if(w(T),T){s(T.uid);try{const A=await T.getIdTokenResult(!0);st.debug("Token claims:",A.claims),d(A.claims.isAdmin===!0)}catch(A){st.error("Error getting token:",A),d(!1)}try{const A=localStorage.getItem(oo);if(A){const ae=JSON.parse(A),oe=jI(ae);if(!oe.valid||!oe.data){st.warn("Invalid auth state in localStorage:",oe.error),localStorage.removeItem(oo);return}oe.data.npub===T.uid&&a(oe.data.displayName)}}catch(A){st.debug("Storage read error:",A)}const x=ao();x.setAuthenticated(!0),x.startPeriodicSync();try{const A=Cb(T.uid);C(A)}catch(A){st.debug("Npub conversion error:",A)}}else{s(null),c(null),d(!1),a(null);const x=ao();x.setAuthenticated(!1),x.stopPeriodicSync()}});return()=>v()},[C]);const R=H.useCallback(async()=>{if(st.debug("connect() called"),st.debug("isFirebaseConfigured:",qs()),st.debug("hasNostrExtension:",vc()),!qs()){st.info("Firebase not configured, cannot connect");return}if(!vc()){m("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),st.warn("No extension found, returning");return}n(!0),m(null),st.info("Starting Nostr connection...");try{const _=window.nostr,v=_c(),T=await _.getPublicKey(),x=Q4(T),ae=await Qo(v,"createChallenge")({pubkeyHex:T}),{challenge:oe}=ae.data,V={kind:nC,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",oe]],content:oe},Y=await _.signEvent(V),de=await Qo(v,"verifyNostrAndCreateToken")({signedEvent:Y,challenge:oe}),we=oh();await MO(we,de.data.token);try{const yt={npub:x,displayName:null};localStorage.setItem(oo,JSON.stringify(yt))}catch(yt){st.warn("Failed to store auth state:",yt)}ao().syncNow().catch(yt=>{st.warn("Initial sync failed:",yt)})}catch(_){st.error("Nostr connect error:",_),m(_ instanceof Error?_.message:"Failed to connect. Please try again.")}finally{n(!1)}},[b]),j=H.useCallback(async()=>{try{if(qs()){const _=oh();await PO(_)}try{localStorage.removeItem(oo)}catch(_){st.warn("Failed to clear auth state from storage:",_)}s(null),a(null),d(!1)}catch(_){st.error("Disconnect error:",_),m(_ instanceof Error?_.message:"Failed to disconnect")}},[]),Z=H.useCallback(_=>{if(a(_),i)try{localStorage.setItem(oo,JSON.stringify({npub:i,displayName:_}))}catch(T){st.warn("Failed to update display name in storage:",T)}const v=ao();v.setDisplayName(_),v.requestSync()},[i]),E=H.useCallback(()=>{m(null)},[]),y=H.useMemo(()=>({isAuthenticated:!!O&&!!i,isConnecting:t,npub:i,displayName:r,nip05:l,isAdmin:h,error:p,hasExtension:b,extensionChecked:z,connect:R,disconnect:j,setDisplayName:Z,clearError:E}),[O,i,t,r,l,h,p,b,z,R,j,Z,E]);return S.jsx(cE.Provider,{value:y,children:e})}const BI={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function GI(){const e=H.useContext(cE);return e||BI}const Ui=Ss("GamificationProgress"),ZI=500,qI=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},wr=(e,t)=>{qI()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},fE=H.createContext(null);function $I({children:e,courseId:t,curriculum:n}){const[i,s]=H.useReducer(s2,pS()),[r,a]=H.useState(!0),[l,c]=H.useState([]),[h,d]=H.useState("idle"),p=H.useRef(null),m=H.useRef(!1),b=H.useRef(!1),{isAuthenticated:D,npub:z}=GI(),U=H.useCallback(v=>`${t}:${v}`,[t]),O=H.useCallback((v,T)=>{if(!n)return null;const x=n.find(Y=>Y.sections.some(F=>F.id===v));if(!x)return null;const A=`${t}:part${x.id}`;if(T.user.partsCompleted.includes(A))return null;const ae=x.sections.map(Y=>U(Y.id)),oe=U(v);return ae.every(Y=>T.user.sectionsCompleted.includes(Y)||Y===oe)?A:null},[n,t,U]);H.useEffect(()=>{const v=sr();v&&s({type:"LOAD_STATE",payload:v}),D||queueMicrotask(()=>a(!1))},[]),H.useEffect(()=>{const v=Zy(),T=v.onStatusChange(d),x=b.current;return b.current=D,D&&!x?(Ui.info("User authenticated, fetching progress from server"),v.setAuthenticated(!0),(async()=>{a(!0);try{const ae=GA(),oe=sr();if(ae&&oe){Ui.info("Migrating local progress to server");const V=await v.migrateLocalProgress(oe);V.success&&V.state?(s({type:"MERGE_WITH_SERVER",payload:V.state}),BA(),Ui.info("Migration complete")):Ui.warn("Migration failed, using local state")}else{const V=await v.fetchServerProgress();V.found&&V.progress?(Ui.info("Loaded progress from server"),s({type:"LOAD_FROM_SERVER",payload:V.progress}),v.setLastSyncedAt(V.lastSyncedAt)):Ui.info("No server progress found, using local state")}}catch(ae){Ui.error("Failed to sync with server:",ae)}finally{queueMicrotask(()=>a(!1)),m.current=!0}})(),v.startPeriodicSync()):!D&&x?(Ui.info("User logged out"),v.setAuthenticated(!1),v.stopPeriodicSync(),m.current=!1):D||queueMicrotask(()=>a(!1)),()=>{T()}},[D,z]),H.useEffect(()=>{r||(Bc(i),D&&m.current&&Zy().requestSync(i))},[i,r,D]),H.useEffect(()=>{r||s({type:"UPDATE_STREAK"})},[r]),H.useEffect(()=>{if(!r)return p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{const v=XA(i);v.length>0&&c(T=>[...T,...v])},ZI),()=>{p.current&&clearTimeout(p.current)}},[i,r]);const w=H.useCallback(v=>{s({type:"VISIT_SECTION",payload:{sectionId:U(v)}})},[U]),C=H.useCallback(v=>{const T=O(v,i);s({type:"COMPLETE_SECTION",payload:{sectionId:U(v)}}),T&&(s({type:"COMPLETE_PART",payload:{partId:T}}),wr("partCompleted",{partId:T,courseId:t})),wr("sectionCompleted",{sectionId:U(v),courseId:t})},[U,t,O,i]),R=H.useCallback((v,T,x,A,ae)=>{const oe=U(v),V=x>=80?O(v,i):null;s({type:"RECORD_QUIZ",payload:{sectionId:oe,difficulty:T,score:x,correctAnswers:A,totalQuestions:ae}}),V&&(s({type:"COMPLETE_PART",payload:{partId:V}}),wr("partCompleted",{partId:V,courseId:t})),wr("quizCompleted",{sectionId:oe,courseId:t,score:x,correctAnswers:A,totalQuestions:ae}),x>=80&&wr("sectionCompleted",{sectionId:oe,courseId:t})},[U,t,O,i]),j=H.useCallback((v,T)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:U(v),name:T}})},[U]),Z=H.useCallback(v=>{c(T=>T.filter(x=>x.id!==v))},[]),E=H.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),y=H.useCallback(v=>{s({type:"RECORD_RACE_GAME",payload:v}),wr("raceGameCompleted",{courseId:t,score:v.score,tier:v.tier,correctAnswers:v.correctAnswers,totalQuestions:v.totalQuestions,isMultiplayer:v.isMultiplayer})},[t]),_=H.useMemo(()=>({state:i,isLoading:r,notifications:l,syncStatus:h,visitSection:w,completeSection:C,recordQuiz:R,useVisualization:j,dismissNotification:Z,resetProgress:E,recordRaceGame:y,dispatch:s}),[i,r,l,h,w,C,R,j,Z,E,y,s]);return S.jsx(fE.Provider,{value:_,children:e})}function ef(){const e=H.useContext(fE);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const XI=Fo;function Vk(e){return`${XI}:${e}`}function m_({children:e}){return S.jsx($I,{courseId:Fo,children:e})}const hE=H.createContext(null);function YI({config:e,children:t}){return S.jsx(hE.Provider,{value:e,children:t})}function dE(){const e=H.useContext(hE);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}const FI={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function xt({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=S.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[S.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${FI[t]}`,role:"status","aria-label":"Loading"}),e&&S.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?S.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}function KI({xp:e,level:t,compact:n=!1}){const i=gS(e,t);return n?S.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[S.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),S.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:S.jsx("span",{className:"text-sm font-bold text-white",children:t})}),S.jsxs("div",{className:"flex-1 min-w-[80px]",children:[S.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[S.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),S.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),S.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:S.jsx(zo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function JI({streak:e}){return e===0?null:S.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[S.jsx("span",{className:"text-orange-400",children:""}),S.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function QI({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:s}=JA(e);return S.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[S.jsx("span",{className:"text-sm",children:s}),t&&S.jsx("span",{className:"text-xs",children:n})]})}function WI({onImportSuccess:e}){const[t,n]=H.useState(!1),[i,s]=H.useState(null),[r,a]=H.useState(!1),l=H.useRef(null),c=HA(),h=()=>{jA(),s({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>s(null),3e3)},d=()=>{var m;(m=l.current)==null||m.click()},p=async m=>{var z;const b=(z=m.target.files)==null?void 0:z[0];if(!b)return;a(!0),s(null);const D=await VA(b);a(!1),s({type:D.success?"success":"error",text:D.message}),D.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),l.current&&(l.current.value="")};return S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:S.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),S.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[S.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),c&&S.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[S.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),S.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[S.jsxs("span",{className:"text-accent-400 font-semibold",children:[c.totalXP," XP"]}),S.jsxs("span",{className:"text-dark-300",children:["Level ",c.level]}),S.jsxs("span",{className:"text-dark-400",children:[c.sectionsCompleted," sections"]})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("button",{onClick:h,disabled:!c,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),S.jsxs("button",{onClick:d,disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),r?"Importing...":"Import Backup"]}),S.jsx("input",{ref:l,type:"file",accept:".json",onChange:p,className:"hidden"})]}),i&&S.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),S.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const ek={progress:"",mastery:"",dedication:"",exploration:""};function tk({notification:e,onDismiss:t}){return H.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),S.jsx(zo.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:S.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:ek[e.category]||""}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),S.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),S.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),S.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),S.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function nk({notifications:e,onDismiss:t}){return S.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:S.jsx(hh,{mode:"popLayout",children:e.map(n=>S.jsx(tk,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function ik({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:s,hubUrl:r}=dE(),a=ef(),l=s.gamification?a:null;return S.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:S.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:S.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),S.jsxs(Or,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[S.jsx("span",{className:"text-2xl",children:i}),S.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]})]}),S.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[S.jsx("a",{href:r,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),S.jsx(Or,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),s.theoremIndex&&S.jsx(Or,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),s.interactiveModules&&S.jsx(Or,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),s.leaderboard&&S.jsx(Or,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[s.gamification&&l&&S.jsxs(S.Fragment,{children:[S.jsx(JI,{streak:l.state.streak.currentStreak}),S.jsx(KI,{xp:l.state.user.totalXP,level:l.state.user.level})]}),s.gamification&&S.jsx(WI,{})]})]})})}function sk({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:s}=dE(),[r,a]=H.useState(new Set([1])),l=ef(),c=i.gamification?l:null,h=p=>{a(m=>{const b=new Set(m);return b.has(p)?b.delete(p):b.add(p),b})},d=p=>{var b;if(!c)return"none";const m=`${n}:${p}`;return((b=c.state.sections[m])==null?void 0:b.masteryLevel)??"none"};return S.jsxs(S.Fragment,{children:[S.jsx(hh,{children:e&&S.jsx(zo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),S.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:S.jsxs("nav",{className:"p-4",children:[S.jsxs("div",{className:"mb-6",children:[S.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[S.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:S.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),S.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),S.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&S.jsx("li",{children:S.jsxs(jl,{to:"/theorems",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[S.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&S.jsx("li",{children:S.jsxs(jl,{to:"/interactive",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[S.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&S.jsx("li",{children:S.jsxs(jl,{to:"/problems",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[S.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})})]})]}),S.jsx("div",{className:"space-y-2",children:s.map(p=>S.jsxs("div",{children:[S.jsxs("button",{onClick:()=>h(p.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:S.jsx("span",{className:"text-xs font-bold text-primary-400",children:p.id})}),S.jsx("span",{className:"text-sm font-medium text-dark-200",children:p.title})]}),S.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${r.has(p.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),S.jsx(hh,{children:r.has(p.id)&&S.jsx(zo.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:p.sections.map(m=>S.jsx("li",{children:S.jsxs(jl,{to:`/section/${m.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:b})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${b?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[S.jsx("span",{className:"truncate",children:m.title}),i.gamification&&S.jsx(QI,{level:d(m.id)})]})},m.id))})})]},p.id))})]})})]})}const pr=[{id:1,title:"Straightedge and Compass",slug:"straightedge-compass",sections:[{id:0,title:"Euclid's Construction Axioms",slug:"euclids-construction-axioms",description:"The fundamental axioms for straightedge and compass constructions."},{id:1,title:"Euclid's Construction of the Equilateral Triangle",slug:"equilateral-triangle-construction",description:"The first proposition of the Elements: constructing an equilateral triangle."},{id:2,title:"Some Basic Constructions",slug:"basic-constructions",description:"Essential constructions including perpendiculars and angle bisectors."},{id:3,title:"Multiplication and Division",slug:"multiplication-division",description:"Geometric constructions for arithmetic operations."},{id:4,title:"Similar Triangles",slug:"similar-triangles",description:"Properties and constructions involving similar triangles."},{id:5,title:"Discussion",slug:"ch1-discussion",description:"Historical context and the scope of straightedge and compass constructions."}]},{id:2,title:"Euclid's Approach to Geometry",slug:"euclids-approach",sections:[{id:6,title:"The Parallel Axiom",slug:"parallel-axiom",description:"The famous fifth postulate and its significance in geometry."},{id:7,title:"Congruence Axioms",slug:"congruence-axioms",description:"Axioms governing the congruence of geometric figures."},{id:8,title:"Area and Equality",slug:"area-equality",description:"The concept of area and equality of figures."},{id:9,title:"Area of Parallelograms and Triangles",slug:"area-parallelograms-triangles",description:"Computing areas of basic geometric shapes."},{id:10,title:"The Pythagorean Theorem",slug:"pythagorean-theorem",description:"The most famous theorem in geometry and its proof."},{id:11,title:"Proof of the Thales Theorem",slug:"thales-theorem-proof",description:"Proving that an angle inscribed in a semicircle is a right angle."},{id:12,title:"Angles in a Circle",slug:"angles-in-circle",description:"Relationships between angles and arcs in circles."},{id:13,title:"The Pythagorean Theorem Revisited",slug:"pythagorean-theorem-revisited",description:"Alternative proofs and deeper understanding of the theorem."},{id:14,title:"Discussion",slug:"ch2-discussion",description:"The axiomatic method and its role in mathematics."}]},{id:3,title:"Coordinates",slug:"coordinates",sections:[{id:15,title:"The Number Line and the Number Plane",slug:"number-line-plane",description:"Introduction to coordinate systems and the Cartesian plane."},{id:16,title:"Lines and Their Equations",slug:"lines-equations",description:"Algebraic representation of lines in the coordinate plane."},{id:17,title:"Distance",slug:"distance",description:"The distance formula derived from the Pythagorean theorem."},{id:18,title:"Intersections of Lines and Circles",slug:"intersections-lines-circles",description:"Finding intersection points using algebra."},{id:19,title:"Angle and Slope",slug:"angle-slope",description:"The relationship between angle and slope of a line."},{id:20,title:"Isometries",slug:"isometries",description:"Distance-preserving transformations in the plane."},{id:21,title:"The Three Reflections Theorem",slug:"three-reflections-theorem",description:"Every isometry is a composition of at most three reflections."},{id:22,title:"Discussion",slug:"ch3-discussion",description:"The power of coordinates in geometry."}]},{id:4,title:"Vectors and Euclidean Spaces",slug:"vectors-euclidean-spaces",sections:[{id:23,title:"Vectors",slug:"vectors",description:"Introduction to vectors and vector operations."},{id:24,title:"Direction and Linear Independence",slug:"direction-linear-independence",description:"Linear independence and spanning sets."},{id:25,title:"Midpoints and Centroids",slug:"midpoints-centroids",description:"Using vectors to find midpoints and centroids."},{id:26,title:"The Inner Product",slug:"inner-product",description:"The dot product and its geometric meaning."},{id:27,title:"Inner Product and Cosine",slug:"inner-product-cosine",description:"The relationship between inner product and angle."},{id:28,title:"The Triangle Inequality",slug:"triangle-inequality",description:"Proving the triangle inequality using vectors."},{id:29,title:"Rotations, Matrices, and Complex Numbers",slug:"rotations-matrices-complex",description:"Representing rotations with matrices and complex numbers."},{id:30,title:"Discussion",slug:"ch4-discussion",description:"The algebraic approach to geometry."}]},{id:5,title:"Perspective",slug:"perspective",sections:[{id:31,title:"Perspective Drawing",slug:"perspective-drawing",description:"The mathematics behind perspective art."},{id:32,title:"Drawing with Straightedge Alone",slug:"straightedge-alone",description:"What can be constructed without a compass."},{id:33,title:"Projective Plane Axioms and Their Models",slug:"projective-plane-axioms",description:"The axiomatic foundation of projective geometry."},{id:34,title:"Homogeneous Coordinates",slug:"homogeneous-coordinates",description:"A coordinate system for projective geometry."},{id:35,title:"Projection",slug:"projection",description:"The mathematics of projection from 3D to 2D."},{id:36,title:"Linear Fractional Functions",slug:"linear-fractional-functions",description:"Transformations of the projective line."},{id:37,title:"The Cross-Ratio",slug:"cross-ratio",description:"The fundamental invariant of projective geometry."},{id:38,title:"What is Special About the Cross-Ratio?",slug:"cross-ratio-special",description:"Why the cross-ratio is preserved under projection."},{id:39,title:"Discussion",slug:"ch5-discussion",description:"The role of perspective in mathematics and art."}]},{id:6,title:"Projective Planes",slug:"projective-planes",sections:[{id:40,title:"Pappus and Desargues Revisited",slug:"pappus-desargues-revisited",description:"Classic theorems of projective geometry."},{id:41,title:"Coincidences",slug:"coincidences",description:"Incidence relations in projective planes."},{id:42,title:"Variations on the Desargues Theorem",slug:"desargues-variations",description:"Different forms and consequences of Desargues theorem."},{id:43,title:"Projective Arithmetic",slug:"projective-arithmetic",description:"Constructing number systems from projective geometry."},{id:44,title:"The Field Axioms",slug:"field-axioms",description:"How geometry gives rise to algebraic structures."},{id:45,title:"The Associative Laws",slug:"associative-laws",description:"Proving associativity from geometric axioms."},{id:46,title:"The Distributive Law",slug:"distributive-law",description:"Proving distributivity from geometric axioms."},{id:47,title:"Discussion",slug:"ch6-discussion",description:"The deep connection between geometry and algebra."}]},{id:7,title:"Transformations",slug:"transformations",sections:[{id:48,title:"The Group of Isometries of the Plane",slug:"isometry-group",description:"Isometries form a mathematical group."},{id:49,title:"Vector Transformations",slug:"vector-transformations",description:"Linear transformations and their properties."},{id:50,title:"Transformations of the Projective Line",slug:"projective-line-transformations",description:"Mobius transformations and their geometry."},{id:51,title:"Spherical Geometry",slug:"spherical-geometry",description:"Geometry on the surface of a sphere."},{id:52,title:"The Rotation Group of the Sphere",slug:"sphere-rotation-group",description:"The group SO(3) of rotations in three dimensions."},{id:53,title:"Representing Space Rotations by Quaternions",slug:"quaternions",description:"Hamilton's quaternions and 3D rotations."},{id:54,title:"A Finite Group of Space Rotations",slug:"finite-rotation-groups",description:"Symmetry groups of regular polyhedra."},{id:55,title:"The Groups S3 and RP3",slug:"s3-rp3-groups",description:"The 3-sphere and real projective 3-space."},{id:56,title:"Discussion",slug:"ch7-discussion",description:"The Erlangen program: geometry as transformation groups."}]},{id:8,title:"Non-Euclidean Geometry",slug:"non-euclidean-geometry",sections:[{id:57,title:"Extending the Projective Line to a Plane",slug:"extending-projective-line",description:"Building the hyperbolic plane from projective concepts."},{id:58,title:"Complex Conjugation",slug:"complex-conjugation",description:"Complex numbers and their conjugates in geometry."},{id:59,title:"Reflections and Mobius Transformations",slug:"reflections-mobius",description:"Mobius transformations and hyperbolic reflections."},{id:60,title:"Preserving Non-Euclidean Lines",slug:"preserving-non-euclidean-lines",description:"Geodesics in hyperbolic geometry."},{id:61,title:"Preserving Angle",slug:"preserving-angle",description:"Conformal mappings in hyperbolic geometry."},{id:62,title:"Non-Euclidean Distance",slug:"non-euclidean-distance",description:"The hyperbolic metric and distance formula."},{id:63,title:"Non-Euclidean Translations and Rotations",slug:"non-euclidean-translations-rotations",description:"Isometries of the hyperbolic plane."},{id:64,title:"Three Reflections or Two Involutions",slug:"three-reflections-two-involutions",description:"Decomposing hyperbolic isometries."},{id:65,title:"Discussion",slug:"ch8-discussion",description:"The significance of non-Euclidean geometry in mathematics."}]}];function Hk(e){for(const t of pr){const n=t.sections.find(i=>i.id===e);if(n)return n}}function Bk(e){return pr.find(t=>t.sections.some(n=>n.id===e))}function Gk(e){const t=pr.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function rk(){return pr.reduce((e,t)=>e+t.sections.length,0)}function ak(){return pr.flatMap(e=>e.sections)}function Zk(e){return ak().findIndex(n=>n.id===e)}function ok({xp:e,level:t,compact:n=!1}){const i=gS(e,t);return n?S.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[S.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),S.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:S.jsx("span",{className:"text-sm font-bold text-white",children:t})}),S.jsxs("div",{className:"flex-1 min-w-[80px]",children:[S.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[S.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),S.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),S.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:S.jsx(zo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function lk({streak:e}){return e===0?null:S.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[S.jsx("span",{className:"text-orange-400",children:""}),S.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function p_(){const e=ef(),t=Tn.gamification?e:null,n=rk(),i=t?t.state.user.sectionsCompleted.filter(r=>r.startsWith(Fo)).length:0,s=Math.round(i/n*100);return S.jsx("div",{className:"py-8 px-4",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("span",{className:"text-6xl mb-4 block",children:oS}),S.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:aS}),S.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:fA})]}),Tn.gamification&&t&&S.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),S.jsx(lk,{streak:t.state.streak.currentStreak})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("div",{children:S.jsx(ok,{xp:t.state.user.totalXP,level:t.state.user.level})}),S.jsxs("div",{className:"flex flex-col justify-center",children:[S.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[S.jsx("span",{className:"text-dark-400",children:"Course Progress"}),S.jsxs("span",{className:"text-primary-400 font-medium",children:[s,"%"]})]}),S.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${s}%`}})}),S.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),S.jsxs("div",{className:"flex flex-col justify-center items-end",children:[S.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),S.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),S.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),S.jsx("div",{className:"space-y-4",children:pr.map(r=>S.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:S.jsx("span",{className:"text-lg font-bold text-primary-400",children:r.id})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:r.title}),S.jsxs("p",{className:"text-sm text-dark-400",children:[r.sections.length," sections"]})]})]}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.sections.map(a=>{const l=`${Fo}:${a.id}`,c=t==null?void 0:t.state.user.sectionsCompleted.includes(l);return S.jsxs(Or,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[S.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${c?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:c?S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):S.jsx("span",{className:"text-xs",children:a.id})}),S.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},r.id))})]})})}function uk(e){const t={};for(const[n,i]of Object.entries(e)){const s=n.match(/Section(\d+)/);if(s){const r=parseInt(s[1],10);t[r]=i}}return t}const ck={id:Fo,name:aS,icon:oS,hubUrl:hA,features:Tn,curriculum:pr},fk=H.lazy(()=>G(()=>import("./Leaderboard-e3gVHbSN.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),hk=H.lazy(()=>G(()=>import("./Theorems-CsfVsgRb.js"),__vite__mapDeps([5,1,2,6,3,7,4]),import.meta.url)),dk=H.lazy(()=>G(()=>import("./InteractiveModules-C2ZB7R_p.js"),__vite__mapDeps([8,1,2,6,3,4]),import.meta.url)),mk=H.lazy(()=>G(()=>import("./SectionQuizPage-iFkKTd2C.js"),__vite__mapDeps([9,1,2,10,3,4]),import.meta.url)),pk=H.lazy(()=>G(()=>import("./ProblemsIndex-qkeqKI-H.js"),__vite__mapDeps([11,1,2,12,13,14,15,16,17,18,19,20,3,4]),import.meta.url)),gk=H.lazy(()=>G(()=>import("./ProblemsPart01-BEXAUxR7.js"),__vite__mapDeps([21,1,2,12,3,22,13,4]),import.meta.url)),yk=H.lazy(()=>G(()=>import("./ProblemsPart02-JAGL6s0p.js"),__vite__mapDeps([23,1,2,12,3,22,14,4]),import.meta.url)),_k=H.lazy(()=>G(()=>import("./ProblemsPart03-fN4xvAv9.js"),__vite__mapDeps([24,1,2,12,3,22,15,4]),import.meta.url)),vk=H.lazy(()=>G(()=>import("./ProblemsPart04-CRnSsNnV.js"),__vite__mapDeps([25,1,2,12,3,22,16,4]),import.meta.url)),Sk=H.lazy(()=>G(()=>import("./ProblemsPart05-CO4l1jzz.js"),__vite__mapDeps([26,1,2,12,3,22,17,4]),import.meta.url)),bk=H.lazy(()=>G(()=>import("./ProblemsPart06-CpRIrfW6.js"),__vite__mapDeps([27,1,2,12,3,22,18,4]),import.meta.url)),Ek=H.lazy(()=>G(()=>import("./ProblemsPart07-KqcRFYEP.js"),__vite__mapDeps([28,1,2,12,3,22,19,4]),import.meta.url)),Tk=H.lazy(()=>G(()=>import("./ProblemsPart08-DAsMrH_q.js"),__vite__mapDeps([29,1,2,12,3,22,20,4]),import.meta.url)),Ak=Object.assign({"./pages/sections/Section00.tsx":()=>G(()=>import("./Section00-CLo_2-0V.js"),__vite__mapDeps([30,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section01.tsx":()=>G(()=>import("./Section01-D3EI5REO.js"),__vite__mapDeps([32,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section02.tsx":()=>G(()=>import("./Section02-CDUstiqA.js"),__vite__mapDeps([33,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section03.tsx":()=>G(()=>import("./Section03-VupjPO8E.js"),__vite__mapDeps([34,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section04.tsx":()=>G(()=>import("./Section04-DIsbSI0c.js"),__vite__mapDeps([35,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section05.tsx":()=>G(()=>import("./Section05-B8grdNzs.js"),__vite__mapDeps([36,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section06.tsx":()=>G(()=>import("./Section06-OjyyKniD.js"),__vite__mapDeps([37,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section07.tsx":()=>G(()=>import("./Section07-BpTVmaQd.js"),__vite__mapDeps([38,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section08.tsx":()=>G(()=>import("./Section08-BAbTjXPi.js"),__vite__mapDeps([39,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section09.tsx":()=>G(()=>import("./Section09-CET9ZwBa.js"),__vite__mapDeps([40,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section10.tsx":()=>G(()=>import("./Section10-CCqFZGpN.js"),__vite__mapDeps([41,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section11.tsx":()=>G(()=>import("./Section11-q74QRkDt.js"),__vite__mapDeps([42,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section12.tsx":()=>G(()=>import("./Section12-PTfdsVP_.js"),__vite__mapDeps([43,1,2,31,10,3,7,44,4]),import.meta.url),"./pages/sections/Section13.tsx":()=>G(()=>import("./Section13-D37pLEa0.js"),__vite__mapDeps([45,1,2,31,10,3,7,44,4]),import.meta.url),"./pages/sections/Section14.tsx":()=>G(()=>import("./Section14-DPupDrlv.js"),__vite__mapDeps([46,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section15.tsx":()=>G(()=>import("./Section15-BSxPp7bx.js"),__vite__mapDeps([47,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section16.tsx":()=>G(()=>import("./Section16-Qm8CEg2x.js"),__vite__mapDeps([48,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section17.tsx":()=>G(()=>import("./Section17-l2YQhAS2.js"),__vite__mapDeps([49,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section18.tsx":()=>G(()=>import("./Section18-CY2CYWp6.js"),__vite__mapDeps([50,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section19.tsx":()=>G(()=>import("./Section19-DLvrvtof.js"),__vite__mapDeps([51,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section20.tsx":()=>G(()=>import("./Section20-BYHkz1Qp.js"),__vite__mapDeps([52,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section21.tsx":()=>G(()=>import("./Section21-LvQz4ERY.js"),__vite__mapDeps([53,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section22.tsx":()=>G(()=>import("./Section22-BbbNIuuP.js"),__vite__mapDeps([54,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section23.tsx":()=>G(()=>import("./Section23-w87AD5kS.js"),__vite__mapDeps([55,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section24.tsx":()=>G(()=>import("./Section24-CwKleqpi.js"),__vite__mapDeps([56,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section25.tsx":()=>G(()=>import("./Section25-CwyHRJPH.js"),__vite__mapDeps([57,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section26.tsx":()=>G(()=>import("./Section26-C_gBdF70.js"),__vite__mapDeps([58,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section27.tsx":()=>G(()=>import("./Section27-CxKWskth.js"),__vite__mapDeps([59,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section28.tsx":()=>G(()=>import("./Section28-TBMLBVmQ.js"),__vite__mapDeps([60,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section29.tsx":()=>G(()=>import("./Section29-C0HdqOO9.js"),__vite__mapDeps([61,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section30.tsx":()=>G(()=>import("./Section30-DhmwBifq.js"),__vite__mapDeps([62,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section31.tsx":()=>G(()=>import("./Section31-kCqQwR06.js"),__vite__mapDeps([63,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section32.tsx":()=>G(()=>import("./Section32-GgXVhKH_.js"),__vite__mapDeps([64,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section33.tsx":()=>G(()=>import("./Section33-d675iiRW.js"),__vite__mapDeps([65,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section34.tsx":()=>G(()=>import("./Section34-CIxU64y1.js"),__vite__mapDeps([66,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section35.tsx":()=>G(()=>import("./Section35-BI4JyyB7.js"),__vite__mapDeps([67,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section36.tsx":()=>G(()=>import("./Section36-DutuQHXy.js"),__vite__mapDeps([68,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section37.tsx":()=>G(()=>import("./Section37-DTqHilC0.js"),__vite__mapDeps([69,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section38.tsx":()=>G(()=>import("./Section38-Bi1nHq6j.js"),__vite__mapDeps([70,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section39.tsx":()=>G(()=>import("./Section39-Cyu1j792.js"),__vite__mapDeps([71,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section40.tsx":()=>G(()=>import("./Section40-DqtOtP_A.js"),__vite__mapDeps([72,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section41.tsx":()=>G(()=>import("./Section41-BWz5iZlD.js"),__vite__mapDeps([73,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section42.tsx":()=>G(()=>import("./Section42-lAWYfTr-.js"),__vite__mapDeps([74,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section43.tsx":()=>G(()=>import("./Section43-BZYe1JHc.js"),__vite__mapDeps([75,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section44.tsx":()=>G(()=>import("./Section44-D875Bc3H.js"),__vite__mapDeps([76,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section45.tsx":()=>G(()=>import("./Section45-DA1fMxQU.js"),__vite__mapDeps([77,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section46.tsx":()=>G(()=>import("./Section46-DBu_CpQw.js"),__vite__mapDeps([78,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section47.tsx":()=>G(()=>import("./Section47-DHtnJRIp.js"),__vite__mapDeps([79,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section48.tsx":()=>G(()=>import("./Section48-C3PLGgb1.js"),__vite__mapDeps([80,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section49.tsx":()=>G(()=>import("./Section49-Ord1vt8v.js"),__vite__mapDeps([81,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section50.tsx":()=>G(()=>import("./Section50-B9mpxSEY.js"),__vite__mapDeps([82,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section51.tsx":()=>G(()=>import("./Section51-lfGu-N0-.js"),__vite__mapDeps([83,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section52.tsx":()=>G(()=>import("./Section52-CXgRSbkP.js"),__vite__mapDeps([84,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section53.tsx":()=>G(()=>import("./Section53-ZQWK4zB3.js"),__vite__mapDeps([85,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section54.tsx":()=>G(()=>import("./Section54-eAkM7W-I.js"),__vite__mapDeps([86,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section55.tsx":()=>G(()=>import("./Section55-Bb6lshcB.js"),__vite__mapDeps([87,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section56.tsx":()=>G(()=>import("./Section56-IV_BNPdz.js"),__vite__mapDeps([88,1,2,31,10,3,4]),import.meta.url),"./pages/sections/Section57.tsx":()=>G(()=>import("./Section57-BWqsF-Bq.js"),__vite__mapDeps([89,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section58.tsx":()=>G(()=>import("./Section58-BoDiZnw2.js"),__vite__mapDeps([90,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section59.tsx":()=>G(()=>import("./Section59-D6iXWT57.js"),__vite__mapDeps([91,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section60.tsx":()=>G(()=>import("./Section60-WLf9T8TB.js"),__vite__mapDeps([92,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section61.tsx":()=>G(()=>import("./Section61-BNFPUheH.js"),__vite__mapDeps([93,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section62.tsx":()=>G(()=>import("./Section62-CCzKRaBV.js"),__vite__mapDeps([94,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section63.tsx":()=>G(()=>import("./Section63-BcC6AVU7.js"),__vite__mapDeps([95,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section64.tsx":()=>G(()=>import("./Section64-CkTGvS0d.js"),__vite__mapDeps([96,1,2,31,10,3,7,4]),import.meta.url),"./pages/sections/Section65.tsx":()=>G(()=>import("./Section65-BWydCH7w.js"),__vite__mapDeps([97,1,2,31,10,3,4]),import.meta.url)}),wk=uk(Ak),mE={};for(const[e,t]of Object.entries(wk))mE[Number(e)]=H.lazy(t);function Ok(){const{id:e}=IE(),t=parseInt(e||"0",10),n=mE[t];return n?S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading section..."}),children:S.jsx(n,{})}):S.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),S.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function Nk({children:e}){const[t,n]=H.useState(!1);return S.jsxs("div",{className:"min-h-screen bg-dark-950",children:[S.jsx(ik,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),S.jsx(sk,{isOpen:t,onClose:()=>n(!1)}),S.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function cu(){return S.jsxs(S.Fragment,{children:[S.jsx(Nk,{children:S.jsxs(DE,{children:[S.jsx(_t,{path:"/",element:S.jsx(p_,{})}),Tn.leaderboard&&S.jsx(_t,{path:"/leaderboard",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading leaderboard..."}),children:S.jsx(fk,{})})}),Tn.theoremIndex&&S.jsx(_t,{path:"/theorems",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading theorems..."}),children:S.jsx(hk,{})})}),Tn.interactiveModules&&S.jsx(_t,{path:"/interactive",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading modules..."}),children:S.jsx(dk,{})})}),Tn.problems&&S.jsxs(S.Fragment,{children:[S.jsx(_t,{path:"/problems",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading problems..."}),children:S.jsx(pk,{})})}),S.jsx(_t,{path:"/problems/1",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(gk,{})})}),S.jsx(_t,{path:"/problems/2",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(yk,{})})}),S.jsx(_t,{path:"/problems/3",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(_k,{})})}),S.jsx(_t,{path:"/problems/4",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(vk,{})})}),S.jsx(_t,{path:"/problems/5",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(Sk,{})})}),S.jsx(_t,{path:"/problems/6",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(bk,{})})}),S.jsx(_t,{path:"/problems/7",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(Ek,{})})}),S.jsx(_t,{path:"/problems/8",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading..."}),children:S.jsx(Tk,{})})})]}),S.jsx(_t,{path:"/section/:id",element:S.jsx(Ok,{})}),S.jsx(_t,{path:"/quiz/section/:id",element:S.jsx(H.Suspense,{fallback:S.jsx(xt,{message:"Loading quiz..."}),children:S.jsx(mk,{})})}),S.jsx(_t,{path:"*",element:S.jsx(p_,{})})]})}),Tn.gamification&&S.jsx(Ck,{})]})}function Ck(){const{notifications:e,dismissNotification:t}=ef();return S.jsx(nk,{notifications:e,onDismiss:t})}function xk(){return S.jsx(YI,{config:ck,children:S.jsx(RE,{children:Tn.nostrAuth?S.jsx(HI,{children:Tn.gamification?S.jsx(m_,{children:S.jsx(cu,{})}):S.jsx(cu,{})}):Tn.gamification?S.jsx(m_,{children:S.jsx(cu,{})}):S.jsx(cu,{})})})}lA.createRoot(document.getElementById("root")).render(S.jsx(H.StrictMode,{children:S.jsx(xk,{})}));export{aS as C,Tn as F,hA as H,Lk as L,Mk as R,lk as S,ok as X,Ss as a,ao as b,JA as c,HA as d,jA as e,jk as f,_c as g,Qo as h,qs as i,VA as j,ef as k,oS as l,pr as m,Fo as n,Hk as o,Bk as p,zk as q,YA as r,Uk as s,lt as t,GI as u,Pk as v,Gk as w,rk as x,Zk as y,Vk as z};
