import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as D,D as E,C as b,T as C,q as I}from"./index-D42mtZgu.js";import{S as L}from"./SectionQuiz-6yENJUid.js";import{r as x}from"./vendor-react-Drj8qL0h.js";import"./index-wPvFP65j.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-functions-Bu93Ly_7.js";import"./vendor-firebase-core-_7V-tLLm.js";import"./vendor-firebase-auth-Br51EKMN.js";function q({className:w=""}){const y=x.useRef(null),[h,v]=x.useState(8),[d,z]=x.useState(.3),[f,N]=x.useState(!0),p=500,u=400,S=p/2,m=u/2+50,o=s=>{const t=Math.cos(d),j=Math.sin(d),c=s.x*t-s.z*j,l=s.x*j+s.z*t+h;if(l<=.1)return null;const n=80,a=h/l,k=S+c*n*a,P=m-s.y*n*a;return[k,P]},g=[];for(let s=-3;s<=3;s++)g.push([{x:s,y:0,z:-1},{x:s,y:0,z:5}]);for(let s=-1;s<=5;s++)g.push([{x:-3,y:0,z:s},{x:3,y:0,z:s}]);const r=[{x:-.8,y:0,z:1.2},{x:.8,y:0,z:1.2},{x:.8,y:0,z:2.8},{x:-.8,y:0,z:2.8},{x:-.8,y:1.6,z:1.2},{x:.8,y:1.6,z:1.2},{x:.8,y:1.6,z:2.8},{x:-.8,y:1.6,z:2.8}],T=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]];return x.useEffect(()=>{const s=y.current;if(!s)return;const t=s.getContext("2d");if(!t)return;t.fillStyle="#0f172a",t.fillRect(0,0,p,u),t.strokeStyle="#334155",t.lineWidth=1,t.setLineDash([5,5]),t.beginPath(),t.moveTo(0,m),t.lineTo(p,m),t.stroke(),t.setLineDash([]),t.fillStyle="#64748b",t.font="11px sans-serif",t.fillText("Horizon",10,m-5),t.strokeStyle="#475569",t.lineWidth=1,g.forEach(([i,l])=>{const n=o(i),a=o(l);n&&a&&(t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(a[0],a[1]),t.stroke())}),t.strokeStyle="#f472b6",t.lineWidth=2,T.forEach(([i,l])=>{const n=o(r[i]),a=o(r[l]);n&&a&&(t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(a[0],a[1]),t.stroke())});const c=[r[2],r[3],r[7],r[6]].map(i=>o(i)).filter(i=>i!==null);if(c.length===4&&(t.fillStyle="rgba(244, 114, 182, 0.2)",t.beginPath(),t.moveTo(c[0][0],c[0][1]),c.forEach(i=>t.lineTo(i[0],i[1])),t.closePath(),t.fill()),f){const i=o({x:0,y:0,z:100});if(i){t.fillStyle="#fbbf24",t.beginPath(),t.arc(i[0],i[1],6,0,Math.PI*2),t.fill(),t.fillStyle="#fbbf24",t.font="11px sans-serif",t.fillText("Vanishing Point",i[0]+10,i[1]-5),t.strokeStyle="rgba(251, 191, 36, 0.3)",t.lineWidth=1,t.setLineDash([3,3]);for(let l=-3;l<=3;l+=2){const n=o({x:l,y:0,z:-1});n&&(t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(i[0],i[1]),t.stroke())}t.setLineDash([])}}t.fillStyle="#94a3b8",t.font="11px sans-serif",t.fillText("Perspective Projection Demo",10,20)},[h,d,f]),e.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${w}`,children:[e.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Perspective Projection"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("canvas",{ref:y,width:p,height:u,className:"border border-slate-700 rounded"})}),e.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Eye Distance: ",h.toFixed(1)]}),e.jsx("input",{type:"range",min:"3",max:"15",step:"0.5",value:h,onChange:s=>v(parseFloat(s.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Rotation: ",(d*180/Math.PI).toFixed(0),"°"]}),e.jsx("input",{type:"range",min:"-1",max:"1",step:"0.05",value:d,onChange:s=>z(parseFloat(s.target.value)),className:"w-full"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:s=>N(s.target.checked),className:"rounded"}),"Show vanishing point"]}),e.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[e.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Concepts"}),e.jsxs("ul",{className:"text-xs text-slate-300 space-y-1",children:[e.jsx("li",{children:"• Parallel lines converge at vanishing point"}),e.jsx("li",{children:"• Objects shrink with distance"}),e.jsx("li",{children:"• Horizon is at eye level"})]})]}),e.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-pink-400",children:"Pink:"})," 3D cube"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Vanishing point"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-slate-500",children:"Gray:"})," Floor grid"]})]})]})]})]})}function H(){return e.jsxs(D,{sectionId:32,children:[e.jsx("h2",{children:"Drawing with Straightedge Alone"}),e.jsxs("p",{children:["The ",e.jsx("em",{children:"costruzione legittima"})," takes advantage of something that is visually obvious but mathematically mysterious—the fact that parallel lines generally do not look parallel, but appear to meet on the horizon."]}),e.jsx("h3",{children:"Points at Infinity"}),e.jsx(E,{title:"Vanishing Point and Line at Infinity",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:["The point where a family of parallels appear to meet is called their",e.jsx("strong",{children:" vanishing point"})," by artists, and their ",e.jsx("strong",{children:"point at infinity"})," by mathematicians."]}),e.jsxs("li",{children:["The horizon itself, which consists of all the points at infinity, is called the ",e.jsx("strong",{children:"line at infinity"}),"."]})]})}),e.jsx("h3",{children:"Limitations of the Costruzione Legittima"}),e.jsx("p",{children:"The costruzione legittima does not take full advantage of points at infinity. It involves some parallels that are really drawn parallel, so we need both straightedge and compass as used in Chapter 1. The construction also needs measurement to lay out the equally spaced points on the bottom line of the picture."}),e.jsxs(b,{type:"info",children:[e.jsx("strong",{children:"Key Question:"})," Is it possible to draw a perspective view of a tiled floor with a straightedge alone? Absolutely!"]}),e.jsx("h3",{children:"Construction with Straightedge Alone"}),e.jsx("p",{children:"All one needs to get started is the horizon and a tile placed obliquely. The tile is created by two pairs of parallel lines, which are simply pairs that meet on the horizon."}),e.jsx(C,{title:"The Straightedge Construction",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[e.jsx("li",{children:"Start with a horizon line and one tile (a quadrilateral whose opposite sides meet on the horizon)"}),e.jsx("li",{children:"Draw the diagonal of this tile and extend it to the horizon, obtaining the point at infinity of all parallel diagonals"}),e.jsx("li",{children:"This step allows us to draw two more diagonals, of tiles adjacent to the first one"}),e.jsx("li",{children:"These diagonals give us the remaining sides of the adjacent tiles"}),e.jsx("li",{children:"Repeat the process to fill in as many tiles as desired"})]})}),e.jsx("h3",{children:"Why It Works"}),e.jsx("p",{children:"This construction works because certain things remain the same in any view of the plane:"}),e.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsx("li",{children:"Straight lines remain straight"}),e.jsx("li",{children:"Intersections remain intersections"}),e.jsx("li",{children:"Parallel lines remain parallel or meet on the horizon"})]})}),e.jsxs("p",{children:["Since parallel lines always meet on the horizon if you point yourself in the right direction, if we could look in all directions at once we would see that ",e.jsx("strong",{children:"any two lines have a point in common"}),"."]}),e.jsx("h3",{children:"The Power of the Straightedge"}),e.jsx("p",{children:"This construction is easy and fun to do. Unlike the costruzione legittima, which requires both straightedge and compass for its measurements and parallel constructions, this method uses only incidence properties of lines—their meetings and intersections."}),e.jsxs(b,{type:"info",children:[e.jsx("strong",{children:"Try It:"})," Get a straightedge and try the construction yourself! Start with a horizon line, draw one quadrilateral tile below it with opposite sides meeting on the horizon, and then extend using diagonals."]}),e.jsx("h3",{children:"Exercises"}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.2.1"}),e.jsx("p",{className:"text-slate-300",children:"Consider a triangular tile that could be half of a quadrangular tile. Draw a perspective view of the plane filled with many copies of this tile."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.2.2"}),e.jsx("p",{className:"text-slate-300",children:"By deleting some lines in your solution to Exercise 5.2.1, create a perspective view of the plane filled with congruent hexagons."})]}),e.jsx(q,{className:"my-6"}),e.jsx(L,{sectionId:32,questions:I[32]||[],title:"Drawing with Straightedge Alone Quiz"})]})}export{H as default};
