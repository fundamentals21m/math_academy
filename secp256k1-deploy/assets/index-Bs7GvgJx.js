const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-BrdT7v1N.js","./vendor-animation-0o8UKZ_1.js","./vendor-react-Drj8qL0h.js","./vendor-math-p018AHG0.js","./vendor-firebase-core-BXWtuYvb.js","./Theorems-BiU03_W6.js","./Sidebar-CRDGSKAJ.js","./MathBlock-uz1iP4cD.js","./InteractiveModules-DYz6eTNn.js","./SectionQuizPage-Cua2hdvx.js","./quizMap-B3IzoTDS.js","./TranscriptsIndex-Dqw1vDhe.js","./transcripts-Bk5EipTb.js","./AdaptorApplications-kCFHsb6T.js","./TranscriptLayout-BlPQ7usn.js","./Callout-4_WMx_B8.js","./AdaptorIntro-DHjXFPoE.js","./FrostImplementation-B-FU7966.js","./FrostIntro-DJdht6oG.js","./LibsecOrigins-DYeuSmew.js","./LibsecPanel-CZe3D1MV.js","./Musig2DeepDive-D_-vbXNY.js","./MusigImplementations-Dl_Q-1CN.js","./MusigOverview-DgjOkJ4A.js","./SchnorrApplications-d9qV3yUy.js","./SchnorrBasics-GJ72d0km.js","./SchnorrTaproot-B_4a3-1T.js","./Section00-DsjzQxrJ.js","./LessonLayout-BrHz6E0J.js","./Section01-mig8JpTt.js","./Section02-CDGToroU.js","./Section03-BluoHH36.js","./Section04-BoN94gbv.js","./Section05-Bg2GON2H.js","./Section06-B3k1DHDq.js","./Section07-DbjS-Gyw.js","./Section08-BXvD-nE4.js","./Section09-B9sPhUeC.js"])))=>i.map(i=>d[i]);
import{j as y,m as Uo,A as dh}from"./vendor-animation-0o8UKZ_1.js";import{r as V,a as M1,L as Ns,N as Ya,H as U1,R as L1,b as Wn,u as _0}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import{o as j1}from"./vendor-firebase-core-BXWtuYvb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var S0={exports:{}},Nc={},b0={exports:{}},E0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,X){var F=H.length;H.push(X);e:for(;0<F;){var he=F-1>>>1,we=H[he];if(0<r(we,X))H[he]=X,H[F]=we,F=he;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],F=H.pop();if(F!==X){H[0]=F;e:for(var he=0,we=H.length,Se=we>>>1;he<Se;){var yt=2*(he+1)-1,Re=H[yt],vt=yt+1,de=H[vt];if(0>r(Re,F))vt<we&&0>r(de,Re)?(H[he]=de,H[vt]=F,he=vt):(H[he]=Re,H[yt]=F,he=yt);else if(vt<we&&0>r(de,F))H[he]=de,H[vt]=F,he=vt;else break e}}return X}function r(H,X){var F=H.sortIndex-X.sortIndex;return F!==0?F:H.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,m=null,p=3,b=!1,k=!1,z=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=H)i(h),X.sortIndex=X.expirationTime,t(c,X);else break;X=n(h)}}function j(H){if(z=!1,R(H),!k)if(n(c)!==null)k=!0,Z||(Z=!0,C());else{var X=n(h);X!==null&&ae(j,X.startTime-H)}}var Z=!1,E=-1,v=5,_=-1;function S(){return L?!0:!(e.unstable_now()-_<v)}function T(){if(L=!1,Z){var H=e.unstable_now();_=H;var X=!0;try{e:{k=!1,z&&(z=!1,w(E),E=-1),b=!0;var F=p;try{t:{for(R(H),m=n(c);m!==null&&!(m.expirationTime>H&&S());){var he=m.callback;if(typeof he=="function"){m.callback=null,p=m.priorityLevel;var we=he(m.expirationTime<=H);if(H=e.unstable_now(),typeof we=="function"){m.callback=we,R(H),X=!0;break t}m===n(c)&&i(c),R(H)}else i(c);m=n(c)}if(m!==null)X=!0;else{var Se=n(h);Se!==null&&ae(j,Se.startTime-H),X=!1}}break e}finally{m=null,p=F,b=!1}X=void 0}}finally{X?C():Z=!1}}}var C;if(typeof x=="function")C=function(){x(T)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,se=A.port2;A.port1.onmessage=T,C=function(){se.postMessage(null)}}else C=function(){N(T,0)};function ae(H,X){E=N(function(){H(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var F=p;p=X;try{return H()}finally{p=F}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var F=p;p=H;try{return X()}finally{p=F}},e.unstable_scheduleCallback=function(H,X,F){var he=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?he+F:he):F=he,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=F+we,H={id:d++,callback:X,priorityLevel:H,startTime:F,expirationTime:we,sortIndex:-1},F>he?(H.sortIndex=F,t(h,H),n(c)===null&&H===n(h)&&(z?(w(E),E=-1):z=!0,ae(j,F-he))):(H.sortIndex=we,t(c,H),k||b||(k=!0,Z||(Z=!0,C()))),H},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(H){var X=p;return function(){var F=p;p=X;try{return H.apply(this,arguments)}finally{p=F}}}})(E0);b0.exports=E0;var P1=b0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=P1,T0=V,H1=M1;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _p(e){if(il(e)!==e)throw Error(U(188))}function B1(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return _p(r),e;if(s===i)return _p(r),t;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function O0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=O0(e),t!==null)return t;e=e.sibling}return null}var Ce=Object.assign,V1=Symbol.for("react.element"),Hl=Symbol.for("react.transitional.element"),co=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),C0=Symbol.for("react.consumer"),ci=Symbol.for("react.context"),xd=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),yh=Symbol.for("react.activity"),Z1=Symbol.for("react.memo_cache_sentinel"),Sp=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Sp&&e[Sp]||e["@@iterator"],typeof e=="function"?e:null)}var G1=Symbol.for("react.client.reference");function vh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G1?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case mh:return"Profiler";case x0:return"StrictMode";case ph:return"Suspense";case gh:return"SuspenseList";case yh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case co:return"Portal";case ci:return e.displayName||"Context";case C0:return(e._context.displayName||"Context")+".Consumer";case xd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cd:return t=e.displayName||null,t!==null?t:vh(e.type)||"Memo";case ji:t=e._payload,e=e._init;try{return vh(e(t))}catch{}}return null}var fo=Array.isArray,Y=T0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=H1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$r={pending:!1,data:null,method:null,action:null},_h=[],Rs=-1;function Gn(e){return{current:e}}function ot(e){0>Rs||(e.current=_h[Rs],_h[Rs]=null,Rs--)}function Ae(e,t){Rs++,_h[Rs]=e.current,e.current=t}var Hn=Gn(null),Lo=Gn(null),er=Gn(null),zu=Gn(null);function Mu(e,t){switch(Ae(er,t),Ae(Lo,e),Ae(Hn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ng(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ng(t),e=Y_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(Hn),Ae(Hn,e)}function na(){ot(Hn),ot(Lo),ot(er)}function Sh(e){e.memoizedState!==null&&Ae(zu,e);var t=Hn.current,n=Y_(t,e.type);t!==n&&(Ae(Lo,e),Ae(Hn,n))}function Uu(e){Lo.current===e&&(ot(Hn),ot(Lo)),zu.current===e&&(ot(zu),Fo._currentValue=$r)}var ff,bp;function jr(e){if(ff===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ff=t&&t[1]||"",bp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ff+e+bp}var hf=!1;function df(e,t){if(!e||hf)return"";hf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(b){var p=b}Reflect.construct(e,[],m)}else{try{m.call()}catch(b){p=b}e.call(m.prototype)}}else{try{throw Error()}catch(b){p=b}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(b){if(b&&p&&typeof b.stack=="string")return[b.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var c=a.split(`
`),h=l.split(`
`);for(r=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===c.length||r===h.length)for(i=c.length-1,r=h.length-1;1<=i&&0<=r&&c[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(c[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||c[i]!==h[r]){var d=`
`+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{hf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?jr(n):""}function q1(e,t){switch(e.tag){case 26:case 27:case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return e.child!==t&&t!==null?jr("Suspense Fallback"):jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return df(e.type,!1);case 11:return df(e.type.render,!1);case 1:return df(e.type,!0);case 31:return jr("Activity");default:return""}}function Ep(e){try{var t="",n=null;do t+=q1(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var bh=Object.prototype.hasOwnProperty,Rd=nt.unstable_scheduleCallback,mf=nt.unstable_cancelCallback,$1=nt.unstable_shouldYield,X1=nt.unstable_requestPaint,qt=nt.unstable_now,F1=nt.unstable_getCurrentPriorityLevel,R0=nt.unstable_ImmediatePriority,k0=nt.unstable_UserBlockingPriority,Lu=nt.unstable_NormalPriority,Y1=nt.unstable_LowPriority,D0=nt.unstable_IdlePriority,K1=nt.log,J1=nt.unstable_setDisableYieldValue,rl=null,$t=null;function Fi(e){if(typeof K1=="function"&&J1(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(rl,e)}catch{}}var Xt=Math.clz32?Math.clz32:eE,Q1=Math.log,W1=Math.LN2;function eE(e){return e>>>=0,e===0?32:31-(Q1(e)/W1|0)|0}var Bl=256,Vl=262144,Zl=4194304;function Pr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Pr(i):(a&=l,a!==0?r=Pr(a):n||(n=l&~e,n!==0&&(r=Pr(n))))):(l=i&~s,l!==0?r=Pr(l):a!==0?r=Pr(a):n||(n=i&~e,n!==0&&(r=Pr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function sl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I0(){var e=Zl;return Zl<<=1,!(Zl&62914560)&&(Zl=4194304),e}function pf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function al(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nE(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Xt(n),m=1<<d;l[d]=0,c[d]=-1;var p=h[d];if(p!==null)for(h[d]=null,d=0;d<p.length;d++){var b=p[d];b!==null&&(b.lane&=-536870913)}n&=~m}i!==0&&z0(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function z0(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Xt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function M0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Xt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function U0(e,t){var n=t&-t;return n=n&42?1:kd(n),n&(e.suspendedLanes|t)?0:n}function kd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function L0(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:aS(e.type))}function Tp(e,t){var n=fe.p;try{return fe.p=e,t()}finally{fe.p=n}}var _r=Math.random().toString(36).slice(2),dt="__reactFiber$"+_r,Dt="__reactProps$"+_r,va="__reactContainer$"+_r,Eh="__reactEvents$"+_r,iE="__reactListeners$"+_r,rE="__reactHandles$"+_r,Ap="__reactResources$"+_r,ol="__reactMarker$"+_r;function Id(e){delete e[dt],delete e[Dt],delete e[Eh],delete e[iE],delete e[rE]}function ks(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[va]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kg(e);e!==null;){if(n=e[dt])return n;e=kg(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[dt]||e[va]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ho(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function Gs(e){var t=e[Ap];return t||(t=e[Ap]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[ol]=!0}var j0=new Set,P0={};function us(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(P0[e]=t,e=0;e<t.length;e++)j0.add(t[e])}var sE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wp={},Np={};function aE(e){return bh.call(Np,e)?!0:bh.call(wp,e)?!1:sE.test(e)?Np[e]=!0:(wp[e]=!0,!1)}function hu(e,t,n){if(aE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Gl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ei(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oE(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Th(e){if(!e._valueTracker){var t=H0(e)?"checked":"value";e._valueTracker=oE(e,t,""+e[t])}}function B0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H0(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ju(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lE=/[\n"\\]/g;function rn(e){return e.replace(lE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ah(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?wh(e,a,en(t)):n!=null?wh(e,a,en(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+en(l):e.removeAttribute("name")}function V0(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Th(e);return}n=n!=null?""+en(n):"",t=t!=null?""+en(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Th(e)}function wh(e,t,n){t==="number"&&ju(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function qs(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Z0(e,t,n){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+en(n):""}function G0(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(U(92));if(fo(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=en(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Th(e)}function ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||uE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function q0(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Op(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Op(e,s,t[s])}function zd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function du(e){return fE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var Nh=null;function Md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,$s=null;function xp(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ah(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+rn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Dt]||null;if(!r)throw Error(U(90));Ah(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&B0(i)}break e;case"textarea":Z0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&qs(e,!!n.multiple,t,!1)}}}var gf=!1;function $0(e,t,n){if(gf)return e(t,n);gf=!0;try{var i=e(t);return i}finally{if(gf=!1,(Ds!==null||$s!==null)&&(Pc(),Ds&&(t=Ds,e=$s,$s=Ds=null,xp(t),e)))for(t=0;t<e.length;t++)xp(e[t])}}function jo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Dt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(vi)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Oh=!1}var Yi=null,Ud=null,mu=null;function X0(){if(mu)return mu;var e,t=Ud,n=t.length,i,r="value"in Yi?Yi.value:Yi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return mu=r.slice(e,1<i?1-i:void 0)}function pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function Cp(){return!1}function It(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ql:Cp,this.isPropagationStopped=Cp,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=It(cs),ll=Ce({},cs,{view:0,detail:0}),hE=It(ll),yf,vf,Qa,Cc=Ce({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(yf=e.screenX-Qa.screenX,vf=e.screenY-Qa.screenY):vf=yf=0,Qa=e),yf)},movementY:function(e){return"movementY"in e?e.movementY:vf}}),Rp=It(Cc),dE=Ce({},Cc,{dataTransfer:0}),mE=It(dE),pE=Ce({},ll,{relatedTarget:0}),_f=It(pE),gE=Ce({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),yE=It(gE),vE=Ce({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_E=It(vE),SE=Ce({},cs,{data:0}),kp=It(SE),bE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TE[e])?!!t[e]:!1}function Ld(){return AE}var wE=Ce({},ll,{key:function(e){if(e.key){var t=bE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(e){return e.type==="keypress"?pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NE=It(wE),OE=Ce({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=It(OE),xE=Ce({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),CE=It(xE),RE=Ce({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=It(RE),DE=Ce({},Cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IE=It(DE),zE=Ce({},cs,{newState:0,oldState:0}),ME=It(zE),UE=[9,13,27,32],jd=vi&&"CompositionEvent"in window,yo=null;vi&&"documentMode"in document&&(yo=document.documentMode);var LE=vi&&"TextEvent"in window&&!yo,F0=vi&&(!jd||yo&&8<yo&&11>=yo),Ip=" ",zp=!1;function Y0(e,t){switch(e){case"keyup":return UE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function jE(e,t){switch(e){case"compositionend":return K0(t);case"keypress":return t.which!==32?null:(zp=!0,Ip);case"textInput":return e=t.data,e===Ip&&zp?null:e;default:return null}}function PE(e,t){if(Is)return e==="compositionend"||!jd&&Y0(e,t)?(e=X0(),mu=Ud=Yi=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F0&&t.locale!=="ko"?null:t.data;default:return null}}var HE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HE[e.type]:t==="textarea"}function J0(e,t,n,i){Ds?$s?$s.push(i):$s=[i]:Ds=i,t=nc(t,"onChange"),0<t.length&&(n=new xc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var vo=null,Po=null;function BE(e){$_(e,0)}function Rc(e){var t=ho(e);if(B0(t))return e}function Up(e,t){if(e==="change")return t}var Q0=!1;if(vi){var Sf;if(vi){var bf="oninput"in document;if(!bf){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),bf=typeof Lp.oninput=="function"}Sf=bf}else Sf=!1;Q0=Sf&&(!document.documentMode||9<document.documentMode)}function jp(){vo&&(vo.detachEvent("onpropertychange",W0),Po=vo=null)}function W0(e){if(e.propertyName==="value"&&Rc(Po)){var t=[];J0(t,Po,e,Md(e)),$0(BE,t)}}function VE(e,t,n){e==="focusin"?(jp(),vo=t,Po=n,vo.attachEvent("onpropertychange",W0)):e==="focusout"&&jp()}function ZE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(Po)}function GE(e,t){if(e==="click")return Rc(t)}function qE(e,t){if(e==="input"||e==="change")return Rc(t)}function $E(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:$E;function Ho(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!bh.call(t,r)||!Yt(e[r],t[r]))return!1}return!0}function Pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hp(e,t){var n=Pp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pp(n)}}function ev(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ev(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ju(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ju(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var XE=vi&&"documentMode"in document&&11>=document.documentMode,zs=null,xh=null,_o=null,Ch=!1;function Bp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||zs==null||zs!==ju(i)||(i=zs,"selectionStart"in i&&Pd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),_o&&Ho(_o,i)||(_o=i,i=nc(xh,"onSelect"),0<i.length&&(t=new xc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=zs)))}function Lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ms={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Ef={},nv={};vi&&(nv=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function fs(e){if(Ef[e])return Ef[e];if(!Ms[e])return e;var t=Ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nv)return Ef[e]=t[n];return e}var iv=fs("animationend"),rv=fs("animationiteration"),sv=fs("animationstart"),FE=fs("transitionrun"),YE=fs("transitionstart"),KE=fs("transitioncancel"),av=fs("transitionend"),ov=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function wn(e,t){ov.set(e,t),us(t,[e])}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Us=0,Hd=0;function kc(){for(var e=Us,t=Hd=Us=0;t<e;){var n=Wt[t];Wt[t++]=null;var i=Wt[t];Wt[t++]=null;var r=Wt[t];Wt[t++]=null;var s=Wt[t];if(Wt[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&lv(n,r,s)}}function Dc(e,t,n,i){Wt[Us++]=e,Wt[Us++]=t,Wt[Us++]=n,Wt[Us++]=i,Hd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Bd(e,t,n,i){return Dc(e,t,n,i),Hu(e)}function hs(e,t){return Dc(e,null,null,t),Hu(e)}function lv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Xt(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Hu(e){if(50<xo)throw xo=0,Jh=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ls={};function JE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,i){return new JE(e,t,n,i)}function Vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pi(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function uv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gu(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Vd(e)&&(a=1);else if(typeof e=="string")a=nA(e,n,Hn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case yh:return e=Zt(31,n,t,r),e.elementType=yh,e.lanes=s,e;case Cs:return Xr(n.children,r,s,t);case x0:a=8,r|=24;break;case mh:return e=Zt(12,n,t,r|2),e.elementType=mh,e.lanes=s,e;case ph:return e=Zt(13,n,t,r),e.elementType=ph,e.lanes=s,e;case gh:return e=Zt(19,n,t,r),e.elementType=gh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ci:a=10;break e;case C0:a=9;break e;case xd:a=11;break e;case Cd:a=14;break e;case ji:a=16,i=null;break e}a=29,n=Error(U(130,e===null?"null":typeof e,"")),i=null}return t=Zt(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Xr(e,t,n,i){return e=Zt(7,e,i,t),e.lanes=n,e}function Tf(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function cv(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function Af(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vp=new WeakMap;function sn(e,t){if(typeof e=="object"&&e!==null){var n=Vp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ep(t)},Vp.set(e,t),t)}return{value:e,source:t,stack:Ep(t)}}var js=[],Ps=0,Bu=null,Bo=0,tn=[],nn=0,fr=null,Un=1,Ln="";function oi(e,t){js[Ps++]=Bo,js[Ps++]=Bu,Bu=e,Bo=t}function fv(e,t,n){tn[nn++]=Un,tn[nn++]=Ln,tn[nn++]=fr,fr=e;var i=Un;e=Ln;var r=32-Xt(i)-1;i&=~(1<<r),n+=1;var s=32-Xt(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Un=1<<32-Xt(t)+r|n<<r|i,Ln=s+e}else Un=1<<s|n<<r|i,Ln=e}function Zd(e){e.return!==null&&(oi(e,1),fv(e,1,0))}function Gd(e){for(;e===Bu;)Bu=js[--Ps],js[Ps]=null,Bo=js[--Ps],js[Ps]=null;for(;e===fr;)fr=tn[--nn],tn[nn]=null,Ln=tn[--nn],tn[nn]=null,Un=tn[--nn],tn[nn]=null}function hv(e,t){tn[nn++]=Un,tn[nn++]=Ln,tn[nn++]=fr,Un=t.id,Ln=t.overflow,fr=e}var mt=null,xe=null,ie=!1,tr=null,an=!1,kh=Error(U(519));function hr(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(sn(t,e)),kh}function Zp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[dt]=e,t[Dt]=i,n){case"dialog":ee("cancel",t),ee("close",t);break;case"iframe":case"object":case"embed":ee("load",t);break;case"video":case"audio":for(n=0;n<$o.length;n++)ee($o[n],t);break;case"source":ee("error",t);break;case"img":case"image":case"link":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"input":ee("invalid",t),V0(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ee("invalid",t);break;case"textarea":ee("invalid",t),G0(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||F_(t.textContent,n)?(i.popover!=null&&(ee("beforetoggle",t),ee("toggle",t)),i.onScroll!=null&&ee("scroll",t),i.onScrollEnd!=null&&ee("scrollend",t),i.onClick!=null&&(t.onclick=fi),t=!0):t=!1,t||hr(e,!0)}function Gp(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:mt=mt.return}}function Ts(e){if(e!==mt)return!1;if(!ie)return Gp(e),ie=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nd(e.type,e.memoizedProps)),n=!n),n&&xe&&hr(e),Gp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));xe=Rg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));xe=Rg(e)}else t===27?(t=xe,Sr(e.type)?(e=ad,ad=null,xe=e):xe=t):xe=mt?cn(e.stateNode.nextSibling):null;return!0}function Wr(){xe=mt=null,ie=!1}function wf(){var e=tr;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),tr=null),e}function Vo(e){tr===null?tr=[e]:tr.push(e)}var Dh=Gn(null),ds=null,hi=null;function Hi(e,t,n){Ae(Dh,t._currentValue),t._currentValue=n}function gi(e){e._currentValue=Dh.current,ot(Dh)}function Ih(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zh(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ih(s.return,n,e),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(U(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Ih(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Sa(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=r.type;Yt(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===zu.current){if(a=r.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Fo):e=[Fo])}r=r.return}e!==null&&zh(t,e,n,i),t.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function es(e){ds=e,hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return dv(ds,e)}function $l(e,t){return ds===null&&es(e),dv(e,t)}function dv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},hi===null){if(e===null)throw Error(U(308));hi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hi=hi.next=t;return n}var QE=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},WE=nt.unstable_scheduleCallback,eT=nt.unstable_NormalPriority,Ye={$$typeof:ci,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new QE,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&WE(eT,function(){e.controller.abort()})}var So=null,Mh=0,sa=0,Xs=null;function tT(e,t){if(So===null){var n=So=[];Mh=0,sa=gm(),Xs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Mh++,t.then(qp,qp),t}function qp(){if(--Mh===0&&So!==null){Xs!==null&&(Xs.status="fulfilled");var e=So;So=null,sa=0,Xs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function nT(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var $p=Y.S;Y.S=function(e,t){O_=qt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&tT(e,t),$p!==null&&$p(e,t)};var Fr=Gn(null);function $d(){var e=Fr.current;return e!==null?e:Te.pooledCache}function yu(e,t){t===null?Ae(Fr,Fr.current):Ae(Fr,t.pool)}function mv(){var e=$d();return e===null?null:{parent:Ye._currentValue,pool:e}}var ba=Error(U(460)),Xd=Error(U(474)),Ic=Error(U(542)),Zu={then:function(){}};function Xp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fi,fi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yp(e),e;default:if(typeof t.status=="string")t.then(fi,fi);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yp(e),e}throw Yr=t,ba}}function Hr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Yr=n,ba):n}}var Yr=null;function Fp(){if(Yr===null)throw Error(U(459));var e=Yr;return Yr=null,e}function Yp(e){if(e===ba||e===Ic)throw Error(U(483))}var Fs=null,Zo=0;function Xl(e){var t=Zo;return Zo+=1,Fs===null&&(Fs=[]),pv(Fs,e,t)}function Wa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fl(e,t){throw t.$$typeof===V1?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gv(e){function t(N,w){if(e){var x=N.deletions;x===null?(N.deletions=[w],N.flags|=16):x.push(w)}}function n(N,w){if(!e)return null;for(;w!==null;)t(N,w),w=w.sibling;return null}function i(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function r(N,w){return N=pi(N,w),N.index=0,N.sibling=null,N}function s(N,w,x){return N.index=x,e?(x=N.alternate,x!==null?(x=x.index,x<w?(N.flags|=67108866,w):x):(N.flags|=67108866,w)):(N.flags|=1048576,w)}function a(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function l(N,w,x,R){return w===null||w.tag!==6?(w=Tf(x,N.mode,R),w.return=N,w):(w=r(w,x),w.return=N,w)}function c(N,w,x,R){var j=x.type;return j===Cs?d(N,w,x.props.children,R,x.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ji&&Hr(j)===w.type)?(w=r(w,x.props),Wa(w,x),w.return=N,w):(w=gu(x.type,x.key,x.props,null,N.mode,R),Wa(w,x),w.return=N,w)}function h(N,w,x,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Af(x,N.mode,R),w.return=N,w):(w=r(w,x.children||[]),w.return=N,w)}function d(N,w,x,R,j){return w===null||w.tag!==7?(w=Xr(x,N.mode,R,j),w.return=N,w):(w=r(w,x),w.return=N,w)}function m(N,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Tf(""+w,N.mode,x),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hl:return x=gu(w.type,w.key,w.props,null,N.mode,x),Wa(x,w),x.return=N,x;case co:return w=Af(w,N.mode,x),w.return=N,w;case ji:return w=Hr(w),m(N,w,x)}if(fo(w)||Ka(w))return w=Xr(w,N.mode,x,null),w.return=N,w;if(typeof w.then=="function")return m(N,Xl(w),x);if(w.$$typeof===ci)return m(N,$l(N,w),x);Fl(N,w)}return null}function p(N,w,x,R){var j=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return j!==null?null:l(N,w,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:return x.key===j?c(N,w,x,R):null;case co:return x.key===j?h(N,w,x,R):null;case ji:return x=Hr(x),p(N,w,x,R)}if(fo(x)||Ka(x))return j!==null?null:d(N,w,x,R,null);if(typeof x.then=="function")return p(N,w,Xl(x),R);if(x.$$typeof===ci)return p(N,w,$l(N,x),R);Fl(N,x)}return null}function b(N,w,x,R,j){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return N=N.get(x)||null,l(w,N,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Hl:return N=N.get(R.key===null?x:R.key)||null,c(w,N,R,j);case co:return N=N.get(R.key===null?x:R.key)||null,h(w,N,R,j);case ji:return R=Hr(R),b(N,w,x,R,j)}if(fo(R)||Ka(R))return N=N.get(x)||null,d(w,N,R,j,null);if(typeof R.then=="function")return b(N,w,x,Xl(R),j);if(R.$$typeof===ci)return b(N,w,x,$l(w,R),j);Fl(w,R)}return null}function k(N,w,x,R){for(var j=null,Z=null,E=w,v=w=0,_=null;E!==null&&v<x.length;v++){E.index>v?(_=E,E=null):_=E.sibling;var S=p(N,E,x[v],R);if(S===null){E===null&&(E=_);break}e&&E&&S.alternate===null&&t(N,E),w=s(S,w,v),Z===null?j=S:Z.sibling=S,Z=S,E=_}if(v===x.length)return n(N,E),ie&&oi(N,v),j;if(E===null){for(;v<x.length;v++)E=m(N,x[v],R),E!==null&&(w=s(E,w,v),Z===null?j=E:Z.sibling=E,Z=E);return ie&&oi(N,v),j}for(E=i(E);v<x.length;v++)_=b(E,N,v,x[v],R),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?v:_.key),w=s(_,w,v),Z===null?j=_:Z.sibling=_,Z=_);return e&&E.forEach(function(T){return t(N,T)}),ie&&oi(N,v),j}function z(N,w,x,R){if(x==null)throw Error(U(151));for(var j=null,Z=null,E=w,v=w=0,_=null,S=x.next();E!==null&&!S.done;v++,S=x.next()){E.index>v?(_=E,E=null):_=E.sibling;var T=p(N,E,S.value,R);if(T===null){E===null&&(E=_);break}e&&E&&T.alternate===null&&t(N,E),w=s(T,w,v),Z===null?j=T:Z.sibling=T,Z=T,E=_}if(S.done)return n(N,E),ie&&oi(N,v),j;if(E===null){for(;!S.done;v++,S=x.next())S=m(N,S.value,R),S!==null&&(w=s(S,w,v),Z===null?j=S:Z.sibling=S,Z=S);return ie&&oi(N,v),j}for(E=i(E);!S.done;v++,S=x.next())S=b(E,N,v,S.value,R),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?v:S.key),w=s(S,w,v),Z===null?j=S:Z.sibling=S,Z=S);return e&&E.forEach(function(C){return t(N,C)}),ie&&oi(N,v),j}function L(N,w,x,R){if(typeof x=="object"&&x!==null&&x.type===Cs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:e:{for(var j=x.key;w!==null;){if(w.key===j){if(j=x.type,j===Cs){if(w.tag===7){n(N,w.sibling),R=r(w,x.props.children),R.return=N,N=R;break e}}else if(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ji&&Hr(j)===w.type){n(N,w.sibling),R=r(w,x.props),Wa(R,x),R.return=N,N=R;break e}n(N,w);break}else t(N,w);w=w.sibling}x.type===Cs?(R=Xr(x.props.children,N.mode,R,x.key),R.return=N,N=R):(R=gu(x.type,x.key,x.props,null,N.mode,R),Wa(R,x),R.return=N,N=R)}return a(N);case co:e:{for(j=x.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(N,w.sibling),R=r(w,x.children||[]),R.return=N,N=R;break e}else{n(N,w);break}else t(N,w);w=w.sibling}R=Af(x,N.mode,R),R.return=N,N=R}return a(N);case ji:return x=Hr(x),L(N,w,x,R)}if(fo(x))return k(N,w,x,R);if(Ka(x)){if(j=Ka(x),typeof j!="function")throw Error(U(150));return x=j.call(x),z(N,w,x,R)}if(typeof x.then=="function")return L(N,w,Xl(x),R);if(x.$$typeof===ci)return L(N,w,$l(N,x),R);Fl(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(n(N,w.sibling),R=r(w,x),R.return=N,N=R):(n(N,w),R=Tf(x,N.mode,R),R.return=N,N=R),a(N)):n(N,w)}return function(N,w,x,R){try{Zo=0;var j=L(N,w,x,R);return Fs=null,j}catch(E){if(E===ba||E===Ic)throw E;var Z=Zt(29,E,null,N.mode);return Z.lanes=R,Z.return=N,Z}finally{}}}var ts=gv(!0),yv=gv(!1),Pi=!1;function Fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Hu(e),lv(e,null,n),t}return Dc(e,i,t,n),Hu(e)}function bo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,M0(e,n)}}function Nf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lh=!1;function Eo(){if(Lh){var e=Xs;if(e!==null)throw e}}function To(e,t,n,i){Lh=!1;var r=e.updateQueue;Pi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(s!==null){var m=r.baseState;a=0,d=h=c=null,l=s;do{var p=l.lane&-536870913,b=p!==l.lane;if(b?(ne&p)===p:(i&p)===p){p!==0&&p===sa&&(Lh=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var k=e,z=l;p=t;var L=n;switch(z.tag){case 1:if(k=z.payload,typeof k=="function"){m=k.call(L,m,p);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=z.payload,p=typeof k=="function"?k.call(L,m,p):k,p==null)break e;m=Ce({},m,p);break e;case 2:Pi=!0}}p=l.callback,p!==null&&(e.flags|=64,b&&(e.flags|=8192),b=r.callbacks,b===null?r.callbacks=[p]:b.push(p))}else b={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=b,c=m):d=d.next=b,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;b=l,l=b.next,b.next=null,r.lastBaseUpdate=b,r.shared.pending=null}}while(!0);d===null&&(c=m),r.baseState=c,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),mr|=a,e.lanes=a,e.memoizedState=m}}function vv(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function _v(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vv(n[e],t)}var aa=Gn(null),Gu=Gn(0);function Kp(e,t){e=Ei,Ae(Gu,e),Ae(aa,t),Ei=e|t.baseLanes}function jh(){Ae(Gu,Ei),Ae(aa,aa.current)}function Yd(){Ei=Gu.current,ot(aa),ot(Gu)}var Kt=Gn(null),un=null;function Bi(e){var t=e.alternate;Ae(Ze,Ze.current&1),Ae(Kt,e),un===null&&(t===null||aa.current!==null||t.memoizedState!==null)&&(un=e)}function Ph(e){Ae(Ze,Ze.current),Ae(Kt,e),un===null&&(un=e)}function Sv(e){e.tag===22?(Ae(Ze,Ze.current),Ae(Kt,e),un===null&&(un=e)):Vi()}function Vi(){Ae(Ze,Ze.current),Ae(Kt,Kt.current)}function Vt(e){ot(Kt),un===e&&(un=null),ot(Ze)}var Ze=Gn(0);function qu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||rd(n)||sd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _i=0,J=null,_e=null,Xe=null,$u=!1,Ys=!1,ns=!1,Xu=0,Go=0,Ks=null,iT=0;function Me(){throw Error(U(321))}function Kd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function Jd(e,t,n,i,r,s){return _i=s,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Jv:lm,ns=!1,s=n(i,r),ns=!1,Ys&&(s=Ev(t,n,i,r)),bv(e),s}function bv(e){Y.H=qo;var t=_e!==null&&_e.next!==null;if(_i=0,Xe=_e=J=null,$u=!1,Go=0,Ks=null,t)throw Error(U(300));e===null||Ke||(e=e.dependencies,e!==null&&Vu(e)&&(Ke=!0))}function Ev(e,t,n,i){J=e;var r=0;do{if(Ys&&(Ks=null),Go=0,Ys=!1,25<=r)throw Error(U(301));if(r+=1,Xe=_e=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=Qv,s=t(n,i)}while(Ys);return s}function rT(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?cl(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(J.flags|=1024),t}function Qd(){var e=Xu!==0;return Xu=0,e}function Wd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function em(e){if($u){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$u=!1}_i=0,Xe=_e=J=null,Ys=!1,Go=Xu=0,Ks=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?J.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ge(){if(_e===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Xe===null?J.memoizedState:Xe.next;if(t!==null)Xe=t,_e=e;else{if(e===null)throw J.alternate===null?Error(U(467)):Error(U(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Xe===null?J.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var t=Go;return Go+=1,Ks===null&&(Ks=[]),e=pv(Ks,e,t),t=J,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Jv:lm),e}function Mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===ci)return pt(e)}throw Error(U(438,String(e)))}function tm(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=zc(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Z1;return t.index++,n}function Si(e,t){return typeof t=="function"?t(e):t}function vu(e){var t=Ge();return nm(t,_e,e)}function nm(e,t,n){var i=e.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,c=null,h=t,d=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(ne&m)===m:(_i&m)===m){var p=h.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===sa&&(d=!0);else if((_i&p)===p){h=h.next,p===sa&&(d=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=m,a=s):c=c.next=m,J.lanes|=p,mr|=p;m=h.action,ns&&n(s,m),s=h.hasEagerState?h.eagerState:n(s,m)}else p={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(l=c=p,a=s):c=c.next=p,J.lanes|=m,mr|=m;h=h.next}while(h!==null&&h!==t);if(c===null?a=s:c.next=l,!Yt(s,e.memoizedState)&&(Ke=!0,d&&(n=Xs,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Of(e){var t=Ge(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Yt(s,t.memoizedState)||(Ke=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Tv(e,t,n){var i=J,r=Ge(),s=ie;if(s){if(n===void 0)throw Error(U(407));n=n()}else n=t();var a=!Yt((_e||r).memoizedState,n);if(a&&(r.memoizedState=n,Ke=!0),r=r.queue,im(Nv.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,oa(9,{destroy:void 0},wv.bind(null,i,r,n,t),null),Te===null)throw Error(U(349));s||_i&127||Av(i,t,n)}return n}function Av(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=zc(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wv(e,t,n,i){t.value=n,t.getSnapshot=i,Ov(t)&&xv(e)}function Nv(e,t,n){return n(function(){Ov(t)&&xv(e)})}function Ov(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yt(e,n)}catch{return!0}}function xv(e){var t=hs(e,2);t!==null&&kt(t,e,2)}function Hh(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),ns){Fi(!0);try{n()}finally{Fi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t}function Cv(e,t,n,i){return e.baseState=n,nm(e,_e,typeof i=="function"?i:Si)}function sT(e,t,n,i,r){if(Lc(e))throw Error(U(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,Rv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Rv(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),c=Y.S;c!==null&&c(a,l),Jp(e,t,l)}catch(h){Bh(e,t,h)}finally{s!==null&&a.types!==null&&(s.types=a.types),Y.T=s}}else try{s=n(r,i),Jp(e,t,s)}catch(h){Bh(e,t,h)}}function Jp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Qp(e,t,i)},function(i){return Bh(e,t,i)}):Qp(e,t,n)}function Qp(e,t,n){t.status="fulfilled",t.value=n,kv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Rv(e,n)))}function Bh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,kv(t),t=t.next;while(t!==i)}e.action=null}function kv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dv(e,t){return t}function Wp(e,t){if(ie){var n=Te.formState;if(n!==null){e:{var i=J;if(ie){if(xe){t:{for(var r=xe,s=an;r.nodeType!==8;){if(!s){r=null;break t}if(r=cn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){xe=cn(r.nextSibling),i=r.data==="F!";break e}}hr(i)}i=!1}i&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dv,lastRenderedState:t},n.queue=i,n=Fv.bind(null,J,i),i.dispatch=n,i=Hh(!1),s=om.bind(null,J,!1,i.queue),i=bt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=sT.bind(null,J,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function eg(e){var t=Ge();return Iv(t,_e,e)}function Iv(e,t,n){if(t=nm(e,t,Dv)[0],e=vu(Si)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cl(t)}catch(a){throw a===ba?Ic:a}else i=t;t=Ge();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(J.flags|=2048,oa(9,{destroy:void 0},aT.bind(null,r,n),null)),[i,s,e]}function aT(e,t){e.action=t}function tg(e){var t=Ge(),n=_e;if(n!==null)return Iv(t,n,e);Ge(),t=t.memoizedState,n=Ge();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function oa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=zc(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function zv(){return Ge().memoizedState}function _u(e,t,n,i){var r=bt();J.flags|=e,r.memoizedState=oa(1|t,{destroy:void 0},n,i===void 0?null:i)}function Uc(e,t,n,i){var r=Ge();i=i===void 0?null:i;var s=r.memoizedState.inst;_e!==null&&i!==null&&Kd(i,_e.memoizedState.deps)?r.memoizedState=oa(t,s,n,i):(J.flags|=e,r.memoizedState=oa(1|t,s,n,i))}function ng(e,t){_u(8390656,8,e,t)}function im(e,t){Uc(2048,8,e,t)}function oT(e){J.flags|=4;var t=J.updateQueue;if(t===null)t=zc(),J.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Mv(e){var t=Ge().memoizedState;return oT({ref:t,nextImpl:e}),function(){if(ce&2)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function Uv(e,t){return Uc(4,2,e,t)}function Lv(e,t){return Uc(4,4,e,t)}function jv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pv(e,t,n){n=n!=null?n.concat([e]):null,Uc(4,4,jv.bind(null,t,e),n)}function rm(){}function Hv(e,t){var n=Ge();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Kd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Bv(e,t){var n=Ge();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Kd(t,i[1]))return i[0];if(i=e(),ns){Fi(!0);try{e()}finally{Fi(!1)}}return n.memoizedState=[i,t],i}function sm(e,t,n){return n===void 0||_i&1073741824&&!(ne&261930)?e.memoizedState=t:(e.memoizedState=n,e=C_(),J.lanes|=e,mr|=e,n)}function Vv(e,t,n,i){return Yt(n,t)?n:aa.current!==null?(e=sm(e,n,i),Yt(e,t)||(Ke=!0),e):!(_i&42)||_i&1073741824&&!(ne&261930)?(Ke=!0,e.memoizedState=n):(e=C_(),J.lanes|=e,mr|=e,t)}function Zv(e,t,n,i,r){var s=fe.p;fe.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,om(e,!1,t,n);try{var c=r(),h=Y.S;if(h!==null&&h(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=nT(c,i);Ao(e,t,d,Ft(e))}else Ao(e,t,i,Ft(e))}catch(m){Ao(e,t,{then:function(){},status:"rejected",reason:m},Ft())}finally{fe.p=s,a!==null&&l.types!==null&&(a.types=l.types),Y.T=a}}function lT(){}function Vh(e,t,n,i){if(e.tag!==5)throw Error(U(476));var r=Gv(e).queue;Zv(e,r,t,$r,n===null?lT:function(){return qv(e),n(i)})}function Gv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$r,baseState:$r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:$r},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qv(e){var t=Gv(e);t.next===null&&(t=e.alternate.memoizedState),Ao(e,t.next.queue,{},Ft())}function am(){return pt(Fo)}function $v(){return Ge().memoizedState}function Xv(){return Ge().memoizedState}function uT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ft();e=nr(n);var i=ir(t,e,n);i!==null&&(kt(i,t,n),bo(i,t,n)),t={cache:qd()},e.payload=t;return}t=t.return}}function cT(e,t,n){var i=Ft();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lc(e)?Yv(t,n):(n=Bd(e,t,n,i),n!==null&&(kt(n,e,i),Kv(n,t,i)))}function Fv(e,t,n){var i=Ft();Ao(e,t,n,i)}function Ao(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lc(e))Yv(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Yt(l,a))return Dc(e,t,r,0),Te===null&&kc(),!1}catch{}finally{}if(n=Bd(e,t,r,i),n!==null)return kt(n,e,i),Kv(n,t,i),!0}return!1}function om(e,t,n,i){if(i={lane:2,revertLane:gm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Lc(e)){if(t)throw Error(U(479))}else t=Bd(e,n,i,2),t!==null&&kt(t,e,2)}function Lc(e){var t=e.alternate;return e===J||t!==null&&t===J}function Yv(e,t){Ys=$u=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,M0(e,n)}}var qo={readContext:pt,use:Mc,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};qo.useEffectEvent=Me;var Jv={readContext:pt,use:Mc,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:ng,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_u(4194308,4,jv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){_u(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var i=e();if(ns){Fi(!0);try{e()}finally{Fi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=bt();if(n!==void 0){var r=n(t);if(ns){Fi(!0);try{n(t)}finally{Fi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=cT.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Hh(e);var t=e.queue,n=Fv.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rm,useDeferredValue:function(e,t){var n=bt();return sm(n,e,t)},useTransition:function(){var e=Hh(!1);return e=Zv.bind(null,J,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,r=bt();if(ie){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Te===null)throw Error(U(349));ne&127||Av(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,ng(Nv.bind(null,i,s,e),[e]),i.flags|=2048,oa(9,{destroy:void 0},wv.bind(null,i,s,n,t),null),n},useId:function(){var e=bt(),t=Te.identifierPrefix;if(ie){var n=Ln,i=Un;n=(i&~(1<<32-Xt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Xu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iT++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:am,useFormState:Wp,useActionState:Wp,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=om.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:tm,useCacheRefresh:function(){return bt().memoizedState=uT.bind(null,J)},useEffectEvent:function(e){var t=bt(),n={impl:e};return t.memoizedState=n,function(){if(ce&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},lm={readContext:pt,use:Mc,useCallback:Hv,useContext:pt,useEffect:im,useImperativeHandle:Pv,useInsertionEffect:Uv,useLayoutEffect:Lv,useMemo:Bv,useReducer:vu,useRef:zv,useState:function(){return vu(Si)},useDebugValue:rm,useDeferredValue:function(e,t){var n=Ge();return Vv(n,_e.memoizedState,e,t)},useTransition:function(){var e=vu(Si)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:Tv,useId:$v,useHostTransitionStatus:am,useFormState:eg,useActionState:eg,useOptimistic:function(e,t){var n=Ge();return Cv(n,_e,e,t)},useMemoCache:tm,useCacheRefresh:Xv};lm.useEffectEvent=Mv;var Qv={readContext:pt,use:Mc,useCallback:Hv,useContext:pt,useEffect:im,useImperativeHandle:Pv,useInsertionEffect:Uv,useLayoutEffect:Lv,useMemo:Bv,useReducer:Of,useRef:zv,useState:function(){return Of(Si)},useDebugValue:rm,useDeferredValue:function(e,t){var n=Ge();return _e===null?sm(n,e,t):Vv(n,_e.memoizedState,e,t)},useTransition:function(){var e=Of(Si)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:Tv,useId:$v,useHostTransitionStatus:am,useFormState:tg,useActionState:tg,useOptimistic:function(e,t){var n=Ge();return _e!==null?Cv(n,_e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:tm,useCacheRefresh:Xv};Qv.useEffectEvent=Mv;function xf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ft(),r=nr(i);r.payload=t,n!=null&&(r.callback=n),t=ir(e,r,i),t!==null&&(kt(t,e,i),bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ft(),r=nr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ir(e,r,i),t!==null&&(kt(t,e,i),bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),i=nr(n);i.tag=2,t!=null&&(i.callback=t),t=ir(e,i,n),t!==null&&(kt(t,e,n),bo(t,e,n))}};function ig(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ho(n,i)||!Ho(r,s):!0}function rg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Zh.enqueueReplaceState(t,t.state,null)}function is(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ce({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Wv(e){Pu(e)}function e_(e){console.error(e)}function t_(e){Pu(e)}function Fu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function sg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Gh(e,t,n){return n=nr(n),n.tag=3,n.payload={element:null},n.callback=function(){Fu(e,t)},n}function n_(e){return e=nr(e),e.tag=3,e}function i_(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){sg(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){sg(t,n,i),typeof r!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function fT(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Sa(t,n,r,!0),n=Kt.current,n!==null){switch(n.tag){case 31:case 13:return un===null?Wu():n.alternate===null&&Ue===0&&(Ue=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Zu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Pf(e,i,r)),!1;case 22:return n.flags|=65536,i===Zu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Pf(e,i,r)),!1}throw Error(U(435,n.tag))}return Pf(e,i,r),Wu(),!1}if(ie)return t=Kt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==kh&&(e=Error(U(422),{cause:i}),Vo(sn(e,n)))):(i!==kh&&(t=Error(U(423),{cause:i}),Vo(sn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=sn(i,n),r=Gh(e.stateNode,i,r),Nf(e,r),Ue!==4&&(Ue=2)),!1;var s=Error(U(520),{cause:i});if(s=sn(s,n),Oo===null?Oo=[s]:Oo.push(s),Ue!==4&&(Ue=2),t===null)return!0;i=sn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Gh(n.stateNode,i,e),Nf(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(rr===null||!rr.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=n_(r),i_(r,e,n,i),Nf(n,r),!1}n=n.return}while(n!==null);return!1}var um=Error(U(461)),Ke=!1;function ft(e,t,n,i){t.child=e===null?yv(t,null,n,i):ts(t,e.child,n,i)}function ag(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return es(t),i=Jd(e,t,n,a,s,r),l=Qd(),e!==null&&!Ke?(Wd(e,t,r),bi(e,t,r)):(ie&&l&&Zd(t),t.flags|=1,ft(e,t,i,r),t.child)}function og(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Vd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,r_(e,t,s,i,r)):(e=gu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!cm(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(a,i)&&e.ref===t.ref)return bi(e,t,r)}return t.flags|=1,e=pi(s,i),e.ref=t.ref,e.return=t,t.child=e}function r_(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ho(s,i)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=i=s,cm(e,r))e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,bi(e,t,r)}return qh(e,t,n,i,r)}function s_(e,t,n,i){var r=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return lg(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yu(t,s!==null?s.cachePool:null),s!==null?Kp(t,s):jh(),Sv(t);else return i=t.lanes=536870912,lg(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(yu(t,s.cachePool),Kp(t,s),Vi(),t.memoizedState=null):(e!==null&&yu(t,null),jh(),Vi());return ft(e,t,r,n),t.child}function mo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lg(e,t,n,i,r){var s=$d();return s=s===null?null:{parent:Ye._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&yu(t,null),jh(),Sv(t),e!==null&&Sa(e,t,i,!0),t.childLanes=r,null}function Su(e,t){return t=Yu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ug(e,t,n){return ts(t,e.child,null,n),e=Su(t,t.pendingProps),e.flags|=2,Vt(t),t.memoizedState=null,e}function hT(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ie){if(i.mode==="hidden")return e=Su(t,i),t.lanes=536870912,mo(null,e);if(Ph(t),(e=xe)?(e=J_(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fr!==null?{id:Un,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=cv(e),n.return=t,t.child=n,mt=t,xe=null)):e=null,e===null)throw hr(t);return t.lanes=536870912,null}return Su(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(Ph(t),r)if(t.flags&256)t.flags&=-257,t=ug(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(Ke||Sa(e,t,n,!1),r=(n&e.childLanes)!==0,Ke||r){if(i=Te,i!==null&&(a=U0(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,hs(e,a),kt(i,e,a),um;Wu(),t=ug(e,t,n)}else e=s.treeContext,xe=cn(a.nextSibling),mt=t,ie=!0,tr=null,an=!1,e!==null&&hv(t,e),t=Su(t,i),t.flags|=4096;return t}return e=pi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qh(e,t,n,i,r){return es(t),n=Jd(e,t,n,i,void 0,r),i=Qd(),e!==null&&!Ke?(Wd(e,t,r),bi(e,t,r)):(ie&&i&&Zd(t),t.flags|=1,ft(e,t,n,r),t.child)}function cg(e,t,n,i,r,s){return es(t),t.updateQueue=null,n=Ev(t,i,n,r),bv(e),i=Qd(),e!==null&&!Ke?(Wd(e,t,s),bi(e,t,s)):(ie&&i&&Zd(t),t.flags|=1,ft(e,t,n,s),t.child)}function fg(e,t,n,i,r){if(es(t),t.stateNode===null){var s=Ls,a=n.contextType;typeof a=="object"&&a!==null&&(s=pt(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zh,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Fd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?pt(a):Ls,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(xf(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Zh.enqueueReplaceState(s,s.state,null),To(t,i,s,r),Eo(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,c=is(n,l);s.props=c;var h=s.context,d=n.contextType;a=Ls,typeof d=="object"&&d!==null&&(a=pt(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&rg(t,s,i,a),Pi=!1;var p=t.memoizedState;s.state=p,To(t,i,s,r),Eo(),h=t.memoizedState,l||p!==h||Pi?(typeof m=="function"&&(xf(t,n,m,i),h=t.memoizedState),(c=Pi||ig(t,n,c,i,p,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Uh(e,t),a=t.memoizedProps,d=is(n,a),s.props=d,m=t.pendingProps,p=s.context,h=n.contextType,c=Ls,typeof h=="object"&&h!==null&&(c=pt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||p!==c)&&rg(t,s,i,c),Pi=!1,p=t.memoizedState,s.state=p,To(t,i,s,r),Eo();var b=t.memoizedState;a!==m||p!==b||Pi||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof l=="function"&&(xf(t,n,l,i),b=t.memoizedState),(d=Pi||ig(t,n,d,i,p,b,c)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,b,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,b,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=b),s.props=i,s.state=b,s.context=c,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,bu(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=ts(t,e.child,null,r),t.child=ts(t,null,n,r)):ft(e,t,n,r),t.memoizedState=s.state,e=t.child):e=bi(e,t,r),e}function hg(e,t,n,i){return Wr(),t.flags|=256,ft(e,t,n,i),t.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:mv()}}function kf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gt),e}function a_(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ie){if(r?Bi(t):Vi(),(e=xe)?(e=J_(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fr!==null?{id:Un,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=cv(e),n.return=t,t.child=n,mt=t,xe=null)):e=null,e===null)throw hr(t);return sd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Vi(),r=t.mode,l=Yu({mode:"hidden",children:l},r),i=Xr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=Rf(n),i.childLanes=kf(e,a,n),t.memoizedState=Cf,mo(null,i)):(Bi(t),$h(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(s)t.flags&256?(Bi(t),t.flags&=-257,t=Df(e,t,n)):t.memoizedState!==null?(Vi(),t.child=e.child,t.flags|=128,t=null):(Vi(),l=i.fallback,r=t.mode,i=Yu({mode:"visible",children:i.children},r),l=Xr(l,r,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ts(t,e.child,null,n),i=t.child,i.memoizedState=Rf(n),i.childLanes=kf(e,a,n),t.memoizedState=Cf,t=mo(null,i));else if(Bi(t),sd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(U(419)),i.stack="",i.digest=a,Vo({value:i,source:null,stack:null}),t=Df(e,t,n)}else if(Ke||Sa(e,t,n,!1),a=(n&e.childLanes)!==0,Ke||a){if(a=Te,a!==null&&(i=U0(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,hs(e,i),kt(a,e,i),um;rd(l)||Wu(),t=Df(e,t,n)}else rd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,xe=cn(l.nextSibling),mt=t,ie=!0,tr=null,an=!1,e!==null&&hv(t,e),t=$h(t,i.children),t.flags|=4096);return t}return r?(Vi(),l=i.fallback,r=t.mode,c=e.child,h=c.sibling,i=pi(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,h!==null?l=pi(h,l):(l=Xr(l,r,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,mo(null,i),i=t.child,l=e.child.memoizedState,l===null?l=Rf(n):(r=l.cachePool,r!==null?(c=Ye._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=mv(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=kf(e,a,n),t.memoizedState=Cf,mo(e.child,i)):(Bi(t),n=e.child,e=n.sibling,n=pi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function $h(e,t){return t=Yu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yu(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function Df(e,t,n){return ts(t,e.child,null,n),e=$h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ih(e.return,t,n)}function If(e,t,n,i,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function o_(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Ze.current,l=(a&2)!==0;if(l?(a=a&1|2,t.flags|=128):a&=1,Ae(Ze,a),ft(e,t,i,n),i=ie?Bo:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dg(e,n,t);else if(e.tag===19)dg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&qu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),If(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&qu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}If(t,!0,n,null,s,i);break;case"together":If(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function bi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Sa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function dT(e,t,n){switch(t.tag){case 3:Mu(t,t.stateNode.containerInfo),Hi(t,Ye,e.memoizedState.cache),Wr();break;case 27:case 5:Sh(t);break;case 4:Mu(t,t.stateNode.containerInfo);break;case 10:Hi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ph(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Bi(t),t.flags|=128,null):n&t.child.childLanes?a_(e,t,n):(Bi(t),e=bi(e,t,n),e!==null?e.sibling:null);Bi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Sa(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return o_(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ae(Ze,Ze.current),i)break;return null;case 22:return t.lanes=0,s_(e,t,n,t.pendingProps);case 24:Hi(t,Ye,e.memoizedState.cache)}return bi(e,t,n)}function l_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!cm(e,n)&&!(t.flags&128))return Ke=!1,dT(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,ie&&t.flags&1048576&&fv(t,Bo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Hr(t.elementType),t.type=e,typeof e=="function")Vd(e)?(i=is(e,i),t.tag=1,t=fg(null,t,e,i,n)):(t.tag=0,t=qh(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===xd){t.tag=11,t=ag(null,t,e,i,n);break e}else if(r===Cd){t.tag=14,t=og(null,t,e,i,n);break e}}throw t=vh(e)||e,Error(U(306,t,""))}}return t;case 0:return qh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=is(i,t.pendingProps),fg(e,t,i,r,n);case 3:e:{if(Mu(t,t.stateNode.containerInfo),e===null)throw Error(U(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Uh(e,t),To(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Hi(t,Ye,i),i!==s.cache&&zh(t,[Ye],n,!0),Eo(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=hg(e,t,i,n);break e}else if(i!==r){r=sn(Error(U(424)),t),Vo(r),t=hg(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xe=cn(e.firstChild),mt=t,ie=!0,tr=null,an=!0,n=yv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wr(),i===r){t=bi(e,t,n);break e}ft(e,t,i,n)}t=t.child}return t;case 26:return bu(e,t),e===null?(n=Ig(t.type,null,t.pendingProps,null))?t.memoizedState=n:ie||(n=t.type,e=t.pendingProps,i=ic(er.current).createElement(n),i[dt]=t,i[Dt]=e,gt(i,n,e),at(i),t.stateNode=i):t.memoizedState=Ig(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Sh(t),e===null&&ie&&(i=t.stateNode=Q_(t.type,t.pendingProps,er.current),mt=t,an=!0,r=xe,Sr(t.type)?(ad=r,xe=cn(i.firstChild)):xe=r),ft(e,t,t.pendingProps.children,n),bu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ie&&((r=i=xe)&&(i=ZT(i,t.type,t.pendingProps,an),i!==null?(t.stateNode=i,mt=t,xe=cn(i.firstChild),an=!1,r=!0):r=!1),r||hr(t)),Sh(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,nd(r,s)?i=null:a!==null&&nd(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Jd(e,t,rT,null,null,n),Fo._currentValue=r),bu(e,t),ft(e,t,i,n),t.child;case 6:return e===null&&ie&&((e=n=xe)&&(n=GT(n,t.pendingProps,an),n!==null?(t.stateNode=n,mt=t,xe=null,e=!0):e=!1),e||hr(t)),null;case 13:return a_(e,t,n);case 4:return Mu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ts(t,null,i,n):ft(e,t,i,n),t.child;case 11:return ag(e,t,t.type,t.pendingProps,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Hi(t,t.type,i.value),ft(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,es(t),r=pt(r),i=i(r),t.flags|=1,ft(e,t,i,n),t.child;case 14:return og(e,t,t.type,t.pendingProps,n);case 15:return r_(e,t,t.type,t.pendingProps,n);case 19:return o_(e,t,n);case 31:return hT(e,t,n);case 22:return s_(e,t,n,t.pendingProps);case 24:return es(t),i=pt(Ye),e===null?(r=$d(),r===null&&(r=Te,s=qd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Fd(t),Hi(t,Ye,r)):(e.lanes&n&&(Uh(e,t),To(t,null,null,n),Eo()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Hi(t,Ye,i)):(i=s.cache,Hi(t,Ye,i),i!==r.cache&&zh(t,[Ye],n,!0))),ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function ti(e){e.flags|=4}function zf(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(D_())e.flags|=8192;else throw Yr=Zu,Xd}else e.flags&=-16777217}function mg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!tS(t))if(D_())e.flags|=8192;else throw Yr=Zu,Xd}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?I0():536870912,e.lanes|=t,la|=t)}function eo(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function mT(e,t,n){var i=t.pendingProps;switch(Gd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),gi(Ye),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?ti(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wf())),Oe(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(ti(t),s!==null?(Oe(t),mg(t,s)):(Oe(t),zf(t,r,null,i,n))):s?s!==e.memoizedState?(ti(t),Oe(t),mg(t,s)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ti(t),Oe(t),zf(t,r,e,i,n)),null;case 27:if(Uu(t),n=er.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Oe(t),null}e=Hn.current,Ts(t)?Zp(t):(e=Q_(r,i,n),t.stateNode=e,ti(t))}return Oe(t),null;case 5:if(Uu(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Oe(t),null}if(s=Hn.current,Ts(t))Zp(t);else{var a=ic(er.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[dt]=t,s[Dt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(gt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ti(t)}}return Oe(t),zf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(e=er.current,Ts(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=mt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[dt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||F_(e.nodeValue,n)),e||hr(t,!0)}else e=ic(e).createTextNode(i),e[dt]=t,t.stateNode=e}return Oe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ts(t),n!==null){if(e===null){if(!i)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[dt]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else n=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Vt(t),t):(Vt(t),null);if(t.flags&128)throw Error(U(558))}return Oe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ts(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(U(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[dt]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),r=!1}else r=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Vt(t),t):(Vt(t),null)}return Vt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),Oe(t),null);case 4:return na(),e===null&&ym(t.stateNode.containerInfo),Oe(t),null;case 10:return gi(t.type),Oe(t),null;case 19:if(ot(Ze),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)eo(i,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qu(e),s!==null){for(t.flags|=128,eo(i,!1),e=s.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)uv(n,e),n=n.sibling;return Ae(Ze,Ze.current&1|2),ie&&oi(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&qt()>Ju&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304)}else{if(!r)if(e=qu(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ie)return Oe(t),null}else 2*qt()-i.renderingStartTime>Ju&&n!==536870912&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qt(),e.sibling=null,n=Ze.current,Ae(Ze,r?n&1|2:n&1),ie&&oi(t,i.treeForkCount),e):(Oe(t),null);case 22:case 23:return Vt(t),Yd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),n=t.updateQueue,n!==null&&Yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ot(Fr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gi(Ye),Oe(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function pT(e,t){switch(Gd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(Ye),na(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Uu(t),null;case 31:if(t.memoizedState!==null){if(Vt(t),t.alternate===null)throw Error(U(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Vt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(Ze),null;case 4:return na(),null;case 10:return gi(t.type),null;case 22:case 23:return Vt(t),Yd(),e!==null&&ot(Fr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gi(Ye),null;case 25:return null;default:return null}}function u_(e,t){switch(Gd(t),t.tag){case 3:gi(Ye),na();break;case 26:case 27:case 5:Uu(t);break;case 4:na();break;case 31:t.memoizedState!==null&&Vt(t);break;case 13:Vt(t);break;case 19:ot(Ze);break;case 10:gi(t.type);break;case 22:case 23:Vt(t),Yd(),e!==null&&ot(Fr);break;case 24:gi(Ye)}}function fl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){ge(t,t.return,l)}}function dr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var c=n,h=l;try{h()}catch(d){ge(r,c,d)}}}i=i.next}while(i!==s)}}catch(d){ge(t,t.return,d)}}function c_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_v(t,n)}catch(i){ge(e,e.return,i)}}}function f_(e,t,n){n.props=is(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ge(e,t,i)}}function wo(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){ge(e,t,r)}}function jn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ge(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function h_(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ge(e,e.return,r)}}function Mf(e,t,n){try{var i=e.stateNode;LT(i,e.type,n,t),i[Dt]=t}catch(r){ge(e,e.return,r)}}function d_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sr(e.type)||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fi));else if(i!==4&&(i===27&&Sr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Xh(e,t,n),e=e.sibling;e!==null;)Xh(e,t,n),e=e.sibling}function Ku(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Sr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ku(e,t,n),e=e.sibling;e!==null;)Ku(e,t,n),e=e.sibling}function m_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gt(t,i,n),t[dt]=e,t[Dt]=n}catch(s){ge(e,e.return,s)}}var li=!1,Fe=!1,Lf=!1,pg=typeof WeakSet=="function"?WeakSet:Set,st=null;function gT(e,t){if(e=e.containerInfo,ed=oc,e=tv(e),Pd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,m=e,p=null;t:for(;;){for(var b;m!==n||r!==0&&m.nodeType!==3||(l=a+r),m!==s||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(b=m.firstChild)!==null;)p=m,m=b;for(;;){if(m===e)break t;if(p===n&&++h===r&&(l=a),p===s&&++d===i&&(c=a),(b=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=b}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:e,selectionRange:n},oc=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var k=is(n.type,r);e=i.getSnapshotBeforeUpdate(k,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(z){ge(n,n.return,z)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)id(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function p_(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n),i&4&&fl(5,n);break;case 1:if(ii(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){ge(n,n.return,a)}else{var r=is(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ge(n,n.return,a)}}i&64&&c_(n),i&512&&wo(n,n.return);break;case 3:if(ii(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_v(e,t)}catch(a){ge(n,n.return,a)}}break;case 27:t===null&&i&4&&m_(n);case 26:case 5:ii(e,n),t===null&&i&4&&h_(n),i&512&&wo(n,n.return);break;case 12:ii(e,n);break;case 31:ii(e,n),i&4&&v_(e,n);break;case 13:ii(e,n),i&4&&__(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=wT.bind(null,n),qT(e,n))));break;case 22:if(i=n.memoizedState!==null||li,!i){t=t!==null&&t.memoizedState!==null||Fe,r=li;var s=Fe;li=i,(Fe=t)&&!s?ai(e,n,(n.subtreeFlags&8772)!==0):ii(e,n),li=r,Fe=s}break;case 30:break;default:ii(e,n)}}function g_(e){var t=e.alternate;t!==null&&(e.alternate=null,g_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Id(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,xt=!1;function ni(e,t,n){for(n=n.child;n!==null;)y_(e,t,n),n=n.sibling}function y_(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 26:Fe||jn(n,t),ni(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Fe||jn(n,t);var i=ke,r=xt;Sr(n.type)&&(ke=n.stateNode,xt=!1),ni(e,t,n),Co(n.stateNode),ke=i,xt=r;break;case 5:Fe||jn(n,t);case 6:if(i=ke,r=xt,ke=null,ni(e,t,n),ke=i,xt=r,ke!==null)if(xt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(s){ge(n,t,s)}else try{ke.removeChild(n.stateNode)}catch(s){ge(n,t,s)}break;case 18:ke!==null&&(xt?(e=ke,xg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ha(e)):xg(ke,n.stateNode));break;case 4:i=ke,r=xt,ke=n.stateNode.containerInfo,xt=!0,ni(e,t,n),ke=i,xt=r;break;case 0:case 11:case 14:case 15:dr(2,n,t),Fe||dr(4,n,t),ni(e,t,n);break;case 1:Fe||(jn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&f_(n,t,i)),ni(e,t,n);break;case 21:ni(e,t,n);break;case 22:Fe=(i=Fe)||n.memoizedState!==null,ni(e,t,n),Fe=i;break;default:ni(e,t,n)}}function v_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ha(e)}catch(n){ge(t,t.return,n)}}}function __(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ha(e)}catch(n){ge(t,t.return,n)}}function yT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pg),t;default:throw Error(U(435,e.tag))}}function Kl(e,t){var n=yT(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=NT.bind(null,e,i);i.then(r,r)}})}function Nt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Sr(l.type)){ke=l.stateNode,xt=!1;break e}break;case 5:ke=l.stateNode,xt=!1;break e;case 3:case 4:ke=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if(ke===null)throw Error(U(160));y_(s,a,r),ke=null,xt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)S_(t,e),t=t.sibling}var _n=null;function S_(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Ot(e),i&4&&(dr(3,e,e.return),fl(3,e),dr(5,e,e.return));break;case 1:Nt(t,e),Ot(e),i&512&&(Fe||n===null||jn(n,n.return)),i&64&&li&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=_n;if(Nt(t,e),Ot(e),i&512&&(Fe||n===null||jn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[ol]||s[dt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),gt(s,i,n),s[dt]=e,at(s),i=s;break e;case"link":var a=Mg("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),gt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Mg("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),gt(s,i,n),r.head.appendChild(s);break;default:throw Error(U(468,i))}s[dt]=e,at(s),i=s}e.stateNode=i}else Ug(r,e.type,e.stateNode);else e.stateNode=zg(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ug(r,e.type,e.stateNode):zg(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nt(t,e),Ot(e),i&512&&(Fe||n===null||jn(n,n.return)),n!==null&&i&4&&Mf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nt(t,e),Ot(e),i&512&&(Fe||n===null||jn(n,n.return)),e.flags&32){r=e.stateNode;try{ra(r,"")}catch(k){ge(e,e.return,k)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Mf(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Lf=!0);break;case 6:if(Nt(t,e),Ot(e),i&4){if(e.stateNode===null)throw Error(U(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(k){ge(e,e.return,k)}}break;case 3:if(Au=null,r=_n,_n=rc(t.containerInfo),Nt(t,e),_n=r,Ot(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(k){ge(e,e.return,k)}Lf&&(Lf=!1,b_(e));break;case 4:i=_n,_n=rc(e.stateNode.containerInfo),Nt(t,e),Ot(e),_n=i;break;case 12:Nt(t,e),Ot(e);break;case 31:Nt(t,e),Ot(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 13:Nt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(jc=qt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 22:r=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=li,d=Fe;if(li=h||r,Fe=d||c,Nt(t,e),Fe=d,li=h,Ot(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||c||li||Fe||Br(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(s=c.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(k){ge(c,c.return,k)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(k){ge(c,c.return,k)}}}else if(t.tag===18){if(n===null){c=t;try{var b=c.stateNode;r?Cg(b,!0):Cg(c.stateNode,!1)}catch(k){ge(c,c.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Kl(e,n))));break;case 19:Nt(t,e),Ot(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 30:break;case 21:break;default:Nt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(d_(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,s=Uf(e);Ku(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ra(a,""),n.flags&=-33);var l=Uf(e);Ku(e,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,h=Uf(e);Xh(e,h,c);break;default:throw Error(U(161))}}catch(d){ge(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;b_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ii(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)p_(e,t.alternate,t),t=t.sibling}function Br(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:dr(4,t,t.return),Br(t);break;case 1:jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&f_(t,t.return,n),Br(t);break;case 27:Co(t.stateNode);case 26:case 5:jn(t,t.return),Br(t);break;case 22:t.memoizedState===null&&Br(t);break;case 30:Br(t);break;default:Br(t)}e=e.sibling}}function ai(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:ai(r,s,n),fl(4,s);break;case 1:if(ai(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){ge(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)vv(c[r],l)}catch(h){ge(i,i.return,h)}}n&&a&64&&c_(s),wo(s,s.return);break;case 27:m_(s);case 26:case 5:ai(r,s,n),n&&i===null&&a&4&&h_(s),wo(s,s.return);break;case 12:ai(r,s,n);break;case 31:ai(r,s,n),n&&a&4&&v_(r,s);break;case 13:ai(r,s,n),n&&a&4&&__(r,s);break;case 22:s.memoizedState===null&&ai(r,s,n),wo(s,s.return);break;case 30:break;default:ai(r,s,n)}t=t.sibling}}function fm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ul(n))}function hm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e))}function yn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E_(e,t,n,i),t=t.sibling}function E_(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,n,i),r&2048&&fl(9,t);break;case 1:yn(e,t,n,i);break;case 3:yn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e)));break;case 12:if(r&2048){yn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ge(t,t.return,c)}}else yn(e,t,n,i);break;case 31:yn(e,t,n,i);break;case 13:yn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?yn(e,t,n,i):No(e,t):s._visibility&2?yn(e,t,n,i):(s._visibility|=2,Os(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&fm(a,t);break;case 24:yn(e,t,n,i),r&2048&&hm(t.alternate,t);break;default:yn(e,t,n,i)}}function Os(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,l=n,c=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Os(s,a,l,c,r),fl(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Os(s,a,l,c,r):No(s,a):(d._visibility|=2,Os(s,a,l,c,r)),r&&h&2048&&fm(a.alternate,a);break;case 24:Os(s,a,l,c,r),r&&h&2048&&hm(a.alternate,a);break;default:Os(s,a,l,c,r)}t=t.sibling}}function No(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:No(n,i),r&2048&&fm(i.alternate,i);break;case 24:No(n,i),r&2048&&hm(i.alternate,i);break;default:No(n,i)}t=t.sibling}}var po=8192;function As(e,t,n){if(e.subtreeFlags&po)for(e=e.child;e!==null;)T_(e,t,n),e=e.sibling}function T_(e,t,n){switch(e.tag){case 26:As(e,t,n),e.flags&po&&e.memoizedState!==null&&iA(n,_n,e.memoizedState,e.memoizedProps);break;case 5:As(e,t,n);break;case 3:case 4:var i=_n;_n=rc(e.stateNode.containerInfo),As(e,t,n),_n=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=po,po=16777216,As(e,t,n),po=i):As(e,t,n));break;default:As(e,t,n)}}function A_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function to(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,N_(i,e)}A_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)w_(e),e=e.sibling}function w_(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&dr(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Eu(e)):to(e);break;default:to(e)}}function Eu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];st=i,N_(i,e)}A_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:dr(8,t,t.return),Eu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Eu(t));break;default:Eu(t)}e=e.sibling}}function N_(e,t){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:dr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ul(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,st=i;else e:for(n=e;st!==null;){i=st;var r=i.sibling,s=i.return;if(g_(i),i===n){st=null;break e}if(r!==null){r.return=s,st=r;break e}st=s}}}var vT={getCacheForType:function(e){var t=pt(Ye),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return pt(Ye).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,ce=0,Te=null,te=null,ne=0,me=0,Ht=null,Ki=!1,Ea=!1,dm=!1,Ei=0,Ue=0,mr=0,Kr=0,mm=0,Gt=0,la=0,Oo=null,Ct=null,Fh=!1,jc=0,O_=0,Ju=1/0,Qu=null,rr=null,et=0,sr=null,ua=null,yi=0,Yh=0,Kh=null,x_=null,xo=0,Jh=null;function Ft(){return ce&2&&ne!==0?ne&-ne:Y.T!==null?gm():L0()}function C_(){if(Gt===0)if(!(ne&536870912)||ie){var e=Vl;Vl<<=1,!(Vl&3932160)&&(Vl=262144),Gt=e}else Gt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Gt}function kt(e,t,n){(e===Te&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(ca(e,0),Ji(e,ne,Gt,!1)),al(e,n),(!(ce&2)||e!==Te)&&(e===Te&&(!(ce&2)&&(Kr|=n),Ue===4&&Ji(e,ne,Gt,!1)),qn(e))}function R_(e,t,n){if(ce&6)throw Error(U(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||sl(e,t),r=i?ET(e,t):jf(e,t,!0),s=i;do{if(r===0){Ea&&!i&&Ji(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!ST(n)){r=jf(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var l=e;r=Oo;var c=l.current.memoizedState.isDehydrated;if(c&&(ca(l,a).flags|=256),a=jf(l,a,!1),a!==2){if(dm&&!c){l.errorRecoveryDisabledLanes|=s,Kr|=s,r=4;break e}s=Ct,Ct=r,s!==null&&(Ct===null?Ct=s:Ct.push.apply(Ct,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){ca(e,0),Ji(e,t,0,!0);break}e:{switch(i=e,s=r,s){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:Ji(i,t,Gt,!Ki);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(r=jc+300-qt(),10<r)){if(Ji(i,t,Gt,!Ki),Oc(i,0,!0)!==0)break e;yi=t,i.timeoutHandle=K_(gg.bind(null,i,n,Ct,Qu,Fh,t,Gt,Kr,la,Ki,s,"Throttled",-0,0),r);break e}gg(i,n,Ct,Qu,Fh,t,Gt,Kr,la,Ki,s,null,-0,0)}}break}while(!0);qn(e)}function gg(e,t,n,i,r,s,a,l,c,h,d,m,p,b){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},T_(t,s,m);var k=(s&62914560)===s?jc-qt():(s&4194048)===s?O_-qt():0;if(k=rA(m,k),k!==null){yi=s,e.cancelPendingCommit=k(vg.bind(null,e,t,s,n,i,r,a,l,c,d,m,null,p,b)),Ji(e,s,a,!h);return}}vg(e,t,s,n,i,r,a,l,c)}function ST(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Yt(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ji(e,t,n,i){t&=~mm,t&=~Kr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Xt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&z0(e,n,t)}function Pc(){return ce&6?!0:(hl(0),!1)}function pm(){if(te!==null){if(me===0)var e=te.return;else e=te,hi=ds=null,em(e),Fs=null,Zo=0,e=te;for(;e!==null;)u_(e.alternate,e),e=e.return;te=null}}function ca(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,HT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yi=0,pm(),Te=e,te=n=pi(e.current,null),ne=t,me=0,Ht=null,Ki=!1,Ea=sl(e,t),dm=!1,la=Gt=mm=Kr=mr=Ue=0,Ct=Oo=null,Fh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Xt(i),s=1<<r;t|=e[r],i&=~s}return Ei=t,kc(),n}function k_(e,t){J=null,Y.H=qo,t===ba||t===Ic?(t=Fp(),me=3):t===Xd?(t=Fp(),me=4):me=t===um?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,te===null&&(Ue=1,Fu(e,sn(t,e.current)))}function D_(){var e=Kt.current;return e===null?!0:(ne&4194048)===ne?un===null:(ne&62914560)===ne||ne&536870912?e===un:!1}function I_(){var e=Y.H;return Y.H=qo,e===null?qo:e}function z_(){var e=Y.A;return Y.A=vT,e}function Wu(){Ue=4,Ki||(ne&4194048)!==ne&&Kt.current!==null||(Ea=!0),!(mr&134217727)&&!(Kr&134217727)||Te===null||Ji(Te,ne,Gt,!1)}function jf(e,t,n){var i=ce;ce|=2;var r=I_(),s=z_();(Te!==e||ne!==t)&&(Qu=null,ca(e,t)),t=!1;var a=Ue;e:do try{if(me!==0&&te!==null){var l=te,c=Ht;switch(me){case 8:pm(),a=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var h=me;if(me=0,Ht=null,Hs(e,l,c,h),n&&Ea){a=0;break e}break;default:h=me,me=0,Ht=null,Hs(e,l,c,h)}}bT(),a=Ue;break}catch(d){k_(e,d)}while(!0);return t&&e.shellSuspendCounter++,hi=ds=null,ce=i,Y.H=r,Y.A=s,te===null&&(Te=null,ne=0,kc()),a}function bT(){for(;te!==null;)M_(te)}function ET(e,t){var n=ce;ce|=2;var i=I_(),r=z_();Te!==e||ne!==t?(Qu=null,Ju=qt()+500,ca(e,t)):Ea=sl(e,t);e:do try{if(me!==0&&te!==null){t=te;var s=Ht;t:switch(me){case 1:me=0,Ht=null,Hs(e,t,s,1);break;case 2:case 9:if(Xp(s)){me=0,Ht=null,yg(t);break}t=function(){me!==2&&me!==9||Te!==e||(me=7),qn(e)},s.then(t,t);break e;case 3:me=7;break e;case 4:me=5;break e;case 7:Xp(s)?(me=0,Ht=null,yg(t)):(me=0,Ht=null,Hs(e,t,s,7));break;case 5:var a=null;switch(te.tag){case 26:a=te.memoizedState;case 5:case 27:var l=te;if(a?tS(a):l.stateNode.complete){me=0,Ht=null;var c=l.sibling;if(c!==null)te=c;else{var h=l.return;h!==null?(te=h,Hc(h)):te=null}break t}}me=0,Ht=null,Hs(e,t,s,5);break;case 6:me=0,Ht=null,Hs(e,t,s,6);break;case 8:pm(),Ue=6;break e;default:throw Error(U(462))}}TT();break}catch(d){k_(e,d)}while(!0);return hi=ds=null,Y.H=i,Y.A=r,ce=n,te!==null?0:(Te=null,ne=0,kc(),Ue)}function TT(){for(;te!==null&&!$1();)M_(te)}function M_(e){var t=l_(e.alternate,e,Ei);e.memoizedProps=e.pendingProps,t===null?Hc(e):te=t}function yg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=cg(n,t,t.pendingProps,t.type,void 0,ne);break;case 11:t=cg(n,t,t.pendingProps,t.type.render,t.ref,ne);break;case 5:em(t);default:u_(n,t),t=te=uv(t,Ei),t=l_(n,t,Ei)}e.memoizedProps=e.pendingProps,t===null?Hc(e):te=t}function Hs(e,t,n,i){hi=ds=null,em(t),Fs=null,Zo=0;var r=t.return;try{if(fT(e,r,t,n,ne)){Ue=1,Fu(e,sn(n,e.current)),te=null;return}}catch(s){if(r!==null)throw te=r,s;Ue=1,Fu(e,sn(n,e.current)),te=null;return}t.flags&32768?(ie||i===1?e=!0:Ea||ne&536870912?e=!1:(Ki=e=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),U_(t,e)):Hc(t)}function Hc(e){var t=e;do{if(t.flags&32768){U_(t,Ki);return}e=t.return;var n=mT(t.alternate,t,Ei);if(n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);Ue===0&&(Ue=5)}function U_(e,t){do{var n=pT(e.alternate,e);if(n!==null){n.flags&=32767,te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){te=e;return}te=e=n}while(e!==null);Ue=6,te=null}function vg(e,t,n,i,r,s,a,l,c){e.cancelPendingCommit=null;do Bc();while(et!==0);if(ce&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(s=t.lanes|t.childLanes,s|=Hd,nE(e,n,s,a,l,c),e===Te&&(te=Te=null,ne=0),ua=t,sr=e,yi=n,Yh=s,Kh=r,x_=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,OT(Lu,function(){return B_(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=fe.p,fe.p=2,a=ce,ce|=4;try{gT(e,t,n)}finally{ce=a,fe.p=r,Y.T=i}}et=1,L_(),j_(),P_()}}function L_(){if(et===1){et=0;var e=sr,t=ua,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=fe.p;fe.p=2;var r=ce;ce|=4;try{S_(t,e);var s=td,a=tv(e.containerInfo),l=s.focusedElem,c=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&ev(l.ownerDocument.documentElement,l)){if(c!==null&&Pd(l)){var h=c.start,d=c.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var m=l.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var b=p.getSelection(),k=l.textContent.length,z=Math.min(c.start,k),L=c.end===void 0?z:Math.min(c.end,k);!b.extend&&z>L&&(a=L,L=z,z=a);var N=Hp(l,z),w=Hp(l,L);if(N&&w&&(b.rangeCount!==1||b.anchorNode!==N.node||b.anchorOffset!==N.offset||b.focusNode!==w.node||b.focusOffset!==w.offset)){var x=m.createRange();x.setStart(N.node,N.offset),b.removeAllRanges(),z>L?(b.addRange(x),b.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),b.addRange(x))}}}}for(m=[],b=l;b=b.parentNode;)b.nodeType===1&&m.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var R=m[l];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}oc=!!ed,td=ed=null}finally{ce=r,fe.p=i,Y.T=n}}e.current=t,et=2}}function j_(){if(et===2){et=0;var e=sr,t=ua,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=fe.p;fe.p=2;var r=ce;ce|=4;try{p_(e,t.alternate,t)}finally{ce=r,fe.p=i,Y.T=n}}et=3}}function P_(){if(et===4||et===3){et=0,X1();var e=sr,t=ua,n=yi,i=x_;t.subtreeFlags&10256||t.flags&10256?et=5:(et=0,ua=sr=null,H_(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(rr=null),Dd(n),t=t.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(rl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Y.T,r=fe.p,fe.p=2,Y.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=t,fe.p=r}}yi&3&&Bc(),qn(e),r=e.pendingLanes,n&261930&&r&42?e===Jh?xo++:(xo=0,Jh=e):xo=0,hl(0)}}function H_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ul(t)))}function Bc(){return L_(),j_(),P_(),B_()}function B_(){if(et!==5)return!1;var e=sr,t=Yh;Yh=0;var n=Dd(yi),i=Y.T,r=fe.p;try{fe.p=32>n?32:n,Y.T=null,n=Kh,Kh=null;var s=sr,a=yi;if(et=0,ua=sr=null,yi=0,ce&6)throw Error(U(331));var l=ce;if(ce|=4,w_(s.current),E_(s,s.current,a,n),ce=l,hl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(rl,s)}catch{}return!0}finally{fe.p=r,Y.T=i,H_(e,t)}}function _g(e,t,n){t=sn(n,t),t=Gh(e.stateNode,t,2),e=ir(e,t,2),e!==null&&(al(e,2),qn(e))}function ge(e,t,n){if(e.tag===3)_g(e,e,n);else for(;t!==null;){if(t.tag===3){_g(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rr===null||!rr.has(i))){e=sn(n,e),n=n_(2),i=ir(t,n,2),i!==null&&(i_(n,i,t,e),al(i,2),qn(i));break}}t=t.return}}function Pf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new _T;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(dm=!0,r.add(n),e=AT.bind(null,e,t,n),t.then(e,e))}function AT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Te===e&&(ne&n)===n&&(Ue===4||Ue===3&&(ne&62914560)===ne&&300>qt()-jc?!(ce&2)&&ca(e,0):mm|=n,la===ne&&(la=0)),qn(e)}function V_(e,t){t===0&&(t=I0()),e=hs(e,t),e!==null&&(al(e,t),qn(e))}function wT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V_(e,n)}function NT(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(t),V_(e,n)}function OT(e,t){return Rd(e,t)}var ec=null,xs=null,Qh=!1,tc=!1,Hf=!1,Qi=0;function qn(e){e!==xs&&e.next===null&&(xs===null?ec=xs=e:xs=xs.next=e),tc=!0,Qh||(Qh=!0,CT())}function hl(e,t){if(!Hf&&tc){Hf=!0;do for(var n=!1,i=ec;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Xt(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Sg(i,s))}else s=ne,s=Oc(i,i===Te?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||sl(i,s)||(n=!0,Sg(i,s));i=i.next}while(n);Hf=!1}}function xT(){Z_()}function Z_(){tc=Qh=!1;var e=0;Qi!==0&&PT()&&(e=Qi);for(var t=qt(),n=null,i=ec;i!==null;){var r=i.next,s=G_(i,t);s===0?(i.next=null,n===null?ec=r:n.next=r,r===null&&(xs=n)):(n=i,(e!==0||s&3)&&(tc=!0)),i=r}et!==0&&et!==5||hl(e),Qi!==0&&(Qi=0)}function G_(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Xt(s),l=1<<a,c=r[a];c===-1?(!(l&n)||l&i)&&(r[a]=tE(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}if(t=Te,n=ne,n=Oc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(me===2||me===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&mf(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||sl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&mf(i),Dd(n)){case 2:case 8:n=k0;break;case 32:n=Lu;break;case 268435456:n=D0;break;default:n=Lu}return i=q_.bind(null,e),n=Rd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&mf(i),e.callbackPriority=2,e.callbackNode=null,2}function q_(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Bc()&&e.callbackNode!==n)return null;var i=ne;return i=Oc(e,e===Te?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(R_(e,i,t),G_(e,qt()),e.callbackNode!=null&&e.callbackNode===n?q_.bind(null,e):null)}function Sg(e,t){if(Bc())return null;R_(e,t,!0)}function CT(){BT(function(){ce&6?Rd(R0,xT):Z_()})}function gm(){if(Qi===0){var e=sa;e===0&&(e=Bl,Bl<<=1,!(Bl&261888)&&(Bl=256)),Qi=e}return Qi}function bg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:du(""+e)}function Eg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function RT(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=bg((r[Dt]||null).action),a=i.submitter;a&&(t=(t=a[Dt]||null)?bg(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new xc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qi!==0){var c=a?Eg(r,a):new FormData(r);Vh(n,{pending:!0,data:c,method:r.method,action:s},null,c)}}else typeof s=="function"&&(l.preventDefault(),c=a?Eg(r,a):new FormData(r),Vh(n,{pending:!0,data:c,method:r.method,action:s},s,c))},currentTarget:r}]})}}for(var Bf=0;Bf<Rh.length;Bf++){var Vf=Rh[Bf],kT=Vf.toLowerCase(),DT=Vf[0].toUpperCase()+Vf.slice(1);wn(kT,"on"+DT)}wn(iv,"onAnimationEnd");wn(rv,"onAnimationIteration");wn(sv,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(FE,"onTransitionRun");wn(YE,"onTransitionStart");wn(KE,"onTransitionCancel");wn(av,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function $_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(d){Pu(d)}r.currentTarget=null,s=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(d){Pu(d)}r.currentTarget=null,s=c}}}}function ee(e,t){var n=t[Eh];n===void 0&&(n=t[Eh]=new Set);var i=e+"__bubble";n.has(i)||(X_(t,e,2,!1),n.add(i))}function Zf(e,t,n){var i=0;t&&(i|=4),X_(n,e,i,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function ym(e){if(!e[Jl]){e[Jl]=!0,j0.forEach(function(n){n!=="selectionchange"&&(IT.has(n)||Zf(n,!1,e),Zf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,Zf("selectionchange",!1,t))}}function X_(e,t,n,i){switch(aS(t)){case 2:var r=oA;break;case 8:r=lA;break;default:r=bm}n=r.bind(null,t,n,e),r=void 0,!Oh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Gf(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ks(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=s=a;continue e}l=l.parentNode}}i=i.return}$0(function(){var h=s,d=Md(n),m=[];e:{var p=ov.get(e);if(p!==void 0){var b=xc,k=e;switch(e){case"keypress":if(pu(n)===0)break e;case"keydown":case"keyup":b=NE;break;case"focusin":k="focus",b=_f;break;case"focusout":k="blur",b=_f;break;case"beforeblur":case"afterblur":b=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=mE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=CE;break;case iv:case rv:case sv:b=yE;break;case av:b=kE;break;case"scroll":case"scrollend":b=hE;break;case"wheel":b=IE;break;case"copy":case"cut":case"paste":b=_E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Dp;break;case"toggle":case"beforetoggle":b=ME}var z=(t&4)!==0,L=!z&&(e==="scroll"||e==="scrollend"),N=z?p!==null?p+"Capture":null:p;z=[];for(var w=h,x;w!==null;){var R=w;if(x=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||x===null||N===null||(R=jo(w,N),R!=null&&z.push(Xo(w,R,x))),L)break;w=w.return}0<z.length&&(p=new b(p,k,null,n,d),m.push({event:p,listeners:z}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",p&&n!==Nh&&(k=n.relatedTarget||n.fromElement)&&(ks(k)||k[va]))break e;if((b||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,b?(k=n.relatedTarget||n.toElement,b=h,k=k?ks(k):null,k!==null&&(L=il(k),z=k.tag,k!==L||z!==5&&z!==27&&z!==6)&&(k=null)):(b=null,k=h),b!==k)){if(z=Rp,R="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(z=Dp,R="onPointerLeave",N="onPointerEnter",w="pointer"),L=b==null?p:ho(b),x=k==null?p:ho(k),p=new z(R,w+"leave",b,n,d),p.target=L,p.relatedTarget=x,R=null,ks(d)===h&&(z=new z(N,w+"enter",k,n,d),z.target=x,z.relatedTarget=L,R=z),L=R,b&&k)t:{for(z=zT,N=b,w=k,x=0,R=N;R;R=z(R))x++;R=0;for(var j=w;j;j=z(j))R++;for(;0<x-R;)N=z(N),x--;for(;0<R-x;)w=z(w),R--;for(;x--;){if(N===w||w!==null&&N===w.alternate){z=N;break t}N=z(N),w=z(w)}z=null}else z=null;b!==null&&Tg(m,p,b,z,!1),k!==null&&L!==null&&Tg(m,L,k,z,!0)}}e:{if(p=h?ho(h):window,b=p.nodeName&&p.nodeName.toLowerCase(),b==="select"||b==="input"&&p.type==="file")var Z=Up;else if(Mp(p))if(Q0)Z=qE;else{Z=ZE;var E=VE}else b=p.nodeName,!b||b.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&zd(h.elementType)&&(Z=Up):Z=GE;if(Z&&(Z=Z(e,h))){J0(m,Z,n,d);break e}E&&E(e,p,h),e==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&wh(p,"number",p.value)}switch(E=h?ho(h):window,e){case"focusin":(Mp(E)||E.contentEditable==="true")&&(zs=E,xh=h,_o=null);break;case"focusout":_o=xh=zs=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Bp(m,n,d);break;case"selectionchange":if(XE)break;case"keydown":case"keyup":Bp(m,n,d)}var v;if(jd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Is?Y0(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(F0&&n.locale!=="ko"&&(Is||_!=="onCompositionStart"?_==="onCompositionEnd"&&Is&&(v=X0()):(Yi=d,Ud="value"in Yi?Yi.value:Yi.textContent,Is=!0)),E=nc(h,_),0<E.length&&(_=new kp(_,e,null,n,d),m.push({event:_,listeners:E}),v?_.data=v:(v=K0(n),v!==null&&(_.data=v)))),(v=LE?jE(e,n):PE(e,n))&&(_=nc(h,"onBeforeInput"),0<_.length&&(E=new kp("onBeforeInput","beforeinput",null,n,d),m.push({event:E,listeners:_}),E.data=v)),RT(m,e,h,n,d)}$_(m,t)})}function Xo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nc(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=jo(e,n),r!=null&&i.unshift(Xo(e,r,s)),r=jo(e,t),r!=null&&i.push(Xo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function zT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tg(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,c=l.alternate,h=l.stateNode;if(l=l.tag,c!==null&&c===i)break;l!==5&&l!==26&&l!==27||h===null||(c=h,r?(h=jo(n,s),h!=null&&a.unshift(Xo(n,h,c))):r||(h=jo(n,s),h!=null&&a.push(Xo(n,h,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var MT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(MT,`
`).replace(UT,"")}function F_(e,t){return t=Ag(t),Ag(e)===t}function ve(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ra(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ra(e,""+i);break;case"className":Gl(e,"class",i);break;case"tabIndex":Gl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Gl(e,n,i);break;case"style":q0(e,i,s);break;case"data":if(t!=="object"){Gl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=du(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ve(e,t,"name",r.name,r,null),ve(e,t,"formEncType",r.formEncType,r,null),ve(e,t,"formMethod",r.formMethod,r,null),ve(e,t,"formTarget",r.formTarget,r,null)):(ve(e,t,"encType",r.encType,r,null),ve(e,t,"method",r.method,r,null),ve(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=du(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=fi);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=du(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ee("beforetoggle",e),ee("toggle",e),hu(e,"popover",i);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":hu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cE.get(n)||n,hu(e,n,i))}}function Wh(e,t,n,i,r,s){switch(n){case"style":q0(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ra(e,i):(typeof i=="number"||typeof i=="bigint")&&ra(e,""+i);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"onClick":i!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!P0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Dt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):hu(e,n,i)}}}function gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:ve(e,t,s,a,n,null)}}r&&ve(e,t,"srcSet",n.srcSet,n,null),i&&ve(e,t,"src",n.src,n,null);return;case"input":ee("invalid",e);var l=s=a=r=null,c=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,t));break;default:ve(e,t,i,d,n,null)}}V0(e,s,l,c,h,a,r,!1);return;case"select":ee("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ve(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?qs(e,!!i,t,!1):n!=null&&qs(e,!!i,n,!0);return;case"textarea":ee("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:ve(e,t,a,l,n,null)}G0(e,i,r,s);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ve(e,t,c,i,n,null)}return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(i=0;i<$o.length;i++)ee($o[i],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:ve(e,t,h,i,n,null)}return;default:if(zd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Wh(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ve(e,t,l,i,n,null))}function LT(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,c=null,h=null,d=null;for(b in n){var m=n[b];if(n.hasOwnProperty(b)&&m!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(b)||ve(e,t,b,null,i,m)}}for(var p in i){var b=i[p];if(m=n[p],i.hasOwnProperty(p)&&(b!=null||m!=null))switch(p){case"type":s=b;break;case"name":r=b;break;case"checked":h=b;break;case"defaultChecked":d=b;break;case"value":a=b;break;case"defaultValue":l=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(U(137,t));break;default:b!==m&&ve(e,t,p,b,i,m)}}Ah(e,a,l,c,h,d,s,r);return;case"select":b=a=l=p=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":b=c;default:i.hasOwnProperty(s)||ve(e,t,s,null,i,c)}for(r in i)if(s=i[r],c=n[r],i.hasOwnProperty(r)&&(s!=null||c!=null))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&ve(e,t,r,s,i,c)}t=l,n=a,i=b,p!=null?qs(e,!!n,p,!1):!!i!=!!n&&(t!=null?qs(e,!!n,t,!0):qs(e,!!n,n?[]:"",!1));return;case"textarea":b=p=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ve(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":p=r;break;case"defaultValue":b=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==s&&ve(e,t,a,r,i,s)}Z0(e,p,b);return;case"option":for(var k in n)if(p=n[k],n.hasOwnProperty(k)&&p!=null&&!i.hasOwnProperty(k))switch(k){case"selected":e.selected=!1;break;default:ve(e,t,k,null,i,p)}for(c in i)if(p=i[c],b=n[c],i.hasOwnProperty(c)&&p!==b&&(p!=null||b!=null))switch(c){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ve(e,t,c,p,i,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var z in n)p=n[z],n.hasOwnProperty(z)&&p!=null&&!i.hasOwnProperty(z)&&ve(e,t,z,null,i,p);for(h in i)if(p=i[h],b=n[h],i.hasOwnProperty(h)&&p!==b&&(p!=null||b!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,t));break;default:ve(e,t,h,p,i,b)}return;default:if(zd(t)){for(var L in n)p=n[L],n.hasOwnProperty(L)&&p!==void 0&&!i.hasOwnProperty(L)&&Wh(e,t,L,void 0,i,p);for(d in i)p=i[d],b=n[d],!i.hasOwnProperty(d)||p===b||p===void 0&&b===void 0||Wh(e,t,d,p,i,b);return}}for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!=null&&!i.hasOwnProperty(N)&&ve(e,t,N,null,i,p);for(m in i)p=i[m],b=n[m],!i.hasOwnProperty(m)||p===b||p==null&&b==null||ve(e,t,m,p,i,b)}function wg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&wg(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var c=n[i],h=c.startTime;if(h>l)break;var d=c.transferSize,m=c.initiatorType;d&&wg(m)&&(c=c.responseEnd,a+=d*(c<l?1:(l-h)/(c-h)))}if(--i,t+=8*(s+a)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,td=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Ng(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qf=null;function PT(){var e=window.event;return e&&e.type==="popstate"?e===qf?!1:(qf=e,!0):(qf=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(VT)}:K_;function VT(e){setTimeout(function(){throw e})}function Sr(e){return e==="head"}function xg(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),ha(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Co(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Co(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ol]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Co(e.ownerDocument.body);n=r}while(n);ha(t)}function Cg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function id(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":id(n),Id(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ZT(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ol])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function GT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=cn(e.nextSibling),e===null))return null;return e}function J_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=cn(e.nextSibling),e===null))return null;return e}function rd(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ad=null;function Rg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return cn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Q_(e,t,n){switch(t=ic(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function Co(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Id(e)}var fn=new Map,Dg=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ni=fe.d;fe.d={f:$T,r:XT,D:FT,C:YT,L:KT,m:JT,X:WT,S:QT,M:eA};function $T(){var e=Ni.f(),t=Pc();return e||t}function XT(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?qv(t):Ni.r(e)}var Ta=typeof document>"u"?null:document;function W_(e,t,n){var i=Ta;if(i&&typeof t=="string"&&t){var r=rn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Dg.has(r)||(Dg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),gt(t,"link",e),at(t),i.head.appendChild(t)))}}function FT(e){Ni.D(e),W_("dns-prefetch",e,null)}function YT(e,t){Ni.C(e,t),W_("preconnect",e,t)}function KT(e,t,n){Ni.L(e,t,n);var i=Ta;if(i&&e&&t){var r='link[rel="preload"][as="'+rn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+rn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+rn(n.imageSizes)+'"]')):r+='[href="'+rn(e)+'"]';var s=r;switch(t){case"style":s=fa(e);break;case"script":s=Aa(e)}fn.has(s)||(e=Ce({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),fn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(dl(s))||t==="script"&&i.querySelector(ml(s))||(t=i.createElement("link"),gt(t,"link",e),at(t),i.head.appendChild(t)))}}function JT(e,t){Ni.m(e,t);var n=Ta;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+rn(i)+'"][href="'+rn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Aa(e)}if(!fn.has(s)&&(e=Ce({rel:"modulepreload",href:e},t),fn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ml(s)))return}i=n.createElement("link"),gt(i,"link",e),at(i),n.head.appendChild(i)}}}function QT(e,t,n){Ni.S(e,t,n);var i=Ta;if(i&&e){var r=Gs(i).hoistableStyles,s=fa(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(dl(s)))l.loading=5;else{e=Ce({rel:"stylesheet",href:e,"data-precedence":t},n),(n=fn.get(s))&&vm(e,n);var c=a=i.createElement("link");at(c),gt(c,"link",e),c._p=new Promise(function(h,d){c.onload=h,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Tu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function WT(e,t){Ni.X(e,t);var n=Ta;if(n&&e){var i=Gs(n).hoistableScripts,r=Aa(e),s=i.get(r);s||(s=n.querySelector(ml(r)),s||(e=Ce({src:e,async:!0},t),(t=fn.get(r))&&_m(e,t),s=n.createElement("script"),at(s),gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function eA(e,t){Ni.M(e,t);var n=Ta;if(n&&e){var i=Gs(n).hoistableScripts,r=Aa(e),s=i.get(r);s||(s=n.querySelector(ml(r)),s||(e=Ce({src:e,async:!0,type:"module"},t),(t=fn.get(r))&&_m(e,t),s=n.createElement("script"),at(s),gt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Ig(e,t,n,i){var r=(r=er.current)?rc(r):null;if(!r)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fa(n.href),n=Gs(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fa(n.href);var s=Gs(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(dl(e)))&&!s._p&&(a.instance=s,a.state.loading=5),fn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fn.set(e,n),s||tA(r,e,n,a.state))),t&&i===null)throw Error(U(528,""));return a}if(t&&i!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Aa(n),n=Gs(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function fa(e){return'href="'+rn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function eS(e){return Ce({},e,{"data-precedence":e.precedence,precedence:null})}function tA(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),gt(t,"link",n),at(t),e.head.appendChild(t))}function Aa(e){return'[src="'+rn(e)+'"]'}function ml(e){return"script[async]"+e}function zg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+rn(n.href)+'"]');if(i)return t.instance=i,at(i),i;var r=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),at(i),gt(i,"style",r),Tu(i,n.precedence,e),t.instance=i;case"stylesheet":r=fa(n.href);var s=e.querySelector(dl(r));if(s)return t.state.loading|=4,t.instance=s,at(s),s;i=eS(n),(r=fn.get(r))&&vm(i,r),s=(e.ownerDocument||e).createElement("link"),at(s);var a=s;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),gt(s,"link",i),t.state.loading|=4,Tu(s,n.precedence,e),t.instance=s;case"script":return s=Aa(n.src),(r=e.querySelector(ml(s)))?(t.instance=r,at(r),r):(i=n,(r=fn.get(s))&&(i=Ce({},n),_m(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),at(r),gt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Tu(i,n.precedence,e));return t.instance}function Tu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _m(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Au=null;function Mg(e,t,n){if(Au===null){var i=new Map,r=Au=new Map;r.set(n,i)}else r=Au,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[ol]||s[dt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ug(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nA(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tS(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function iA(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=fa(i.href),s=t.querySelector(dl(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=sc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,at(s);return}s=t.ownerDocument||t,i=eS(i),(r=fn.get(r))&&vm(i,r),s=s.createElement("link"),at(s);var a=s;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),gt(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=sc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $f=0;function rA(e,t){return e.stylesheets&&e.count===0&&wu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&wu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&$f===0&&($f=62500*jT());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wu(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>$f?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function wu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,t.forEach(sA,e),ac=null,sc.call(e))}function sA(e,t){if(!(t.state.loading&4)){var n=ac.get(e);if(n)var i=n.get(null);else{n=new Map,ac.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=sc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Fo={$$typeof:ci,Provider:null,Consumer:null,_currentValue:$r,_currentValue2:$r,_threadCount:0};function aA(e,t,n,i,r,s,a,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.hiddenUpdates=pf(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function nS(e,t,n,i,r,s,a,l,c,h,d,m){return e=new aA(e,t,n,a,c,h,d,m,l),t=1,s===!0&&(t|=24),s=Zt(3,null,null,t),e.current=s,s.stateNode=e,t=qd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Fd(s),e}function iS(e){return e?(e=Ls,e):Ls}function rS(e,t,n,i,r,s){r=iS(r),i.context===null?i.context=r:i.pendingContext=r,i=nr(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=ir(e,i,t),n!==null&&(kt(n,e,t),bo(n,e,t))}function Lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sm(e,t){Lg(e,t),(e=e.alternate)&&Lg(e,t)}function sS(e){if(e.tag===13||e.tag===31){var t=hs(e,67108864);t!==null&&kt(t,e,67108864),Sm(e,67108864)}}function jg(e){if(e.tag===13||e.tag===31){var t=Ft();t=kd(t);var n=hs(e,t);n!==null&&kt(n,e,t),Sm(e,t)}}var oc=!0;function oA(e,t,n,i){var r=Y.T;Y.T=null;var s=fe.p;try{fe.p=2,bm(e,t,n,i)}finally{fe.p=s,Y.T=r}}function lA(e,t,n,i){var r=Y.T;Y.T=null;var s=fe.p;try{fe.p=8,bm(e,t,n,i)}finally{fe.p=s,Y.T=r}}function bm(e,t,n,i){if(oc){var r=od(i);if(r===null)Gf(e,t,i,lc,n),Pg(e,i);else if(cA(r,e,t,n,i))i.stopPropagation();else if(Pg(e,i),t&4&&-1<uA.indexOf(e)){for(;r!==null;){var s=_a(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Pr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-Xt(a);l.entanglements[1]|=c,a&=~c}qn(s),!(ce&6)&&(Ju=qt()+500,hl(0))}}break;case 31:case 13:l=hs(s,2),l!==null&&kt(l,s,2),Pc(),Sm(s,2)}if(s=od(i),s===null&&Gf(e,t,i,lc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Gf(e,t,i,null,n)}}function od(e){return e=Md(e),Em(e)}var lc=null;function Em(e){if(lc=null,e=ks(e),e!==null){var t=il(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=w0(t),e!==null)return e;e=null}else if(n===31){if(e=N0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lc=e,null}function aS(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F1()){case R0:return 2;case k0:return 8;case Lu:case Y1:return 32;case D0:return 268435456;default:return 32}default:return 32}}var ld=!1,ar=null,or=null,lr=null,Yo=new Map,Ko=new Map,Zi=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(t.pointerId)}}function no(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=_a(t),t!==null&&sS(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function cA(e,t,n,i,r){switch(t){case"focusin":return ar=no(ar,e,t,n,i,r),!0;case"dragenter":return or=no(or,e,t,n,i,r),!0;case"mouseover":return lr=no(lr,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Yo.set(s,no(Yo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ko.set(s,no(Ko.get(s)||null,e,t,n,i,r)),!0}return!1}function oS(e){var t=ks(e.target);if(t!==null){var n=il(t);if(n!==null){if(t=n.tag,t===13){if(t=w0(n),t!==null){e.blockedOn=t,Tp(e.priority,function(){jg(n)});return}}else if(t===31){if(t=N0(n),t!==null){e.blockedOn=t,Tp(e.priority,function(){jg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Nh=i,n.target.dispatchEvent(i),Nh=null}else return t=_a(n),t!==null&&sS(t),e.blockedOn=n,!1;t.shift()}return!0}function Hg(e,t,n){Nu(e)&&n.delete(t)}function fA(){ld=!1,ar!==null&&Nu(ar)&&(ar=null),or!==null&&Nu(or)&&(or=null),lr!==null&&Nu(lr)&&(lr=null),Yo.forEach(Hg),Ko.forEach(Hg)}function Ql(e,t){e.blockedOn===t&&(e.blockedOn=null,ld||(ld=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,fA)))}var Wl=null;function Bg(e){Wl!==e&&(Wl=e,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Em(i||n)===null)continue;break}var s=_a(n);s!==null&&(e.splice(t,3),t-=3,Vh(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function ha(e){function t(c){return Ql(c,e)}ar!==null&&Ql(ar,e),or!==null&&Ql(or,e),lr!==null&&Ql(lr,e),Yo.forEach(t),Ko.forEach(t);for(var n=0;n<Zi.length;n++){var i=Zi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)oS(n),n.blockedOn===null&&Zi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Dt]||null;if(typeof s=="function")a||Bg(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Dt]||null)l=a.formAction;else if(Em(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Bg(n)}}}function lS(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Tm(e){this._internalRoot=e}Vc.prototype.render=Tm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,i=Ft();rS(n,i,e,t,null,null)};Vc.prototype.unmount=Tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rS(e.current,2,null,e,null,null),Pc(),t[va]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=L0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zi.length&&t!==0&&t<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&oS(e)}};var Vg=T0.version;if(Vg!=="19.2.3")throw Error(U(527,Vg,"19.2.3"));fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=B1(t),e=e!==null?O0(e):null,e=e===null?null:e.stateNode,e};var hA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{rl=eu.inject(hA),$t=eu}catch{}}Nc.createRoot=function(e,t){if(!A0(e))throw Error(U(299));var n=!1,i="",r=Wv,s=e_,a=t_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nS(e,1,!1,null,null,n,i,null,r,s,a,lS),e[va]=t.current,ym(e),new Tm(t)};Nc.hydrateRoot=function(e,t,n){if(!A0(e))throw Error(U(299));var i=!1,r="",s=Wv,a=e_,l=t_,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=nS(e,1,!0,t,n??null,i,r,c,s,a,l,lS),t.context=iS(null),n=t.current,i=Ft(),i=kd(i),r=nr(i),r.callback=null,ir(n,r,i),n=i,t.current.lanes=n,al(t,n),qn(t),e[va]=t.current,ym(e),new Vc(t)};Nc.version="19.2.3";function uS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uS)}catch(e){console.error(e)}}uS(),S0.exports=Nc;var dA=S0.exports;const mA="modulepreload",pA=function(e,t){return new URL(e,t).href},Zg={},Ee=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(n.map(h=>{if(h=pA(h,i),h in Zg)return;Zg[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(!!i)for(let k=a.length-1;k>=0;k--){const z=a[k];if(z.href===h&&(!d||z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${m}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":mA,d||(b.as="script"),b.crossOrigin="",b.href=h,c&&b.setAttribute("nonce",c),document.head.appendChild(b),d)return new Promise((k,z)=>{b.addEventListener("load",k),b.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Jo="secp256k1",cS="secp256k1: The Curve That Powers Bitcoin",gA="From geometry to cryptographythe mathematics that makes Bitcoin possible",fS="",yA="https://mathacademy-cyan.vercel.app",bn={gamification:!0,leaderboard:!0,nostrAuth:!0,quizzes:!0,interactiveModules:!0,theoremIndex:!0,transcripts:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:hS,setPrototypeOf:Gg,isFrozen:vA,getPrototypeOf:_A,getOwnPropertyDescriptor:SA}=Object;let{freeze:Et,seal:hn,create:ud}=Object,{apply:cd,construct:fd}=typeof Reflect<"u"&&Reflect;Et||(Et=function(t){return t});hn||(hn=function(t){return t});cd||(cd=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return t.apply(n,r)});fd||(fd=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new t(...i)});const tu=Tt(Array.prototype.forEach),bA=Tt(Array.prototype.lastIndexOf),qg=Tt(Array.prototype.pop),io=Tt(Array.prototype.push),EA=Tt(Array.prototype.splice),Ou=Tt(String.prototype.toLowerCase),Xf=Tt(String.prototype.toString),Ff=Tt(String.prototype.match),ro=Tt(String.prototype.replace),TA=Tt(String.prototype.indexOf),AA=Tt(String.prototype.trim),vn=Tt(Object.prototype.hasOwnProperty),_t=Tt(RegExp.prototype.test),so=wA(TypeError);function Tt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return cd(e,t,i)}}function wA(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return fd(e,n)}}function W(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ou;Gg&&Gg(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const s=n(r);s!==r&&(vA(t)||(t[i]=s),r=s)}e[r]=!0}return e}function NA(e){for(let t=0;t<e.length;t++)vn(e,t)||(e[t]=null);return e}function Dn(e){const t=ud(null);for(const[n,i]of hS(e))vn(e,n)&&(Array.isArray(i)?t[n]=NA(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Dn(i):t[n]=i);return t}function ao(e,t){for(;e!==null;){const i=SA(e,t);if(i){if(i.get)return Tt(i.get);if(typeof i.value=="function")return Tt(i.value)}e=_A(e)}function n(){return null}return n}const $g=Et(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yf=Et(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kf=Et(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),OA=Et(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Jf=Et(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xA=Et(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Xg=Et(["#text"]),Fg=Et(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qf=Et(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yg=Et(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nu=Et(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),CA=hn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),RA=hn(/<%[\w\W]*|[\w\W]*%>/gm),kA=hn(/\$\{[\w\W]*/gm),DA=hn(/^data-[\-\w.\u00B7-\uFFFF]+$/),IA=hn(/^aria-[\-\w]+$/),dS=hn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zA=hn(/^(?:\w+script|data):/i),MA=hn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mS=hn(/^html$/i),UA=hn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Kg=Object.freeze({__proto__:null,ARIA_ATTR:IA,ATTR_WHITESPACE:MA,CUSTOM_ELEMENT:UA,DATA_ATTR:DA,DOCTYPE_NAME:mS,ERB_EXPR:RA,IS_ALLOWED_URI:dS,IS_SCRIPT_OR_DATA:zA,MUSTACHE_EXPR:CA,TMPLIT_EXPR:kA});const oo={element:1,text:3,progressingInstruction:7,comment:8,document:9},LA=function(){return typeof window>"u"?null:window},jA=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Jg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function pS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:LA();const t=q=>pS(q);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==oo.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:b}=e,k=c.prototype,z=ao(k,"cloneNode"),L=ao(k,"remove"),N=ao(k,"nextSibling"),w=ao(k,"childNodes"),x=ao(k,"parentNode");if(typeof a=="function"){const q=n.createElement("template");q.content&&q.content.ownerDocument&&(n=q.content.ownerDocument)}let R,j="";const{implementation:Z,createNodeIterator:E,createDocumentFragment:v,getElementsByTagName:_}=n,{importNode:S}=i;let T=Jg();t.isSupported=typeof hS=="function"&&typeof x=="function"&&Z&&Z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:C,ERB_EXPR:A,TMPLIT_EXPR:se,DATA_ATTR:ae,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:he}=Kg;let{IS_ALLOWED_URI:we}=Kg,Se=null;const yt=W({},[...$g,...Yf,...Kf,...Jf,...Xg]);let Re=null;const vt=W({},[...Fg,...Qf,...Yg,...nu]);let de=Object.seal(ud(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fn=null,Tr=null;const Nn=Object.seal(ud(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ra=!0,ka=!0,bl=!1,Da=!0,On=!1,Ar=!0,Yn=!1,wr=!1,Nr=!1,Kn=!1,Pe=!1,qe=!1,Or=!0,El=!1;const Tl="user-content-";let Ia=!0,pn=!1,Jn={},Mt=null;const xr=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Al=null;const wl=W({},["audio","video","img","source","image","track"]);let gs=null;const Nl=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xn="http://www.w3.org/1998/Math/MathML",Oi="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml";let Lt=Ut,ys=!1,Cr=null;const Ol=W({},[xn,Oi,Ut],Xf);let Cn=W({},["mi","mo","mn","ms","mtext"]),Rr=W({},["annotation-xml"]);const ut=W({},["title","style","font","a","script"]);let xi=null;const kr=["application/xhtml+xml","text/html"],Dr="text/html";let He=null,Ci=null;const Ri=n.createElement("form"),xl=function(O){return O instanceof RegExp||O instanceof Function},za=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ci&&Ci===O)){if((!O||typeof O!="object")&&(O={}),O=Dn(O),xi=kr.indexOf(O.PARSER_MEDIA_TYPE)===-1?Dr:O.PARSER_MEDIA_TYPE,He=xi==="application/xhtml+xml"?Xf:Ou,Se=vn(O,"ALLOWED_TAGS")?W({},O.ALLOWED_TAGS,He):yt,Re=vn(O,"ALLOWED_ATTR")?W({},O.ALLOWED_ATTR,He):vt,Cr=vn(O,"ALLOWED_NAMESPACES")?W({},O.ALLOWED_NAMESPACES,Xf):Ol,gs=vn(O,"ADD_URI_SAFE_ATTR")?W(Dn(Nl),O.ADD_URI_SAFE_ATTR,He):Nl,Al=vn(O,"ADD_DATA_URI_TAGS")?W(Dn(wl),O.ADD_DATA_URI_TAGS,He):wl,Mt=vn(O,"FORBID_CONTENTS")?W({},O.FORBID_CONTENTS,He):xr,Fn=vn(O,"FORBID_TAGS")?W({},O.FORBID_TAGS,He):Dn({}),Tr=vn(O,"FORBID_ATTR")?W({},O.FORBID_ATTR,He):Dn({}),Jn=vn(O,"USE_PROFILES")?O.USE_PROFILES:!1,Ra=O.ALLOW_ARIA_ATTR!==!1,ka=O.ALLOW_DATA_ATTR!==!1,bl=O.ALLOW_UNKNOWN_PROTOCOLS||!1,Da=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,On=O.SAFE_FOR_TEMPLATES||!1,Ar=O.SAFE_FOR_XML!==!1,Yn=O.WHOLE_DOCUMENT||!1,Kn=O.RETURN_DOM||!1,Pe=O.RETURN_DOM_FRAGMENT||!1,qe=O.RETURN_TRUSTED_TYPE||!1,Nr=O.FORCE_BODY||!1,Or=O.SANITIZE_DOM!==!1,El=O.SANITIZE_NAMED_PROPS||!1,Ia=O.KEEP_CONTENT!==!1,pn=O.IN_PLACE||!1,we=O.ALLOWED_URI_REGEXP||dS,Lt=O.NAMESPACE||Ut,Cn=O.MATHML_TEXT_INTEGRATION_POINTS||Cn,Rr=O.HTML_INTEGRATION_POINTS||Rr,de=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&xl(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&xl(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),On&&(ka=!1),Pe&&(Kn=!0),Jn&&(Se=W({},Xg),Re=[],Jn.html===!0&&(W(Se,$g),W(Re,Fg)),Jn.svg===!0&&(W(Se,Yf),W(Re,Qf),W(Re,nu)),Jn.svgFilters===!0&&(W(Se,Kf),W(Re,Qf),W(Re,nu)),Jn.mathMl===!0&&(W(Se,Jf),W(Re,Yg),W(Re,nu))),O.ADD_TAGS&&(typeof O.ADD_TAGS=="function"?Nn.tagCheck=O.ADD_TAGS:(Se===yt&&(Se=Dn(Se)),W(Se,O.ADD_TAGS,He))),O.ADD_ATTR&&(typeof O.ADD_ATTR=="function"?Nn.attributeCheck=O.ADD_ATTR:(Re===vt&&(Re=Dn(Re)),W(Re,O.ADD_ATTR,He))),O.ADD_URI_SAFE_ATTR&&W(gs,O.ADD_URI_SAFE_ATTR,He),O.FORBID_CONTENTS&&(Mt===xr&&(Mt=Dn(Mt)),W(Mt,O.FORBID_CONTENTS,He)),O.ADD_FORBID_CONTENTS&&(Mt===xr&&(Mt=Dn(Mt)),W(Mt,O.ADD_FORBID_CONTENTS,He)),Ia&&(Se["#text"]=!0),Yn&&W(Se,["html","head","body"]),Se.table&&(W(Se,["tbody"]),delete Fn.tbody),O.TRUSTED_TYPES_POLICY){if(typeof O.TRUSTED_TYPES_POLICY.createHTML!="function")throw so('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof O.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw so('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=O.TRUSTED_TYPES_POLICY,j=R.createHTML("")}else R===void 0&&(R=jA(b,r)),R!==null&&typeof j=="string"&&(j=R.createHTML(""));Et&&Et(O),Ci=O}},vs=W({},[...Yf,...Kf,...OA]),Cl=W({},[...Jf,...xA]),Rl=function(O){let P=x(O);(!P||!P.tagName)&&(P={namespaceURI:Lt,tagName:"template"});const G=Ou(O.tagName),oe=Ou(P.tagName);return Cr[O.namespaceURI]?O.namespaceURI===Oi?P.namespaceURI===Ut?G==="svg":P.namespaceURI===xn?G==="svg"&&(oe==="annotation-xml"||Cn[oe]):!!vs[G]:O.namespaceURI===xn?P.namespaceURI===Ut?G==="math":P.namespaceURI===Oi?G==="math"&&Rr[oe]:!!Cl[G]:O.namespaceURI===Ut?P.namespaceURI===Oi&&!Rr[oe]||P.namespaceURI===xn&&!Cn[oe]?!1:!Cl[G]&&(ut[G]||!vs[G]):!!(xi==="application/xhtml+xml"&&Cr[O.namespaceURI]):!1},wt=function(O){io(t.removed,{element:O});try{x(O).removeChild(O)}catch{L(O)}},jt=function(O,P){try{io(t.removed,{attribute:P.getAttributeNode(O),from:P})}catch{io(t.removed,{attribute:null,from:P})}if(P.removeAttribute(O),O==="is")if(Kn||Pe)try{wt(P)}catch{}else try{P.setAttribute(O,"")}catch{}},kl=function(O){let P=null,G=null;if(Nr)O="<remove></remove>"+O;else{const ze=Ff(O,/^[\r\n\t ]+/);G=ze&&ze[0]}xi==="application/xhtml+xml"&&Lt===Ut&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");const oe=R?R.createHTML(O):O;if(Lt===Ut)try{P=new p().parseFromString(oe,xi)}catch{}if(!P||!P.documentElement){P=Z.createDocument(Lt,"template",null);try{P.documentElement.innerHTML=ys?j:oe}catch{}}const $e=P.body||P.documentElement;return O&&G&&$e.insertBefore(n.createTextNode(G),$e.childNodes[0]||null),Lt===Ut?_.call(P,Yn?"html":"body")[0]:Yn?P.documentElement:$e},gn=function(O){return E.call(O.ownerDocument||O,O,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},_s=function(O){return O instanceof m&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof d)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},Ma=function(O){return typeof l=="function"&&O instanceof l};function Pt(q,O,P){tu(q,G=>{G.call(t,O,P,Ci)})}const Ss=function(O){let P=null;if(Pt(T.beforeSanitizeElements,O,null),_s(O))return wt(O),!0;const G=He(O.nodeName);if(Pt(T.uponSanitizeElement,O,{tagName:G,allowedTags:Se}),Ar&&O.hasChildNodes()&&!Ma(O.firstElementChild)&&_t(/<[/\w!]/g,O.innerHTML)&&_t(/<[/\w!]/g,O.textContent)||O.nodeType===oo.progressingInstruction||Ar&&O.nodeType===oo.comment&&_t(/<[/\w]/g,O.data))return wt(O),!0;if(!(Nn.tagCheck instanceof Function&&Nn.tagCheck(G))&&(!Se[G]||Fn[G])){if(!Fn[G]&&Dl(G)&&(de.tagNameCheck instanceof RegExp&&_t(de.tagNameCheck,G)||de.tagNameCheck instanceof Function&&de.tagNameCheck(G)))return!1;if(Ia&&!Mt[G]){const oe=x(O)||O.parentNode,$e=w(O)||O.childNodes;if($e&&oe){const ze=$e.length;for(let ct=ze-1;ct>=0;--ct){const Jt=z($e[ct],!0);Jt.__removalCount=(O.__removalCount||0)+1,oe.insertBefore(Jt,N(O))}}}return wt(O),!0}return O instanceof c&&!Rl(O)||(G==="noscript"||G==="noembed"||G==="noframes")&&_t(/<\/no(script|embed|frames)/i,O.innerHTML)?(wt(O),!0):(On&&O.nodeType===oo.text&&(P=O.textContent,tu([C,A,se],oe=>{P=ro(P,oe," ")}),O.textContent!==P&&(io(t.removed,{element:O.cloneNode()}),O.textContent=P)),Pt(T.afterSanitizeElements,O,null),!1)},Ua=function(O,P,G){if(Or&&(P==="id"||P==="name")&&(G in n||G in Ri))return!1;if(!(ka&&!Tr[P]&&_t(ae,P))){if(!(Ra&&_t(H,P))){if(!(Nn.attributeCheck instanceof Function&&Nn.attributeCheck(P,O))){if(!Re[P]||Tr[P]){if(!(Dl(O)&&(de.tagNameCheck instanceof RegExp&&_t(de.tagNameCheck,O)||de.tagNameCheck instanceof Function&&de.tagNameCheck(O))&&(de.attributeNameCheck instanceof RegExp&&_t(de.attributeNameCheck,P)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(P,O))||P==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&_t(de.tagNameCheck,G)||de.tagNameCheck instanceof Function&&de.tagNameCheck(G))))return!1}else if(!gs[P]){if(!_t(we,ro(G,F,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&O!=="script"&&TA(G,"data:")===0&&Al[O])){if(!(bl&&!_t(X,ro(G,F,"")))){if(G)return!1}}}}}}}return!0},Dl=function(O){return O!=="annotation-xml"&&Ff(O,he)},La=function(O){Pt(T.beforeSanitizeAttributes,O,null);const{attributes:P}=O;if(!P||_s(O))return;const G={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Re,forceKeepAttr:void 0};let oe=P.length;for(;oe--;){const $e=P[oe],{name:ze,namespaceURI:ct,value:Jt}=$e,Qn=He(ze),Ir=Jt;let Be=ze==="value"?Ir:AA(Ir);if(G.attrName=Qn,G.attrValue=Be,G.keepAttr=!0,G.forceKeepAttr=void 0,Pt(T.uponSanitizeAttribute,O,G),Be=G.attrValue,El&&(Qn==="id"||Qn==="name")&&(jt(ze,O),Be=Tl+Be),Ar&&_t(/((--!?|])>)|<\/(style|title|textarea)/i,Be)){jt(ze,O);continue}if(Qn==="attributename"&&Ff(Be,"href")){jt(ze,O);continue}if(G.forceKeepAttr)continue;if(!G.keepAttr){jt(ze,O);continue}if(!Da&&_t(/\/>/i,Be)){jt(ze,O);continue}On&&tu([C,A,se],Pa=>{Be=ro(Be,Pa," ")});const ja=He(O.nodeName);if(!Ua(ja,Qn,Be)){jt(ze,O);continue}if(R&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!ct)switch(b.getAttributeType(ja,Qn)){case"TrustedHTML":{Be=R.createHTML(Be);break}case"TrustedScriptURL":{Be=R.createScriptURL(Be);break}}if(Be!==Ir)try{ct?O.setAttributeNS(ct,ze,Be):O.setAttribute(ze,Be),_s(O)?wt(O):qg(t.removed)}catch{jt(ze,O)}}Pt(T.afterSanitizeAttributes,O,null)},nf=function q(O){let P=null;const G=gn(O);for(Pt(T.beforeSanitizeShadowDOM,O,null);P=G.nextNode();)Pt(T.uponSanitizeShadowNode,P,null),Ss(P),La(P),P.content instanceof s&&q(P.content);Pt(T.afterSanitizeShadowDOM,O,null)};return t.sanitize=function(q){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,G=null,oe=null,$e=null;if(ys=!q,ys&&(q="<!-->"),typeof q!="string"&&!Ma(q))if(typeof q.toString=="function"){if(q=q.toString(),typeof q!="string")throw so("dirty is not a string, aborting")}else throw so("toString is not a function");if(!t.isSupported)return q;if(wr||za(O),t.removed=[],typeof q=="string"&&(pn=!1),pn){if(q.nodeName){const Jt=He(q.nodeName);if(!Se[Jt]||Fn[Jt])throw so("root node is forbidden and cannot be sanitized in-place")}}else if(q instanceof l)P=kl("<!---->"),G=P.ownerDocument.importNode(q,!0),G.nodeType===oo.element&&G.nodeName==="BODY"||G.nodeName==="HTML"?P=G:P.appendChild(G);else{if(!Kn&&!On&&!Yn&&q.indexOf("<")===-1)return R&&qe?R.createHTML(q):q;if(P=kl(q),!P)return Kn?null:qe?j:""}P&&Nr&&wt(P.firstChild);const ze=gn(pn?q:P);for(;oe=ze.nextNode();)Ss(oe),La(oe),oe.content instanceof s&&nf(oe.content);if(pn)return q;if(Kn){if(Pe)for($e=v.call(P.ownerDocument);P.firstChild;)$e.appendChild(P.firstChild);else $e=P;return(Re.shadowroot||Re.shadowrootmode)&&($e=S.call(i,$e,!0)),$e}let ct=Yn?P.outerHTML:P.innerHTML;return Yn&&Se["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&_t(mS,P.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+ct),On&&tu([C,A,se],Jt=>{ct=ro(ct,Jt," ")}),R&&qe?R.createHTML(ct):ct},t.setConfig=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};za(q),wr=!0},t.clearConfig=function(){Ci=null,wr=!1},t.isValidAttribute=function(q,O,P){Ci||za({});const G=He(q),oe=He(O);return Ua(G,oe,P)},t.addHook=function(q,O){typeof O=="function"&&io(T[q],O)},t.removeHook=function(q,O){if(O!==void 0){const P=bA(T[q],O);return P===-1?void 0:EA(T[q],P,1)[0]}return qg(T[q])},t.removeHooks=function(q){T[q]=[]},t.removeAllHooks=function(){T=Jg()},t}var P6=pS();const PA=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function HA(e){return PA.includes(e)}const lt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},ri={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},Ro=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],gS=50;class BA{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const s=console[t]||console.log;i!==void 0?s(r,i):s(r)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const Wf={};function $n(e){const t=e||"__default__";return Wf[t]||(Wf[t]=new BA(e)),Wf[t]}const on=$n("Storage"),hd="magic-internet-math-progress",eh=2;function yS(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function vS(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function rs(){if(!yS())return on.warn("localStorage is not available"),null;try{const e=localStorage.getItem(hd);if(!e)return null;const t=JSON.parse(e);return vS(t)?(t.version!==eh&&(on.info(`Migrating state from v${t.version} to v${eh}`),t.version=eh),t):(on.warn("Invalid gamification state structure in localStorage"),null)}catch(e){on.error("Failed to load gamification state:",e);try{localStorage.removeItem(hd),on.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Zc(e){if(!yS()){on.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(hd,JSON.stringify(e))}catch(t){on.error("Failed to save gamification state:",t)}}const VA=1;function ZA(){const e=rs();if(!e){on.warn("No progress data to export");return}const t={version:VA,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),on.info("Progress exported successfully")}function GA(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!vS(t.state))}async function qA(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var r;try{const s=(r=i.target)==null?void 0:r.result;if(typeof s!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(s);if(!GA(a)){t({success:!1,message:"Invalid backup file format"});return}const l=rs(),c=(l==null?void 0:l.user.totalXP)??0,h=a.state.user.totalXP;if(c>h){t({success:!1,message:`Current progress (${c} XP) is higher than backup (${h} XP). Import cancelled.`});return}Zc(a.state),on.info(`Progress imported: ${h} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${h} XP!`,xpImported:h})}catch(s){on.error("Failed to parse backup file:",s),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function $A(){const e=rs();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function XA(){const e=rs();e&&(e.migratedToServer=!0,Zc(e),on.info("Marked progress as migrated to server"))}function FA(){const e=rs();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function _S(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:YA(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:gS,completed:!1},lastUpdated:e}}function YA(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const KA=50;function Qg(e){return Math.round(e/KA*100)}const JA=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>Qg(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>Qg(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function QA(e){const t=[];for(const n of JA){const i=e.achievements.find(s=>s.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function wa(e){for(let t=Ro.length-1;t>=0;t--)if(e>=Ro[t])return t+1;return 1}function SS(e,t){if(t>=Ro.length)return 100;const n=Ro[t-1],i=Ro[t],r=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,r))}function WA(e,t){const n={easy:lt.QUIZ_EASY,medium:lt.QUIZ_MEDIUM,hard:lt.QUIZ_HARD}[e];return Math.round(n*(t/100))}const ew=1e3*60*60*24;function tw(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:gS,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const r=new Date(i),s=Math.floor((t.getTime()-r.getTime())/ew);if(s===0)return e;if(s===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return s===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function bS(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(r=>r.score)),i=t.reduce((r,s)=>r+s.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function nw(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Gc=$n("GamificationReducer");function iw(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const r=e.user.totalXP+lt.SECTION_VISIT;return{...e,user:{...e.user,totalXP:r,level:wa(r)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.SECTION_VISIT},lastUpdated:n}}function rw(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return Gc.warn(`Attempted to complete unvisited section: ${t}`),e;const r=e.user.totalXP+lt.SECTION_COMPLETE,s=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:r,level:wa(r),sectionsCompleted:s},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:bS(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.SECTION_COMPLETE},lastUpdated:n}}function sw(e,t,n){const{sectionId:i,difficulty:r,score:s,correctAnswers:a,totalQuestions:l}=t,c=e.sections[i];if(!c)return Gc.warn(`Section ${i} was not visited before quiz`),e;const h=WA(r,s),d=a===l,m=d?Math.round(h*(1+lt.QUIZ_PERFECT_BONUS)):h,p=e.user.totalXP+m,b={timestamp:n,difficulty:r,score:s,correctAnswers:a,totalQuestions:l,xpEarned:m},k=[...c.quizAttempts,b],z={...c,quizAttempts:k},L=bS(z),N=s>=80&&!c.completedAt,w=N&&!e.user.sectionsCompleted.includes(i),x=w?lt.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:p+x,level:wa(p+x),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:d?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:w?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...z,masteryLevel:L,completedAt:N?c.completedAt||n:c.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+m+x},lastUpdated:n}}function aw(e,t,n,i){const r=e.sections[t];if(r!=null&&r.visualizationsInteracted.includes(n))return e;if(!r)return Gc.warn(`Section ${t} was not visited before visualization`),e;const s=e.user.totalXP+lt.VISUALIZATION_USE,a=[...r.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:s,level:wa(s),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...r,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.VISUALIZATION_USE},lastUpdated:i}}function ow(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+lt.PART_COMPLETE_BONUS;return Gc.info(`Part ${t} completed, awarding ${lt.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:wa(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+lt.PART_COMPLETE_BONUS},lastUpdated:n}}function lw(e,t,n){let i=ri.GAME_PARTICIPATION;const r=ri.TIER_MULTIPLIER[t.tier],s=Math.floor(Math.max(0,t.score)/ri.POINTS_PER_XP_UNIT*lt.QUIZ_MEDIUM*r);if(i+=s,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=ri.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=ri.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=ri.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=ri.FIRST_PLACE_BONUS;break;case 2:i+=ri.SECOND_PLACE_BONUS;break;case 3:i+=ri.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,l=e.racingStats,c=t.score>((l==null?void 0:l.highScore)??0),h=t.isMultiplayer&&t.placement===1,d={gamesPlayed:((l==null?void 0:l.gamesPlayed)??0)+1,multiplayerGamesPlayed:((l==null?void 0:l.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((l==null?void 0:l.totalPoints)??0)+Math.max(0,t.score),highScore:c?t.score:(l==null?void 0:l.highScore)??0,highestTierUnlocked:Math.max((l==null?void 0:l.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((l==null?void 0:l.longestStreak)??0,t.maxStreak),fastAnswers:((l==null?void 0:l.fastAnswers)??0)+t.fastAnswers,totalCorrect:((l==null?void 0:l.totalCorrect)??0)+t.correctAnswers,totalAttempted:((l==null?void 0:l.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((l==null?void 0:l.multiplayerWins)??0)+(h?1:0),lastPlayedAt:n},m=e.achievements.map(p=>{if(p.unlockedAt)return p;switch(p.id){case"racing-rookie":if(d.gamesPlayed>=1)return{...p,progress:1,unlockedAt:n};break;case"speed-demon":return d.fastAnswers>=50?{...p,progress:50,unlockedAt:n}:{...p,progress:Math.min(d.fastAnswers,50)};case"streak-legend":return d.longestStreak>=20?{...p,progress:20,unlockedAt:n}:{...p,progress:Math.min(d.longestStreak,20)};case"tier-climber":return d.highestTierUnlocked>=6?{...p,progress:6,unlockedAt:n}:{...p,progress:d.highestTierUnlocked};case"modular-master":return d.totalPoints>=1e4?{...p,progress:1e4,unlockedAt:n}:{...p,progress:Math.min(d.totalPoints,1e4)};case"multiplayer-champion":return d.multiplayerWins>=5?{...p,progress:5,unlockedAt:n}:{...p,progress:Math.min(d.multiplayerWins,5)}}return p});return{...e,user:{...e.user,totalXP:a,level:wa(a)},racingStats:d,achievements:m,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function uw(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return iw(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return rw(e,t.payload.sectionId,n);case"COMPLETE_PART":return ow(e,t.payload.partId,n);case"RECORD_QUIZ":return sw(e,t.payload,n);case"USE_VISUALIZATION":return aw(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return tw(e);case"RESET_PROGRESS":return _S();case"RECORD_RACE_GAME":return lw(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=()=>{};var Wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},fw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,c=r+2<e.length,h=c?e[r+2]:0,d=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|h>>6,b=h&63;c||(b=64,a||(p=64)),i.push(n[d],n[m],n[p],n[b])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ES(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):fw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const m=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||m==null)throw new hw;const p=s<<2|l>>4;if(i.push(p),h!==64){const b=l<<4&240|h>>2;if(i.push(b),m!==64){const k=h<<6&192|m;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dw=function(e){const t=ES(e);return TS.encodeByteArray(t,!0)},AS=function(e){return dw(e).replace(/\./g,"")},wS=function(e){try{return TS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=()=>mw().__FIREBASE_DEFAULTS__,gw=()=>{if(typeof process>"u"||typeof Wg>"u")return;const e=Wg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},yw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&wS(e[1]);return t&&JSON.parse(t)},Am=()=>{try{return cw()||pw()||gw()||yw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},NS=e=>{var t,n;return(n=(t=Am())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},vw=e=>{const t=NS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},OS=()=>{var e;return(e=Am())==null?void 0:e.config},xS=e=>{var t;return(t=Am())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(e){return(await fetch(e,{credentials:"include"})).ok}const ko={};function Sw(){const e={prod:[],emulator:[]};for(const t of Object.keys(ko))ko[t]?e.emulator.push(t):e.prod.push(t);return e}function bw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ey=!1;function RS(e,t){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||ko[e]===t||ko[e]||ey)return;ko[e]=t;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=Sw().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,b){p.setAttribute("width","24"),p.setAttribute("id",b),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function h(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ey=!0,a()},p}function d(p,b){p.setAttribute("id",b),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=bw(i),b=n("text"),k=document.getElementById(b)||document.createElement("span"),z=n("learnmore"),L=document.getElementById(z)||document.createElement("a"),N=n("preprendIcon"),w=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;l(x),d(L,z);const R=h();c(w,N),x.append(w,k,L,R),document.body.appendChild(x)}s?(k.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ew(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function Tw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Aw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nw(){const e=At();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ow(){try{return typeof indexedDB=="object"}catch{return!1}}function xw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="FirebaseError";class Xn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Cw,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?Rw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Xn(r,l,i)}}function Rw(e,t){return e.replace(kw,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const kw=/\{\$([^}]+)}/g;function Dw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function da(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(ty(s)&&ty(a)){if(!da(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ty(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Iw(e,t){const n=new zw(e,t);return n.subscribe.bind(n)}class zw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Mw(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=th),r.error===void 0&&(r.error=th),r.complete===void 0&&(r.complete=th);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function th(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e){return e&&e._delegate?e._delegate:e}class pr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new _w;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jw(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Lw(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lw(e){return e===Vr?void 0:e}function jw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Uw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const Hw={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Bw=pe.INFO,Vw={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},Zw=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Vw[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=Bw,this._logHandler=Zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Hw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function qw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dd="@firebase/app",ny="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new wm("@firebase/app"),$w="@firebase/app-compat",Xw="@firebase/analytics-compat",Fw="@firebase/analytics",Yw="@firebase/app-check-compat",Kw="@firebase/app-check",Jw="@firebase/auth",Qw="@firebase/auth-compat",Ww="@firebase/database",e2="@firebase/data-connect",t2="@firebase/database-compat",n2="@firebase/functions",i2="@firebase/functions-compat",r2="@firebase/installations",s2="@firebase/installations-compat",a2="@firebase/messaging",o2="@firebase/messaging-compat",l2="@firebase/performance",u2="@firebase/performance-compat",c2="@firebase/remote-config",f2="@firebase/remote-config-compat",h2="@firebase/storage",d2="@firebase/storage-compat",m2="@firebase/firestore",p2="@firebase/ai",g2="@firebase/firestore-compat",y2="firebase",v2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="[DEFAULT]",_2={[dd]:"fire-core",[$w]:"fire-core-compat",[Fw]:"fire-analytics",[Xw]:"fire-analytics-compat",[Kw]:"fire-app-check",[Yw]:"fire-app-check-compat",[Jw]:"fire-auth",[Qw]:"fire-auth-compat",[Ww]:"fire-rtdb",[e2]:"fire-data-connect",[t2]:"fire-rtdb-compat",[n2]:"fire-fn",[i2]:"fire-fn-compat",[r2]:"fire-iid",[s2]:"fire-iid-compat",[a2]:"fire-fcm",[o2]:"fire-fcm-compat",[l2]:"fire-perf",[u2]:"fire-perf-compat",[c2]:"fire-rc",[f2]:"fire-rc-compat",[h2]:"fire-gcs",[d2]:"fire-gcs-compat",[m2]:"fire-fst",[g2]:"fire-fst-compat",[p2]:"fire-vertex","fire-js":"fire-js",[y2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Map,S2=new Map,pd=new Map;function iy(e,t){try{e.container.addComponent(t)}catch(n){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ss(e){const t=e.name;if(pd.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;pd.set(t,e);for(const n of Qo.values())iy(n,e);for(const n of S2.values())iy(n,e);return!0}function Nm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ln(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new pl("app","Firebase",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=v2;function kS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:md,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ur.create("bad-app-name",{appName:String(r)});if(n||(n=OS()),!n)throw ur.create("no-options");const s=Qo.get(r);if(s){if(da(n,s.options)&&da(i,s.config))return s;throw ur.create("duplicate-app",{appName:r})}const a=new Pw(r);for(const c of pd.values())a.addComponent(c);const l=new E2(n,i,a);return Qo.set(r,l),l}function DS(e=md){const t=Qo.get(e);if(!t&&e===md&&OS())return kS();if(!t)throw ur.create("no-app",{appName:e});return t}function T2(){return Array.from(Qo.values())}function Bn(e,t,n){let i=_2[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ti.warn(a.join(" "));return}ss(new pr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",w2=1,Wo="firebase-heartbeat-store";let nh=null;function IS(){return nh||(nh=j1(A2,w2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(e=>{throw ur.create("idb-open",{originalErrorMessage:e.message})})),nh}async function N2(e){try{const n=(await IS()).transaction(Wo),i=await n.objectStore(Wo).get(zS(e));return await n.done,i}catch(t){if(t instanceof Xn)Ti.warn(t.message);else{const n=ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ti.warn(n.message)}}}async function ry(e,t){try{const i=(await IS()).transaction(Wo,"readwrite");await i.objectStore(Wo).put(t,zS(e)),await i.done}catch(n){if(n instanceof Xn)Ti.warn(n.message);else{const i=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(i.message)}}}function zS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1024,x2=30;class C2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>x2){const a=D2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ti.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sy(),{heartbeatsToSend:i,unsentEntries:r}=R2(this._heartbeatsCache.heartbeats),s=AS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ti.warn(n),""}}}function sy(){return new Date().toISOString().substring(0,10)}function R2(e,t=O2){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),ay(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ay(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class k2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ow()?xw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return ry(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return ry(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ay(e){return AS(JSON.stringify({version:2,heartbeats:e})).length}function D2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(e){ss(new pr("platform-logger",t=>new Gw(t),"PRIVATE")),ss(new pr("heartbeat",t=>new C2(t),"PRIVATE")),Bn(dd,ny,e),Bn(dd,ny,"esm2020"),Bn("fire-js","")}I2("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="type.googleapis.com/google.protobuf.Int64Value",M2="type.googleapis.com/google.protobuf.UInt64Value";function MS(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function uc(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>uc(t));if(typeof e=="function"||typeof e=="object")return MS(e,t=>uc(t));throw new Error("Data cannot be encoded in JSON: "+e)}function ma(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case z2:case M2:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>ma(t)):typeof e=="function"||typeof e=="object"?MS(e,t=>ma(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Xn{constructor(t,n,i){super(`${Om}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,Rt.prototype)}}function U2(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function cc(e,t){let n=U2(e),i=n,r;try{const s=t&&t.error;if(s){const a=s.status;if(typeof a=="string"){if(!oy[a])return new Rt("internal","internal");n=oy[a],i=a}const l=s.message;typeof l=="string"&&(i=l),r=s.details,r!==void 0&&(r=ma(r))}}catch{}return n==="ok"?null:new Rt(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n,i,r){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ln(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||i.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="us-central1",j2=/^data: (.*?)(?:\n|$)/;function P2(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new Rt("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class H2{constructor(t,n,i,r,s=gd,a=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new L2(t,n,i,r),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=gd}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function B2(e,t,n){const i=Na(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(CS(e.emulatorOrigin+"/backends"),RS("Functions",!0))}function V2(e,t,n){const i=r=>G2(e,t,r,{});return i.stream=(r,s)=>$2(e,t,r,s),i}function US(e){return e.emulatorOrigin&&Na(e.emulatorOrigin)?"include":void 0}async function Z2(e,t,n,i,r){n["Content-Type"]="application/json";let s;try{s=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:US(r)})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function LS(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function G2(e,t,n,i){const r=e._url(t);return q2(e,r,n,i)}async function q2(e,t,n,i){n=uc(n);const r={data:n},s=await LS(e,i),a=i.timeout||7e4,l=P2(a),c=await Promise.race([Z2(t,r,s,e.fetchImpl,e),l.promise,e.cancelAllRequests]);if(l.cancel(),!c)throw new Rt("cancelled","Firebase Functions instance was deleted.");const h=cc(c.status,c.json);if(h)throw h;if(!c.json)throw new Rt("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new Rt("internal","Response is missing data field.");return{data:ma(d)}}function $2(e,t,n,i){const r=e._url(t);return X2(e,r,n,i||{})}async function X2(e,t,n,i){var p;n=uc(n);const r={data:n},s=await LS(e,i);s["Content-Type"]="application/json",s.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(r),headers:s,signal:i==null?void 0:i.signal,credentials:US(e)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const z=new Rt("cancelled","Request was cancelled.");return{data:Promise.reject(z),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(z)}}}}}}const k=cc(0,null);return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}let l,c;const h=new Promise((b,k)=>{l=b,c=k});(p=i==null?void 0:i.signal)==null||p.addEventListener("abort",()=>{const b=new Rt("cancelled","Request was cancelled.");c(b)});const d=a.body.getReader(),m=F2(d,l,c,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const b=m.getReader();return{async next(){const{value:k,done:z}=await b.read();return{value:k,done:z}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:h}}function F2(e,t,n,i){const r=(a,l)=>{const c=a.match(j2);if(!c)return;const h=c[1];try{const d=JSON.parse(h);if("result"in d){t(ma(d.result));return}if("message"in d){l.enqueue(ma(d.message));return}if("error"in d){const m=cc(0,d);l.error(m),n(m);return}}catch(d){if(d instanceof Rt){l.error(d),n(d);return}}},s=new TextDecoder;return new ReadableStream({start(a){let l="";return c();async function c(){if(i!=null&&i.aborted){const h=new Rt("cancelled","Request was cancelled");return a.error(h),n(h),Promise.resolve()}try{const{value:h,done:d}=await e.read();if(d){l.trim()&&r(l.trim(),a),a.close();return}if(i!=null&&i.aborted){const p=new Rt("cancelled","Request was cancelled");a.error(p),n(p),await e.cancel();return}l+=s.decode(h,{stream:!0});const m=l.split(`
`);l=m.pop()||"";for(const p of m)p.trim()&&r(p.trim(),a);return c()}catch(h){const d=h instanceof Rt?h:cc(0,null);a.error(d),n(d)}}},cancel(){return e.cancel()}})}const ly="@firebase/functions",uy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="auth-internal",K2="app-check-internal",J2="messaging-internal";function Q2(e){const t=(n,{instanceIdentifier:i})=>{const r=n.getProvider("app").getImmediate(),s=n.getProvider(Y2),a=n.getProvider(J2),l=n.getProvider(K2);return new H2(r,s,a,l,i)};ss(new pr(Om,t,"PUBLIC").setMultipleInstances(!0)),Bn(ly,uy,e),Bn(ly,uy,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(e=DS(),t=gd){const i=Nm(dn(e),Om).getImmediate({identifier:t}),r=vw("functions");return r&&jS(i,...r),i}function jS(e,t,n){B2(dn(e),t,n)}function pa(e,t,n){return V2(dn(e),t)}Q2();var eN="firebase",tN="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(eN,tN,"app");function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=PS,HS=new pl("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new wm("@firebase/auth");function iN(e,...t){fc.logLevel<=pe.WARN&&fc.warn(`Auth (${Oa}): ${e}`,...t)}function xu(e,...t){fc.logLevel<=pe.ERROR&&fc.error(`Auth (${Oa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e,...t){throw xm(e,...t)}function Vn(e,...t){return xm(e,...t)}function BS(e,t,n){const i={...nN(),[t]:n};return new pl("auth","Firebase",i).create(t,{appName:e.name})}function cr(e){return BS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return HS.create(e,...t)}function K(e,t,...n){if(!e)throw xm(t,...n)}function di(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xu(t),new Error(t)}function wi(e,t){e||di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function rN(){return cy()==="http:"||cy()==="https:"}function cy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||Aw()||"connection"in navigator)?navigator.onLine:!0}function aN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,n){this.shortDelay=t,this.longDelay=n,wi(n>t,"Short delay should be less than long delay!"),this.isMobile=Ew()||ww()}get(){return sN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e,t){wi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uN=new yl(3e4,6e4);function qc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function xa(e,t,n,i,r={}){return ZS(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=gl({key:e.config.apiKey,...a}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:c,...s};return Tw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Na(e.emulatorConfig.host)&&(h.credentials="include"),VS.fetch()(await qS(e,e.config.apiHost,n,l),h)})}async function ZS(e,t,n){e._canInitEmulator=!1;const i={...oN,...t};try{const r=new cN(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw iu(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw iu(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw iu(e,"user-disabled",a);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw BS(e,d,h);Ai(e,d)}}catch(r){if(r instanceof Xn)throw r;Ai(e,"network-request-failed",{message:String(r)})}}async function GS(e,t,n,i,r={}){const s=await xa(e,t,n,i,r);return"mfaPendingCredential"in s&&Ai(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function qS(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Cm(e.config,r):`${e.config.apiScheme}://${r}`;return lN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),uN.get())})}}function iu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Vn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(e,t){return xa(e,"POST","/v1/accounts:delete",t)}async function hc(e,t){return xa(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hN(e,t=!1){const n=dn(e),i=await n.getIdToken(t),r=Rm(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Do(ih(r.auth_time)),issuedAtTime:Do(ih(r.iat)),expirationTime:Do(ih(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ih(e){return Number(e)*1e3}function Rm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const r=wS(n);return r?JSON.parse(r):(xu("Failed to decode base64 JWT payload"),null)}catch(r){return xu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function fy(e){const t=Rm(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Xn&&dN(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function dN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(e){var m;const t=e.auth,n=await e.getIdToken(),i=await el(e,hc(t,{idToken:n}));K(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?$S(r.providerUserInfo):[],a=gN(e.providerData,s),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new vd(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function pN(e){const t=dn(e);await dc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gN(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function $S(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(e,t){const n=await ZS(e,{},async()=>{const i=gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await qS(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:i};return e.emulatorConfig&&Na(e.emulatorConfig.host)&&(c.credentials="include"),VS.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vN(e,t){return xa(e,"POST","/v2/accounts:revokeToken",qc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=fy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await yN(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Js;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class En{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new mN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new vd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await el(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hN(this,t)}reload(){return pN(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new En({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await dc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(cr(this.auth));const t=await this.getIdToken();return await el(this,fN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:b,providerData:k,stsTokenManager:z}=n;K(m&&z,t,"internal-error");const L=Js.fromJSON(this.name,z);K(typeof m=="string",t,"internal-error"),Ui(i,t.name),Ui(r,t.name),K(typeof p=="boolean",t,"internal-error"),K(typeof b=="boolean",t,"internal-error"),Ui(s,t.name),Ui(a,t.name),Ui(l,t.name),Ui(c,t.name),Ui(h,t.name),Ui(d,t.name);const N=new En({uid:m,auth:t,email:r,emailVerified:p,displayName:i,isAnonymous:b,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:L,createdAt:h,lastLoginAt:d});return k&&Array.isArray(k)&&(N.providerData=k.map(w=>({...w}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(t,n,i=!1){const r=new Js;r.updateFromServerResponse(n);const s=new En({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await dc(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?$S(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Js;l.updateFromIdToken(i);const c=new En({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new vd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=new Map;function mi(e){wi(e instanceof Function,"Expected a class definition");let t=hy.get(e);return t?(wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XS.type="NONE";const dy=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e,t,n){return`firebase:${e}:${t}:${n}`}class Qs{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Cu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Cu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await hc(this.auth,{idToken:t}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,t):null}return En._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Qs(mi(dy),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||mi(dy);const a=Cu(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let m;if(typeof d=="string"){const p=await hc(t,{idToken:d}).catch(()=>{});if(!p)break;m=await En._fromGetAccountInfoResponse(t,p,d)}else m=En._fromJSON(t,d);h!==s&&(l=m),s=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Qs(s,t,i):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Qs(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WS(t))return"Blackberry";if(eb(t))return"Webos";if(YS(t))return"Safari";if((t.includes("chrome/")||KS(t))&&!t.includes("edge/"))return"Chrome";if(QS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function FS(e=At()){return/firefox\//i.test(e)}function YS(e=At()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KS(e=At()){return/crios\//i.test(e)}function JS(e=At()){return/iemobile/i.test(e)}function QS(e=At()){return/android/i.test(e)}function WS(e=At()){return/blackberry/i.test(e)}function eb(e=At()){return/webos/i.test(e)}function km(e=At()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _N(e=At()){var t;return km(e)&&!!((t=window.navigator)!=null&&t.standalone)}function SN(){return Nw()&&document.documentMode===10}function tb(e=At()){return km(e)||QS(e)||eb(e)||WS(e)||/windows phone/i.test(e)||JS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e,t=[]){let n;switch(e){case"Browser":n=my(At());break;case"Worker":n=`${my(At())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const c=t(s);a(c)}catch(c){l(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(e,t={}){return xa(e,"GET","/v2/passwordPolicy",qc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=6;class AN{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new py(this),this.idTokenSubscription=new py(this),this.beforeStateQueue=new bN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hc(this,{idToken:t}),i=await En._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(ln(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await dc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ln(this.app))return Promise.reject(cr(this));const n=t?dn(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ln(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await EN(this),n=new AN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await vN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&mi(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,i,r);return()=>{a=!0,c()}}else{const c=t.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&iN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $c(e){return dn(e)}class py{constructor(t){this.auth=t,this.observer=null,this.addObserver=Iw(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NN(e){Dm=e}function ON(e){return Dm.loadJS(e)}function xN(){return Dm.gapiScript}function CN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(e,t){const n=Nm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(da(s,t??{}))return r;Ai(r,"already-initialized")}return n.initialize({options:t})}function kN(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(mi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function DN(e,t,n){const i=$c(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=ib(t),{host:a,port:l}=IN(t),c=l===null?"":`:${l}`,h={url:`${s}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(da(h,i.config.emulator)&&da(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Na(a)?(CS(`${s}//${a}${c}`),RS("Auth",!0)):zN()}function ib(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function IN(e){const t=ib(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:gy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:gy(a)}}}function gy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function zN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(t){return di("not implemented")}_linkToIdToken(t,n){return di("not implemented")}_getReauthenticationResolver(t){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(e,t){return GS(e,"POST","/v1/accounts:signInWithIdp",qc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="http://localhost";class as extends rb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new as(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new as(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Ws(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ws(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ws(t,n)}buildRequest(){const t={requestUri:MN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=gl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends sb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends vl{constructor(){super("facebook.com")}static credential(t){return as._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gi.credential(t.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return as._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends vl{constructor(){super("github.com")}static credential(t){return as._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $i.credential(t.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends vl{constructor(){super("twitter.com")}static credential(t,n){return as._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await En._fromIdTokenResponse(t,i,r),a=yy(i);return new os({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=yy(i);return new os({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function yy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Xn{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new mc(t,n,i,r)}}function ab(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(e,s,t,i):s})}async function UN(e,t,n=!1){const i=await el(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return os._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(e,t,n=!1){const{auth:i}=e;if(ln(i.app))return Promise.reject(cr(i));const r="reauthenticate";try{const s=await el(e,ab(i,r,t,e),n);K(s.idToken,i,"internal-error");const a=Rm(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(e.uid===l,i,"user-mismatch"),os._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ai(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(e,t,n=!1){if(ln(e.app))return Promise.reject(cr(e));const i="signIn",r=await ab(e,i,t),s=await os._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e,t){return GS(e,"POST","/v1/accounts:signInWithCustomToken",qc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(e,t){if(ln(e.app))return Promise.reject(cr(e));const n=$c(e),i=await PN(n,{token:t,returnSecureToken:!0}),r=await os._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function BN(e,t,n,i){return dn(e).onIdTokenChanged(t,n,i)}function VN(e,t,n){return dn(e).beforeAuthStateChanged(t,n)}function ZN(e,t,n,i){return dn(e).onAuthStateChanged(t,n,i)}function GN(e){return dn(e).signOut()}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1e3,$N=10;class lb extends ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);SN()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,$N):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}lb.type="LOCAL";const XN=lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ub.type="SESSION";const cb=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Xc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),c=await FN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const h=Im("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const p=m;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function KN(e){Zn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function JN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function WN(){return fb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="firebaseLocalStorageDb",eO=1,gc="firebaseLocalStorage",db="fbase_key";class _l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fc(e,t){return e.transaction([gc],t?"readwrite":"readonly").objectStore(gc)}function tO(){const e=indexedDB.deleteDatabase(hb);return new _l(e).toPromise()}function _d(){const e=indexedDB.open(hb,eO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(gc,{keyPath:db})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(gc)?t(i):(i.close(),await tO(),t(await _d()))})})}async function vy(e,t,n){const i=Fc(e,!0).put({[db]:t,value:n});return new _l(i).toPromise()}async function nO(e,t){const n=Fc(e,!1).get(t),i=await new _l(n).toPromise();return i===void 0?null:i.value}function _y(e,t){const n=Fc(e,!0).delete(t);return new _l(n).toPromise()}const iO=800,rO=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _d(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>rO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(WN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await JN(),!this.activeServiceWorker)return;this.sender=new YN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _d();return await vy(t,pc,"1"),await _y(t,pc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>vy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>nO(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_y(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Fc(r,!1).getAll();return new _l(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const sO=mb;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(e,t){return t?mi(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends rb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ws(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ws(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ws(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function oO(e){return jN(e.auth,new zm(e),e.bypassAuthState)}function lO(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),LN(n,new zm(e),e.bypassAuthState)}async function uO(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),UN(n,new zm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oO;case"linkViaPopup":case"linkViaRedirect":return uO;case"reauthViaPopup":case"reauthViaRedirect":return lO;default:Ai(this.auth,"internal-error")}}resolve(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new yl(2e3,1e4);class Bs extends pb{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cO.get())};t()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="pendingRedirect",Ru=new Map;class hO extends pb{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Ru.get(this.auth._key());if(!t){try{const i=await dO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Ru.set(this.auth._key(),t)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dO(e,t){const n=gO(t),i=pO(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function mO(e,t){Ru.set(e._key(),t)}function pO(e){return mi(e._redirectPersistence)}function gO(e){return Cu(fO,e.config.apiKey,e.name)}async function yO(e,t,n=!1){if(ln(e.app))return Promise.reject(cr(e));const i=$c(e),r=aO(i,t),a=await new hO(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=10*60*1e3;class _O{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!gb(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(t))}saveEventToCache(t){this.cachedEventUids.add(Sy(t)),this.lastProcessedEventTime=Date.now()}}function Sy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function gb({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function SO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(e,t={}){return xa(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TO=/^https?/;async function AO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await bO(e);for(const n of t)try{if(wO(n))return}catch{}Ai(e,"unauthorized-domain")}function wO(e){const t=yd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!TO.test(n))return!1;if(EO.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new yl(3e4,6e4);function by(){const e=Zn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function OO(e){return new Promise((t,n)=>{var r,s,a;function i(){by(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{by(),n(Vn(e,"network-request-failed"))},timeout:NO.get()})}if((s=(r=Zn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=Zn().gapi)!=null&&a.load)i();else{const l=CN("iframefcb");return Zn()[l]=()=>{gapi.load?i():n(Vn(e,"network-request-failed"))},ON(`${xN()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw ku=null,t})}let ku=null;function xO(e){return ku=ku||OO(e),ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new yl(5e3,15e3),RO="__/auth/iframe",kO="emulator/auth/iframe",DO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zO(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cm(t,kO):`https://${e.config.authDomain}/${RO}`,i={apiKey:t.apiKey,appName:e.name,v:Oa},r=IO.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${gl(i).slice(1)}`}async function MO(e){const t=await xO(e),n=Zn().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:zO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Vn(e,"network-request-failed"),l=Zn().setTimeout(()=>{s(a)},CO.get());function c(){Zn().clearTimeout(l),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LO=500,jO=600,PO="_blank",HO="http://localhost";class Ey{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BO(e,t,n,i=LO,r=jO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c={...UO,width:i.toString(),height:r.toString(),top:s,left:a},h=At().toLowerCase();n&&(l=KS(h)?PO:n),FS(h)&&(t=t||HO,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[b,k])=>`${p}${b}=${k},`,"");if(_N(h)&&l!=="_self")return VO(t||"",l),new Ey(null);const m=window.open(t||"",l,d);K(m,e,"popup-blocked");try{m.focus()}catch{}return new Ey(m)}function VO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="__/auth/handler",GO="emulator/auth/handler",qO=encodeURIComponent("fac");async function Ty(e,t,n,i,r,s){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Oa,eventId:r};if(t instanceof sb){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Dw(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,m]of Object.entries({}))a[d]=m}if(t instanceof vl){const d=t.getScopes().filter(m=>m!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),h=c?`#${qO}=${encodeURIComponent(c)}`:"";return`${$O(e)}?${gl(l).slice(1)}${h}`}function $O({config:e}){return e.emulator?Cm(e,GO):`https://${e.authDomain}/${ZO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="webStorageSupport";class XO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=yO,this._overrideRedirectResult=mO}async _openPopup(t,n,i,r){var a;wi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Ty(t,n,i,yd(),r);return BO(t,s,Im())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await Ty(t,n,i,yd(),r);return KN(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(wi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await MO(t),i=new _O(t);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rh,{type:rh},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[rh];s!==void 0&&n(!!s),Ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return tb()||YS()||km()}}const FO=XO;var Ay="@firebase/auth",wy="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JO(e){ss(new pr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(e)},h=new wN(i,r,s,c);return kN(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ss(new pr("auth-internal",t=>{const n=$c(t.getProvider("auth").getImmediate());return(i=>new YO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(Ay,wy,KO(e)),Bn(Ay,wy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=5*60,WO=xS("authIdTokenMaxAge")||QO;let Ny=null;const e4=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>WO)return;const r=n==null?void 0:n.token;Ny!==r&&(Ny=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function t4(e=DS()){const t=Nm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=RN(e,{popupRedirectResolver:FO,persistence:[sO,XN,cb]}),i=xS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=e4(s.toString());VN(n,a,()=>a(n.currentUser)),BN(n,l=>a(l))}}const r=NS("auth");return r&&DN(n,`http://${r}`),n}function n4(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}NN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Vn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",n4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JO("Browser");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mm;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,v){function _(){}_.prototype=v.prototype,E.F=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.D=function(S,T,C){for(var A=Array(arguments.length-2),se=2;se<arguments.length;se++)A[se-2]=arguments[se];return v.prototype[T].apply(S,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,v,_){_||(_=0);const S=Array(16);if(typeof v=="string")for(var T=0;T<16;++T)S[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;T<16;++T)S[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];let C=E.g[3],A;A=v+(C^_&(T^C))+S[0]+3614090360&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+S[1]+3905402710&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+S[2]+606105819&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+S[3]+3250441966&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(C^_&(T^C))+S[4]+4118548399&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+S[5]+1200080426&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+S[6]+2821735955&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+S[7]+4249261313&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(C^_&(T^C))+S[8]+1770035416&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+S[9]+2336552879&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+S[10]+4294925233&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+S[11]+2304563134&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(C^_&(T^C))+S[12]+1804603682&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+S[13]+4254626195&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+S[14]+2792965006&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+S[15]+1236535329&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(T^C&(_^T))+S[1]+4129170786&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+S[6]+3225465664&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+S[11]+643717713&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+S[0]+3921069994&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(T^C&(_^T))+S[5]+3593408605&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+S[10]+38016083&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+S[15]+3634488961&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+S[4]+3889429448&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(T^C&(_^T))+S[9]+568446438&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+S[14]+3275163606&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+S[3]+4107603335&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+S[8]+1163531501&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(T^C&(_^T))+S[13]+2850285829&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+S[2]+4243563512&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+S[7]+1735328473&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+S[12]+2368359562&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(_^T^C)+S[5]+4294588738&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+S[8]+2272392833&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+S[11]+1839030562&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+S[14]+4259657740&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(_^T^C)+S[1]+2763975236&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+S[4]+1272893353&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+S[7]+4139469664&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+S[10]+3200236656&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(_^T^C)+S[13]+681279174&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+S[0]+3936430074&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+S[3]+3572445317&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+S[6]+76029189&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(_^T^C)+S[9]+3654602809&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+S[12]+3873151461&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+S[15]+530742520&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+S[2]+3299628645&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(T^(_|~C))+S[0]+4096336452&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+S[7]+1126891415&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+S[14]+2878612391&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+S[5]+4237533241&4294967295,_=T+(A<<21&4294967295|A>>>11),A=v+(T^(_|~C))+S[12]+1700485571&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+S[3]+2399980690&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+S[10]+4293915773&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+S[1]+2240044497&4294967295,_=T+(A<<21&4294967295|A>>>11),A=v+(T^(_|~C))+S[8]+1873313359&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+S[15]+4264355552&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+S[6]+2734768916&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+S[13]+1309151649&4294967295,_=T+(A<<21&4294967295|A>>>11),A=v+(T^(_|~C))+S[4]+4149444226&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+S[11]+3174756917&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+S[2]+718787259&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+S[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+C&4294967295}i.prototype.v=function(E,v){v===void 0&&(v=E.length);const _=v-this.blockSize,S=this.C;let T=this.h,C=0;for(;C<v;){if(T==0)for(;C<=_;)r(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<v;)if(S[T++]=E.charCodeAt(C++),T==this.blockSize){r(this,S),T=0;break}}else for(;C<v;)if(S[T++]=E[C++],T==this.blockSize){r(this,S),T=0;break}}this.h=T,this.o+=v},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var _=E.length-8;_<E.length;++_)E[_]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,_=0;_<4;++_)for(let S=0;S<32;S+=8)E[v++]=this.g[_]>>>S&255;return E};function s(E,v){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function a(E,v){this.h=v;const _=[];let S=!0;for(let T=E.length-1;T>=0;T--){const C=E[T]|0;S&&C==v||(_[T]=C,S=!1)}this.g=_}var l={};function c(E){return-128<=E&&E<128?s(E,function(v){return new a([v|0],v<0?-1:0)}):new a([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return L(h(-E));const v=[];let _=1;for(let S=0;E>=_;S++)v[S]=E/_|0,_*=4294967296;return new a(v,0)}function d(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return L(d(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(v,8));let S=m;for(let C=0;C<E.length;C+=8){var T=Math.min(8,E.length-C);const A=parseInt(E.substring(C,C+T),v);T<8?(T=h(Math.pow(v,T)),S=S.j(T).add(h(A))):(S=S.j(_),S=S.add(h(A)))}return S}var m=c(0),p=c(1),b=c(16777216);e=a.prototype,e.m=function(){if(z(this))return-L(this).m();let E=0,v=1;for(let _=0;_<this.g.length;_++){const S=this.i(_);E+=(S>=0?S:4294967296+S)*v,v*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(z(this))return"-"+L(this).toString(E);const v=h(Math.pow(E,6));var _=this;let S="";for(;;){const T=R(_,v).g;_=N(_,T.j(v));let C=((_.g.length>0?_.g[0]:_.h)>>>0).toString(E);if(_=T,k(_))return C+S;for(;C.length<6;)C="0"+C;S=C+S}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function z(E){return E.h==-1}e.l=function(E){return E=N(this,E),z(E)?-1:k(E)?0:1};function L(E){const v=E.g.length,_=[];for(let S=0;S<v;S++)_[S]=~E.g[S];return new a(_,~E.h).add(p)}e.abs=function(){return z(this)?L(this):this},e.add=function(E){const v=Math.max(this.g.length,E.g.length),_=[];let S=0;for(let T=0;T<=v;T++){let C=S+(this.i(T)&65535)+(E.i(T)&65535),A=(C>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);S=A>>>16,C&=65535,A&=65535,_[T]=A<<16|C}return new a(_,_[_.length-1]&-2147483648?-1:0)};function N(E,v){return E.add(L(v))}e.j=function(E){if(k(this)||k(E))return m;if(z(this))return z(E)?L(this).j(L(E)):L(L(this).j(E));if(z(E))return L(this.j(L(E)));if(this.l(b)<0&&E.l(b)<0)return h(this.m()*E.m());const v=this.g.length+E.g.length,_=[];for(var S=0;S<2*v;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(let T=0;T<E.g.length;T++){const C=this.i(S)>>>16,A=this.i(S)&65535,se=E.i(T)>>>16,ae=E.i(T)&65535;_[2*S+2*T]+=A*ae,w(_,2*S+2*T),_[2*S+2*T+1]+=C*ae,w(_,2*S+2*T+1),_[2*S+2*T+1]+=A*se,w(_,2*S+2*T+1),_[2*S+2*T+2]+=C*se,w(_,2*S+2*T+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new a(_,0)};function w(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function x(E,v){this.g=E,this.h=v}function R(E,v){if(k(v))throw Error("division by zero");if(k(E))return new x(m,m);if(z(E))return v=R(L(E),v),new x(L(v.g),L(v.h));if(z(v))return v=R(E,L(v)),new x(L(v.g),v.h);if(E.g.length>30){if(z(E)||z(v))throw Error("slowDivide_ only works with positive integers.");for(var _=p,S=v;S.l(E)<=0;)_=j(_),S=j(S);var T=Z(_,1),C=Z(S,1);for(S=Z(S,2),_=Z(_,2);!k(S);){var A=C.add(S);A.l(E)<=0&&(T=T.add(_),C=A),S=Z(S,1),_=Z(_,1)}return v=N(E,T.j(v)),new x(T,v)}for(T=m;E.l(v)>=0;){for(_=Math.max(1,Math.floor(E.m()/v.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),C=h(_),A=C.j(v);z(A)||A.l(E)>0;)_-=S,C=h(_),A=C.j(v);k(C)&&(C=p),T=T.add(C),E=N(E,A)}return new x(T,E)}e.B=function(E){return R(this,E).h},e.and=function(E){const v=Math.max(this.g.length,E.g.length),_=[];for(let S=0;S<v;S++)_[S]=this.i(S)&E.i(S);return new a(_,this.h&E.h)},e.or=function(E){const v=Math.max(this.g.length,E.g.length),_=[];for(let S=0;S<v;S++)_[S]=this.i(S)|E.i(S);return new a(_,this.h|E.h)},e.xor=function(E){const v=Math.max(this.g.length,E.g.length),_=[];for(let S=0;S<v;S++)_[S]=this.i(S)^E.i(S);return new a(_,this.h^E.h)};function j(E){const v=E.g.length+1,_=[];for(let S=0;S<v;S++)_[S]=E.i(S)<<1|E.i(S-1)>>>31;return new a(_,E.h)}function Z(E,v){const _=v>>5;v%=32;const S=E.g.length-_,T=[];for(let C=0;C<S;C++)T[C]=v>0?E.i(C+_)>>>v|E.i(C+_+1)<<32-v:E.i(C+_);return new a(T,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Mm=a}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,u){if(u)e:{var f=i;o=o.split(".");for(var g=0;g<o.length-1;g++){var D=o[g];if(!(D in f))break e;f=f[D]}o=o[o.length-1],g=f[o],u=u(g),u!=g&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(u){var f=[],g;for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&f.push([g,u[g]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,f){return o.call.apply(o.bind,arguments)}function h(o,u,f){return h=c,h.apply(null,arguments)}function d(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function m(o,u){function f(){}f.prototype=u.prototype,o.Z=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(g,D,I){for(var B=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)B[Q-2]=arguments[Q];return u.prototype[D].apply(g,B)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function b(o){const u=o.length;if(u>0){const f=Array(u);for(let g=0;g<u;g++)f[g]=o[g];return f}return[]}function k(o,u){for(let g=1;g<arguments.length;g++){const D=arguments[g];var f=typeof D;if(f=f!="object"?f:D?Array.isArray(D)?"array":f:"null",f=="array"||f=="object"&&typeof D.length=="number"){f=o.length||0;const I=D.length||0;o.length=f+I;for(let B=0;B<I;B++)o[f+B]=D[B]}else o.push(D)}}class z{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(o){a.setTimeout(()=>{throw o},0)}function N(){var o=E;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class w{constructor(){this.h=this.g=null}add(u,f){const g=x.get();g.set(u,f),this.h?this.h.next=g:this.g=g,this.h=g}}var x=new z(()=>new R,o=>o.reset());class R{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let j,Z=!1,E=new w,v=()=>{const o=Promise.resolve(void 0);j=()=>{o.then(_)}};function _(){for(var o;o=N();){try{o.h.call(o.g)}catch(f){L(f)}var u=x;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}Z=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};a.addEventListener("test",f,u),a.removeEventListener("test",f,u)}catch{}return o}();function A(o){return/^[\s\xa0]*$/.test(o)}function se(o,u){T.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}m(se,T),se.prototype.init=function(o,u){const f=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),H=0;function X(o,u,f,g,D){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!g,this.ha=D,this.key=++H,this.da=this.fa=!1}function F(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function he(o,u,f){for(const g in o)u.call(f,o[g],g,o)}function we(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function Se(o){const u={};for(const f in o)u[f]=o[f];return u}const yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(o,u){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)o[f]=g[f];for(let I=0;I<yt.length;I++)f=yt[I],Object.prototype.hasOwnProperty.call(g,f)&&(o[f]=g[f])}}function vt(o){this.src=o,this.g={},this.h=0}vt.prototype.add=function(o,u,f,g,D){const I=o.toString();o=this.g[I],o||(o=this.g[I]=[],this.h++);const B=Fn(o,u,g,D);return B>-1?(u=o[B],f||(u.fa=!1)):(u=new X(u,this.src,I,!!g,D),u.fa=f,o.push(u)),u};function de(o,u){const f=u.type;if(f in o.g){var g=o.g[f],D=Array.prototype.indexOf.call(g,u,void 0),I;(I=D>=0)&&Array.prototype.splice.call(g,D,1),I&&(F(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Fn(o,u,f,g){for(let D=0;D<o.length;++D){const I=o[D];if(!I.da&&I.listener==u&&I.capture==!!f&&I.ha==g)return D}return-1}var Tr="closure_lm_"+(Math.random()*1e6|0),Nn={};function Ra(o,u,f,g,D){if(Array.isArray(u)){for(let I=0;I<u.length;I++)Ra(o,u[I],f,g,D);return null}return f=Kn(f),o&&o[ae]?o.J(u,f,l(g)?!!g.capture:!1,D):ka(o,u,f,!1,g,D)}function ka(o,u,f,g,D,I){if(!u)throw Error("Invalid event type");const B=l(D)?!!D.capture:!!D;let Q=wr(o);if(Q||(o[Tr]=Q=new vt(o)),f=Q.add(u,f,g,B,I),f.proxy)return f;if(g=bl(),f.proxy=g,g.src=o,g.listener=f,o.addEventListener)C||(D=B),D===void 0&&(D=!1),o.addEventListener(u.toString(),g,D);else if(o.attachEvent)o.attachEvent(Ar(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function bl(){function o(f){return u.call(o.src,o.listener,f)}const u=Yn;return o}function Da(o,u,f,g,D){if(Array.isArray(u))for(var I=0;I<u.length;I++)Da(o,u[I],f,g,D);else g=l(g)?!!g.capture:!!g,f=Kn(f),o&&o[ae]?(o=o.i,I=String(u).toString(),I in o.g&&(u=o.g[I],f=Fn(u,f,g,D),f>-1&&(F(u[f]),Array.prototype.splice.call(u,f,1),u.length==0&&(delete o.g[I],o.h--)))):o&&(o=wr(o))&&(u=o.g[u.toString()],o=-1,u&&(o=Fn(u,f,g,D)),(f=o>-1?u[o]:null)&&On(f))}function On(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[ae])de(u.i,o);else{var f=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(f,g,o.capture):u.detachEvent?u.detachEvent(Ar(f),g):u.addListener&&u.removeListener&&u.removeListener(g),(f=wr(u))?(de(f,o),f.h==0&&(f.src=null,u[Tr]=null)):F(o)}}}function Ar(o){return o in Nn?Nn[o]:Nn[o]="on"+o}function Yn(o,u){if(o.da)o=!0;else{u=new se(u,this);const f=o.listener,g=o.ha||o.src;o.fa&&On(o),o=f.call(g,u)}return o}function wr(o){return o=o[Tr],o instanceof vt?o:null}var Nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kn(o){return typeof o=="function"?o:(o[Nr]||(o[Nr]=function(u){return o.handleEvent(u)}),o[Nr])}function Pe(){S.call(this),this.i=new vt(this),this.M=this,this.G=null}m(Pe,S),Pe.prototype[ae]=!0,Pe.prototype.removeEventListener=function(o,u,f,g){Da(this,o,u,f,g)};function qe(o,u){var f,g=o.G;if(g)for(f=[];g;g=g.G)f.push(g);if(o=o.M,g=u.type||u,typeof u=="string")u=new T(u,o);else if(u instanceof T)u.target=u.target||o;else{var D=u;u=new T(g,o),Re(u,D)}D=!0;let I,B;if(f)for(B=f.length-1;B>=0;B--)I=u.g=f[B],D=Or(I,g,!0,u)&&D;if(I=u.g=o,D=Or(I,g,!0,u)&&D,D=Or(I,g,!1,u)&&D,f)for(B=0;B<f.length;B++)I=u.g=f[B],D=Or(I,g,!1,u)&&D}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const f=o.g[u];for(let g=0;g<f.length;g++)F(f[g]);delete o.g[u],o.h--}}this.G=null},Pe.prototype.J=function(o,u,f,g){return this.i.add(String(o),u,!1,f,g)},Pe.prototype.K=function(o,u,f,g){return this.i.add(String(o),u,!0,f,g)};function Or(o,u,f,g){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let D=!0;for(let I=0;I<u.length;++I){const B=u[I];if(B&&!B.da&&B.capture==f){const Q=B.listener,We=B.ha||B.src;B.fa&&de(o.i,B),D=Q.call(We,g)!==!1&&D}}return D&&!g.defaultPrevented}function El(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function Tl(o){o.g=El(()=>{o.g=null,o.i&&(o.i=!1,Tl(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class Ia extends S{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(o){S.call(this),this.h=o,this.g={}}m(pn,S);var Jn=[];function Mt(o){he(o.g,function(u,f){this.g.hasOwnProperty(f)&&On(u)},o),o.g={}}pn.prototype.N=function(){pn.Z.N.call(this),Mt(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=a.JSON.stringify,Al=a.JSON.parse,wl=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function gs(){}function Nl(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oi(){T.call(this,"d")}m(Oi,T);function Ut(){T.call(this,"c")}m(Ut,T);var Lt={},ys=null;function Cr(){return ys=ys||new Pe}Lt.Ia="serverreachability";function Ol(o){T.call(this,Lt.Ia,o)}m(Ol,T);function Cn(o){const u=Cr();qe(u,new Ol(u))}Lt.STAT_EVENT="statevent";function Rr(o,u){T.call(this,Lt.STAT_EVENT,o),this.stat=u}m(Rr,T);function ut(o){const u=Cr();qe(u,new Rr(u,o))}Lt.Ja="timingevent";function xi(o,u){T.call(this,Lt.Ja,o),this.size=u}m(xi,T);function kr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function Dr(){this.g=!0}Dr.prototype.ua=function(){this.g=!1};function He(o,u,f,g,D,I){o.info(function(){if(o.g)if(I){var B="",Q=I.split("&");for(let be=0;be<Q.length;be++){var We=Q[be].split("=");if(We.length>1){const it=We[0];We=We[1];const kn=it.split("_");B=kn.length>=2&&kn[1]=="type"?B+(it+"="+We+"&"):B+(it+"=redacted&")}}}else B=null;else B=I;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+u+`
`+f+`
`+B})}function Ci(o,u,f,g,D,I,B){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+u+`
`+f+`
`+I+" "+B})}function Ri(o,u,f,g){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+za(o,f)+(g?" "+g:"")})}function xl(o,u){o.info(function(){return"TIMEOUT: "+u})}Dr.prototype.info=function(){};function za(o,u){if(!o.g)return u;if(!u)return null;try{const I=JSON.parse(u);if(I){for(o=0;o<I.length;o++)if(Array.isArray(I[o])){var f=I[o];if(!(f.length<2)){var g=f[1];if(Array.isArray(g)&&!(g.length<1)){var D=g[0];if(D!="noop"&&D!="stop"&&D!="close")for(let B=1;B<g.length;B++)g[B]=""}}}}return xr(I)}catch{return u}}var vs={NO_ERROR:0,TIMEOUT:8},Cl={},Rl;function wt(){}m(wt,gs),wt.prototype.g=function(){return new XMLHttpRequest},Rl=new wt;function jt(o){return encodeURIComponent(String(o))}function kl(o){var u=1;o=o.split(":");const f=[];for(;u>0&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function gn(o,u,f,g){this.j=o,this.i=u,this.l=f,this.S=g||1,this.V=new pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _s}function _s(){this.i=null,this.g="",this.h=!1}var Ma={},Pt={};function Ss(o,u,f){o.M=1,o.A=Il(Rn(u)),o.u=f,o.R=!0,Ua(o,null)}function Ua(o,u){o.F=Date.now(),q(o),o.B=Rn(o.A);var f=o.B,g=o.S;Array.isArray(g)||(g=[String(g)]),Jm(f.i,"t",g),o.C=0,f=o.j.L,o.h=new _s,o.g=pp(o.j,f?u:null,!o.u),o.P>0&&(o.O=new Ia(h(o.Y,o,o.g),o.P)),u=o.V,f=o.g,g=o.ba;var D="readystatechange";Array.isArray(D)||(D&&(Jn[0]=D.toString()),D=Jn);for(let I=0;I<D.length;I++){const B=Ra(f,D[I],g||u.handleEvent,!1,u.h||u);if(!B)break;u.g[B.key]=B}u=o.J?Se(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),Cn(),He(o.i,o.v,o.B,o.l,o.S,o.u)}gn.prototype.ba=function(o){o=o.target;const u=this.O;u&&Ii(o)==3?u.j():this.Y(o)},gn.prototype.Y=function(o){try{if(o==this.g)e:{const Q=Ii(this.g),We=this.g.ya(),be=this.g.ca();if(!(Q<3)&&(Q!=3||this.g&&(this.h.h||this.g.la()||rp(this.g)))){this.K||Q!=4||We==7||(We==8||be<=0?Cn(3):Cn(2)),P(this);var u=this.g.ca();this.X=u;var f=Dl(this);if(this.o=u==200,Ci(this.i,this.v,this.B,this.l,this.S,Q,u),this.o){if(this.U&&!this.L){t:{if(this.g){var g,D=this.g;if((g=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(g)){var I=g;break t}}I=null}if(o=I)Ri(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,o);else{this.o=!1,this.m=3,ut(12),oe(this),G(this);break e}}if(this.R){o=!0;let it;for(;!this.K&&this.C<f.length;)if(it=nf(this,f),it==Pt){Q==4&&(this.m=4,ut(14),o=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(it==Ma){this.m=4,ut(15),Ri(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Ri(this.i,this.l,it,null),$e(this,it);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Q!=4||f.length!=0||this.h.h||(this.m=1,ut(16),o=!1),this.o=this.o&&o,!o)Ri(this.i,this.l,f,"[Invalid Chunked Response]"),oe(this),G(this);else if(f.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),uf(B),B.P=!0,ut(11))}}else Ri(this.i,this.l,f,null),$e(this,f);Q==4&&oe(this),this.o&&!this.K&&(Q==4?fp(this.j,this):(this.o=!1,q(this)))}else I1(this.g),u==400&&f.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),oe(this),G(this)}}}catch{}finally{}};function Dl(o){if(!La(o))return o.g.la();const u=rp(o.g);if(u==="")return"";let f="";const g=u.length,D=Ii(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return oe(o),G(o),"";o.h.i=new a.TextDecoder}for(let I=0;I<g;I++)o.h.h=!0,f+=o.h.i.decode(u[I],{stream:!(D&&I==g-1)});return u.length=0,o.h.g+=f,o.C=0,o.h.g}function La(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function nf(o,u){var f=o.C,g=u.indexOf(`
`,f);return g==-1?Pt:(f=Number(u.substring(f,g)),isNaN(f)?Ma:(g+=1,g+f>u.length?Pt:(u=u.slice(g,g+f),o.C=g+f,u)))}gn.prototype.cancel=function(){this.K=!0,oe(this)};function q(o){o.T=Date.now()+o.H,O(o,o.H)}function O(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=kr(h(o.aa,o),u)}function P(o){o.D&&(a.clearTimeout(o.D),o.D=null)}gn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(xl(this.i,this.B),this.M!=2&&(Cn(),ut(17)),oe(this),this.m=2,G(this)):O(this,this.T-o)};function G(o){o.j.I==0||o.K||fp(o.j,o)}function oe(o){P(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,Mt(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function $e(o,u){try{var f=o.j;if(f.I!=0&&(f.g==o||Ir(f.h,o))){if(!o.L&&Ir(f.h,o)&&f.I==3){try{var g=f.Ba.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)jl(f),Ul(f);else break e;lf(f),ut(18)}}else f.xa=D[1],0<f.xa-f.K&&D[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=kr(h(f.Va,f),6e3));Qn(f.h)<=1&&f.ta&&(f.ta=void 0)}else Mr(f,11)}else if((o.L||f.g==o)&&jl(f),!A(u))for(D=f.Ba.g.parse(u),u=0;u<D.length;u++){let be=D[u];const it=be[0];if(!(it<=f.K))if(f.K=it,be=be[1],f.I==2)if(be[0]=="c"){f.M=be[1],f.ba=be[2];const kn=be[3];kn!=null&&(f.ka=kn,f.j.info("VER="+f.ka));const Ur=be[4];Ur!=null&&(f.za=Ur,f.j.info("SVER="+f.za));const zi=be[5];zi!=null&&typeof zi=="number"&&zi>0&&(g=1.5*zi,f.O=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const Mi=o.g;if(Mi){const Pl=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var I=g.h;I.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(Be(I,I.h),I.h=null))}if(g.G){const cf=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;cf&&(g.wa=cf,Ne(g.J,g.G,cf))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),g=f;var B=o;if(g.na=mp(g,g.L?g.ba:null,g.W),B.L){ja(g.h,B);var Q=B,We=g.O;We&&(Q.H=We),Q.D&&(P(Q),q(Q)),g.g=B}else up(g);f.i.length>0&&Ll(f)}else be[0]!="stop"&&be[0]!="close"||Mr(f,7);else f.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Mr(f,7):of(f):be[0]!="noop"&&f.l&&f.l.qa(be),f.A=0)}}Cn(4)}catch{}}var ze=class{constructor(o,u){this.g=o,this.map=u}};function ct(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jt(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Qn(o){return o.h?1:o.g?o.g.size:0}function Ir(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Be(o,u){o.g?o.g.add(u):o.h=u}function ja(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}ct.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pa(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.G);return u}return b(o.i)}var $m=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b1(o,u){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const g=o[f].indexOf("=");let D,I=null;g>=0?(D=o[f].substring(0,g),I=o[f].substring(g+1)):D=o[f],u(D,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function ki(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof ki?(this.l=o.l,Ha(this,o.j),this.o=o.o,this.g=o.g,Ba(this,o.u),this.h=o.h,rf(this,Qm(o.i)),this.m=o.m):o&&(u=String(o).match($m))?(this.l=!1,Ha(this,u[1]||"",!0),this.o=Va(u[2]||""),this.g=Va(u[3]||"",!0),Ba(this,u[4]),this.h=Va(u[5]||"",!0),rf(this,u[6]||"",!0),this.m=Va(u[7]||"")):(this.l=!1,this.i=new Ga(null,this.l))}ki.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(Za(u,Xm,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Za(u,Xm,!0),"@"),o.push(jt(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Za(f,f.charAt(0)=="/"?A1:T1,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Za(f,N1)),o.join("")},ki.prototype.resolve=function(o){const u=Rn(this);let f=!!o.j;f?Ha(u,o.j):f=!!o.o,f?u.o=o.o:f=!!o.g,f?u.g=o.g:f=o.u!=null;var g=o.h;if(f)Ba(u,o.u);else if(f=!!o.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var D=u.h.lastIndexOf("/");D!=-1&&(g=u.h.slice(0,D+1)+g)}if(D=g,D==".."||D==".")g="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){g=D.lastIndexOf("/",0)==0,D=D.split("/");const I=[];for(let B=0;B<D.length;){const Q=D[B++];Q=="."?g&&B==D.length&&I.push(""):Q==".."?((I.length>1||I.length==1&&I[0]!="")&&I.pop(),g&&B==D.length&&I.push("")):(I.push(Q),g=!0)}g=I.join("/")}else g=D}return f?u.h=g:f=o.i.toString()!=="",f?rf(u,Qm(o.i)):f=!!o.m,f&&(u.m=o.m),u};function Rn(o){return new ki(o)}function Ha(o,u,f){o.j=f?Va(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Ba(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function rf(o,u,f){u instanceof Ga?(o.i=u,O1(o.i,o.l)):(f||(u=Za(u,w1)),o.i=new Ga(u,o.l))}function Ne(o,u,f){o.i.set(u,f)}function Il(o){return Ne(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Va(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Za(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,E1),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function E1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Xm=/[#\/\?@]/g,T1=/[#\?:]/g,A1=/[#\?]/g,w1=/[#\?@]/g,N1=/#/g;function Ga(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function zr(o){o.g||(o.g=new Map,o.h=0,o.i&&b1(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}e=Ga.prototype,e.add=function(o,u){zr(this),this.i=null,o=bs(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function Fm(o,u){zr(o),u=bs(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Ym(o,u){return zr(o),u=bs(o,u),o.g.has(u)}e.forEach=function(o,u){zr(this),this.g.forEach(function(f,g){f.forEach(function(D){o.call(u,D,g,this)},this)},this)};function Km(o,u){zr(o);let f=[];if(typeof u=="string")Ym(o,u)&&(f=f.concat(o.g.get(bs(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)f=f.concat(o[u]);return f}e.set=function(o,u){return zr(this),this.i=null,o=bs(this,o),Ym(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=Km(this,o),o.length>0?String(o[0]):u):u};function Jm(o,u,f){Fm(o,u),f.length>0&&(o.i=null,o.g.set(bs(o,u),b(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let g=0;g<u.length;g++){var f=u[g];const D=jt(f);f=Km(this,f);for(let I=0;I<f.length;I++){let B=D;f[I]!==""&&(B+="="+jt(f[I])),o.push(B)}}return this.i=o.join("&")};function Qm(o){const u=new Ga;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function bs(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function O1(o,u){u&&!o.j&&(zr(o),o.i=null,o.g.forEach(function(f,g){const D=g.toLowerCase();g!=D&&(Fm(this,g),Jm(this,D,f))},o)),o.j=u}function x1(o,u){const f=new Dr;if(a.Image){const g=new Image;g.onload=d(Di,f,"TestLoadImage: loaded",!0,u,g),g.onerror=d(Di,f,"TestLoadImage: error",!1,u,g),g.onabort=d(Di,f,"TestLoadImage: abort",!1,u,g),g.ontimeout=d(Di,f,"TestLoadImage: timeout",!1,u,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else u(!1)}function C1(o,u){const f=new Dr,g=new AbortController,D=setTimeout(()=>{g.abort(),Di(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:g.signal}).then(I=>{clearTimeout(D),I.ok?Di(f,"TestPingServer: ok",!0,u):Di(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(D),Di(f,"TestPingServer: error",!1,u)})}function Di(o,u,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function R1(){this.g=new wl}function sf(o){this.i=o.Sb||null,this.h=o.ab||!1}m(sf,gs),sf.prototype.g=function(){return new zl(this.i,this.h)};function zl(o,u){Pe.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(zl,Pe),e=zl.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,$a(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wm(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wm(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?qa(this):$a(this),this.readyState==3&&Wm(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,qa(this))},e.Na=function(o){this.g&&(this.response=o,qa(this))},e.ga=function(){this.g&&qa(this)};function qa(o){o.readyState=4,o.l=null,o.j=null,o.B=null,$a(o)}e.setRequestHeader=function(o,u){this.A.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function $a(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ep(o){let u="";return he(o,function(f,g){u+=g,u+=":",u+=f,u+=`\r
`}),u}function af(o,u,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ep(f),typeof o=="string"?f!=null&&jt(f):Ne(o,u,f))}function Ve(o){Pe.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ve,Pe);var k1=/^https?$/i,D1=["POST","PUT"];e=Ve.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,u,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=p(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(I){tp(this,I);return}if(o=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const I of g.keys())f.set(I,g.get(I));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(I=>I.toLowerCase()=="content-type"),D=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(D1,u,void 0)>=0)||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[I,B]of f)this.g.setRequestHeader(I,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(I){tp(this,I)}};function tp(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,np(o),Ml(o)}function np(o){o.A||(o.A=!0,qe(o,"complete"),qe(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,qe(this,"complete"),qe(this,"abort"),Ml(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),Ve.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ip(this):this.Xa())},e.Xa=function(){ip(this)};function ip(o){if(o.h&&typeof s<"u"){if(o.v&&Ii(o)==4)setTimeout(o.Ca.bind(o),0);else if(qe(o,"readystatechange"),Ii(o)==4){o.h=!1;try{const I=o.ca();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var g;if(g=I===0){let B=String(o.D).match($m)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),g=!k1.test(B?B.toLowerCase():"")}f=g}if(f)qe(o,"complete"),qe(o,"success");else{o.o=6;try{var D=Ii(o)>2?o.g.statusText:""}catch{D=""}o.l=D+" ["+o.ca()+"]",np(o)}}finally{Ml(o)}}}}function Ml(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,u||qe(o,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ii(o){return o.g?o.g.readyState:0}e.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),Al(u)}};function rp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function I1(o){const u={};o=(o.g&&Ii(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(A(o[g]))continue;var f=kl(o[g]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const I=u[D]||[];u[D]=I,I.push(f)}we(u,function(g){return g.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function sp(o){this.za=0,this.i=[],this.j=new Dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xa("baseRetryDelayMs",5e3,o),this.Za=Xa("retryDelaySeedMs",1e4,o),this.Ta=Xa("forwardChannelMaxRetries",2,o),this.va=Xa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new ct(o&&o.concurrentRequestLimit),this.Ba=new R1,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=sp.prototype,e.ka=8,e.I=1,e.connect=function(o,u,f,g){ut(0),this.W=o,this.H=u||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.J=mp(this,null,this.W),Ll(this)};function of(o){if(ap(o),o.I==3){var u=o.V++,f=Rn(o.J);if(Ne(f,"SID",o.M),Ne(f,"RID",u),Ne(f,"TYPE","terminate"),Fa(o,f),u=new gn(o,o.j,u),u.M=2,u.A=Il(Rn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=u.A,f=!0),f||(u.g=pp(u.j,null),u.g.ea(u.A)),u.F=Date.now(),q(u)}dp(o)}function Ul(o){o.g&&(uf(o),o.g.cancel(),o.g=null)}function ap(o){Ul(o),o.v&&(a.clearTimeout(o.v),o.v=null),jl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ll(o){if(!Jt(o.h)&&!o.m){o.m=!0;var u=o.Ea;j||v(),Z||(j(),Z=!0),E.add(u,o),o.D=0}}function z1(o,u){return Qn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=kr(h(o.Ea,o,u),hp(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const D=new gn(this,this.j,o);let I=this.o;if(this.U&&(I?(I=Se(I),Re(I,this.U)):I=this.U),this.u!==null||this.R||(D.J=I,I=null),this.S)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,u>4096){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=lp(this,D,u),f=Rn(this.J),Ne(f,"RID",o),Ne(f,"CVER",22),this.G&&Ne(f,"X-HTTP-Session-Id",this.G),Fa(this,f),I&&(this.R?u="headers="+jt(ep(I))+"&"+u:this.u&&af(f,this.u,I)),Be(this.h,D),this.Ra&&Ne(f,"TYPE","init"),this.S?(Ne(f,"$req",u),Ne(f,"SID","null"),D.U=!0,Ss(D,f,null)):Ss(D,f,u),this.I=2}}else this.I==3&&(o?op(this,o):this.i.length==0||Jt(this.h)||op(this))};function op(o,u){var f;u?f=u.l:f=o.V++;const g=Rn(o.J);Ne(g,"SID",o.M),Ne(g,"RID",f),Ne(g,"AID",o.K),Fa(o,g),o.u&&o.o&&af(g,o.u,o.o),f=new gn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),u&&(o.i=u.G.concat(o.i)),u=lp(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Be(o.h,f),Ss(f,g,u)}function Fa(o,u){o.H&&he(o.H,function(f,g){Ne(u,g,f)}),o.l&&he({},function(f,g){Ne(u,g,f)})}function lp(o,u,f){f=Math.min(o.i.length,f);const g=o.l?h(o.l.Ka,o.l,o):null;e:{var D=o.i;let Q=-1;for(;;){const We=["count="+f];Q==-1?f>0?(Q=D[0].g,We.push("ofs="+Q)):Q=0:We.push("ofs="+Q);let be=!0;for(let it=0;it<f;it++){var I=D[it].g;const kn=D[it].map;if(I-=Q,I<0)Q=Math.max(0,D[it].g-100),be=!1;else try{I="req"+I+"_"||"";try{var B=kn instanceof Map?kn:Object.entries(kn);for(const[Ur,zi]of B){let Mi=zi;l(zi)&&(Mi=xr(zi)),We.push(I+Ur+"="+encodeURIComponent(Mi))}}catch(Ur){throw We.push(I+"type="+encodeURIComponent("_badmap")),Ur}}catch{g&&g(kn)}}if(be){B=We.join("&");break e}}B=void 0}return o=o.i.splice(0,f),u.G=o,B}function up(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;j||v(),Z||(j(),Z=!0),E.add(u,o),o.A=0}}function lf(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=kr(h(o.Da,o),hp(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,cp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=kr(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),Ul(this),cp(this))};function uf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function cp(o){o.g=new gn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=Rn(o.na);Ne(u,"RID","rpc"),Ne(u,"SID",o.M),Ne(u,"AID",o.K),Ne(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ne(u,"TO",o.ia),Ne(u,"TYPE","xmlhttp"),Fa(o,u),o.u&&o.o&&af(u,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=Il(Rn(u)),f.u=null,f.R=!0,Ua(f,o)}e.Va=function(){this.C!=null&&(this.C=null,Ul(this),lf(this),ut(19))};function jl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function fp(o,u){var f=null;if(o.g==u){jl(o),uf(o),o.g=null;var g=2}else if(Ir(o.h,u))f=u.G,ja(o.h,u),g=1;else return;if(o.I!=0){if(u.o)if(g==1){f=u.u?u.u.length:0,u=Date.now()-u.F;var D=o.D;g=Cr(),qe(g,new xi(g,f)),Ll(o)}else up(o);else if(D=u.m,D==3||D==0&&u.X>0||!(g==1&&z1(o,u)||g==2&&lf(o)))switch(f&&f.length>0&&(u=o.h,u.i=u.i.concat(f)),D){case 1:Mr(o,5);break;case 4:Mr(o,10);break;case 3:Mr(o,6);break;default:Mr(o,2)}}}function hp(o,u){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*u}function Mr(o,u){if(o.j.info("Error code "+u),u==2){var f=h(o.bb,o),g=o.Ua;const D=!g;g=new ki(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ha(g,"https"),Il(g),D?x1(g.toString(),f):C1(g.toString(),f)}else ut(2);o.I=0,o.l&&o.l.pa(u),dp(o),ap(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function dp(o){if(o.I=0,o.ja=[],o.l){const u=Pa(o.h);(u.length!=0||o.i.length!=0)&&(k(o.ja,u),k(o.ja,o.i),o.h.i.length=0,b(o.i),o.i.length=0),o.l.oa()}}function mp(o,u,f){var g=f instanceof ki?Rn(f):new ki(f);if(g.g!="")u&&(g.g=u+"."+g.g),Ba(g,g.u);else{var D=a.location;g=D.protocol,u=u?u+"."+D.hostname:D.hostname,D=+D.port;const I=new ki(null);g&&Ha(I,g),u&&(I.g=u),D&&Ba(I,D),f&&(I.h=f),g=I}return f=o.G,u=o.wa,f&&u&&Ne(g,f,u),Ne(g,"VER",o.ka),Fa(o,g),g}function pp(o,u,f){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new Ve(new sf({ab:f})):new Ve(o.ma),u.Fa(o.L),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function gp(){}e=gp.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Qt(o,u){Pe.call(this),this.g=new sp(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!A(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!A(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Es(this)}m(Qt,Pe),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){of(this.g)},Qt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=xr(o),o=f);u.i.push(new ze(u.Ya++,o)),u.I==3&&Ll(u)},Qt.prototype.N=function(){this.g.l=null,delete this.j,of(this.g),delete this.g,Qt.Z.N.call(this)};function yp(o){Oi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const f in u){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}m(yp,Oi);function vp(){Ut.call(this),this.status=1}m(vp,Ut);function Es(o){this.g=o}m(Es,gp),Es.prototype.ra=function(){qe(this.g,"a")},Es.prototype.qa=function(o){qe(this.g,new yp(o))},Es.prototype.pa=function(o){qe(this.g,new vp)},Es.prototype.oa=function(){qe(this.g,"b")},Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,Cl.COMPLETE="complete",Nl.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,Ve.prototype.listenOnce=Ve.prototype.K,Ve.prototype.getLastError=Ve.prototype.Ha,Ve.prototype.getLastErrorCode=Ve.prototype.ya,Ve.prototype.getStatus=Ve.prototype.ca,Ve.prototype.getResponseJson=Ve.prototype.La,Ve.prototype.getResponseText=Ve.prototype.la,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Fa}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc="12.8.0";function i4(e){Yc=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new wm("@firebase/firestore");function Tn(e,...t){if(yc.logLevel<=pe.DEBUG){const n=t.map(vb);yc.debug(`Firestore (${Yc}): ${e}`,...n)}}function yb(e,...t){if(yc.logLevel<=pe.ERROR){const n=t.map(vb);yc.error(`Firestore (${Yc}): ${e}`,...n)}}function vb(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,_b(e,i,n)}function _b(e,t,n){let i=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw yb(i),new Error(i)}function Io(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||_b(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ue extends Xn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class a4{constructor(t){this.t=t,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Io(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zo,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{Tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zo)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Io(typeof i.accessToken=="string",31837,{l:i}),new r4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Io(t===null||typeof t=="string",2055,{h:t}),new Bt(t)}}class o4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class l4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new o4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Io(this.o===void 0,3512);const i=s=>{s.error!=null&&Tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Tn("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Io(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=c4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function gr(e,t){return e<t?-1:e>t?1:0}function h4(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return sh(r)===sh(s)?gr(r,s):sh(r)?1:-1}return gr(e.length,t.length)}const d4=55296,m4=57343;function sh(e){const t=e.charCodeAt(0);return t>=d4&&t<=m4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class In{constructor(t,n,i){n===void 0?n=0:n>t.length&&vc(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&vc(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return In.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof In?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=In.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return gr(t.length,n.length)}static compareSegments(t,n){const i=In.isNumericId(t),r=In.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?In.extractNumericId(t).compare(In.extractNumericId(n)):h4(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mm.fromString(t.substring(4,t.length-2))}}class Sn extends In{construct(t,n,i){return new Sn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ue(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Sn(n)}static emptyPath(){return new Sn([])}}const p4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends In{construct(t,n,i){return new Zr(t,n,i)}static isValidIdentifier(t){return p4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new Zr([Cy])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ue(le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new ue(le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ue(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new ue(le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zr(n)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.path=t}static fromPath(t){return new qr(Sn.fromString(t))}static fromName(t){return new qr(Sn.fromString(t).popFirst(5))}static empty(){return new qr(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Sn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Sn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qr(new Sn(t.slice()))}}function g4(e,t,n,i){if(t===!0&&i===!0)throw new ue(le.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function y4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sl(e,t){if(!y4(e))throw new ue(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new ue(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,ky=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(t){return Mn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*ky);return new Mn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ue(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ry)throw new ue(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ky}_compareTo(t){return this.seconds===t.seconds?gr(this.nanoseconds,t.nanoseconds):gr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sl(t,Mn._jsonSchema))return new Mn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ry;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mn._jsonSchemaVersion="firestore/timestamp/1.0",Mn._jsonSchema={type:Je("string",Mn._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};function v4(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _4("Invalid base64 string: "+s):s}}(t);return new ls(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new ls(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const Dy="(default)";class _c{constructor(t,n){this.projectId=t,this.database=n||Dy}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===Dy}isEqual(t){return t instanceof _c&&t.projectId===this.projectId&&t.database===this.database}}function S4(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ue(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function E4(e){return new b4(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iy,re;(re=Iy||(Iy={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Mm([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=1048576;function ah(){return typeof document<"u"?document:null}class w4{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&Tn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new Um(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var zy,My;(My=zy||(zy={})).Ma="default",My.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="ComponentProvider",Uy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firestore.googleapis.com",Ly=!0;class jy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ue(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x4,this.ssl=Ly}else this.host=t.host,this.ssl=t.ssl??Ly;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<A4)throw new ue(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}g4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N4(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class C4{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new s4;switch(i.type){case"firstParty":return new l4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Uy.get(n);i&&(Tn(O4,"Removing Datastore"),Uy.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Lm(this.firestore,t,this._query)}}class Pn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pn(this.firestore,t,this._key)}toJSON(){return{type:Pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Sl(n,Pn._jsonSchema))return new Pn(t,i||null,new qr(Sn.fromString(n.referencePath)))}}Pn._jsonSchemaVersion="firestore/documentReference/1.0",Pn._jsonSchema={type:Je("string",Pn._jsonSchemaVersion),referencePath:Je("string")};class jm extends Lm{constructor(t,n,i){super(t,n,E4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pn(this.firestore,null,new qr(t))}withConverter(t){return new jm(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="AsyncQueue";class Hy{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w4(this,"async_queue_retry"),this._c=()=>{const i=ah();i&&Tn(Py,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!v4(t))throw t;Tn(Py,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,yb("INTERNAL UNHANDLED ERROR: ",By(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Um.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&vc(47125,{Pc:By(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function By(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class R4 extends C4{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new Hy,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Hy(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ui(ls.fromBase64String(t))}catch(n){throw new ue(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ui(ls.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sl(t,ui._jsonSchema))return ui.fromBase64String(t.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Je("string",ui._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ue(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ue(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ue(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return gr(this._lat,t._lat)||gr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(t){if(Sl(t,Jr._jsonSchema))return new Jr(t.latitude,t.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Je("string",Jr._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sl(t,Qr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Qr(t.vectorValues);throw new ue(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:Je("string",Qr._jsonSchemaVersion),vectorValues:Je("object")};function bb(e,t,n){if((t=dn(t))instanceof Sb)return t._internalPath;if(typeof t=="string")return D4(e,t);throw Sd("Field path arguments must be of type string or ",e)}const k4=new RegExp("[~\\*/\\[\\]]");function D4(e,t,n){if(t.search(k4)>=0)throw Sd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new Sb(...t.split("."))._internalPath}catch{throw Sd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Sd(e,t,n,i,r){let s=`Function ${t}() called with invalid data`;s+=". ";let a="";return new ue(le.INVALID_ARGUMENT,s+e+a)}const Vy="@firebase/firestore",Zy="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(bb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I4 extends Eb{data(){return super.data()}}class su{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ea extends Eb{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(bb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Je("string",ea._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Du extends ea{data(t={}){return super.data(t)}}class Mo{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new su(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Du(this._firestore,this._userDataWriter,i.key,i,new su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new Du(r._firestore,r._userDataWriter,l.doc.key,l.doc,new su(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Du(r._firestore,r._userDataWriter,l.doc.key,l.doc,new su(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:z4(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=f4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function z4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vc(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Je("string",Mo._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};(function(t,n=!0){i4(Oa),ss(new pr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new R4(new a4(i.getProvider("auth-internal")),new u4(a,i.getProvider("app-check-internal")),S4(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Bn(Vy,Zy,t),Bn(Vy,Zy,"esm2020")})();const Tb={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},M4=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let au=null,oh=null,ou=null;function Ab(){if(!au){const e=T2();e.length>0?au=e[0]:au=kS(Tb)}return au}function lh(){return oh||(oh=t4(Ab())),oh}function tl(){if(!ou&&(ou=W2(Ab()),M4&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{jS(ou,"localhost",5001)}catch{}return ou}function Wi(){const e=Tb.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const U4=5e3,L4=2e3,wb=3e4,H6=3e4,Nb=30*1e3,Ob=2e3,B6=60*60*1e3,xb=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],j4=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],P4=["none","learning","familiar","mastered"];function Gy(e){return P4.indexOf(e)}function H4(e,t){return Gy(e)>=Gy(t)?e:t}function bd(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function B4(e,t){const n=new Set,i=[];for(const r of[...e,...t]){const s=`${r.timestamp}-${r.difficulty}-${r.score}`;n.has(s)||(n.add(s),i.push(r))}return i.sort((r,s)=>new Date(r.timestamp).getTime()-new Date(s.timestamp).getTime())}function V4(e,t){return e?t?{sectionId:e.sectionId,visitedAt:bd(e.visitedAt,t.visitedAt),completedAt:bd(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:B4(e.quizAttempts,t.quizAttempts),masteryLevel:H4(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function Z4(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const r of n){const s=V4(e[r],t[r]);s&&(i[r]=s)}return i}function G4(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:bd(e.joinedAt,t.joinedAt)||e.joinedAt}}function q4(e,t){const n=new Map;for(const i of[...t,...e]){const r=n.get(i.id);r?(i.unlockedAt&&!r.unlockedAt||!i.unlockedAt&&!r.unlockedAt&&i.progress>r.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function $4(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function X4(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function F4(e,t){return{version:Math.max(e.version,t.version),user:G4(e.user,t.user),sections:Z4(e.sections,t.sections),achievements:q4(e.achievements,t.achievements),streak:$4(e.streak,t.streak),dailyGoals:X4(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const si=$n("ProgressSync");class Y4{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!Wi())return si.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=tl(),i=await pa(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,si.info("Fetched progress from server")),i.data}catch(t){return si.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};si.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(si.info("Server has existing progress, merging with local"),i=F4(t,n.progress)):i=t;const r=await this.syncNow(i);return r.success?(si.info("Migration complete"),{success:!0,state:r.state||i,merged:n.found}):r}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},Nb),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},Ob))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Wi())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<wb)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=tl(),s=await pa(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=s.data.lastSyncedAt,this.pendingState=null,s.data.merged&&s.data.serverProgress?(si.info("Server merged states due to conflict"),Zc(s.data.serverProgress),this.setStatus("success"),{success:!0,state:s.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return si.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const r=await this.syncNow(t);if(r.success||r.error==="Not authenticated"||r.error==="Firebase not configured")return r;if(i<n-1){const s=1e3*Math.pow(2,i);si.debug(`Sync retry ${i+1}/${n} in ${s}ms`),await new Promise(a=>setTimeout(a,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let uh=null;function qy(){return uh||(uh=new Y4),uh}const zn=$n("NostrUtils"),Ed="qpzry9x8gf2tvdw0s3jn54khce6mua7l",K4=[996825010,642813549,513874426,1027748829,705979059];function Cb(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let r=0;r<5;r++)i>>r&1&&(t^=K4[r])}return t}function Rb(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function J4(e,t){return Cb([...Rb(e),...t])===1}function Q4(e,t){const n=[...Rb(e),...t,0,0,0,0,0,0],i=Cb(n)^1,r=[];for(let s=0;s<6;s++)r.push(i>>5*(5-s)&31);return r}function kb(e,t,n,i){let r=0,s=0;const a=[],l=(1<<n)-1;for(const c of e){if(c<0||c>>t)return null;for(r=r<<t|c,s+=t;s>=n;)s-=n,a.push(r>>s&l)}if(i)s>0&&a.push(r<<n-s&l);else if(s>=t||r<<n-s&l)return null;return a}function W4(e,t){const n=kb(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=Q4(e,n);let r=e+"1";for(const s of n)r+=Ed[s];for(const s of i)r+=Ed[s];return r}function ex(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,r=i.lastIndexOf("1");if(r<1||r+7>i.length||i.length>90)return null;const s=i.slice(0,r),a=i.slice(r+1),l=[];for(const d of a){const m=Ed.indexOf(d);if(m===-1)return null;l.push(m)}if(!J4(s,l))return null;const c=l.slice(0,-6),h=kb(new Uint8Array(c),5,8,!1);return h?{hrp:s,data:new Uint8Array(h)}:null}function tx(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function nx(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function ix(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=tx(e);return W4("npub",t)}function Db(e){const t=ex(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return nx(t.data)}async function rx(e){try{const t=Db(e),n=sx(),i=n.map(async a=>{try{return await Promise.race([Ib(a,t),new Promise(c=>setTimeout(()=>c(null),2e3))])}catch(l){return zn.debug(`Failed to fetch profile from relay ${a}:`,l),null}}),s=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return s.length>0?s[0]:(zn.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return zn.debug("Failed to convert npub to hex:",t),null}}function sx(){return[...xb,...j4]}function V6(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function Sc(){return typeof window<"u"&&typeof window.nostr<"u"}function ax(e=3e3){return new Promise(t=>{if(Sc()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Sc()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function Ib(e,t){return new Promise(n=>{let i=!1,r=null,s=null;const a=()=>{if(!i&&(i=!0,s&&(clearTimeout(s),s=null),r&&r.readyState!==WebSocket.CLOSED&&r.readyState!==WebSocket.CLOSING))try{r.close()}catch(c){zn.debug(`Error closing WebSocket for ${e}:`,c)}};s=setTimeout(()=>{zn.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},U4);try{r=new WebSocket(e)}catch(c){zn.debug(`Failed to create WebSocket for relay ${e}:`,c),a(),n(null);return}const l=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(!(i||!r))try{const c=JSON.stringify(["REQ",l,{kinds:[0],authors:[t],limit:1}]);r.send(c)}catch(c){zn.debug(`Failed to send subscription to ${e}:`,c),a(),n(null)}},r.onmessage=c=>{if(!i)try{const h=JSON.parse(c.data);if(h[0]==="EVENT"&&h[1]===l){const d=JSON.parse(h[2].content);a(),n({name:d.name||d.display_name,display_name:d.display_name,nip05:d.nip05,picture:d.picture,about:d.about})}else h[0]==="EOSE"&&(a(),n(null))}catch(h){zn.debug(`Failed to parse WebSocket message from ${e}:`,h)}},r.onerror=c=>{zn.debug(`WebSocket error for relay ${e}:`,c),a(),n(null)},r.onclose=c=>{i||(zn.debug(`WebSocket closed for ${e}, code: ${c.code}, reason: ${c.reason}`),a(),n(null))}})}async function Z6(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const s=e.slice(i,i+n).map(async a=>{const l=await rx(a);l&&t.set(a,l)});await Promise.all(s)}return t}const ox=22242;function M(e,t,n){function i(l,c){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,c);const h=a.prototype,d=Object.keys(h);for(let m=0;m<d.length;m++){const p=d[m];p in l||(l[p]=h[p].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class s extends r{}Object.defineProperty(s,"name",{value:e});function a(l){var c;const h=n!=null&&n.Parent?new s:this;i(h,l),(c=h._zod).deferred??(c.deferred=[]);for(const d of h._zod.deferred)d();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var c,h;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(h=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:h.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class ta extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class zb extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Mb={};function yr(e){return Mb}function Ub(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,r])=>t.indexOf(+i)===-1).map(([i,r])=>r)}function Td(e,t){return typeof t=="bigint"?t.toString():t}function Pm(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Hm(e){return e==null}function Bm(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function lx(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const c=i.match(/\d?e-(\d?)/);c!=null&&c[1]&&(r=Number.parseInt(c[1]))}const s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return a%l/10**s}const $y=Symbol("evaluating");function ye(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==$y)return i===void 0&&(i=$y,i=n()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function ms(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function br(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function Xy(e){return JSON.stringify(e)}function ux(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Lb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function bc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const cx=Pm(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ga(e){if(bc(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(bc(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function jb(e){return ga(e)?{...e}:Array.isArray(e)?[...e]:e}const fx=new Set(["string","number","symbol"]);function Kc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Er(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function $(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function hx(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const dx={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function mx(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=br(e._zod.def,{get shape(){const a={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(a[l]=n.shape[l])}return ms(this,"shape",a),a},checks:[]});return Er(e,s)}function px(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=br(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete a[l]}return ms(this,"shape",a),a},checks:[]});return Er(e,s)}function gx(e,t){if(!ga(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(s,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=br(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return ms(this,"shape",s),s}});return Er(e,r)}function yx(e,t){if(!ga(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=br(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return ms(this,"shape",i),i}});return Er(e,n)}function vx(e,t){const n=br(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return ms(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return Er(e,n)}function _x(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=br(t._zod.def,{get shape(){const l=t._zod.def.shape,c={...l};if(n)for(const h in n){if(!(h in l))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(c[h]=e?new e({type:"optional",innerType:l[h]}):l[h])}else for(const h in l)c[h]=e?new e({type:"optional",innerType:l[h]}):l[h];return ms(this,"shape",c),c},checks:[]});return Er(t,a)}function Sx(e,t,n){const i=br(t._zod.def,{get shape(){const r=t._zod.def.shape,s={...r};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new e({type:"nonoptional",innerType:r[a]}))}else for(const a in r)s[a]=new e({type:"nonoptional",innerType:r[a]});return ms(this,"shape",s),s}});return Er(t,i)}function Vs(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Zs(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function lu(e){return typeof e=="string"?e:e==null?void 0:e.message}function vr(e,t,n){var r,s,a,l,c,h;const i={...e,path:e.path??[]};if(!e.message){const d=lu((a=(s=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,e))??lu((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??lu((c=n.customError)==null?void 0:c.call(n,e))??lu((h=n.localeError)==null?void 0:h.call(n,e))??"Invalid input";i.message=d}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function Vm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function nl(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const Pb=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Td,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Hb=M("$ZodError",Pb),Bb=M("$ZodError",Pb,{Parent:Error});function bx(e,t=n=>n.message){const n={},i=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:n}}function Ex(e,t=n=>n.message){const n={_errors:[]},i=r=>{for(const s of r.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let a=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(e),n}const Zm=e=>(t,n,i,r)=>{const s=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new ta;if(a.issues.length){const l=new((r==null?void 0:r.Err)??e)(a.issues.map(c=>vr(c,s,yr())));throw Lb(l,r==null?void 0:r.callee),l}return a.value},Gm=e=>async(t,n,i,r)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((r==null?void 0:r.Err)??e)(a.issues.map(c=>vr(c,s,yr())));throw Lb(l,r==null?void 0:r.callee),l}return a.value},Jc=e=>(t,n,i)=>{const r=i?{...i,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},r);if(s instanceof Promise)throw new ta;return s.issues.length?{success:!1,error:new(e??Hb)(s.issues.map(a=>vr(a,r,yr())))}:{success:!0,data:s.value}},Tx=Jc(Bb),Qc=e=>async(t,n,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(a=>vr(a,r,yr())))}:{success:!0,data:s.value}},Ax=Qc(Bb),wx=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Zm(e)(t,n,r)},Nx=e=>(t,n,i)=>Zm(e)(t,n,i),Ox=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gm(e)(t,n,r)},xx=e=>async(t,n,i)=>Gm(e)(t,n,i),Cx=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Jc(e)(t,n,r)},Rx=e=>(t,n,i)=>Jc(e)(t,n,i),kx=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Qc(e)(t,n,r)},Dx=e=>async(t,n,i)=>Qc(e)(t,n,i),Ix=/^[cC][^\s-]{8,}$/,zx=/^[0-9a-z]+$/,Mx=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Ux=/^[0-9a-vA-V]{20}$/,Lx=/^[A-Za-z0-9]{27}$/,jx=/^[a-zA-Z0-9_-]{21}$/,Px=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Hx=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Fy=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Bx=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Vx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Zx(){return new RegExp(Vx,"u")}const Gx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qx=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$x=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Xx=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fx=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Vb=/^[A-Za-z0-9_-]*$/,Yx=/^\+[1-9]\d{6,14}$/,Zb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Kx=new RegExp(`^${Zb}$`);function Gb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Jx(e){return new RegExp(`^${Gb(e)}$`)}function Qx(e){const t=Gb({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${Zb}T(?:${i})$`)}const Wx=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},eC=/^-?\d+$/,qb=/^-?\d+(?:\.\d+)?$/,tC=/^(?:true|false)$/i,nC=/^[^A-Z]*$/,iC=/^[^a-z]*$/,zt=M("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),$b={number:"number",bigint:"bigint",object:"date"},Xb=M("$ZodCheckLessThan",(e,t)=>{zt.init(e,t);const n=$b[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Fb=M("$ZodCheckGreaterThan",(e,t)=>{zt.init(e,t);const n=$b[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),rC=M("$ZodCheckMultipleOf",(e,t)=>{zt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):lx(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),sC=M("$ZodCheckNumberFormat",(e,t)=>{var a;zt.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[r,s]=dx[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=r,c.maximum=s,n&&(c.pattern=eC)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}c<r&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),c>s&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),aC=M("$ZodCheckMaxLength",(e,t)=>{var n;zt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hm(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const r=i.value;if(r.length<=t.maximum)return;const a=Vm(r);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),oC=M("$ZodCheckMinLength",(e,t)=>{var n;zt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hm(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const r=i.value;if(r.length>=t.minimum)return;const a=Vm(r);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),lC=M("$ZodCheckLengthEquals",(e,t)=>{var n;zt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hm(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=i=>{const r=i.value,s=r.length;if(s===t.length)return;const a=Vm(r),l=s>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),Wc=M("$ZodCheckStringFormat",(e,t)=>{var n,i;zt.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),uC=M("$ZodCheckRegex",(e,t)=>{Wc.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),cC=M("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=nC),Wc.init(e,t)}),fC=M("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=iC),Wc.init(e,t)}),hC=M("$ZodCheckIncludes",(e,t)=>{zt.init(e,t);const n=Kc(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),dC=M("$ZodCheckStartsWith",(e,t)=>{zt.init(e,t);const n=new RegExp(`^${Kc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),mC=M("$ZodCheckEndsWith",(e,t)=>{zt.init(e,t);const n=new RegExp(`.*${Kc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),pC=M("$ZodCheckOverwrite",(e,t)=>{zt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class gC{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),r=Math.min(...i.map(a=>a.length-a.trimStart().length)),s=i.map(a=>a.slice(r)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,r.join(`
`))}}const yC={major:4,minor:3,patch:5},Le=M("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=yC;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const s of i)for(const a of s._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const s=(l,c,h)=>{let d=Vs(l),m;for(const p of c){if(p._zod.def.when){if(!p._zod.def.when(l))continue}else if(d)continue;const b=l.issues.length,k=p._zod.check(l);if(k instanceof Promise&&(h==null?void 0:h.async)===!1)throw new ta;if(m||k instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await k,l.issues.length!==b&&(d||(d=Vs(l,b)))});else{if(l.issues.length===b)continue;d||(d=Vs(l,b))}}return m?m.then(()=>l):l},a=(l,c,h)=>{if(Vs(l))return l.aborted=!0,l;const d=s(c,i,h);if(d instanceof Promise){if(h.async===!1)throw new ta;return d.then(m=>e._zod.parse(m,h))}return e._zod.parse(d,h)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(m=>a(m,l,c)):a(d,l,c)}const h=e._zod.parse(l,c);if(h instanceof Promise){if(c.async===!1)throw new ta;return h.then(d=>s(d,i,c))}return s(h,i,c)}}ye(e,"~standard",()=>({validate:s=>{var a;try{const l=Tx(e,s);return l.success?{value:l.data}:{issues:(a=l.error)==null?void 0:a.issues}}catch{return Ax(e,s).then(c=>{var h;return c.success?{value:c.data}:{issues:(h=c.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}))}),qm=M("$ZodString",(e,t)=>{var n;Le.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Wx(e._zod.bag),e._zod.parse=(i,r)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),De=M("$ZodStringFormat",(e,t)=>{Wc.init(e,t),qm.init(e,t)}),vC=M("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Hx),De.init(e,t)}),_C=M("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Fy(i))}else t.pattern??(t.pattern=Fy());De.init(e,t)}),SC=M("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Bx),De.init(e,t)}),bC=M("$ZodURL",(e,t)=>{De.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),r=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),EC=M("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Zx()),De.init(e,t)}),TC=M("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jx),De.init(e,t)}),AC=M("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ix),De.init(e,t)}),wC=M("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=zx),De.init(e,t)}),NC=M("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Mx),De.init(e,t)}),OC=M("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Ux),De.init(e,t)}),xC=M("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Lx),De.init(e,t)}),CC=M("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Qx(t)),De.init(e,t)}),RC=M("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Kx),De.init(e,t)}),kC=M("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Jx(t)),De.init(e,t)}),DC=M("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Px),De.init(e,t)}),IC=M("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Gx),De.init(e,t),e._zod.bag.format="ipv4"}),zC=M("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=qx),De.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),MC=M("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=$x),De.init(e,t)}),UC=M("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Xx),De.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[r,s]=i;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Yb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const LC=M("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Fx),De.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Yb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function jC(e){if(!Vb.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Yb(n)}const PC=M("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Vb),De.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{jC(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),HC=M("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Yx),De.init(e,t)});function BC(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const VC=M("$ZodJWT",(e,t)=>{De.init(e,t),e._zod.check=n=>{BC(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Kb=M("$ZodNumber",(e,t)=>{Le.init(e,t),e._zod.pattern=e._zod.bag.pattern??qb,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...s?{received:s}:{}}),n}}),ZC=M("$ZodNumberFormat",(e,t)=>{sC.init(e,t),Kb.init(e,t)}),GC=M("$ZodBoolean",(e,t)=>{Le.init(e,t),e._zod.pattern=tC,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),qC=M("$ZodUnknown",(e,t)=>{Le.init(e,t),e._zod.parse=n=>n}),$C=M("$ZodNever",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Yy(e,t,n){e.issues.length&&t.issues.push(...Zs(n,e.issues)),t.value[n]=e.value}const XC=M("$ZodArray",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const s=[];for(let a=0;a<r.length;a++){const l=r[a],c=t.element._zod.run({value:l,issues:[]},i);c instanceof Promise?s.push(c.then(h=>Yy(h,n,a))):Yy(c,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function Ec(e,t,n,i,r){if(e.issues.length){if(r&&!(n in i))return;t.issues.push(...Zs(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function Jb(e){var i,r,s,a;const t=Object.keys(e.shape);for(const l of t)if(!((a=(s=(r=(i=e.shape)==null?void 0:i[l])==null?void 0:r._zod)==null?void 0:s.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=hx(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Qb(e,t,n,i,r,s){const a=[],l=r.keySet,c=r.catchall._zod,h=c.def.type,d=c.optout==="optional";for(const m in t){if(l.has(m))continue;if(h==="never"){a.push(m);continue}const p=c.run({value:t[m],issues:[]},i);p instanceof Promise?e.push(p.then(b=>Ec(b,n,m,t,d))):Ec(p,n,m,t,d)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const FC=M("$ZodObject",(e,t)=>{Le.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...l};return Object.defineProperty(t,"shape",{value:c}),c}})}const i=Pm(()=>Jb(t));ye(e._zod,"propValues",()=>{const l=t.shape,c={};for(const h in l){const d=l[h]._zod;if(d.values){c[h]??(c[h]=new Set);for(const m of d.values)c[h].add(m)}}return c});const r=bc,s=t.catchall;let a;e._zod.parse=(l,c)=>{a??(a=i.value);const h=l.value;if(!r(h))return l.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),l;l.value={};const d=[],m=a.shape;for(const p of a.keys){const b=m[p],k=b._zod.optout==="optional",z=b._zod.run({value:h[p],issues:[]},c);z instanceof Promise?d.push(z.then(L=>Ec(L,l,p,h,k))):Ec(z,l,p,h,k)}return s?Qb(d,h,l,c,i.value,e):d.length?Promise.all(d).then(()=>l):l}}),YC=M("$ZodObjectJIT",(e,t)=>{FC.init(e,t);const n=e._zod.parse,i=Pm(()=>Jb(t)),r=p=>{var x;const b=new gC(["shape","payload","ctx"]),k=i.value,z=R=>{const j=Xy(R);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};b.write("const input = payload.value;");const L=Object.create(null);let N=0;for(const R of k.keys)L[R]=`key_${N++}`;b.write("const newResult = {};");for(const R of k.keys){const j=L[R],Z=Xy(R),E=p[R],v=((x=E==null?void 0:E._zod)==null?void 0:x.optout)==="optional";b.write(`const ${j} = ${z(R)};`),v?b.write(`
        if (${j}.issues.length) {
          if (${Z} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Z}, ...iss.path] : [${Z}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${j}.value;
        }
        
      `):b.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${j}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const w=b.compile();return(R,j)=>w(p,R,j)};let s;const a=bc,l=!Mb.jitless,h=l&&cx.value,d=t.catchall;let m;e._zod.parse=(p,b)=>{m??(m=i.value);const k=p.value;return a(k)?l&&h&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(s||(s=r(t.shape)),p=s(p,b),d?Qb([],k,p,b,m,e):p):n(p,b):(p.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),p)}});function Ky(e,t,n,i){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const r=e.filter(s=>!Vs(s));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(a=>vr(a,i,yr())))}),t)}const KC=M("$ZodUnion",(e,t)=>{Le.init(e,t),ye(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),ye(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),ye(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),ye(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${r.map(s=>Bm(s.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(r,s)=>{if(n)return i(r,s);let a=!1;const l=[];for(const c of t.options){const h=c._zod.run({value:r.value,issues:[]},s);if(h instanceof Promise)l.push(h),a=!0;else{if(h.issues.length===0)return h;l.push(h)}}return a?Promise.all(l).then(c=>Ky(c,r,e,s)):Ky(l,r,e,s)}}),JC=M("$ZodIntersection",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>{const r=n.value,s=t.left._zod.run({value:r,issues:[]},i),a=t.right._zod.run({value:r,issues:[]},i);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([c,h])=>Jy(n,c,h)):Jy(n,s,a)}});function Ad(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ga(e)&&ga(t)){const n=Object.keys(t),i=Object.keys(e).filter(s=>n.indexOf(s)!==-1),r={...e,...t};for(const s of i){const a=Ad(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};r[s]=a.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const r=e[i],s=t[i],a=Ad(r,s);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Jy(e,t,n){const i=new Map;let r;for(const l of t.issues)if(l.code==="unrecognized_keys"){r??(r=l);for(const c of l.keys)i.has(c)||i.set(c,{}),i.get(c).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const c of l.keys)i.has(c)||i.set(c,{}),i.get(c).r=!0;else e.issues.push(l);const s=[...i].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(s.length&&r&&e.issues.push({...r,keys:s}),Vs(e))return e;const a=Ad(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const QC=M("$ZodRecord",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!ga(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;const s=[],a=t.keyType._zod.values;if(a){n.value={};const l=new Set;for(const h of a)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){l.add(typeof h=="number"?h.toString():h);const d=t.valueType._zod.run({value:r[h],issues:[]},i);d instanceof Promise?s.push(d.then(m=>{m.issues.length&&n.issues.push(...Zs(h,m.issues)),n.value[h]=m.value})):(d.issues.length&&n.issues.push(...Zs(h,d.issues)),n.value[h]=d.value)}let c;for(const h in r)l.has(h)||(c=c??[],c.push(h));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:c})}else{n.value={};for(const l of Reflect.ownKeys(r)){if(l==="__proto__")continue;let c=t.keyType._zod.run({value:l,issues:[]},i);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&qb.test(l)&&c.issues.length&&c.issues.some(m=>m.code==="invalid_type"&&m.expected==="number")){const m=t.keyType._zod.run({value:Number(l),issues:[]},i);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");m.issues.length===0&&(c=m)}if(c.issues.length){t.mode==="loose"?n.value[l]=r[l]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(m=>vr(m,i,yr())),input:l,path:[l],inst:e});continue}const d=t.valueType._zod.run({value:r[l],issues:[]},i);d instanceof Promise?s.push(d.then(m=>{m.issues.length&&n.issues.push(...Zs(l,m.issues)),n.value[c.value]=m.value})):(d.issues.length&&n.issues.push(...Zs(l,d.issues)),n.value[c.value]=d.value)}}return s.length?Promise.all(s).then(()=>n):n}}),WC=M("$ZodEnum",(e,t)=>{Le.init(e,t);const n=Ub(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(r=>fx.has(typeof r)).map(r=>typeof r=="string"?Kc(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const a=r.value;return i.has(a)||r.issues.push({code:"invalid_value",values:n,input:a,inst:e}),r}}),eR=M("$ZodTransform",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new zb(e.constructor.name);const r=t.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(a=>(n.value=a,n));if(r instanceof Promise)throw new ta;return n.value=r,n}});function Qy(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Wb=M("$ZodOptional",(e,t)=>{Le.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Bm(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>Qy(s,n.value)):Qy(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),tR=M("$ZodExactOptional",(e,t)=>{Wb.init(e,t),ye(e._zod,"values",()=>t.innerType._zod.values),ye(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),nR=M("$ZodNullable",(e,t)=>{Le.init(e,t),ye(e._zod,"optin",()=>t.innerType._zod.optin),ye(e._zod,"optout",()=>t.innerType._zod.optout),ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Bm(n.source)}|null)$`):void 0}),ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),iR=M("$ZodDefault",(e,t)=>{Le.init(e,t),e._zod.optin="optional",ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>Wy(s,t)):Wy(r,t)}});function Wy(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const rR=M("$ZodPrefault",(e,t)=>{Le.init(e,t),e._zod.optin="optional",ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),sR=M("$ZodNonOptional",(e,t)=>{Le.init(e,t),ye(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>e0(s,e)):e0(r,e)}});function e0(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const aR=M("$ZodCatch",(e,t)=>{Le.init(e,t),ye(e._zod,"optin",()=>t.innerType._zod.optin),ye(e._zod,"optout",()=>t.innerType._zod.optout),ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>vr(a,i,yr()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(s=>vr(s,i,yr()))},input:n.value}),n.issues=[]),n)}}),oR=M("$ZodPipe",(e,t)=>{Le.init(e,t),ye(e._zod,"values",()=>t.in._zod.values),ye(e._zod,"optin",()=>t.in._zod.optin),ye(e._zod,"optout",()=>t.out._zod.optout),ye(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const s=t.out._zod.run(n,i);return s instanceof Promise?s.then(a=>uu(a,t.in,i)):uu(s,t.in,i)}const r=t.in._zod.run(n,i);return r instanceof Promise?r.then(s=>uu(s,t.out,i)):uu(r,t.out,i)}});function uu(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const lR=M("$ZodReadonly",(e,t)=>{Le.init(e,t),ye(e._zod,"propValues",()=>t.innerType._zod.propValues),ye(e._zod,"values",()=>t.innerType._zod.values),ye(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),ye(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(t0):t0(r)}});function t0(e){return e.value=Object.freeze(e.value),e}const uR=M("$ZodCustom",(e,t)=>{zt.init(e,t),Le.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,r=t.fn(i);if(r instanceof Promise)return r.then(s=>n0(s,n,i,e));n0(r,n,i,e)}});function n0(e,t,n,i){if(!e){const r={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),t.issues.push(nl(r))}}var i0;class cR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const r={...i,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function fR(){return new cR}(i0=globalThis).__zod_globalRegistry??(i0.__zod_globalRegistry=fR());const go=globalThis.__zod_globalRegistry;function hR(e,t){return new e({type:"string",...$(t)})}function dR(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$(t)})}function r0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$(t)})}function mR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$(t)})}function pR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$(t)})}function gR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$(t)})}function yR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$(t)})}function vR(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$(t)})}function _R(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$(t)})}function SR(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$(t)})}function bR(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$(t)})}function ER(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$(t)})}function TR(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$(t)})}function AR(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$(t)})}function wR(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$(t)})}function NR(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$(t)})}function OR(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$(t)})}function xR(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$(t)})}function CR(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$(t)})}function RR(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$(t)})}function kR(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$(t)})}function DR(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$(t)})}function IR(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$(t)})}function zR(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$(t)})}function MR(e,t){return new e({type:"string",format:"date",check:"string_format",...$(t)})}function UR(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$(t)})}function LR(e,t){return new e({type:"string",format:"duration",check:"string_format",...$(t)})}function jR(e,t){return new e({type:"number",checks:[],...$(t)})}function PR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$(t)})}function HR(e,t){return new e({type:"boolean",...$(t)})}function BR(e){return new e({type:"unknown"})}function VR(e,t){return new e({type:"never",...$(t)})}function s0(e,t){return new Xb({check:"less_than",...$(t),value:e,inclusive:!1})}function ch(e,t){return new Xb({check:"less_than",...$(t),value:e,inclusive:!0})}function a0(e,t){return new Fb({check:"greater_than",...$(t),value:e,inclusive:!1})}function fh(e,t){return new Fb({check:"greater_than",...$(t),value:e,inclusive:!0})}function o0(e,t){return new rC({check:"multiple_of",...$(t),value:e})}function e1(e,t){return new aC({check:"max_length",...$(t),maximum:e})}function Tc(e,t){return new oC({check:"min_length",...$(t),minimum:e})}function t1(e,t){return new lC({check:"length_equals",...$(t),length:e})}function ZR(e,t){return new uC({check:"string_format",format:"regex",...$(t),pattern:e})}function GR(e){return new cC({check:"string_format",format:"lowercase",...$(e)})}function qR(e){return new fC({check:"string_format",format:"uppercase",...$(e)})}function $R(e,t){return new hC({check:"string_format",format:"includes",...$(t),includes:e})}function XR(e,t){return new dC({check:"string_format",format:"starts_with",...$(t),prefix:e})}function FR(e,t){return new mC({check:"string_format",format:"ends_with",...$(t),suffix:e})}function Ca(e){return new pC({check:"overwrite",tx:e})}function YR(e){return Ca(t=>t.normalize(e))}function KR(){return Ca(e=>e.trim())}function JR(){return Ca(e=>e.toLowerCase())}function QR(){return Ca(e=>e.toUpperCase())}function WR(){return Ca(e=>ux(e))}function ek(e,t,n){return new e({type:"array",element:t,...$(n)})}function tk(e,t,n){return new e({type:"custom",check:"custom",fn:t,...$(n)})}function nk(e){const t=ik(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(nl(i,n.value,t._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(nl(r))}},e(n.value,n)));return t}function ik(e,t){const n=new zt({check:"custom",...$(t)});return n._zod.check=e,n}function n1(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??go,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Qe(e,t,n={path:[],schemaPath:[]}){var d,m;var i;const r=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const l=(m=(d=e._zod).toJSONSchema)==null?void 0:m.call(d);if(l)a.schema=l;else{const p={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,p);else{const k=a.schema,z=t.processors[r.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);z(e,t,k,p)}const b=e._zod.parent;b&&(a.ref||(a.ref=b),Qe(b,t,p),t.seen.get(b).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),t.io==="input"&&St(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function i1(e,t){var a,l,c,h;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const d of e.seen.entries()){const m=(a=e.metadataRegistry.get(d[0]))==null?void 0:a.id;if(m){const p=i.get(m);if(p&&p!==d[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(m,d[0])}}const r=d=>{var z;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const L=(z=e.external.registry.get(d[0]))==null?void 0:z.id,N=e.external.uri??(x=>x);if(L)return{ref:N(L)};const w=d[1].defId??d[1].schema.id??`schema${e.counter++}`;return d[1].defId=w,{defId:w,ref:`${N("__shared")}#/${m}/${w}`}}if(d[1]===n)return{ref:"#"};const b=`#/${m}/`,k=d[1].schema.id??`__schema${e.counter++}`;return{defId:k,ref:b+k}},s=d=>{if(d[1].schema.$ref)return;const m=d[1],{ref:p,defId:b}=r(d);m.def={...m.schema},b&&(m.defId=b);const k=m.schema;for(const z in k)delete k[z];k.$ref=p};if(e.cycles==="throw")for(const d of e.seen.entries()){const m=d[1];if(m.cycle)throw new Error(`Cycle detected: #/${(l=m.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of e.seen.entries()){const m=d[1];if(t===d[0]){s(d);continue}if(e.external){const b=(c=e.external.registry.get(d[0]))==null?void 0:c.id;if(t!==d[0]&&b){s(d);continue}}if((h=e.metadataRegistry.get(d[0]))==null?void 0:h.id){s(d);continue}if(m.cycle){s(d);continue}if(m.count>1&&e.reused==="ref"){s(d);continue}}}function r1(e,t){var a,l,c;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=h=>{const d=e.seen.get(h);if(d.ref===null)return;const m=d.def??d.schema,p={...m},b=d.ref;if(d.ref=null,b){i(b);const z=e.seen.get(b),L=z.schema;if(L.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(L)):Object.assign(m,L),Object.assign(m,p),h._zod.parent===b)for(const w in m)w==="$ref"||w==="allOf"||w in p||delete m[w];if(L.$ref)for(const w in m)w==="$ref"||w==="allOf"||w in z.def&&JSON.stringify(m[w])===JSON.stringify(z.def[w])&&delete m[w]}const k=h._zod.parent;if(k&&k!==b){i(k);const z=e.seen.get(k);if(z!=null&&z.schema.$ref&&(m.$ref=z.schema.$ref,z.def))for(const L in m)L==="$ref"||L==="allOf"||L in z.def&&JSON.stringify(m[L])===JSON.stringify(z.def[L])&&delete m[L]}e.override({zodSchema:h,jsonSchema:m,path:d.path??[]})};for(const h of[...e.seen.entries()].reverse())i(h[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const h=(l=e.external.registry.get(t))==null?void 0:l.id;if(!h)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(h)}Object.assign(r,n.def??n.schema);const s=((c=e.external)==null?void 0:c.defs)??{};for(const h of e.seen.entries()){const d=h[1];d.def&&d.defId&&(s[d.defId]=d.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?r.$defs=s:r.definitions=s);try{const h=JSON.parse(JSON.stringify(r));return Object.defineProperty(h,"~standard",{value:{...t["~standard"],jsonSchema:{input:Ac(t,"input",e.processors),output:Ac(t,"output",e.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function St(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return St(i.element,n);if(i.type==="set")return St(i.valueType,n);if(i.type==="lazy")return St(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return St(i.innerType,n);if(i.type==="intersection")return St(i.left,n)||St(i.right,n);if(i.type==="record"||i.type==="map")return St(i.keyType,n)||St(i.valueType,n);if(i.type==="pipe")return St(i.in,n)||St(i.out,n);if(i.type==="object"){for(const r in i.shape)if(St(i.shape[r],n))return!0;return!1}if(i.type==="union"){for(const r of i.options)if(St(r,n))return!0;return!1}if(i.type==="tuple"){for(const r of i.items)if(St(r,n))return!0;return!!(i.rest&&St(i.rest,n))}return!1}const rk=(e,t={})=>n=>{const i=n1({...n,processors:t});return Qe(e,i),i1(i,e),r1(i,e)},Ac=(e,t,n={})=>i=>{const{libraryOptions:r,target:s}=i??{},a=n1({...r??{},target:s,io:t,processors:n});return Qe(e,a),i1(a,e),r1(a,e)},sk={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},ak=(e,t,n,i)=>{const r=n;r.type="string";const{minimum:s,maximum:a,format:l,patterns:c,contentEncoding:h}=e._zod.bag;if(typeof s=="number"&&(r.minLength=s),typeof a=="number"&&(r.maxLength=a),l&&(r.format=sk[l]??l,r.format===""&&delete r.format,l==="time"&&delete r.format),h&&(r.contentEncoding=h),c&&c.size>0){const d=[...c];d.length===1?r.pattern=d[0].source:d.length>1&&(r.allOf=[...d.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},ok=(e,t,n,i)=>{const r=n,{minimum:s,maximum:a,format:l,multipleOf:c,exclusiveMaximum:h,exclusiveMinimum:d}=e._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.minimum=d,r.exclusiveMinimum=!0):r.exclusiveMinimum=d),typeof s=="number"&&(r.minimum=s,typeof d=="number"&&t.target!=="draft-04"&&(d>=s?delete r.minimum:delete r.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.maximum=h,r.exclusiveMaximum=!0):r.exclusiveMaximum=h),typeof a=="number"&&(r.maximum=a,typeof h=="number"&&t.target!=="draft-04"&&(h<=a?delete r.maximum:delete r.exclusiveMaximum)),typeof c=="number"&&(r.multipleOf=c)},lk=(e,t,n,i)=>{n.type="boolean"},uk=(e,t,n,i)=>{n.not={}},ck=(e,t,n,i)=>{},fk=(e,t,n,i)=>{const r=e._zod.def,s=Ub(r.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},hk=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},dk=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},mk=(e,t,n,i)=>{const r=n,s=e._zod.def,{minimum:a,maximum:l}=e._zod.bag;typeof a=="number"&&(r.minItems=a),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=Qe(s.element,t,{...i,path:[...i.path,"items"]})},pk=(e,t,n,i)=>{var h;const r=n,s=e._zod.def;r.type="object",r.properties={};const a=s.shape;for(const d in a)r.properties[d]=Qe(a[d],t,{...i,path:[...i.path,"properties",d]});const l=new Set(Object.keys(a)),c=new Set([...l].filter(d=>{const m=s.shape[d]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));c.size>0&&(r.required=Array.from(c)),((h=s.catchall)==null?void 0:h._zod.def.type)==="never"?r.additionalProperties=!1:s.catchall?s.catchall&&(r.additionalProperties=Qe(s.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(r.additionalProperties=!1)},gk=(e,t,n,i)=>{const r=e._zod.def,s=r.inclusive===!1,a=r.options.map((l,c)=>Qe(l,t,{...i,path:[...i.path,s?"oneOf":"anyOf",c]}));s?n.oneOf=a:n.anyOf=a},yk=(e,t,n,i)=>{const r=e._zod.def,s=Qe(r.left,t,{...i,path:[...i.path,"allOf",0]}),a=Qe(r.right,t,{...i,path:[...i.path,"allOf",1]}),l=h=>"allOf"in h&&Object.keys(h).length===1,c=[...l(s)?s.allOf:[s],...l(a)?a.allOf:[a]];n.allOf=c},vk=(e,t,n,i)=>{const r=n,s=e._zod.def;r.type="object";const a=s.keyType,l=a._zod.bag,c=l==null?void 0:l.patterns;if(s.mode==="loose"&&c&&c.size>0){const d=Qe(s.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});r.patternProperties={};for(const m of c)r.patternProperties[m.source]=d}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(r.propertyNames=Qe(s.keyType,t,{...i,path:[...i.path,"propertyNames"]})),r.additionalProperties=Qe(s.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const h=a._zod.values;if(h){const d=[...h].filter(m=>typeof m=="string"||typeof m=="number");d.length>0&&(r.required=d)}},_k=(e,t,n,i)=>{const r=e._zod.def,s=Qe(r.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=r.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Sk=(e,t,n,i)=>{const r=e._zod.def;Qe(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},bk=(e,t,n,i)=>{const r=e._zod.def;Qe(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},Ek=(e,t,n,i)=>{const r=e._zod.def;Qe(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},Tk=(e,t,n,i)=>{const r=e._zod.def;Qe(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType;let a;try{a=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},Ak=(e,t,n,i)=>{const r=e._zod.def,s=t.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;Qe(s,t,i);const a=t.seen.get(e);a.ref=s},wk=(e,t,n,i)=>{const r=e._zod.def;Qe(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.readOnly=!0},s1=(e,t,n,i)=>{const r=e._zod.def;Qe(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},Nk=M("ZodISODateTime",(e,t)=>{CC.init(e,t),Ie.init(e,t)});function Ok(e){return zR(Nk,e)}const xk=M("ZodISODate",(e,t)=>{RC.init(e,t),Ie.init(e,t)});function Ck(e){return MR(xk,e)}const Rk=M("ZodISOTime",(e,t)=>{kC.init(e,t),Ie.init(e,t)});function kk(e){return UR(Rk,e)}const Dk=M("ZodISODuration",(e,t)=>{DC.init(e,t),Ie.init(e,t)});function Ik(e){return LR(Dk,e)}const zk=(e,t)=>{Hb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Ex(e,n)},flatten:{value:n=>bx(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Td,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Td,2)}},isEmpty:{get(){return e.issues.length===0}}})},mn=M("ZodError",zk,{Parent:Error}),Mk=Zm(mn),Uk=Gm(mn),Lk=Jc(mn),jk=Qc(mn),Pk=wx(mn),Hk=Nx(mn),Bk=Ox(mn),Vk=xx(mn),Zk=Cx(mn),Gk=Rx(mn),qk=kx(mn),$k=Dx(mn),je=M("ZodType",(e,t)=>(Le.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Ac(e,"input"),output:Ac(e,"output")}}),e.toJSONSchema=rk(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(br(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>Er(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>Mk(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>Lk(e,n,i),e.parseAsync=async(n,i)=>Uk(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>jk(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>Pk(e,n,i),e.decode=(n,i)=>Hk(e,n,i),e.encodeAsync=async(n,i)=>Bk(e,n,i),e.decodeAsync=async(n,i)=>Vk(e,n,i),e.safeEncode=(n,i)=>Zk(e,n,i),e.safeDecode=(n,i)=>Gk(e,n,i),e.safeEncodeAsync=async(n,i)=>qk(e,n,i),e.safeDecodeAsync=async(n,i)=>$k(e,n,i),e.refine=(n,i)=>e.check(PD(n,i)),e.superRefine=n=>e.check(HD(n)),e.overwrite=n=>e.check(Ca(n)),e.optional=()=>c0(e),e.exactOptional=()=>ND(e),e.nullable=()=>f0(e),e.nullish=()=>c0(f0(e)),e.nonoptional=n=>DD(e,n),e.array=()=>ya(e),e.or=n=>l1([e,n]),e.and=n=>bD(e,n),e.transform=n=>h0(e,AD(n)),e.default=n=>CD(e,n),e.prefault=n=>kD(e,n),e.catch=n=>zD(e,n),e.pipe=n=>h0(e,n),e.readonly=()=>LD(e),e.describe=n=>{const i=e.clone();return go.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=go.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return go.get(e);const i=e.clone();return go.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),a1=M("_ZodString",(e,t)=>{qm.init(e,t),je.init(e,t),e._zod.processJSONSchema=(i,r,s)=>ak(e,i,r);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(ZR(...i)),e.includes=(...i)=>e.check($R(...i)),e.startsWith=(...i)=>e.check(XR(...i)),e.endsWith=(...i)=>e.check(FR(...i)),e.min=(...i)=>e.check(Tc(...i)),e.max=(...i)=>e.check(e1(...i)),e.length=(...i)=>e.check(t1(...i)),e.nonempty=(...i)=>e.check(Tc(1,...i)),e.lowercase=i=>e.check(GR(i)),e.uppercase=i=>e.check(qR(i)),e.trim=()=>e.check(KR()),e.normalize=(...i)=>e.check(YR(...i)),e.toLowerCase=()=>e.check(JR()),e.toUpperCase=()=>e.check(QR()),e.slugify=()=>e.check(WR())}),Xk=M("ZodString",(e,t)=>{qm.init(e,t),a1.init(e,t),e.email=n=>e.check(dR(Fk,n)),e.url=n=>e.check(vR(Yk,n)),e.jwt=n=>e.check(IR(cD,n)),e.emoji=n=>e.check(_R(Kk,n)),e.guid=n=>e.check(r0(l0,n)),e.uuid=n=>e.check(mR(cu,n)),e.uuidv4=n=>e.check(pR(cu,n)),e.uuidv6=n=>e.check(gR(cu,n)),e.uuidv7=n=>e.check(yR(cu,n)),e.nanoid=n=>e.check(SR(Jk,n)),e.guid=n=>e.check(r0(l0,n)),e.cuid=n=>e.check(bR(Qk,n)),e.cuid2=n=>e.check(ER(Wk,n)),e.ulid=n=>e.check(TR(eD,n)),e.base64=n=>e.check(RR(oD,n)),e.base64url=n=>e.check(kR(lD,n)),e.xid=n=>e.check(AR(tD,n)),e.ksuid=n=>e.check(wR(nD,n)),e.ipv4=n=>e.check(NR(iD,n)),e.ipv6=n=>e.check(OR(rD,n)),e.cidrv4=n=>e.check(xR(sD,n)),e.cidrv6=n=>e.check(CR(aD,n)),e.e164=n=>e.check(DR(uD,n)),e.datetime=n=>e.check(Ok(n)),e.date=n=>e.check(Ck(n)),e.time=n=>e.check(kk(n)),e.duration=n=>e.check(Ik(n))});function tt(e){return hR(Xk,e)}const Ie=M("ZodStringFormat",(e,t)=>{De.init(e,t),a1.init(e,t)}),Fk=M("ZodEmail",(e,t)=>{SC.init(e,t),Ie.init(e,t)}),l0=M("ZodGUID",(e,t)=>{vC.init(e,t),Ie.init(e,t)}),cu=M("ZodUUID",(e,t)=>{_C.init(e,t),Ie.init(e,t)}),Yk=M("ZodURL",(e,t)=>{bC.init(e,t),Ie.init(e,t)}),Kk=M("ZodEmoji",(e,t)=>{EC.init(e,t),Ie.init(e,t)}),Jk=M("ZodNanoID",(e,t)=>{TC.init(e,t),Ie.init(e,t)}),Qk=M("ZodCUID",(e,t)=>{AC.init(e,t),Ie.init(e,t)}),Wk=M("ZodCUID2",(e,t)=>{wC.init(e,t),Ie.init(e,t)}),eD=M("ZodULID",(e,t)=>{NC.init(e,t),Ie.init(e,t)}),tD=M("ZodXID",(e,t)=>{OC.init(e,t),Ie.init(e,t)}),nD=M("ZodKSUID",(e,t)=>{xC.init(e,t),Ie.init(e,t)}),iD=M("ZodIPv4",(e,t)=>{IC.init(e,t),Ie.init(e,t)}),rD=M("ZodIPv6",(e,t)=>{zC.init(e,t),Ie.init(e,t)}),sD=M("ZodCIDRv4",(e,t)=>{MC.init(e,t),Ie.init(e,t)}),aD=M("ZodCIDRv6",(e,t)=>{UC.init(e,t),Ie.init(e,t)}),oD=M("ZodBase64",(e,t)=>{LC.init(e,t),Ie.init(e,t)}),lD=M("ZodBase64URL",(e,t)=>{PC.init(e,t),Ie.init(e,t)}),uD=M("ZodE164",(e,t)=>{HC.init(e,t),Ie.init(e,t)}),cD=M("ZodJWT",(e,t)=>{VC.init(e,t),Ie.init(e,t)}),o1=M("ZodNumber",(e,t)=>{Kb.init(e,t),je.init(e,t),e._zod.processJSONSchema=(i,r,s)=>ok(e,i,r),e.gt=(i,r)=>e.check(a0(i,r)),e.gte=(i,r)=>e.check(fh(i,r)),e.min=(i,r)=>e.check(fh(i,r)),e.lt=(i,r)=>e.check(s0(i,r)),e.lte=(i,r)=>e.check(ch(i,r)),e.max=(i,r)=>e.check(ch(i,r)),e.int=i=>e.check(u0(i)),e.safe=i=>e.check(u0(i)),e.positive=i=>e.check(a0(0,i)),e.nonnegative=i=>e.check(fh(0,i)),e.negative=i=>e.check(s0(0,i)),e.nonpositive=i=>e.check(ch(0,i)),e.multipleOf=(i,r)=>e.check(o0(i,r)),e.step=(i,r)=>e.check(o0(i,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function ht(e){return jR(o1,e)}const fD=M("ZodNumberFormat",(e,t)=>{ZC.init(e,t),o1.init(e,t)});function u0(e){return PR(fD,e)}const hD=M("ZodBoolean",(e,t)=>{GC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>lk(e,n,i)});function dD(e){return HR(hD,e)}const mD=M("ZodUnknown",(e,t)=>{qC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>ck()});function wd(){return BR(mD)}const pD=M("ZodNever",(e,t)=>{$C.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>uk(e,n,i)});function gD(e){return VR(pD,e)}const yD=M("ZodArray",(e,t)=>{XC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>mk(e,n,i,r),e.element=t.element,e.min=(n,i)=>e.check(Tc(n,i)),e.nonempty=n=>e.check(Tc(1,n)),e.max=(n,i)=>e.check(e1(n,i)),e.length=(n,i)=>e.check(t1(n,i)),e.unwrap=()=>e.element});function ya(e,t){return ek(yD,e,t)}const vD=M("ZodObject",(e,t)=>{YC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>pk(e,n,i,r),ye(e,"shape",()=>t.shape),e.keyof=()=>Od(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:wd()}),e.loose=()=>e.clone({...e._zod.def,catchall:wd()}),e.strict=()=>e.clone({...e._zod.def,catchall:gD()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>gx(e,n),e.safeExtend=n=>yx(e,n),e.merge=n=>vx(e,n),e.pick=n=>mx(e,n),e.omit=n=>px(e,n),e.partial=(...n)=>_x(c1,e,n[0]),e.required=(...n)=>Sx(f1,e,n[0])});function An(e,t){const n={type:"object",shape:e??{},...$(t)};return new vD(n)}const _D=M("ZodUnion",(e,t)=>{KC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>gk(e,n,i,r),e.options=t.options});function l1(e,t){return new _D({type:"union",options:e,...$(t)})}const SD=M("ZodIntersection",(e,t)=>{JC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>yk(e,n,i,r)});function bD(e,t){return new SD({type:"intersection",left:e,right:t})}const ED=M("ZodRecord",(e,t)=>{QC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>vk(e,n,i,r),e.keyType=t.keyType,e.valueType=t.valueType});function u1(e,t,n){return new ED({type:"record",keyType:e,valueType:t,...$(n)})}const Nd=M("ZodEnum",(e,t)=>{WC.init(e,t),je.init(e,t),e._zod.processJSONSchema=(i,r,s)=>fk(e,i,r),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,r)=>{const s={};for(const a of i)if(n.has(a))s[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Nd({...t,checks:[],...$(r),entries:s})},e.exclude=(i,r)=>{const s={...t.entries};for(const a of i)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new Nd({...t,checks:[],...$(r),entries:s})}});function Od(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Nd({type:"enum",entries:n,...$(t)})}const TD=M("ZodTransform",(e,t)=>{eR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>dk(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new zb(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(nl(s,n.value,t));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(nl(a))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(s=>(n.value=s,n)):(n.value=r,n)}});function AD(e){return new TD({type:"transform",transform:e})}const c1=M("ZodOptional",(e,t)=>{Wb.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>s1(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function c0(e){return new c1({type:"optional",innerType:e})}const wD=M("ZodExactOptional",(e,t)=>{tR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>s1(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function ND(e){return new wD({type:"optional",innerType:e})}const OD=M("ZodNullable",(e,t)=>{nR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>_k(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function f0(e){return new OD({type:"nullable",innerType:e})}const xD=M("ZodDefault",(e,t)=>{iR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>bk(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function CD(e,t){return new xD({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():jb(t)}})}const RD=M("ZodPrefault",(e,t)=>{rR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>Ek(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function kD(e,t){return new RD({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():jb(t)}})}const f1=M("ZodNonOptional",(e,t)=>{sR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>Sk(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function DD(e,t){return new f1({type:"nonoptional",innerType:e,...$(t)})}const ID=M("ZodCatch",(e,t)=>{aR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>Tk(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function zD(e,t){return new ID({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const MD=M("ZodPipe",(e,t)=>{oR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>Ak(e,n,i,r),e.in=t.in,e.out=t.out});function h0(e,t){return new MD({type:"pipe",in:e,out:t})}const UD=M("ZodReadonly",(e,t)=>{lR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>wk(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function LD(e){return new UD({type:"readonly",innerType:e})}const jD=M("ZodCustom",(e,t)=>{uR.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,i,r)=>hk(e,n)});function PD(e,t={}){return tk(jD,e,t)}function HD(e){return nk(e)}$n("Validation");const d0=tt().min(1).max(100);tt().regex(/^[a-fA-F0-9]{64}$/);const ef=tt().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),h1=tt().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);tt().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);An({challenge:tt().min(10).max(200),expiresAt:ht().int().positive()});An({kind:ht().int(),created_at:ht().int().nonnegative(),tags:ya(ya(tt())),content:tt()});const BD=An({npub:ef,displayName:h1.nullable()}),d1=An({visitedAt:tt().nullable().optional(),completedAt:tt().nullable().optional(),quizAttempts:ya(An({xpEarned:ht().int().min(0).optional(),score:ht().min(0).max(100).optional(),timestamp:tt().optional(),difficulty:Od(["easy","medium","hard"]).optional(),correctAnswers:ht().int().min(0).optional(),totalQuestions:ht().int().min(1).optional()})).optional(),visualizationsInteracted:ya(tt().max(100)).optional(),masteryLevel:l1([ht().int().min(0).max(3),Od(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:tt().optional(),timeSpentSeconds:ht().int().min(0).optional()});An({user:An({totalXP:ht().int().min(0),level:ht().int().min(1).max(10),sectionsCompleted:ya(d0)}),sections:u1(d0,d1),dailyGoals:An({lastResetDate:tt().nullable(),currentStreak:ht().int().min(0),xpEarned:ht().int().min(0),xpGoal:ht().int().min(0)}),lastUpdated:ht().int().nonnegative()});An({success:dD(),totalXP:ht().int().min(0)});An({npub:ef,displayName:h1.nullable(),xp:ht().int().min(0),lastSync:tt()});An({timestamp:tt(),action:tt(),targetNpub:ef.nullable(),performedBy:tt(),details:u1(tt(),wd()).nullable()});function G6(e){return ef.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function VD(e){const t=d1.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function ZD(e){const t=BD.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const wc=$n("SyncManager"),GD="magic-internet-math-progress";function m0(){try{const e=localStorage.getItem(GD);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[r,s]of Object.entries(t.sections)){const[a]=r.split(":");if(!HA(a))continue;const l=a,c=VD(s);if(!c.valid||!c.data){wc.warn(`Invalid section data for ${r}, skipping`);continue}const h=c.data;if(h.quizAttempts)for(const d of h.quizAttempts)d.xpEarned&&(i[l]+=d.xpEarned);h.visitedAt&&(i[l]+=lt.SECTION_VISIT),h.completedAt&&(i[l]+=lt.SECTION_COMPLETE),h.visualizationsInteracted&&(i[l]+=h.visualizationsInteracted.length*lt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return wc.error("Error extracting scores from storage:",e),null}}class qD{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},Nb),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},Ob))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Wi())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<wb)return{success:!1,error:"Rate limited"};try{const n=m0();if(!n)return{success:!1,error:"No scores to sync"};const i=tl(),r=pa(i,"syncScores"),s={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(s.displayName=this.displayName);const a=await r(s);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return wc.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const r=1e3*Math.pow(2,n);wc.debug(`Sync retry ${n+1}/${t} in ${r}ms`),await new Promise(s=>setTimeout(s,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=m0();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let hh=null;function lo(){return hh||(hh=new qD),hh}const rt=$n("NostrAuth"),m1=V.createContext(null),uo="magic-internet-math-nostr-auth";function $D({children:e}){const[t,n]=V.useState(!1),[i,r]=V.useState(null),[s,a]=V.useState(null),[l,c]=V.useState(null),[h,d]=V.useState(!1),[m,p]=V.useState(null),[b,k]=V.useState(!1),[z,L]=V.useState(!1),[N,w]=V.useState(null);V.useEffect(()=>{(async()=>{const S=await ax(L4);k(S),L(!0)})()},[]);const x=V.useCallback(async _=>{for(const S of xb)try{const T=await Ib(S,_);if(T){T.nip05&&c(T.nip05);const C=T.display_name||T.name;if(C){a(C);const A=lo();A.setDisplayName(C),A.requestSync()}return}}catch(T){rt.warn(`Failed to fetch profile from ${S}:`,T)}},[]);V.useEffect(()=>{if(!Wi())return;const _=lh(),S=ZN(_,async T=>{if(w(T),T){r(T.uid);try{const A=await T.getIdTokenResult(!0);rt.debug("Token claims:",A.claims),d(A.claims.isAdmin===!0)}catch(A){rt.error("Error getting token:",A),d(!1)}try{const A=localStorage.getItem(uo);if(A){const se=JSON.parse(A),ae=ZD(se);if(!ae.valid||!ae.data){rt.warn("Invalid auth state in localStorage:",ae.error),localStorage.removeItem(uo);return}ae.data.npub===T.uid&&a(ae.data.displayName)}}catch(A){rt.debug("Storage read error:",A)}const C=lo();C.setAuthenticated(!0),C.startPeriodicSync();try{const A=Db(T.uid);x(A)}catch(A){rt.debug("Npub conversion error:",A)}}else{r(null),c(null),d(!1),a(null);const C=lo();C.setAuthenticated(!1),C.stopPeriodicSync()}});return()=>S()},[x]);const R=V.useCallback(async()=>{if(rt.debug("connect() called"),rt.debug("isFirebaseConfigured:",Wi()),rt.debug("hasNostrExtension:",Sc()),!Wi()){rt.info("Firebase not configured, cannot connect");return}if(!Sc()){p("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),rt.warn("No extension found, returning");return}n(!0),p(null),rt.info("Starting Nostr connection...");try{const _=window.nostr,S=tl(),T=await _.getPublicKey(),C=ix(T),se=await pa(S,"createChallenge")({pubkeyHex:T}),{challenge:ae}=se.data,H={kind:ox,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",ae]],content:ae},X=await _.signEvent(H),he=await pa(S,"verifyNostrAndCreateToken")({signedEvent:X,challenge:ae}),we=lh();await HN(we,he.data.token);try{const yt={npub:C,displayName:null};localStorage.setItem(uo,JSON.stringify(yt))}catch(yt){rt.warn("Failed to store auth state:",yt)}lo().syncNow().catch(yt=>{rt.warn("Initial sync failed:",yt)})}catch(_){rt.error("Nostr connect error:",_),p(_ instanceof Error?_.message:"Failed to connect. Please try again.")}finally{n(!1)}},[b]),j=V.useCallback(async()=>{try{if(Wi()){const _=lh();await GN(_)}try{localStorage.removeItem(uo)}catch(_){rt.warn("Failed to clear auth state from storage:",_)}r(null),a(null),d(!1)}catch(_){rt.error("Disconnect error:",_),p(_ instanceof Error?_.message:"Failed to disconnect")}},[]),Z=V.useCallback(_=>{if(a(_),i)try{localStorage.setItem(uo,JSON.stringify({npub:i,displayName:_}))}catch(T){rt.warn("Failed to update display name in storage:",T)}const S=lo();S.setDisplayName(_),S.requestSync()},[i]),E=V.useCallback(()=>{p(null)},[]),v=V.useMemo(()=>({isAuthenticated:!!N&&!!i,isConnecting:t,npub:i,displayName:s,nip05:l,isAdmin:h,error:m,hasExtension:b,extensionChecked:z,connect:R,disconnect:j,setDisplayName:Z,clearError:E}),[N,i,t,s,l,h,m,b,z,R,j,Z,E]);return y.jsx(m1.Provider,{value:v,children:e})}const XD={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function FD(){const e=V.useContext(m1);return e||XD}const Li=$n("GamificationProgress"),YD=500,KD=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},ws=(e,t)=>{KD()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},p1=V.createContext(null);function JD({children:e,courseId:t,curriculum:n}){const[i,r]=V.useReducer(uw,_S()),[s,a]=V.useState(!0),[l,c]=V.useState([]),[h,d]=V.useState("idle"),m=V.useRef(null),p=V.useRef(!1),b=V.useRef(!1),{isAuthenticated:k,npub:z}=FD(),L=V.useCallback(S=>`${t}:${S}`,[t]),N=V.useCallback((S,T)=>{if(!n)return null;const C=n.find(X=>X.sections.some(F=>F.id===S));if(!C)return null;const A=`${t}:part${C.id}`;if(T.user.partsCompleted.includes(A))return null;const se=C.sections.map(X=>L(X.id)),ae=L(S);return se.every(X=>T.user.sectionsCompleted.includes(X)||X===ae)?A:null},[n,t,L]);V.useEffect(()=>{const S=rs();S&&r({type:"LOAD_STATE",payload:S}),k||queueMicrotask(()=>a(!1))},[]),V.useEffect(()=>{const S=qy(),T=S.onStatusChange(d),C=b.current;return b.current=k,k&&!C?(Li.info("User authenticated, fetching progress from server"),S.setAuthenticated(!0),(async()=>{a(!0);try{const se=FA(),ae=rs();if(se&&ae){Li.info("Migrating local progress to server");const H=await S.migrateLocalProgress(ae);H.success&&H.state?(r({type:"MERGE_WITH_SERVER",payload:H.state}),XA(),Li.info("Migration complete")):Li.warn("Migration failed, using local state")}else{const H=await S.fetchServerProgress();H.found&&H.progress?(Li.info("Loaded progress from server"),r({type:"LOAD_FROM_SERVER",payload:H.progress}),S.setLastSyncedAt(H.lastSyncedAt)):Li.info("No server progress found, using local state")}}catch(se){Li.error("Failed to sync with server:",se)}finally{queueMicrotask(()=>a(!1)),p.current=!0}})(),S.startPeriodicSync()):!k&&C?(Li.info("User logged out"),S.setAuthenticated(!1),S.stopPeriodicSync(),p.current=!1):k||queueMicrotask(()=>a(!1)),()=>{T()}},[k,z]),V.useEffect(()=>{s||(Zc(i),k&&p.current&&qy().requestSync(i))},[i,s,k]),V.useEffect(()=>{s||r({type:"UPDATE_STREAK"})},[s]),V.useEffect(()=>{if(!s)return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{const S=QA(i);S.length>0&&c(T=>[...T,...S])},YD),()=>{m.current&&clearTimeout(m.current)}},[i,s]);const w=V.useCallback(S=>{r({type:"VISIT_SECTION",payload:{sectionId:L(S)}})},[L]),x=V.useCallback(S=>{const T=N(S,i);r({type:"COMPLETE_SECTION",payload:{sectionId:L(S)}}),T&&(r({type:"COMPLETE_PART",payload:{partId:T}}),ws("partCompleted",{partId:T,courseId:t})),ws("sectionCompleted",{sectionId:L(S),courseId:t})},[L,t,N,i]),R=V.useCallback((S,T,C,A,se)=>{const ae=L(S),H=C>=80?N(S,i):null;r({type:"RECORD_QUIZ",payload:{sectionId:ae,difficulty:T,score:C,correctAnswers:A,totalQuestions:se}}),H&&(r({type:"COMPLETE_PART",payload:{partId:H}}),ws("partCompleted",{partId:H,courseId:t})),ws("quizCompleted",{sectionId:ae,courseId:t,score:C,correctAnswers:A,totalQuestions:se}),C>=80&&ws("sectionCompleted",{sectionId:ae,courseId:t})},[L,t,N,i]),j=V.useCallback((S,T)=>{r({type:"USE_VISUALIZATION",payload:{sectionId:L(S),name:T}})},[L]),Z=V.useCallback(S=>{c(T=>T.filter(C=>C.id!==S))},[]),E=V.useCallback(()=>{r({type:"RESET_PROGRESS"})},[]),v=V.useCallback(S=>{r({type:"RECORD_RACE_GAME",payload:S}),ws("raceGameCompleted",{courseId:t,score:S.score,tier:S.tier,correctAnswers:S.correctAnswers,totalQuestions:S.totalQuestions,isMultiplayer:S.isMultiplayer})},[t]),_=V.useMemo(()=>({state:i,isLoading:s,notifications:l,syncStatus:h,visitSection:w,completeSection:x,recordQuiz:R,useVisualization:j,dismissNotification:Z,resetProgress:E,recordRaceGame:v,dispatch:r}),[i,s,l,h,w,x,R,j,Z,E,v,r]);return y.jsx(p1.Provider,{value:_,children:e})}function tf(){const e=V.useContext(p1);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const QD=Jo;function q6(e){return`${QD}:${e}`}function p0({children:e}){return y.jsx(JD,{courseId:Jo,children:e})}const WD=$n("ErrorBoundary");class e6 extends V.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){WD.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:n.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:y.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full text-center",children:[y.jsx("div",{className:"text-6xl mb-6",children:y.jsx("span",{role:"img","aria-label":"Warning",children:""})}),y.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),y.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&y.jsxs("details",{className:"mb-6 text-left",children:[y.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),y.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),y.jsxs("div",{className:"flex gap-4 justify-center",children:[y.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const Iu=$n("ErrorContext");async function t6(e){if(Wi())try{const t=tl();if(!t){Iu.debug("Firebase functions not initialized");return}await pa(t,"logClientError")({error:{message:e.message,details:e.details,recoverable:e.recoverable,userAgent:e.userAgent,url:e.url,severity:e.severity}}),Iu.debug("Error logged to Firebase:",e.message)}catch(t){Iu.debug("Failed to log error to Firebase:",t)}}const g1=V.createContext(null);function n6({children:e,onError:t}){const[n,i]=V.useState([]),r=V.useCallback(l=>{const c={id:crypto.randomUUID(),...l,timestamp:new Date,recoverable:l.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:l.severity??"error"};i(h=>{const d=[...h,c];return t&&t(c),d}),t6(c).catch(()=>{}),Iu.error("App error added:",c)},[t]),s=V.useCallback(l=>{i(c=>c.filter(h=>h.id!==l))},[]),a=V.useCallback(()=>{i([])},[]);return y.jsx(g1.Provider,{value:{errors:n,addError:r,dismissError:s,dismissAll:a},children:e})}function i6(){const e=V.useContext(g1);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}function r6({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=i6();return t.length===0?null:y.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:y.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&y.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),y.jsx("div",{className:"space-y-2",children:t.map(r=>y.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:y.jsxs("div",{className:"flex justify-between items-start gap-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-red-900 font-medium",children:r.message}),r.details&&y.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.details})]}),y.jsx("button",{onClick:()=>n(r.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},r.id))}),t.some(r=>!r.recoverable)&&y.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[y.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const s6={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function Gr({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=y.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[y.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${s6[t]}`,role:"status","aria-label":"Loading"}),e&&y.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?y.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}const ps=[{id:1,title:"Foundation",slug:"foundation",sections:[{id:0,title:"The Big Picture",slug:"big-picture",description:"Why elliptic curves? Public-key cryptography, one-way functions, and what makes secp256k1 special."},{id:1,title:"Curves Over Real Numbers",slug:"curves-reals",description:"Elliptic curve equations, geometric point addition, doubling, and scalar multiplication."},{id:2,title:"Finite Fields",slug:"finite-fields",description:"Modular arithmetic, division by inverse, and curves over prime fields."}]},{id:2,title:"The Curve",slug:"the-curve",sections:[{id:3,title:"secp256k1 Parameters",slug:"parameters",description:"The six parameters (p, a, b, G, n, h) that define Bitcoin's curve."},{id:4,title:"Key Generation",slug:"key-generation",description:"Private keys, double-and-add algorithm, public key formats, and security analysis."}]},{id:3,title:"Signatures",slug:"signatures",sections:[{id:5,title:"ECDSA Signatures",slug:"ecdsa",description:"Signing, verification, the nonce catastrophe, and signature malleability."},{id:6,title:"Schnorr Signatures",slug:"schnorr",description:"Schnorr vs ECDSA, MuSig aggregation, batch verification, and Taproot."}]},{id:4,title:"Practice",slug:"practice",sections:[{id:7,title:"Implementation Pitfalls",slug:"implementation",description:"Big integers, constant-time operations, common mistakes, and libsecp256k1."},{id:8,title:"Applications",slug:"applications",description:"Ethereum, Lightning Network, adaptor signatures, and beyond."},{id:9,title:"Recap and Future",slug:"future",description:"Security assumptions, quantum threats, post-quantum alternatives, and other curves."}]}];function $6(e){for(const t of ps){const n=t.sections.find(i=>i.id===e);if(n)return n}}function X6(e){return ps.find(t=>t.sections.some(n=>n.id===e))}function F6(e){const t=ps.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function a6(){return ps.reduce((e,t)=>e+t.sections.length,0)}function o6(){return ps.flatMap(e=>e.sections)}function Y6(e){return o6().findIndex(n=>n.id===e)}function l6({xp:e,level:t,compact:n=!1}){const i=SS(e,t);return n?y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),y.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:y.jsx("span",{className:"text-sm font-bold text-white",children:t})}),y.jsxs("div",{className:"flex-1 min-w-[80px]",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[y.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),y.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),y.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:y.jsx(Uo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function u6({streak:e}){return e===0?null:y.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[y.jsx("span",{className:"text-orange-400",children:""}),y.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function g0(){const e=tf(),t=bn.gamification?e:null,n=a6(),i=t?t.state.user.sectionsCompleted.filter(s=>s.startsWith(Jo)).length:0,r=Math.round(i/n*100);return y.jsx("div",{className:"py-8 px-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("span",{className:"text-6xl mb-4 block",children:fS}),y.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:cS}),y.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:gA})]}),bn.gamification&&t&&y.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),y.jsx(u6,{streak:t.state.streak.currentStreak})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx("div",{children:y.jsx(l6,{xp:t.state.user.totalXP,level:t.state.user.level})}),y.jsxs("div",{className:"flex flex-col justify-center",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[y.jsx("span",{className:"text-dark-400",children:"Course Progress"}),y.jsxs("span",{className:"text-primary-400 font-medium",children:[r,"%"]})]}),y.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${r}%`}})}),y.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),y.jsxs("div",{className:"flex flex-col justify-center items-end",children:[y.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),y.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),y.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),y.jsx("div",{className:"space-y-4",children:ps.map(s=>y.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:y.jsx("span",{className:"text-lg font-bold text-primary-400",children:s.id})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s.title}),y.jsxs("p",{className:"text-sm text-dark-400",children:[s.sections.length," sections"]})]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:s.sections.map(a=>{const l=`${Jo}:${a.id}`,c=t==null?void 0:t.state.user.sectionsCompleted.includes(l);return y.jsxs(Ns,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[y.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${c?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:c?y.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):y.jsx("span",{className:"text-xs",children:a.id})}),y.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},s.id))})]})})}function c6(e){const t={};for(const[n,i]of Object.entries(e)){const r=n.match(/Section(\d+)/);if(r){const s=parseInt(r[1],10);t[s]=i}}return t}const y1=V.createContext(null);function f6({config:e,children:t}){return y.jsx(y1.Provider,{value:e,children:t})}function v1(){const e=V.useContext(y1);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}function h6({xp:e,level:t,compact:n=!1}){const i=SS(e,t);return n?y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),y.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:y.jsx("span",{className:"text-sm font-bold text-white",children:t})}),y.jsxs("div",{className:"flex-1 min-w-[80px]",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[y.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),y.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),y.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:y.jsx(Uo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function d6({streak:e}){return e===0?null:y.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[y.jsx("span",{className:"text-orange-400",children:""}),y.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function m6({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:r}=nw(e);return y.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[y.jsx("span",{className:"text-sm",children:r}),t&&y.jsx("span",{className:"text-xs",children:n})]})}function p6({onImportSuccess:e}){const[t,n]=V.useState(!1),[i,r]=V.useState(null),[s,a]=V.useState(!1),l=V.useRef(null),c=$A(),h=()=>{ZA(),r({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>r(null),3e3)},d=()=>{var p;(p=l.current)==null||p.click()},m=async p=>{var z;const b=(z=p.target.files)==null?void 0:z[0];if(!b)return;a(!0),r(null);const k=await qA(b);a(!1),r({type:k.success?"success":"error",text:k.message}),k.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),l.current&&(l.current.value="")};return y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:y.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),y.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),c&&y.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[y.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),y.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[y.jsxs("span",{className:"text-accent-400 font-semibold",children:[c.totalXP," XP"]}),y.jsxs("span",{className:"text-dark-300",children:["Level ",c.level]}),y.jsxs("span",{className:"text-dark-400",children:[c.sectionsCompleted," sections"]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("button",{onClick:h,disabled:!c,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),y.jsxs("button",{onClick:d,disabled:s,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),s?"Importing...":"Import Backup"]}),y.jsx("input",{ref:l,type:"file",accept:".json",onChange:m,className:"hidden"})]}),i&&y.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),y.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const g6={progress:"",mastery:"",dedication:"",exploration:""};function y6({notification:e,onDismiss:t}){return V.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),y.jsx(Uo.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:y.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:g6[e.category]||""}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),y.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),y.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),y.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),y.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function v6({notifications:e,onDismiss:t}){return y.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:y.jsx(dh,{mode:"popLayout",children:e.map(n=>y.jsx(y6,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function _6({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:r,hubUrl:s}=v1(),a=tf(),l=r.gamification?a:null;return y.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:y.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:y.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),y.jsxs(Ns,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[y.jsx("span",{className:"text-2xl",children:i}),y.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]})]}),y.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[y.jsx("a",{href:s,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),y.jsx(Ns,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),r.theoremIndex&&y.jsx(Ns,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),r.interactiveModules&&y.jsx(Ns,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),r.leaderboard&&y.jsx(Ns,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[r.gamification&&l&&y.jsxs(y.Fragment,{children:[y.jsx(d6,{streak:l.state.streak.currentStreak}),y.jsx(h6,{xp:l.state.user.totalXP,level:l.state.user.level})]}),r.gamification&&y.jsx(p6,{})]})]})})}function S6({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:r}=v1(),[s,a]=V.useState(new Set([1])),l=tf(),c=i.gamification?l:null,h=m=>{a(p=>{const b=new Set(p);return b.has(m)?b.delete(m):b.add(m),b})},d=m=>{var b;if(!c)return"none";const p=`${n}:${m}`;return((b=c.state.sections[p])==null?void 0:b.masteryLevel)??"none"};return y.jsxs(y.Fragment,{children:[y.jsx(dh,{children:e&&y.jsx(Uo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),y.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:y.jsxs("nav",{className:"p-4",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[y.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:y.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),y.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&y.jsx("li",{children:y.jsxs(Ya,{to:"/theorems",className:({isActive:m})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[y.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&y.jsx("li",{children:y.jsxs(Ya,{to:"/interactive",className:({isActive:m})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[y.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&y.jsx("li",{children:y.jsxs(Ya,{to:"/problems",className:({isActive:m})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[y.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})}),i.transcripts&&y.jsx("li",{children:y.jsxs(Ya,{to:"/transcripts",className:({isActive:m})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[y.jsx("span",{className:"text-lg",children:""}),"Transcripts"]})})]})]}),y.jsx("div",{className:"space-y-2",children:r.map(m=>y.jsxs("div",{children:[y.jsxs("button",{onClick:()=>h(m.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:y.jsx("span",{className:"text-xs font-bold text-primary-400",children:m.id})}),y.jsx("span",{className:"text-sm font-medium text-dark-200",children:m.title})]}),y.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${s.has(m.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y.jsx(dh,{children:s.has(m.id)&&y.jsx(Uo.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:m.sections.map(p=>y.jsx("li",{children:y.jsxs(Ya,{to:`/section/${p.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:b})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${b?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[y.jsx("span",{className:"truncate",children:p.title}),i.gamification&&y.jsx(m6,{level:d(p.id)})]})},p.id))})})]},m.id))})]})})]})}const b6={id:Jo,name:cS,icon:fS,hubUrl:yA,features:bn,curriculum:ps},E6=V.lazy(()=>Ee(()=>import("./Leaderboard-BrdT7v1N.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),T6=V.lazy(()=>Ee(()=>import("./Theorems-BiU03_W6.js"),__vite__mapDeps([5,1,2,6,3,7,4]),import.meta.url)),A6=V.lazy(()=>Ee(()=>import("./InteractiveModules-DYz6eTNn.js"),__vite__mapDeps([8,1,2,6,3,4]),import.meta.url)),w6=V.lazy(()=>Ee(()=>import("./SectionQuizPage-Cua2hdvx.js"),__vite__mapDeps([9,1,2,3,10,4]),import.meta.url)),N6=V.lazy(()=>Ee(()=>import("./TranscriptsIndex-Dqw1vDhe.js"),__vite__mapDeps([11,1,2,12]),import.meta.url)),y0=Object.assign({"./pages/transcripts/AdaptorApplications.tsx":()=>Ee(()=>import("./AdaptorApplications-kCFHsb6T.js"),__vite__mapDeps([13,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/AdaptorIntro.tsx":()=>Ee(()=>import("./AdaptorIntro-DHjXFPoE.js"),__vite__mapDeps([16,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/FrostImplementation.tsx":()=>Ee(()=>import("./FrostImplementation-B-FU7966.js"),__vite__mapDeps([17,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/FrostIntro.tsx":()=>Ee(()=>import("./FrostIntro-DJdht6oG.js"),__vite__mapDeps([18,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/LibsecOrigins.tsx":()=>Ee(()=>import("./LibsecOrigins-DYeuSmew.js"),__vite__mapDeps([19,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/LibsecPanel.tsx":()=>Ee(()=>import("./LibsecPanel-CZe3D1MV.js"),__vite__mapDeps([20,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/Musig2DeepDive.tsx":()=>Ee(()=>import("./Musig2DeepDive-D_-vbXNY.js"),__vite__mapDeps([21,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/MusigImplementations.tsx":()=>Ee(()=>import("./MusigImplementations-Dl_Q-1CN.js"),__vite__mapDeps([22,1,2,3,14,12,15,4]),import.meta.url),"./pages/transcripts/MusigOverview.tsx":()=>Ee(()=>import("./MusigOverview-DgjOkJ4A.js"),__vite__mapDeps([23,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/SchnorrApplications.tsx":()=>Ee(()=>import("./SchnorrApplications-d9qV3yUy.js"),__vite__mapDeps([24,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/SchnorrBasics.tsx":()=>Ee(()=>import("./SchnorrBasics-GJ72d0km.js"),__vite__mapDeps([25,1,2,3,14,12,7,15,4]),import.meta.url),"./pages/transcripts/SchnorrTaproot.tsx":()=>Ee(()=>import("./SchnorrTaproot-B_4a3-1T.js"),__vite__mapDeps([26,1,2,3,14,12,7,15,4]),import.meta.url)}),_1={};var v0;for(const e of Object.keys(y0)){const t=(v0=e.split("/").pop())==null?void 0:v0.replace(".tsx","");if(t&&t!=="index"){const n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();_1[n]=y0[e]}}const O6={"libsec-panel":"libsec-panel","libsec-origins":"libsec-origins","schnorr-basics":"schnorr-basics","schnorr-taproot":"schnorr-taproot","schnorr-applications":"schnorr-applications","musig-overview":"musig-overview","musig2-deep-dive":"musig2deep-dive","musig-implementations":"musig-implementations","adaptor-intro":"adaptor-intro","adaptor-applications":"adaptor-applications","frost-intro":"frost-intro","frost-implementation":"frost-implementation"},x6=Object.assign({"./pages/sections/Section00.tsx":()=>Ee(()=>import("./Section00-DsjzQxrJ.js"),__vite__mapDeps([27,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section01.tsx":()=>Ee(()=>import("./Section01-mig8JpTt.js"),__vite__mapDeps([29,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section02.tsx":()=>Ee(()=>import("./Section02-CDGToroU.js"),__vite__mapDeps([30,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section03.tsx":()=>Ee(()=>import("./Section03-BluoHH36.js"),__vite__mapDeps([31,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section04.tsx":()=>Ee(()=>import("./Section04-BoN94gbv.js"),__vite__mapDeps([32,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section05.tsx":()=>Ee(()=>import("./Section05-Bg2GON2H.js"),__vite__mapDeps([33,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section06.tsx":()=>Ee(()=>import("./Section06-B3k1DHDq.js"),__vite__mapDeps([34,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section07.tsx":()=>Ee(()=>import("./Section07-DbjS-Gyw.js"),__vite__mapDeps([35,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section08.tsx":()=>Ee(()=>import("./Section08-BXvD-nE4.js"),__vite__mapDeps([36,1,2,3,28,10,7,15,4]),import.meta.url),"./pages/sections/Section09.tsx":()=>Ee(()=>import("./Section09-B9sPhUeC.js"),__vite__mapDeps([37,1,2,3,28,10,7,15,4]),import.meta.url)}),C6=c6(x6),S1={};for(const[e,t]of Object.entries(C6))S1[Number(e)]=V.lazy(t);function R6(){const{id:e}=_0(),t=parseInt(e||"0",10),n=S1[t];return n?y.jsx(V.Suspense,{fallback:y.jsx(Gr,{message:"Loading section..."}),children:y.jsx(n,{})}):y.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),y.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function k6(){const{id:e}=_0(),t=e||"",n=O6[t]||t,i=_1[n];if(i){const r=V.lazy(i);return y.jsx(V.Suspense,{fallback:y.jsx(Gr,{message:"Loading transcript..."}),children:y.jsx(r,{})})}return y.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:y.jsxs("div",{className:"text-center max-w-md px-4",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-dark-800 flex items-center justify-center",children:y.jsx("span",{className:"text-3xl",children:""})}),y.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Transcript Coming Soon"}),y.jsx("p",{className:"text-dark-400 mb-6",children:"This transcript summary is being prepared. Check back soon for the full educational content."}),y.jsxs("a",{href:"#/transcripts",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Transcripts"]})]})})}function D6({children:e}){const[t,n]=V.useState(!1);return y.jsxs("div",{className:"min-h-screen bg-dark-950",children:[y.jsx(_6,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),y.jsx(S6,{isOpen:t,onClose:()=>n(!1)}),y.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function fu(){return y.jsxs(y.Fragment,{children:[y.jsx(D6,{children:y.jsxs(L1,{children:[y.jsx(Wn,{path:"/",element:y.jsx(g0,{})}),bn.leaderboard&&y.jsx(Wn,{path:"/leaderboard",element:y.jsx(V.Suspense,{fallback:y.jsx(Gr,{message:"Loading leaderboard..."}),children:y.jsx(E6,{})})}),bn.theoremIndex&&y.jsx(Wn,{path:"/theorems",element:y.jsx(V.Suspense,{fallback:y.jsx(Gr,{message:"Loading theorems..."}),children:y.jsx(T6,{})})}),bn.interactiveModules&&y.jsx(Wn,{path:"/interactive",element:y.jsx(V.Suspense,{fallback:y.jsx(Gr,{message:"Loading modules..."}),children:y.jsx(A6,{})})}),bn.transcripts&&y.jsxs(y.Fragment,{children:[y.jsx(Wn,{path:"/transcripts",element:y.jsx(V.Suspense,{fallback:y.jsx(Gr,{message:"Loading transcripts..."}),children:y.jsx(N6,{})})}),y.jsx(Wn,{path:"/transcript/:id",element:y.jsx(k6,{})})]}),y.jsx(Wn,{path:"/section/:id",element:y.jsx(R6,{})}),y.jsx(Wn,{path:"/quiz/section/:id",element:y.jsx(V.Suspense,{fallback:y.jsx(Gr,{message:"Loading quiz..."}),children:y.jsx(w6,{})})}),y.jsx(Wn,{path:"*",element:y.jsx(g0,{})})]})}),bn.gamification&&y.jsx(I6,{})]})}function I6(){const{notifications:e,dismissNotification:t}=tf();return y.jsx(v6,{notifications:e,onDismiss:t})}function z6(){return y.jsx(e6,{children:y.jsxs(n6,{children:[y.jsx(f6,{config:b6,children:y.jsx(U1,{children:bn.nostrAuth?y.jsx($D,{children:bn.gamification?y.jsx(p0,{children:y.jsx(fu,{})}):y.jsx(fu,{})}):bn.gamification?y.jsx(p0,{children:y.jsx(fu,{})}):y.jsx(fu,{})})}),y.jsx(r6,{})]})})}dA.createRoot(document.getElementById("root")).render(y.jsx(V.StrictMode,{children:y.jsx(z6,{})}));export{cS as C,bn as F,yA as H,B6 as L,H6 as R,u6 as S,l6 as X,$n as a,lo as b,nw as c,$A as d,ZA as e,Z6 as f,tl as g,pa as h,Wi as i,qA as j,tf as k,fS as l,ps as m,Jo as n,WA as o,P6 as p,lt as q,$6 as r,V6 as s,X6 as t,FD as u,G6 as v,F6 as w,a6 as x,Y6 as y,q6 as z};
