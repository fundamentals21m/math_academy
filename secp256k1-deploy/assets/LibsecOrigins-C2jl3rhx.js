import{j as e}from"./vendor-animation-0o8UKZ_1.js";import"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import"./index-DDLKTozG.js";import{T as t}from"./TranscriptLayout-CoUsWXbX.js";import{I as s}from"./MathBlock-uz1iP4cD.js";import{C as n,E as i,D as a}from"./Callout-4_WMx_B8.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./transcripts-Bj1VzTa0.js";function b(){return e.jsxs(t,{transcriptId:"libsec-origins",children:[e.jsx(n,{type:"success",title:"Key Takeaways",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e.jsx("li",{children:"libsecp256k1 was created to replace OpenSSL's vulnerable EC implementation"}),e.jsx("li",{children:"The library prioritizes constant-time operations over raw speed"}),e.jsx("li",{children:"Pieter Wuille wrote the initial implementation starting around 2013"}),e.jsx("li",{children:"Design choices favor auditability and security over features"})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Genesis of libsecp256k1"}),e.jsx("p",{className:"mb-4",children:"Pieter Wuille discusses the origins of the library and what motivated its creation:"}),e.jsxs("blockquote",{className:"border-l-4 border-cyan-500/50 pl-4 py-2 my-6 text-dark-300 italic bg-dark-800/30 rounded-r-lg",children:[e.jsx("p",{children:'"Bitcoin was using OpenSSL for all its cryptographic operations. This was convenient but problematic—OpenSSL is a massive codebase designed for TLS, not cryptocurrency. We needed something purpose-built."'}),e.jsx("cite",{className:"block text-sm text-dark-500 mt-2 not-italic",children:"— Pieter Wuille"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Why Not Just Patch OpenSSL?"}),e.jsx("p",{className:"mb-4",children:"Rather than trying to fix OpenSSL, the decision was made to build from scratch:"}),e.jsx(i,{title:"Problems with OpenSSL for Bitcoin",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Code complexity:"})," 500,000+ lines made auditing impossible"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-constant-time:"})," Operations leaked timing information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Consensus risks:"})," OpenSSL updates could change behavior"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Feature bloat:"})," Bitcoin only needed a tiny subset of functionality"]})]})}),e.jsxs(a,{title:"Consensus-Critical Code",children:[e.jsxs("p",{children:["In Bitcoin, signature verification must produce ",e.jsx("em",{children:"identical results"}),' across all nodes forever. If OpenSSL changed how it parsed signatures (even fixing a "bug"), it could cause network splits where some nodes accept transactions others reject.']}),e.jsx("p",{className:"mt-2",children:"libsecp256k1 gives Bitcoin full control over this consensus-critical code path."})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Design Philosophy"}),e.jsx("p",{className:"mb-4",children:"Pieter explains the core principles that guided the library's design:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"Minimalism"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Only implement what's needed. No ASN.1 parsing, no certificate handling, just elliptic curve operations."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"Constant-Time First"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Every operation touching secret data runs in constant time. Performance comes second to security."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"No Dynamic Allocation"}),e.jsx("p",{className:"text-sm text-dark-300",children:"All memory is stack-allocated. This eliminates heap-based side channels and simplifies security analysis."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"Extensive Testing"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Differential fuzzing against multiple implementations catches subtle bugs that unit tests miss."})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Transition from OpenSSL"}),e.jsxs("blockquote",{className:"border-l-4 border-cyan-500/50 pl-4 py-2 my-6 text-dark-300 italic bg-dark-800/30 rounded-r-lg",children:[e.jsx("p",{children:'"The transition was gradual. We first used libsecp256k1 alongside OpenSSL for verification, comparing results. Only after extensive testing did we make it the default. The performance improvement was dramatic—signature verification became about 7x faster."'}),e.jsx("cite",{className:"block text-sm text-dark-500 mt-2 not-italic",children:"— Pieter Wuille"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Key Implementation Decisions"}),e.jsx(i,{title:"Technical Choices in libsecp256k1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-dark-100",children:"Field Element Representation"}),e.jsx("p",{className:"text-sm text-dark-300 mt-1",children:"Uses 5x52-bit limbs on 64-bit platforms, 10x26-bit on 32-bit. This allows efficient multiplication without overflow."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-dark-100",children:"Point Representation"}),e.jsxs("p",{className:"text-sm text-dark-300 mt-1",children:["Jacobian coordinates ",e.jsx(s,{children:"(X, Y, Z)"})," where the affine point is"," ",e.jsx(s,{children:"(X/Z^2, Y/Z^3)"}),". Avoids expensive field inversions."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-dark-100",children:"Scalar Multiplication"}),e.jsx("p",{className:"text-sm text-dark-300 mt-1",children:"Uses a combination of windowed NAF and the GLV endomorphism for optimal performance while maintaining constant-time properties."})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Impact on Bitcoin"}),e.jsx("p",{className:"mb-4",children:"The adoption of libsecp256k1 had significant effects:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6 text-dark-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"7x faster verification:"})," Dramatically improved IBD (Initial Block Download)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reduced attack surface:"})," Consensus code no longer depends on external library updates"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Foundation for Schnorr:"})," The clean design made adding BIP340 straightforward"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Industry adoption:"})," Now used by Ethereum, Litecoin, and many other projects"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Related Course Sections"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("a",{href:"#/section/0",className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 hover:border-amber-500/30 transition-colors group",children:[e.jsx("p",{className:"text-dark-200 font-medium group-hover:text-amber-400 transition-colors",children:"Section 0: The Big Picture"}),e.jsx("p",{className:"text-sm text-dark-500",children:"Why secp256k1 was chosen for Bitcoin"})]}),e.jsxs("a",{href:"#/section/4",className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 hover:border-amber-500/30 transition-colors group",children:[e.jsx("p",{className:"text-dark-200 font-medium group-hover:text-amber-400 transition-colors",children:"Section 4: The secp256k1 Parameters"}),e.jsx("p",{className:"text-sm text-dark-500",children:"Deep dive into the curve constants"})]})]})]})}export{b as default};
