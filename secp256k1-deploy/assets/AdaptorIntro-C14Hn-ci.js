import{j as e}from"./vendor-animation-0o8UKZ_1.js";import"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import"./index-AFVnRdFv.js";import{T as r}from"./TranscriptLayout-f11_Q2qn.js";import{I as s,M as t}from"./MathBlock-uz1iP4cD.js";import{C as a,D as i,E as l}from"./Callout-4_WMx_B8.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./transcripts-oW5P3wnc.js";function u(){return e.jsxs(r,{transcriptId:"adaptor-intro",children:[e.jsx(a,{type:"success",title:"Key Takeaways",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e.jsx("li",{children:'Adaptor signatures are "incomplete" signatures locked by a secret'}),e.jsx("li",{children:"Completing an adaptor reveals the secret to the original creator"}),e.jsx("li",{children:"Enable trustless atomic swaps without hash time-locks"}),e.jsx("li",{children:'Foundation for "scriptless scripts" that move logic off-chain'})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"What Are Adaptor Signatures?"}),e.jsx("p",{className:"mb-4",children:"Lloyd Fournier introduces the concept of adaptor signatures:"}),e.jsxs("blockquote",{className:"border-l-4 border-cyan-500/50 pl-4 py-2 my-6 text-dark-300 italic bg-dark-800/30 rounded-r-lg",children:[e.jsx("p",{children:`"An adaptor signature is a promise: 'I'll give you a valid signature if you reveal a secret to me.' But it's cryptographically binding—once the secret is revealed through usage, I learn it automatically."`}),e.jsx("cite",{className:"block text-sm text-dark-500 mt-2 not-italic",children:"— Lloyd Fournier"})]}),e.jsxs(i,{title:"Adaptor Signature",children:[e.jsxs("p",{children:["An adaptor signature for public key ",e.jsx(s,{children:"P"})," on message ",e.jsx(s,{children:"m"}),", locked by adaptor point ",e.jsx(s,{children:"T = tG"}),":"]}),e.jsx(t,{children:"\\hat{\\sigma} = (R + T, \\hat{s})"}),e.jsx("p",{className:"mt-2",children:"Where:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{children:"R = kG"})," is the nonce point"]}),e.jsxs("li",{children:[e.jsx(s,{children:"\\hat{s} = k + H(R + T \\| P \\| m) \\cdot d"})," is the adaptor scalar"]})]}),e.jsxs("p",{className:"mt-3",children:["This verifies as: ",e.jsx(s,{children:"\\hat{s}G = R + T + eP"})," but is ",e.jsx("em",{children:"not"})," a valid signature."]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Extraction Property"}),e.jsx("p",{className:"mb-4",children:"The key insight is what happens when the adaptor is completed:"}),e.jsx(l,{title:"Secret Extraction",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-dark-100",children:"Completing the Adaptor"}),e.jsxs("p",{className:"text-sm text-dark-300 mt-1",children:["Someone who knows ",e.jsx(s,{children:"t"})," can compute the valid signature:"]}),e.jsx(t,{children:"s = \\hat{s} + t"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-dark-100",children:"Extracting the Secret"}),e.jsxs("p",{className:"text-sm text-dark-300 mt-1",children:["Anyone with both the adaptor ",e.jsx(s,{children:"\\hat{\\sigma}"})," and completed signature ",e.jsx(s,{children:"\\sigma"})," can extract:"]}),e.jsx(t,{children:"t = s - \\hat{s}"})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Atomic Swap Protocol"}),e.jsx("p",{className:"mb-4",children:"Lloyd walks through a trustless cross-chain atomic swap:"}),e.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-6 border border-dark-700/50 mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-dark-100 mb-4",children:"Alice (BTC) ↔ Bob (LTC) Swap"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-cyan-400 font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-dark-200 font-medium",children:"Setup"}),e.jsxs("p",{className:"text-sm text-dark-400",children:["Alice generates secret ",e.jsx(s,{children:"t"}),", shares ",e.jsx(s,{children:"T = tG"})," with Bob"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-cyan-400 font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-dark-200 font-medium",children:"Bob's BTC Side"}),e.jsxs("p",{className:"text-sm text-dark-400",children:["Bob creates tx sending 1 BTC to Alice, gives her adaptor signature locked by ",e.jsx(s,{children:"T"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-cyan-400 font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-dark-200 font-medium",children:"Alice's LTC Side"}),e.jsxs("p",{className:"text-sm text-dark-400",children:["Alice creates tx sending 10 LTC to Bob, gives him adaptor signature locked by ",e.jsx(s,{children:"T"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-green-400 font-bold",children:"4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-dark-200 font-medium",children:"Alice Claims BTC"}),e.jsxs("p",{className:"text-sm text-dark-400",children:["Alice completes Bob's adaptor using ",e.jsx(s,{children:"t"}),", broadcasts to claim BTC"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-green-400 font-bold",children:"5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-dark-200 font-medium",children:"Bob Claims LTC"}),e.jsxs("p",{className:"text-sm text-dark-400",children:["Bob sees Alice's completed sig, extracts ",e.jsx(s,{children:"t"}),", completes his adaptor, claims LTC"]})]})]})]})]}),e.jsx(a,{type:"info",title:"Atomicity",children:e.jsxs("p",{children:["If Alice doesn't claim the BTC (revealing ",e.jsx(s,{children:"t"}),"), Bob can't claim the LTC either. If Alice does claim, Bob can always extract ",e.jsx(s,{children:"t"}),"from the blockchain and complete his side. The swap is atomic!"]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Advantages Over HTLCs"}),e.jsx("p",{className:"mb-4",children:"Compared to traditional hash time-locked contracts:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"Privacy"}),e.jsx("p",{className:"text-sm text-dark-300",children:"No hash preimage visible on-chain. Both sides look like regular single-sig spends."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"Efficiency"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Smaller transactions—no OP_HASH160 or script conditions needed."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"Unlinkability"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Different adaptors can use independent secrets, making swaps unlinkable across chains."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-cyan-400 font-bold mb-2",children:"No Timeout Complexity"}),e.jsx("p",{className:"text-sm text-dark-300",children:"HTLCs require careful timeout coordination. Adaptors don't have this constraint (though timeouts can still be added)."})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Scriptless Scripts"}),e.jsxs("blockquote",{className:"border-l-4 border-cyan-500/50 pl-4 py-2 my-6 text-dark-300 italic bg-dark-800/30 rounded-r-lg",children:[e.jsx("p",{children:`"The term 'scriptless scripts' captures the idea: we're achieving what Bitcoin Script does—conditional payments—but without any script on-chain. The conditions are enforced purely through signature algebra."`}),e.jsx("cite",{className:"block text-sm text-dark-500 mt-2 not-italic",children:"— Lloyd Fournier"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Related Course Sections"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("a",{href:"#/section/8",className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 hover:border-amber-500/30 transition-colors group",children:[e.jsx("p",{className:"text-dark-200 font-medium group-hover:text-amber-400 transition-colors",children:"Section 8: Schnorr Signatures"}),e.jsx("p",{className:"text-sm text-dark-500",children:"Foundation for adaptor signatures"})]}),e.jsxs("a",{href:"#/transcript/adaptor-applications",className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 hover:border-cyan-500/30 transition-colors group",children:[e.jsx("p",{className:"text-dark-200 font-medium group-hover:text-cyan-400 transition-colors",children:"Adaptor Signatures for DLCs"}),e.jsx("p",{className:"text-sm text-dark-500",children:"Advanced applications"})]})]})]})}export{u as default};
