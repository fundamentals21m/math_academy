import{j as e,m as x,A as $}from"./vendor-animation-0o8UKZ_1.js";import{r as c,L as w}from"./vendor-react-Drj8qL0h.js";import{u as S,p as g}from"./part-01-BgAoZyGS.js";import{k as h}from"./vendor-math-p018AHG0.js";import"./index-BwbehMKc.js";import"./vendor-firebase-core-BXWtuYvb.js";function M({completed:s,total:r,label:d="Progress"}){const a=r>0?Math.round(s/r*100):0;return e.jsxs("div",{className:"bg-dark-900 rounded-xl p-4 border border-dark-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-dark-300",children:d}),e.jsxs("span",{className:"text-sm font-bold text-dark-100",children:[s,"/",r," (",a,"%)"]})]}),e.jsx("div",{className:"h-3 bg-dark-800 rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5,ease:"easeOut"}})}),a===100&&e.jsx(x.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"mt-2 text-center text-emerald-400 text-sm font-medium",children:"Section Complete!"})]})}function T({problemIds:s,completedIds:r,onProblemClick:d,columns:a=10}){return e.jsx("div",{className:"grid gap-1.5",style:{gridTemplateColumns:`repeat(${a}, minmax(0, 1fr))`},children:s.map((t,i)=>{const o=r.has(t);return e.jsx(x.button,{onClick:()=>d==null?void 0:d(t),className:`
              aspect-square rounded-md text-xs font-medium
              flex items-center justify-center
              transition-colors cursor-pointer
              ${o?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 hover:bg-emerald-500/30":"bg-dark-800 text-dark-400 border border-dark-700 hover:bg-dark-700 hover:text-dark-200"}
            `,whileHover:{scale:1.1},whileTap:{scale:.95},title:`Problem ${i+1}${o?" (Complete)":""}`,children:i+1},t)})})}function k(s){let r=s;r=r.replace(/\\\[([\s\S]*?)\\\]|\$\$([\s\S]*?)\$\$/g,(a,t,i)=>{const o=t||i;try{return h.renderToString(o.trim(),{displayMode:!0,throwOnError:!1})}catch{return`\\[${o}\\]`}}),r=r.replace(/\\\(([\s\S]*?)\\\)|\$([^$]+?)\$/g,(a,t,i)=>{const o=t||i;try{return h.renderToString(o.trim(),{displayMode:!1,throwOnError:!1})}catch{return`$${o}$`}});const d=[/\\begin\{pmatrix\}[\s\S]*?\\end\{pmatrix\}/g,/\\frac\{[^}]*\}\{[^}]*\}/g,/\\sqrt\{[^}]*\}/g,/[a-zA-Z]_\{[^}]*\}/g,/[a-zA-Z]\^[0-9a-zA-Z]/g];for(const a of d)r=r.replace(a,t=>{try{return h.renderToString(t,{displayMode:!1,throwOnError:!1})}catch{return t}});return r=r.replace(/\n/g,"<br>"),r}function v({solution:s,isExpanded:r,onToggle:d,onView:a}){const[t,i]=c.useState(!1),o=c.useRef(null);return c.useEffect(()=>{r&&!t&&(i(!0),a==null||a())},[r,t,a]),e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{onClick:d,className:`
          w-full flex items-center justify-between px-4 py-3 rounded-lg
          text-left font-medium transition-colors
          ${r?"bg-primary-500/10 text-primary-400":"bg-dark-800 text-dark-300 hover:bg-dark-700 hover:text-dark-100"}
        `,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r?"Hide Solution":"Show Solution"]}),t&&!r&&e.jsx("span",{className:"text-xs text-dark-500",children:"(viewed)"})]}),e.jsx($,{children:r&&e.jsx(x.div,{ref:o,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"pt-4 space-y-4",children:[s.steps.map((b,m)=>e.jsxs("div",{className:"pl-4 border-l-2 border-primary-500/30",children:[e.jsx("h4",{className:"text-sm font-semibold text-primary-400 mb-2",children:b.title}),e.jsx("div",{className:"text-dark-300 text-sm leading-relaxed prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:k(b.content)}})]},m)),s.conclusion&&e.jsxs("div",{className:"mt-4 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-emerald-400 mb-2",children:"Conclusion"}),e.jsx("div",{className:"text-emerald-300/90 text-sm",dangerouslySetInnerHTML:{__html:k(s.conclusion)}})]})]})})})]})}function L(s){let r=s;r=r.replace(/\\\[([\s\S]*?)\\\]|\$\$([\s\S]*?)\$\$/g,(a,t,i)=>{const o=t||i;try{return h.renderToString(o.trim(),{displayMode:!0,throwOnError:!1})}catch{return`\\[${o}\\]`}}),r=r.replace(/\\\(([\s\S]*?)\\\)|\$([^$]+?)\$/g,(a,t,i)=>{const o=t||i;try{return h.renderToString(o.trim(),{displayMode:!1,throwOnError:!1})}catch{return`$${o}$`}});const d=[/\\begin\{pmatrix\}[\s\S]*?\\end\{pmatrix\}/g,/\\frac\{[^}]*\}\{[^}]*\}/g,/\\sqrt\{[^}]*\}/g];for(const a of d)r=r.replace(a,t=>{try{return h.renderToString(t,{displayMode:!1,throwOnError:!1})}catch{return t}});return r=r.replace(/\n/g,"<br>"),r}function C({exercise:s,isComplete:r,onToggleComplete:d,onSolutionView:a}){const[t,i]=c.useState(!1),o=c.useRef(null);return e.jsxs(x.div,{ref:o,id:`problem-${s.id}`,className:`
        rounded-xl border-2 p-5 transition-colors
        ${r?"bg-emerald-500/5 border-emerald-500/30":"bg-dark-900 border-dark-700 hover:border-dark-600"}
      `,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-dark-800 text-dark-300 text-sm font-bold",children:s.number}),e.jsx("span",{className:"text-xs font-medium text-dark-500 uppercase tracking-wider",children:"Exercise"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("span",{className:"text-xs text-dark-400 group-hover:text-dark-300 transition-colors",children:r?"Completed":"Mark complete"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:d,className:"sr-only peer"}),e.jsx("div",{className:`
                w-5 h-5 rounded border-2 flex items-center justify-center
                transition-all cursor-pointer
                ${r?"bg-emerald-500 border-emerald-500 text-white":"border-dark-600 peer-hover:border-dark-500"}
              `,children:r&&e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})]})]}),e.jsx("div",{className:"text-dark-200 leading-relaxed prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:L(s.statement)}}),e.jsx(v,{solution:s.solution,isExpanded:t,onToggle:()=>i(!t),onView:a})]})}function E(s){let r=s;return r=r.replace(/\\\[([\s\S]*?)\\\]|\$\$([\s\S]*?)\$\$/g,(d,a,t)=>{const i=a||t;try{return h.renderToString(i.trim(),{displayMode:!0,throwOnError:!1})}catch{return`\\[${i}\\]`}}),r=r.replace(/\\\(([\s\S]*?)\\\)|\$([^$]+?)\$/g,(d,a,t)=>{const i=a||t;try{return h.renderToString(i.trim(),{displayMode:!1,throwOnError:!1})}catch{return`$${i}$`}}),r=r.replace(/\n/g,"<br>"),r}function _({example:s,isComplete:r,onToggleComplete:d,onSolutionView:a}){const[t,i]=c.useState(!1);return e.jsxs(x.div,{id:`problem-${s.id}`,className:`
        rounded-xl border-2 p-5 transition-colors
        ${r?"bg-amber-500/5 border-amber-500/30":"bg-gradient-to-br from-amber-500/5 to-orange-500/5 border-amber-500/20 hover:border-amber-500/40"}
      `,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-amber-500/20 text-amber-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-amber-500 uppercase tracking-wider block",children:"Example"}),e.jsx("span",{className:"text-sm font-semibold text-amber-300",children:s.title})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("span",{className:"text-xs text-dark-400 group-hover:text-dark-300 transition-colors",children:r?"Reviewed":"Mark reviewed"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:d,className:"sr-only peer"}),e.jsx("div",{className:`
                w-5 h-5 rounded border-2 flex items-center justify-center
                transition-all cursor-pointer
                ${r?"bg-amber-500 border-amber-500 text-white":"border-dark-600 peer-hover:border-dark-500"}
              `,children:r&&e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})]})]}),e.jsx("div",{className:"text-dark-200 leading-relaxed prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:E(s.statement)}}),e.jsx(v,{solution:s.solution,isExpanded:t,onToggle:()=>i(!t),onView:a})]})}function P({sections:s,completedIds:r,onToggleComplete:d,onSolutionView:a}){const[t,i]=c.useState("all"),[o,b]=c.useState("all");c.useRef(new Map);const m=c.useMemo(()=>s.flatMap(n=>[...n.examples.map(l=>l.id),...n.exercises.map(l=>l.id)]),[s]),f=c.useMemo(()=>t==="all"?s:s.filter(n=>n.sectionId===t),[s,t]),y=c.useMemo(()=>f.map(n=>{let l=n.examples,u=n.exercises;return o==="examples"?u=[]:o==="exercises"?l=[]:o==="incomplete"?(l=l.filter(p=>!r.has(p.id)),u=u.filter(p=>!r.has(p.id))):o==="complete"&&(l=l.filter(p=>r.has(p.id)),u=u.filter(p=>r.has(p.id))),{...n,examples:l,exercises:u}}),[f,o,r]),j=c.useMemo(()=>{const n=m.filter(l=>r.has(l)).length;return{completed:n,total:m.length,percentage:m.length>0?Math.round(n/m.length*100):0}},[m,r]),N=c.useCallback(n=>{const l=document.getElementById(`problem-${n}`);l&&(l.scrollIntoView({behavior:"smooth",block:"center"}),l.classList.add("ring-2","ring-primary-500"),setTimeout(()=>{l.classList.remove("ring-2","ring-primary-500")},2e3))},[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(M,{completed:j.completed,total:j.total})}),e.jsxs("div",{className:"lg:col-span-2 bg-dark-900 rounded-xl p-4 border border-dark-800",children:[e.jsx("h3",{className:"text-sm font-medium text-dark-400 mb-3",children:"Completion Grid"}),e.jsx(T,{problemIds:m,completedIds:r,onProblemClick:N,columns:Math.min(15,Math.ceil(Math.sqrt(m.length*1.5)))})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t==="all"?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All Sections"}),s.map(n=>e.jsx("button",{onClick:()=>i(n.sectionId),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===n.sectionId?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:n.textbookSection},n.sectionId))]}),e.jsx("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-dark-800",children:[{value:"all",label:"All"},{value:"examples",label:"Examples"},{value:"exercises",label:"Exercises"},{value:"incomplete",label:"Incomplete"},{value:"complete",label:"Complete"}].map(({value:n,label:l})=>e.jsx("button",{onClick:()=>b(n),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${o===n?"bg-dark-700 text-dark-100":"text-dark-400 hover:text-dark-200 hover:bg-dark-800"}`,children:l},n))}),e.jsx("div",{className:"space-y-8",children:y.map(n=>e.jsxs("div",{children:[t==="all"&&e.jsx("div",{className:"mb-4 pb-2 border-b border-dark-800",children:e.jsxs("h2",{className:"text-lg font-semibold text-dark-100",children:[n.textbookSection,": ",n.sectionTitle]})}),n.examples.length>0&&e.jsx("div",{className:"space-y-4 mb-6",children:n.examples.map(l=>e.jsx(_,{example:l,isComplete:r.has(l.id),onToggleComplete:()=>d(l.id),onSolutionView:()=>a==null?void 0:a(l.id)},l.id))}),n.exercises.length>0&&e.jsx("div",{className:"space-y-4",children:n.exercises.map(l=>e.jsx(C,{exercise:l,isComplete:r.has(l.id),onToggleComplete:()=>d(l.id),onSolutionView:()=>a==null?void 0:a(l.id)},l.id))}),n.examples.length===0&&n.exercises.length===0&&e.jsx("div",{className:"text-center py-8 text-dark-500",children:"No problems match the current filter."})]},n.sectionId))})]})}function W(){const{completed:s,toggleComplete:r,markSolutionViewed:d}=S();return e.jsx("div",{className:"min-h-screen bg-dark-950 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs(w,{to:"/problems",className:"inline-flex items-center gap-2 text-dark-400 hover:text-primary-400 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Problem Sets"]})}),e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-primary-500/20 text-primary-400 text-lg font-bold",children:g.partId}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:g.partTitle}),e.jsx("p",{className:"text-sm text-dark-500",children:g.textbookChapter})]})]}),e.jsx("p",{className:"text-dark-400 mt-2",children:"Exercises covering ordered sets, fields, the real field, the extended real number system, the complex field, Euclidean spaces, and the construction of real numbers via Dedekind cuts."})]}),e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(P,{sections:g.sections,completedIds:s,onToggleComplete:r,onSolutionView:d})})]})})}export{W as default};
